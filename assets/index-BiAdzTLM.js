var vde=Object.defineProperty;var m$=t=>{throw TypeError(t)};var yde=(t,e,r)=>e in t?vde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var tr=(t,e,r)=>yde(t,typeof e!="symbol"?e+"":e,r),n6=(t,e,r)=>e.has(t)||m$("Cannot "+r);var v=(t,e,r)=>(n6(t,e,"read from private field"),r?r.call(t):e.get(t)),ie=(t,e,r)=>e.has(t)?m$("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),J=(t,e,r,n)=>(n6(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),ue=(t,e,r)=>(n6(t,e,"access private method"),r);var so=(t,e,r,n)=>({set _(a){J(t,e,a,r)},get _(){return v(t,e,n)}});function bde(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var YX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ph(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wde(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var a6={exports:{}},hA={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g$;function Ade(){if(g$)return hA;g$=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,i){var s=null;if(i!==void 0&&(s=""+i),a.key!==void 0&&(s=""+a.key),"key"in a){i={};for(var o in a)o!=="key"&&(i[o]=a[o])}else i=a;return a=i.ref,{$$typeof:t,type:n,key:s,ref:a!==void 0?a:null,props:i}}return hA.Fragment=e,hA.jsx=r,hA.jsxs=r,hA}var x$;function _de(){return x$||(x$=1,a6.exports=Ade()),a6.exports}var c=_de(),i6={exports:{}},an={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v$;function Sde(){if(v$)return an;v$=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),m=Symbol.iterator;function g(ne){return ne===null||typeof ne!="object"?null:(ne=m&&ne[m]||ne["@@iterator"],typeof ne=="function"?ne:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function A(ne,B,V){this.props=ne,this.context=B,this.refs=w,this.updater=V||b}A.prototype.isReactComponent={},A.prototype.setState=function(ne,B){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,B,"setState")},A.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function S(){}S.prototype=A.prototype;function N(ne,B,V){this.props=ne,this.context=B,this.refs=w,this.updater=V||b}var T=N.prototype=new S;T.constructor=N,y(T,A.prototype),T.isPureReactComponent=!0;var k=Array.isArray;function R(){}var O={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function H(ne,B,V){var Y=V.ref;return{$$typeof:t,type:ne,key:B,ref:Y!==void 0?Y:null,props:V}}function G(ne,B){return H(ne.type,B,ne.props)}function F(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===t}function L(ne){var B={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(V){return B[V]})}var re=/\/+/g;function Z(ne,B){return typeof ne=="object"&&ne!==null&&ne.key!=null?L(""+ne.key):B.toString(36)}function pe(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then(R,R):(ne.status="pending",ne.then(function(B){ne.status==="pending"&&(ne.status="fulfilled",ne.value=B)},function(B){ne.status==="pending"&&(ne.status="rejected",ne.reason=B)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function Q(ne,B,V,Y,K){var le=typeof ne;(le==="undefined"||le==="boolean")&&(ne=null);var Ae=!1;if(ne===null)Ae=!0;else switch(le){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(ne.$$typeof){case t:case e:Ae=!0;break;case h:return Ae=ne._init,Q(Ae(ne._payload),B,V,Y,K)}}if(Ae)return K=K(ne),Ae=Y===""?"."+Z(ne,0):Y,k(K)?(V="",Ae!=null&&(V=Ae.replace(re,"$&/")+"/"),Q(K,B,V,"",function(Le){return Le})):K!=null&&(F(K)&&(K=G(K,V+(K.key==null||ne&&ne.key===K.key?"":(""+K.key).replace(re,"$&/")+"/")+Ae)),B.push(K)),1;Ae=0;var De=Y===""?".":Y+":";if(k(ne))for(var de=0;de<ne.length;de++)Y=ne[de],le=De+Z(Y,de),Ae+=Q(Y,B,V,le,K);else if(de=g(ne),typeof de=="function")for(ne=de.call(ne),de=0;!(Y=ne.next()).done;)Y=Y.value,le=De+Z(Y,de++),Ae+=Q(Y,B,V,le,K);else if(le==="object"){if(typeof ne.then=="function")return Q(pe(ne),B,V,Y,K);throw B=String(ne),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function X(ne,B,V){if(ne==null)return ne;var Y=[],K=0;return Q(ne,Y,"","",function(le){return B.call(V,le,K++)}),Y}function oe(ne){if(ne._status===-1){var B=ne._result;B=B(),B.then(function(V){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=V)},function(V){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=V)}),ne._status===-1&&(ne._status=0,ne._result=B)}if(ne._status===1)return ne._result.default;throw ne._result}var ce=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ne);return}console.error(ne)},Ne={map:X,forEach:function(ne,B,V){X(ne,function(){B.apply(this,arguments)},V)},count:function(ne){var B=0;return X(ne,function(){B++}),B},toArray:function(ne){return X(ne,function(B){return B})||[]},only:function(ne){if(!F(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}};return an.Activity=f,an.Children=Ne,an.Component=A,an.Fragment=r,an.Profiler=a,an.PureComponent=N,an.StrictMode=n,an.Suspense=l,an.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,an.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return O.H.useMemoCache(ne)}},an.cache=function(ne){return function(){return ne.apply(null,arguments)}},an.cacheSignal=function(){return null},an.cloneElement=function(ne,B,V){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var Y=y({},ne.props),K=ne.key;if(B!=null)for(le in B.key!==void 0&&(K=""+B.key),B)!U.call(B,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&B.ref===void 0||(Y[le]=B[le]);var le=arguments.length-2;if(le===1)Y.children=V;else if(1<le){for(var Ae=Array(le),De=0;De<le;De++)Ae[De]=arguments[De+2];Y.children=Ae}return H(ne.type,K,Y)},an.createContext=function(ne){return ne={$$typeof:s,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:i,_context:ne},ne},an.createElement=function(ne,B,V){var Y,K={},le=null;if(B!=null)for(Y in B.key!==void 0&&(le=""+B.key),B)U.call(B,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(K[Y]=B[Y]);var Ae=arguments.length-2;if(Ae===1)K.children=V;else if(1<Ae){for(var De=Array(Ae),de=0;de<Ae;de++)De[de]=arguments[de+2];K.children=De}if(ne&&ne.defaultProps)for(Y in Ae=ne.defaultProps,Ae)K[Y]===void 0&&(K[Y]=Ae[Y]);return H(ne,le,K)},an.createRef=function(){return{current:null}},an.forwardRef=function(ne){return{$$typeof:o,render:ne}},an.isValidElement=F,an.lazy=function(ne){return{$$typeof:h,_payload:{_status:-1,_result:ne},_init:oe}},an.memo=function(ne,B){return{$$typeof:u,type:ne,compare:B===void 0?null:B}},an.startTransition=function(ne){var B=O.T,V={};O.T=V;try{var Y=ne(),K=O.S;K!==null&&K(V,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(R,ce)}catch(le){ce(le)}finally{B!==null&&V.types!==null&&(B.types=V.types),O.T=B}},an.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},an.use=function(ne){return O.H.use(ne)},an.useActionState=function(ne,B,V){return O.H.useActionState(ne,B,V)},an.useCallback=function(ne,B){return O.H.useCallback(ne,B)},an.useContext=function(ne){return O.H.useContext(ne)},an.useDebugValue=function(){},an.useDeferredValue=function(ne,B){return O.H.useDeferredValue(ne,B)},an.useEffect=function(ne,B){return O.H.useEffect(ne,B)},an.useEffectEvent=function(ne){return O.H.useEffectEvent(ne)},an.useId=function(){return O.H.useId()},an.useImperativeHandle=function(ne,B,V){return O.H.useImperativeHandle(ne,B,V)},an.useInsertionEffect=function(ne,B){return O.H.useInsertionEffect(ne,B)},an.useLayoutEffect=function(ne,B){return O.H.useLayoutEffect(ne,B)},an.useMemo=function(ne,B){return O.H.useMemo(ne,B)},an.useOptimistic=function(ne,B){return O.H.useOptimistic(ne,B)},an.useReducer=function(ne,B,V){return O.H.useReducer(ne,B,V)},an.useRef=function(ne){return O.H.useRef(ne)},an.useState=function(ne){return O.H.useState(ne)},an.useSyncExternalStore=function(ne,B,V){return O.H.useSyncExternalStore(ne,B,V)},an.useTransition=function(){return O.H.useTransition()},an.version="19.2.3",an}var y$;function h5(){return y$||(y$=1,i6.exports=Sde()),i6.exports}var C=h5();const gu=ph(C),Nde=bde({__proto__:null,default:gu},[C]);var s6={exports:{}},fA={},o6={exports:{}},l6={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$;function Ede(){return b$||(b$=1,(function(t){function e(Q,X){var oe=Q.length;Q.push(X);e:for(;0<oe;){var ce=oe-1>>>1,Ne=Q[ce];if(0<a(Ne,X))Q[ce]=X,Q[oe]=Ne,oe=ce;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var X=Q[0],oe=Q.pop();if(oe!==X){Q[0]=oe;e:for(var ce=0,Ne=Q.length,ne=Ne>>>1;ce<ne;){var B=2*(ce+1)-1,V=Q[B],Y=B+1,K=Q[Y];if(0>a(V,oe))Y<Ne&&0>a(K,V)?(Q[ce]=K,Q[Y]=oe,ce=Y):(Q[ce]=V,Q[B]=oe,ce=B);else if(Y<Ne&&0>a(K,oe))Q[ce]=K,Q[Y]=oe,ce=Y;else break e}}return X}function a(Q,X){var oe=Q.sortIndex-X.sortIndex;return oe!==0?oe:Q.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],h=1,f=null,m=3,g=!1,b=!1,y=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function T(Q){for(var X=r(u);X!==null;){if(X.callback===null)n(u);else if(X.startTime<=Q)n(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=r(u)}}function k(Q){if(y=!1,T(Q),!b)if(r(l)!==null)b=!0,R||(R=!0,L());else{var X=r(u);X!==null&&pe(k,X.startTime-Q)}}var R=!1,O=-1,U=5,H=-1;function G(){return w?!0:!(t.unstable_now()-H<U)}function F(){if(w=!1,R){var Q=t.unstable_now();H=Q;var X=!0;try{e:{b=!1,y&&(y=!1,S(O),O=-1),g=!0;var oe=m;try{t:{for(T(Q),f=r(l);f!==null&&!(f.expirationTime>Q&&G());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,m=f.priorityLevel;var Ne=ce(f.expirationTime<=Q);if(Q=t.unstable_now(),typeof Ne=="function"){f.callback=Ne,T(Q),X=!0;break t}f===r(l)&&n(l),T(Q)}else n(l);f=r(l)}if(f!==null)X=!0;else{var ne=r(u);ne!==null&&pe(k,ne.startTime-Q),X=!1}}break e}finally{f=null,m=oe,g=!1}X=void 0}}finally{X?L():R=!1}}}var L;if(typeof N=="function")L=function(){N(F)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Z=re.port2;re.port1.onmessage=F,L=function(){Z.postMessage(null)}}else L=function(){A(F,0)};function pe(Q,X){O=A(function(){Q(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(Q){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var oe=m;m=X;try{return Q()}finally{m=oe}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(Q,X){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var oe=m;m=Q;try{return X()}finally{m=oe}},t.unstable_scheduleCallback=function(Q,X,oe){var ce=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ce+oe:ce):oe=ce,Q){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=oe+Ne,Q={id:h++,callback:X,priorityLevel:Q,startTime:oe,expirationTime:Ne,sortIndex:-1},oe>ce?(Q.sortIndex=oe,e(u,Q),r(l)===null&&Q===r(u)&&(y?(S(O),O=-1):y=!0,pe(k,oe-ce))):(Q.sortIndex=Ne,e(l,Q),b||g||(b=!0,R||(R=!0,L()))),Q},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(Q){var X=m;return function(){var oe=m;m=X;try{return Q.apply(this,arguments)}finally{m=oe}}}})(l6)),l6}var w$;function Tde(){return w$||(w$=1,o6.exports=Ede()),o6.exports}var c6={exports:{}},Bl={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A$;function jde(){if(A$)return Bl;A$=1;var t=h5();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(l,u,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:f==null?null:""+f,children:l,containerInfo:u,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Bl.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Bl.createPortal=function(l,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return i(l,u,null,h)},Bl.flushSync=function(l){var u=s.T,h=n.p;try{if(s.T=null,n.p=2,l)return l()}finally{s.T=u,n.p=h,n.d.f()}},Bl.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(l,u))},Bl.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},Bl.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var h=u.as,f=o(h,u.crossOrigin),m=typeof u.integrity=="string"?u.integrity:void 0,g=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?n.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:m,fetchPriority:g}):h==="script"&&n.d.X(l,{crossOrigin:f,integrity:m,fetchPriority:g,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Bl.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=o(u.as,u.crossOrigin);n.d.M(l,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(l)},Bl.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,f=o(h,u.crossOrigin);n.d.L(l,h,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Bl.preloadModule=function(l,u){if(typeof l=="string")if(u){var h=o(u.as,u.crossOrigin);n.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(l)},Bl.requestFormReset=function(l){n.d.r(l)},Bl.unstable_batchedUpdates=function(l,u){return l(u)},Bl.useFormState=function(l,u,h){return s.H.useFormState(l,u,h)},Bl.useFormStatus=function(){return s.H.useHostTransitionStatus()},Bl.version="19.2.3",Bl}var _$;function XX(){if(_$)return c6.exports;_$=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),c6.exports=jde(),c6.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S$;function Cde(){if(S$)return fA;S$=1;var t=Tde(),e=h5(),r=XX();function n(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function i(d){var p=d,x=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,(p.flags&4098)!==0&&(x=p.return),d=p.return;while(d)}return p.tag===3?x:null}function s(d){if(d.tag===13){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function o(d){if(d.tag===31){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function l(d){if(i(d)!==d)throw Error(n(188))}function u(d){var p=d.alternate;if(!p){if(p=i(d),p===null)throw Error(n(188));return p!==d?null:d}for(var x=d,_=p;;){var P=x.return;if(P===null)break;var M=P.alternate;if(M===null){if(_=P.return,_!==null){x=_;continue}break}if(P.child===M.child){for(M=P.child;M;){if(M===x)return l(P),d;if(M===_)return l(P),p;M=M.sibling}throw Error(n(188))}if(x.return!==_.return)x=P,_=M;else{for(var ae=!1,be=P.child;be;){if(be===x){ae=!0,x=P,_=M;break}if(be===_){ae=!0,_=P,x=M;break}be=be.sibling}if(!ae){for(be=M.child;be;){if(be===x){ae=!0,x=M,_=P;break}if(be===_){ae=!0,_=M,x=P;break}be=be.sibling}if(!ae)throw Error(n(189))}}if(x.alternate!==_)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?d:p}function h(d){var p=d.tag;if(p===5||p===26||p===27||p===6)return d;for(d=d.child;d!==null;){if(p=h(d),p!==null)return p;d=d.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),N=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function L(d){return d===null||typeof d!="object"?null:(d=F&&d[F]||d["@@iterator"],typeof d=="function"?d:null)}var re=Symbol.for("react.client.reference");function Z(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===re?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case y:return"Fragment";case A:return"Profiler";case w:return"StrictMode";case k:return"Suspense";case R:return"SuspenseList";case H:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case b:return"Portal";case N:return d.displayName||"Context";case S:return(d._context.displayName||"Context")+".Consumer";case T:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case O:return p=d.displayName||null,p!==null?p:Z(d.type)||"Memo";case U:p=d._payload,d=d._init;try{return Z(d(p))}catch{}}return null}var pe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ce=[],Ne=-1;function ne(d){return{current:d}}function B(d){0>Ne||(d.current=ce[Ne],ce[Ne]=null,Ne--)}function V(d,p){Ne++,ce[Ne]=d.current,d.current=p}var Y=ne(null),K=ne(null),le=ne(null),Ae=ne(null);function De(d,p){switch(V(le,p),V(K,d),V(Y,null),p.nodeType){case 9:case 11:d=(d=p.documentElement)&&(d=d.namespaceURI)?Fz(d):0;break;default:if(d=p.tagName,p=p.namespaceURI)p=Fz(p),d=Bz(p,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}B(Y),V(Y,d)}function de(){B(Y),B(K),B(le)}function Le(d){d.memoizedState!==null&&V(Ae,d);var p=Y.current,x=Bz(p,d.type);p!==x&&(V(K,d),V(Y,x))}function Ge(d){K.current===d&&(B(Y),B(K)),Ae.current===d&&(B(Ae),lA._currentValue=oe)}var Re,wt;function St(d){if(Re===void 0)try{throw Error()}catch(x){var p=x.stack.trim().match(/\n( *(at )?)/);Re=p&&p[1]||"",wt=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Re+d+wt}var rt=!1;function Te(d,p){if(!d||rt)return"";rt=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var _={DetermineComponentFrameRoot:function(){try{if(p){var zt=function(){throw Error()};if(Object.defineProperty(zt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(zt,[])}catch(At){var gt=At}Reflect.construct(d,[],zt)}else{try{zt.call()}catch(At){gt=At}d.call(zt.prototype)}}else{try{throw Error()}catch(At){gt=At}(zt=d())&&typeof zt.catch=="function"&&zt.catch(function(){})}}catch(At){if(At&&gt&&typeof At.stack=="string")return[At.stack,gt.stack]}return[null,null]}};_.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var P=Object.getOwnPropertyDescriptor(_.DetermineComponentFrameRoot,"name");P&&P.configurable&&Object.defineProperty(_.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=_.DetermineComponentFrameRoot(),ae=M[0],be=M[1];if(ae&&be){var Be=ae.split(`
`),pt=be.split(`
`);for(P=_=0;_<Be.length&&!Be[_].includes("DetermineComponentFrameRoot");)_++;for(;P<pt.length&&!pt[P].includes("DetermineComponentFrameRoot");)P++;if(_===Be.length||P===pt.length)for(_=Be.length-1,P=pt.length-1;1<=_&&0<=P&&Be[_]!==pt[P];)P--;for(;1<=_&&0<=P;_--,P--)if(Be[_]!==pt[P]){if(_!==1||P!==1)do if(_--,P--,0>P||Be[_]!==pt[P]){var Pt=`
`+Be[_].replace(" at new "," at ");return d.displayName&&Pt.includes("<anonymous>")&&(Pt=Pt.replace("<anonymous>",d.displayName)),Pt}while(1<=_&&0<=P);break}}}finally{rt=!1,Error.prepareStackTrace=x}return(x=d?d.displayName||d.name:"")?St(x):""}function Nt(d,p){switch(d.tag){case 26:case 27:case 5:return St(d.type);case 16:return St("Lazy");case 13:return d.child!==p&&p!==null?St("Suspense Fallback"):St("Suspense");case 19:return St("SuspenseList");case 0:case 15:return Te(d.type,!1);case 11:return Te(d.type.render,!1);case 1:return Te(d.type,!0);case 31:return St("Activity");default:return""}}function rr(d){try{var p="",x=null;do p+=Nt(d,x),x=d,d=d.return;while(d);return p}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}var Ot=Object.prototype.hasOwnProperty,vt=t.unstable_scheduleCallback,Dt=t.unstable_cancelCallback,yt=t.unstable_shouldYield,qt=t.unstable_requestPaint,We=t.unstable_now,Jt=t.unstable_getCurrentPriorityLevel,ir=t.unstable_ImmediatePriority,Vt=t.unstable_UserBlockingPriority,Ue=t.unstable_NormalPriority,ur=t.unstable_LowPriority,xt=t.unstable_IdlePriority,bt=t.log,br=t.unstable_setDisableYieldValue,gr=null,Lr=null;function Tr(d){if(typeof bt=="function"&&br(d),Lr&&typeof Lr.setStrictMode=="function")try{Lr.setStrictMode(gr,d)}catch{}}var Mt=Math.clz32?Math.clz32:Es,Dn=Math.log,Wr=Math.LN2;function Es(d){return d>>>=0,d===0?32:31-(Dn(d)/Wr|0)|0}var Ht=256,ri=262144,Gi=4194304;function hn(d){var p=d&42;if(p!==0)return p;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function Hr(d,p,x){var _=d.pendingLanes;if(_===0)return 0;var P=0,M=d.suspendedLanes,ae=d.pingedLanes;d=d.warmLanes;var be=_&134217727;return be!==0?(_=be&~M,_!==0?P=hn(_):(ae&=be,ae!==0?P=hn(ae):x||(x=be&~d,x!==0&&(P=hn(x))))):(be=_&~M,be!==0?P=hn(be):ae!==0?P=hn(ae):x||(x=_&~d,x!==0&&(P=hn(x)))),P===0?0:p!==0&&p!==P&&(p&M)===0&&(M=P&-P,x=p&-p,M>=x||M===32&&(x&4194048)!==0)?p:P}function fn(d,p){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&p)===0}function Nu(d,p){switch(d){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mi(){var d=Gi;return Gi<<=1,(Gi&62914560)===0&&(Gi=4194304),d}function Ri(d){for(var p=[],x=0;31>x;x++)p.push(d);return p}function ni(d,p){d.pendingLanes|=p,p!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function Mr(d,p,x,_,P,M){var ae=d.pendingLanes;d.pendingLanes=x,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=x,d.entangledLanes&=x,d.errorRecoveryDisabledLanes&=x,d.shellSuspendCounter=0;var be=d.entanglements,Be=d.expirationTimes,pt=d.hiddenUpdates;for(x=ae&~x;0<x;){var Pt=31-Mt(x),zt=1<<Pt;be[Pt]=0,Be[Pt]=-1;var gt=pt[Pt];if(gt!==null)for(pt[Pt]=null,Pt=0;Pt<gt.length;Pt++){var At=gt[Pt];At!==null&&(At.lane&=-536870913)}x&=~zt}_!==0&&ps(d,_,0),M!==0&&P===0&&d.tag!==0&&(d.suspendedLanes|=M&~(ae&~p))}function ps(d,p,x){d.pendingLanes|=p,d.suspendedLanes&=~p;var _=31-Mt(p);d.entangledLanes|=p,d.entanglements[_]=d.entanglements[_]|1073741824|x&261930}function pn(d,p){var x=d.entangledLanes|=p;for(d=d.entanglements;x;){var _=31-Mt(x),P=1<<_;P&p|d[_]&p&&(d[_]|=p),x&=~P}}function Nn(d,p){var x=p&-p;return x=(x&42)!==0?1:Fa(x),(x&(d.suspendedLanes|p))!==0?0:x}function Fa(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function Qn(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function ge(){var d=X.p;return d!==0?d:(d=window.event,d===void 0?32:l$(d.type))}function Pe(d,p){var x=X.p;try{return X.p=d,p()}finally{X.p=x}}var Se=Math.random().toString(36).slice(2),_e="__reactFiber$"+Se,je="__reactProps$"+Se,ke="__reactContainer$"+Se,ot="__reactEvents$"+Se,_t="__reactListeners$"+Se,it="__reactHandles$"+Se,dt="__reactResources$"+Se,lt="__reactMarker$"+Se;function Gt(d){delete d[_e],delete d[je],delete d[ot],delete d[_t],delete d[it]}function ar(d){var p=d[_e];if(p)return p;for(var x=d.parentNode;x;){if(p=x[ke]||x[_e]){if(x=p.alternate,p.child!==null||x!==null&&x.child!==null)for(d=Gz(d);d!==null;){if(x=d[_e])return x;d=Gz(d)}return p}d=x,x=d.parentNode}return null}function Xt(d){if(d=d[_e]||d[ke]){var p=d.tag;if(p===5||p===6||p===13||p===31||p===26||p===27||p===3)return d}return null}function Yt(d){var p=d.tag;if(p===5||p===26||p===27||p===6)return d.stateNode;throw Error(n(33))}function lr(d){var p=d[dt];return p||(p=d[dt]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function Ar(d){d[lt]=!0}var bn=new Set,Rn={};function Gn(d,p){Wi(d,p),Wi(d+"Capture",p)}function Wi(d,p){for(Rn[d]=p,d=0;d<p.length;d++)bn.add(p[d])}var Js=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},Zs={};function oc(d){return Ot.call(Zs,d)?!0:Ot.call(Cl,d)?!1:Js.test(d)?Zs[d]=!0:(Cl[d]=!0,!1)}function qr(d,p,x){if(oc(p))if(x===null)d.removeAttribute(p);else{switch(typeof x){case"undefined":case"function":case"symbol":d.removeAttribute(p);return;case"boolean":var _=p.toLowerCase().slice(0,5);if(_!=="data-"&&_!=="aria-"){d.removeAttribute(p);return}}d.setAttribute(p,""+x)}}function ua(d,p,x){if(x===null)d.removeAttribute(p);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(p);return}d.setAttribute(p,""+x)}}function Qo(d,p,x,_){if(_===null)d.removeAttribute(x);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(x);return}d.setAttributeNS(p,x,""+_)}}function Ki(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function Eu(d){var p=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Nf(d,p,x){var _=Object.getOwnPropertyDescriptor(d.constructor.prototype,p);if(!d.hasOwnProperty(p)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var P=_.get,M=_.set;return Object.defineProperty(d,p,{configurable:!0,get:function(){return P.call(this)},set:function(ae){x=""+ae,M.call(this,ae)}}),Object.defineProperty(d,p,{enumerable:_.enumerable}),{getValue:function(){return x},setValue:function(ae){x=""+ae},stopTracking:function(){d._valueTracker=null,delete d[p]}}}}function Ef(d){if(!d._valueTracker){var p=Eu(d)?"checked":"value";d._valueTracker=Nf(d,p,""+d[p])}}function el(d){if(!d)return!1;var p=d._valueTracker;if(!p)return!0;var x=p.getValue(),_="";return d&&(_=Eu(d)?d.checked?"true":"false":d.value),d=_,d!==x?(p.setValue(d),!0):!1}function En(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var Yi=/[\n"\\]/g;function gi(d){return d.replace(Yi,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function lc(d,p,x,_,P,M,ae,be){d.name="",ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"?d.type=ae:d.removeAttribute("type"),p!=null?ae==="number"?(p===0&&d.value===""||d.value!=p)&&(d.value=""+Ki(p)):d.value!==""+Ki(p)&&(d.value=""+Ki(p)):ae!=="submit"&&ae!=="reset"||d.removeAttribute("value"),p!=null?Ad(d,ae,Ki(p)):x!=null?Ad(d,ae,Ki(x)):_!=null&&d.removeAttribute("value"),P==null&&M!=null&&(d.defaultChecked=!!M),P!=null&&(d.checked=P&&typeof P!="function"&&typeof P!="symbol"),be!=null&&typeof be!="function"&&typeof be!="symbol"&&typeof be!="boolean"?d.name=""+Ki(be):d.removeAttribute("name")}function Tf(d,p,x,_,P,M,ae,be){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(d.type=M),p!=null||x!=null){if(!(M!=="submit"&&M!=="reset"||p!=null)){Ef(d);return}x=x!=null?""+Ki(x):"",p=p!=null?""+Ki(p):x,be||p===d.value||(d.value=p),d.defaultValue=p}_=_??P,_=typeof _!="function"&&typeof _!="symbol"&&!!_,d.checked=be?d.checked:!!_,d.defaultChecked=!!_,ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"&&(d.name=ae),Ef(d)}function Ad(d,p,x){p==="number"&&En(d.ownerDocument)===d||d.defaultValue===""+x||(d.defaultValue=""+x)}function cc(d,p,x,_){if(d=d.options,p){p={};for(var P=0;P<x.length;P++)p["$"+x[P]]=!0;for(x=0;x<d.length;x++)P=p.hasOwnProperty("$"+d[x].value),d[x].selected!==P&&(d[x].selected=P),P&&_&&(d[x].defaultSelected=!0)}else{for(x=""+Ki(x),p=null,P=0;P<d.length;P++){if(d[P].value===x){d[P].selected=!0,_&&(d[P].defaultSelected=!0);return}p!==null||d[P].disabled||(p=d[P])}p!==null&&(p.selected=!0)}}function jf(d,p,x){if(p!=null&&(p=""+Ki(p),p!==d.value&&(d.value=p),x==null)){d.defaultValue!==p&&(d.defaultValue=p);return}d.defaultValue=x!=null?""+Ki(x):""}function yh(d,p,x,_){if(p==null){if(_!=null){if(x!=null)throw Error(n(92));if(pe(_)){if(1<_.length)throw Error(n(93));_=_[0]}x=_}x==null&&(x=""),p=x}x=Ki(p),d.defaultValue=x,_=d.textContent,_===x&&_!==""&&_!==null&&(d.value=_),Ef(d)}function uc(d,p){if(p){var x=d.firstChild;if(x&&x===d.lastChild&&x.nodeType===3){x.nodeValue=p;return}}d.textContent=p}var nv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sn(d,p,x){var _=p.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?_?d.setProperty(p,""):p==="float"?d.cssFloat="":d[p]="":_?d.setProperty(p,x):typeof x!="number"||x===0||nv.has(p)?p==="float"?d.cssFloat=x:d[p]=(""+x).trim():d[p]=x+"px"}function Y0(d,p,x){if(p!=null&&typeof p!="object")throw Error(n(62));if(d=d.style,x!=null){for(var _ in x)!x.hasOwnProperty(_)||p!=null&&p.hasOwnProperty(_)||(_.indexOf("--")===0?d.setProperty(_,""):_==="float"?d.cssFloat="":d[_]="");for(var P in p)_=p[P],p.hasOwnProperty(P)&&x[P]!==_&&Sn(d,P,_)}else for(var M in p)p.hasOwnProperty(M)&&Sn(d,M,p[M])}function dc(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kl(d){return Xi.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}function ea(){}var Pl=null;function bh(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Ur=null,da=null;function tl(d){var p=Xt(d);if(p&&(d=p.stateNode)){var x=d[je]||null;e:switch(d=p.stateNode,p.type){case"input":if(lc(d,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),p=x.name,x.type==="radio"&&p!=null){for(x=d;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+gi(""+p)+'"][type="radio"]'),p=0;p<x.length;p++){var _=x[p];if(_!==d&&_.form===d.form){var P=_[je]||null;if(!P)throw Error(n(90));lc(_,P.value,P.defaultValue,P.defaultValue,P.checked,P.defaultChecked,P.type,P.name)}}for(p=0;p<x.length;p++)_=x[p],_.form===d.form&&el(_)}break e;case"textarea":jf(d,x.value,x.defaultValue);break e;case"select":p=x.value,p!=null&&cc(d,!!x.multiple,p,!1)}}}var Ts=!1;function Tu(d,p,x){if(Ts)return d(p,x);Ts=!0;try{var _=d(p);return _}finally{if(Ts=!1,(Ur!==null||da!==null)&&(P4(),Ur&&(p=Ur,d=da,da=Ur=null,tl(p),d)))for(p=0;p<d.length;p++)tl(d[p])}}function Bc(d,p){var x=d.stateNode;if(x===null)return null;var _=x[je]||null;if(_===null)return null;x=_[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(d=d.type,_=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!_;break e;default:d=!1}if(d)return null;if(x&&typeof x!="function")throw Error(n(231,p,typeof x));return x}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wh=!1;if(ai)try{var js={};Object.defineProperty(js,"passive",{get:function(){wh=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{wh=!1}var Ol=null,kf=null,Uc=null;function Dl(){if(Uc)return Uc;var d,p=kf,x=p.length,_,P="value"in Ol?Ol.value:Ol.textContent,M=P.length;for(d=0;d<x&&p[d]===P[d];d++);var ae=x-d;for(_=1;_<=ae&&p[x-_]===P[M-_];_++);return Uc=P.slice(d,1<_?1-_:void 0)}function rl(d){var p=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&p===13&&(d=13)):d=p,d===10&&(d=13),32<=d||d===13?d:0}function Ah(){return!0}function _d(){return!1}function Ja(d){function p(x,_,P,M,ae){this._reactName=x,this._targetInst=P,this.type=_,this.nativeEvent=M,this.target=ae,this.currentTarget=null;for(var be in d)d.hasOwnProperty(be)&&(x=d[be],this[be]=x?x(M):M[be]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Ah:_d,this.isPropagationStopped=_d,this}return f(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Ah)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Ah)},persist:function(){},isPersistent:Ah}),p}var Rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_h=Ja(Rl),hc=f({},Rl,{view:0,detail:0}),Sh=Ja(hc),Sd,Il,nl,Pf=f({},hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ll,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==nl&&(nl&&d.type==="mousemove"?(Sd=d.screenX-nl.screenX,Il=d.screenY-nl.screenY):Il=Sd=0,nl=d),Sd)},movementY:function(d){return"movementY"in d?d.movementY:Il}}),fc=Ja(Pf),al=f({},Pf,{dataTransfer:0}),Of=Ja(al),zc=f({},hc,{relatedTarget:0}),Nd=Ja(zc),ju=f({},Rl,{animationName:0,elapsedTime:0,pseudoElement:0}),Km=Ja(ju),X0=f({},Rl,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),$c=Ja(X0),Df=f({},Rl,{data:0}),Cu=Ja(Df),Nh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ii={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Th(d){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(d):(d=Ii[d])?!!p[d]:!1}function Ll(){return Th}var Ed=f({},hc,{key:function(d){if(d.key){var p=Nh[d.key]||d.key;if(p!=="Unidentified")return p}return d.type==="keypress"?(d=rl(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Eh[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ll,charCode:function(d){return d.type==="keypress"?rl(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?rl(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Td=Ja(Ed),ku=f({},Pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jh=Ja(ku),z=f({},hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ll}),he=Ja(z),Oe=f({},Rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=Ja(Oe),at=f({},Pf,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),jt=Ja(at),Wt=f({},Rl,{newState:0,oldState:0}),xr=Ja(Wt),Rr=[9,13,27,32],Yr=ai&&"CompositionEvent"in window,zr=null;ai&&"documentMode"in document&&(zr=document.documentMode);var Tn=ai&&"TextEvent"in window&&!zr,la=ai&&(!Yr||zr&&8<zr&&11>=zr),ha=" ",ii=!1;function Ji(d,p){switch(d){case"keyup":return Rr.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Li(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var ms=!1;function jo(d,p){switch(d){case"compositionend":return Li(p);case"keypress":return p.which!==32?null:(ii=!0,ha);case"textInput":return d=p.data,d===ha&&ii?null:d;default:return null}}function Vc(d,p){if(ms)return d==="compositionend"||!Yr&&Ji(d,p)?(d=Dl(),Uc=kf=Ol=null,ms=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return la&&p.locale!=="ko"?null:p.data;default:return null}}var J0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jd(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p==="input"?!!J0[d.type]:p==="textarea"}function Ch(d,p,x,_){Ur?da?da.push(_):da=[_]:Ur=_,p=F4(p,"onChange"),0<p.length&&(x=new _h("onChange","change",null,x,_),d.push({event:x,listeners:p}))}var pc=null,Pu=null;function Z0(d){Oz(d,0)}function Ou(d){var p=Yt(d);if(el(p))return d}function si(d,p){if(d==="change")return p}var Qs=!1;if(ai){var Wn;if(ai){var mc="oninput"in document;if(!mc){var gs=document.createElement("div");gs.setAttribute("oninput","return;"),mc=typeof gs.oninput=="function"}Wn=mc}else Wn=!1;Qs=Wn&&(!document.documentMode||9<document.documentMode)}function eo(){pc&&(pc.detachEvent("onpropertychange",Rf),Pu=pc=null)}function Rf(d){if(d.propertyName==="value"&&Ou(Pu)){var p=[];Ch(p,Pu,d,bh(d)),Tu(Z0,p)}}function If(d,p,x){d==="focusin"?(eo(),pc=p,Pu=x,pc.attachEvent("onpropertychange",Rf)):d==="focusout"&&eo()}function Hc(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Ou(Pu)}function Co(d,p){if(d==="click")return Ou(p)}function gc(d,p){if(d==="input"||d==="change")return Ou(p)}function xc(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var xs=typeof Object.is=="function"?Object.is:xc;function j(d,p){if(xs(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var x=Object.keys(d),_=Object.keys(p);if(x.length!==_.length)return!1;for(_=0;_<x.length;_++){var P=x[_];if(!Ot.call(p,P)||!xs(d[P],p[P]))return!1}return!0}function I(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function W(d,p){var x=I(d);d=0;for(var _;x;){if(x.nodeType===3){if(_=d+x.textContent.length,d<=p&&_>=p)return{node:x,offset:p-d};d=_}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=I(x)}}function te(d,p){return d&&p?d===p?!0:d&&d.nodeType===3?!1:p&&p.nodeType===3?te(d,p.parentNode):"contains"in d?d.contains(p):d.compareDocumentPosition?!!(d.compareDocumentPosition(p)&16):!1:!1}function se(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var p=En(d.document);p instanceof d.HTMLIFrameElement;){try{var x=typeof p.contentWindow.location.href=="string"}catch{x=!1}if(x)d=p.contentWindow;else break;p=En(d.document)}return p}function me(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p&&(p==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||p==="textarea"||d.contentEditable==="true")}var Ee=ai&&"documentMode"in document&&11>=document.documentMode,Ie=null,ze=null,Fe=null,et=!1;function Me(d,p,x){var _=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;et||Ie==null||Ie!==En(_)||(_=Ie,"selectionStart"in _&&me(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Fe&&j(Fe,_)||(Fe=_,_=F4(ze,"onSelect"),0<_.length&&(p=new _h("onSelect","select",null,p,x),d.push({event:p,listeners:_}),p.target=Ie)))}function Ze(d,p){var x={};return x[d.toLowerCase()]=p.toLowerCase(),x["Webkit"+d]="webkit"+p,x["Moz"+d]="moz"+p,x}var Ve={animationend:Ze("Animation","AnimationEnd"),animationiteration:Ze("Animation","AnimationIteration"),animationstart:Ze("Animation","AnimationStart"),transitionrun:Ze("Transition","TransitionRun"),transitionstart:Ze("Transition","TransitionStart"),transitioncancel:Ze("Transition","TransitionCancel"),transitionend:Ze("Transition","TransitionEnd")},Xe={},Je={};ai&&(Je=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);function Qe(d){if(Xe[d])return Xe[d];if(!Ve[d])return d;var p=Ve[d],x;for(x in p)if(p.hasOwnProperty(x)&&x in Je)return Xe[d]=p[x];return d}var st=Qe("animationend"),ht=Qe("animationiteration"),Et=Qe("animationstart"),Rt=Qe("transitionrun"),nr=Qe("transitionstart"),cr=Qe("transitioncancel"),Zt=Qe("transitionend"),Qt=new Map,sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sr.push("scrollEnd");function It(d,p){Qt.set(d,p),Gn(p,[d])}var er=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},mr=[],Sr=0,Kr=0;function xi(){for(var d=Sr,p=Kr=Sr=0;p<d;){var x=mr[p];mr[p++]=null;var _=mr[p];mr[p++]=null;var P=mr[p];mr[p++]=null;var M=mr[p];if(mr[p++]=null,_!==null&&P!==null){var ae=_.pending;ae===null?P.next=P:(P.next=ae.next,ae.next=P),_.pending=P}M!==0&&Cd(x,P,M)}}function $r(d,p,x,_){mr[Sr++]=d,mr[Sr++]=p,mr[Sr++]=x,mr[Sr++]=_,Kr|=_,d.lanes|=_,d=d.alternate,d!==null&&(d.lanes|=_)}function oi(d,p,x,_){return $r(d,p,x,_),$n(d)}function Na(d,p){return $r(d,null,null,p),$n(d)}function Cd(d,p,x){d.lanes|=x;var _=d.alternate;_!==null&&(_.lanes|=x);for(var P=!1,M=d.return;M!==null;)M.childLanes|=x,_=M.alternate,_!==null&&(_.childLanes|=x),M.tag===22&&(d=M.stateNode,d===null||d._visibility&1||(P=!0)),d=M,M=M.return;return d.tag===3?(M=d.stateNode,P&&p!==null&&(P=31-Mt(x),d=M.hiddenUpdates,_=d[P],_===null?d[P]=[p]:_.push(p),p.lane=x|536870912),M):null}function $n(d){if(50<tA)throw tA=0,TO=null,Error(n(185));for(var p=d.return;p!==null;)d=p,p=d.return;return d.tag===3?d.stateNode:null}var Ba={};function Lf(d,p,x,_){this.tag=d,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ko(d,p,x,_){return new Lf(d,p,x,_)}function Wy(d){return d=d.prototype,!(!d||!d.isReactComponent)}function qc(d,p){var x=d.alternate;return x===null?(x=ko(d.tag,p,d.key,d.mode),x.elementType=d.elementType,x.type=d.type,x.stateNode=d.stateNode,x.alternate=d,d.alternate=x):(x.pendingProps=p,x.type=d.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=d.flags&65011712,x.childLanes=d.childLanes,x.lanes=d.lanes,x.child=d.child,x.memoizedProps=d.memoizedProps,x.memoizedState=d.memoizedState,x.updateQueue=d.updateQueue,p=d.dependencies,x.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},x.sibling=d.sibling,x.index=d.index,x.ref=d.ref,x.refCleanup=d.refCleanup,x}function av(d,p){d.flags&=65011714;var x=d.alternate;return x===null?(d.childLanes=0,d.lanes=p,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,p=x.dependencies,d.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),d}function Ym(d,p,x,_,P,M){var ae=0;if(_=d,typeof d=="function")Wy(d)&&(ae=1);else if(typeof d=="string")ae=sde(d,x,Y.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case H:return d=ko(31,x,p,P),d.elementType=H,d.lanes=M,d;case y:return Mf(x.children,P,M,p);case w:ae=8,P|=24;break;case A:return d=ko(12,x,p,P|2),d.elementType=A,d.lanes=M,d;case k:return d=ko(13,x,p,P),d.elementType=k,d.lanes=M,d;case R:return d=ko(19,x,p,P),d.elementType=R,d.lanes=M,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case N:ae=10;break e;case S:ae=9;break e;case T:ae=11;break e;case O:ae=14;break e;case U:ae=16,_=null;break e}ae=29,x=Error(n(130,d===null?"null":typeof d,"")),_=null}return p=ko(ae,x,p,P),p.elementType=d,p.type=_,p.lanes=M,p}function Mf(d,p,x,_){return d=ko(7,d,_,p),d.lanes=x,d}function iv(d,p,x){return d=ko(6,d,null,p),d.lanes=x,d}function Ky(d){var p=ko(18,null,null,0);return p.stateNode=d,p}function Xm(d,p,x){return p=ko(4,d.children!==null?d.children:[],d.key,p),p.lanes=x,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}var Yy=new WeakMap;function Gc(d,p){if(typeof d=="object"&&d!==null){var x=Yy.get(d);return x!==void 0?x:(p={value:d,source:p,stack:rr(p)},Yy.set(d,p),p)}return{value:d,source:p,stack:rr(p)}}var Jm=[],Q0=0,Xy=null,sv=0,Wc=[],Kc=0,Ff=null,Yc=1,Xc="";function vc(d,p){Jm[Q0++]=sv,Jm[Q0++]=Xy,Xy=d,sv=p}function u4(d,p,x){Wc[Kc++]=Yc,Wc[Kc++]=Xc,Wc[Kc++]=Ff,Ff=d;var _=Yc;d=Xc;var P=32-Mt(_)-1;_&=~(1<<P),x+=1;var M=32-Mt(p)+P;if(30<M){var ae=P-P%5;M=(_&(1<<ae)-1).toString(32),_>>=ae,P-=ae,Yc=1<<32-Mt(p)+P|x<<P|_,Xc=M+d}else Yc=1<<M|x<<P|_,Xc=d}function R5(d){d.return!==null&&(vc(d,1),u4(d,1,0))}function Jy(d){for(;d===Xy;)Xy=Jm[--Q0],Jm[Q0]=null,sv=Jm[--Q0],Jm[Q0]=null;for(;d===Ff;)Ff=Wc[--Kc],Wc[Kc]=null,Xc=Wc[--Kc],Wc[Kc]=null,Yc=Wc[--Kc],Wc[Kc]=null}function d4(d,p){Wc[Kc++]=Yc,Wc[Kc++]=Xc,Wc[Kc++]=Ff,Yc=p.id,Xc=p.overflow,Ff=d}var to=null,Ua=null,Cn=!1,il=null,vi=!1,Du=Error(n(519));function Bf(d){var p=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zm(Gc(p,d)),Du}function I5(d){var p=d.stateNode,x=d.type,_=d.memoizedProps;switch(p[_e]=d,p[je]=_,x){case"dialog":On("cancel",p),On("close",p);break;case"iframe":case"object":case"embed":On("load",p);break;case"video":case"audio":for(x=0;x<nA.length;x++)On(nA[x],p);break;case"source":On("error",p);break;case"img":case"image":case"link":On("error",p),On("load",p);break;case"details":On("toggle",p);break;case"input":On("invalid",p),Tf(p,_.value,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name,!0);break;case"select":On("invalid",p);break;case"textarea":On("invalid",p),yh(p,_.value,_.defaultValue,_.children)}x=_.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||p.textContent===""+x||_.suppressHydrationWarning===!0||Lz(p.textContent,x)?(_.popover!=null&&(On("beforetoggle",p),On("toggle",p)),_.onScroll!=null&&On("scroll",p),_.onScrollEnd!=null&&On("scrollend",p),_.onClick!=null&&(p.onclick=ea),p=!0):p=!1,p||Bf(d,!0)}function kh(d){for(to=d.return;to;)switch(to.tag){case 5:case 31:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:to=to.return}}function ro(d){if(d!==to)return!1;if(!Cn)return kh(d),Cn=!0,!1;var p=d.tag,x;if((x=p!==3&&p!==27)&&((x=p===5)&&(x=d.type,x=!(x!=="form"&&x!=="button")||$O(d.type,d.memoizedProps)),x=!x),x&&Ua&&Bf(d),kh(d),p===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));Ua=qz(d)}else if(p===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));Ua=qz(d)}else p===27?(p=Ua,hg(d.type)?(d=WO,WO=null,Ua=d):Ua=p):Ua=to?Ld(d.stateNode.nextSibling):null;return!0}function ep(){Ua=to=null,Cn=!1}function L5(){var d=il;return d!==null&&(ru===null?ru=d:ru.push.apply(ru,d),il=null),d}function Zm(d){il===null?il=[d]:il.push(d)}var Zy=ne(null),Uf=null,kd=null;function zf(d,p,x){V(Zy,p._currentValue),p._currentValue=x}function Jc(d){d._currentValue=Zy.current,B(Zy)}function Qm(d,p,x){for(;d!==null;){var _=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,_!==null&&(_.childLanes|=p)):_!==null&&(_.childLanes&p)!==p&&(_.childLanes|=p),d===x)break;d=d.return}}function tp(d,p,x,_){var P=d.child;for(P!==null&&(P.return=d);P!==null;){var M=P.dependencies;if(M!==null){var ae=P.child;M=M.firstContext;e:for(;M!==null;){var be=M;M=P;for(var Be=0;Be<p.length;Be++)if(be.context===p[Be]){M.lanes|=x,be=M.alternate,be!==null&&(be.lanes|=x),Qm(M.return,x,d),_||(ae=null);break e}M=be.next}}else if(P.tag===18){if(ae=P.return,ae===null)throw Error(n(341));ae.lanes|=x,M=ae.alternate,M!==null&&(M.lanes|=x),Qm(ae,x,d),ae=null}else ae=P.child;if(ae!==null)ae.return=P;else for(ae=P;ae!==null;){if(ae===d){ae=null;break}if(P=ae.sibling,P!==null){P.return=ae.return,ae=P;break}ae=ae.return}P=ae}}function $f(d,p,x,_){d=null;for(var P=p,M=!1;P!==null;){if(!M){if((P.flags&524288)!==0)M=!0;else if((P.flags&262144)!==0)break}if(P.tag===10){var ae=P.alternate;if(ae===null)throw Error(n(387));if(ae=ae.memoizedProps,ae!==null){var be=P.type;xs(P.pendingProps.value,ae.value)||(d!==null?d.push(be):d=[be])}}else if(P===Ae.current){if(ae=P.alternate,ae===null)throw Error(n(387));ae.memoizedState.memoizedState!==P.memoizedState.memoizedState&&(d!==null?d.push(lA):d=[lA])}P=P.return}d!==null&&tp(p,d,x,_),p.flags|=262144}function Qy(d){for(d=d.firstContext;d!==null;){if(!xs(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function Vf(d){Uf=d,kd=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function no(d){return h4(Uf,d)}function eb(d,p){return Uf===null&&Vf(d),h4(d,p)}function h4(d,p){var x=p._currentValue;if(p={context:p,memoizedValue:x,next:null},kd===null){if(d===null)throw Error(n(308));kd=p,d.dependencies={lanes:0,firstContext:p},d.flags|=524288}else kd=kd.next=p;return x}var GP=typeof AbortController<"u"?AbortController:function(){var d=[],p=this.signal={aborted:!1,addEventListener:function(x,_){d.push(_)}};this.abort=function(){p.aborted=!0,d.forEach(function(x){return x()})}},WP=t.unstable_scheduleCallback,KP=t.unstable_NormalPriority,Mi={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eg(){return{controller:new GP,data:new Map,refCount:0}}function ov(d){d.refCount--,d.refCount===0&&WP(KP,function(){d.controller.abort()})}var lv=null,tb=0,E=0,D=null;function q(d,p){if(lv===null){var x=lv=[];tb=0,E=DO(),D={status:"pending",value:void 0,then:function(_){x.push(_)}}}return tb++,p.then(ee,ee),p}function ee(){if(--tb===0&&lv!==null){D!==null&&(D.status="fulfilled");var d=lv;lv=null,E=0,D=null;for(var p=0;p<d.length;p++)(0,d[p])()}}function fe(d,p){var x=[],_={status:"pending",value:null,reason:null,then:function(P){x.push(P)}};return d.then(function(){_.status="fulfilled",_.value=p;for(var P=0;P<x.length;P++)(0,x[P])(p)},function(P){for(_.status="rejected",_.reason=P,P=0;P<x.length;P++)(0,x[P])(void 0)}),_}var xe=Q.S;Q.S=function(d,p){sz=We(),typeof p=="object"&&p!==null&&typeof p.then=="function"&&q(d,p),xe!==null&&xe(d,p)};var ve=ne(null);function ye(){var d=ve.current;return d!==null?d:$a.pooledCache}function we(d,p){p===null?V(ve,ve.current):V(ve,p.pool)}function Ce(){var d=ye();return d===null?null:{parent:Mi._currentValue,pool:d}}var He=Error(n(460)),ut=Error(n(474)),ct=Error(n(542)),tt={then:function(){}};function Ut(d){return d=d.status,d==="fulfilled"||d==="rejected"}function Tt(d,p,x){switch(x=d[x],x===void 0?d.push(p):x!==p&&(p.then(ea,ea),p=x),p.status){case"fulfilled":return p.value;case"rejected":throw d=p.reason,$t(d),d;default:if(typeof p.status=="string")p.then(ea,ea);else{if(d=$a,d!==null&&100<d.shellSuspendCounter)throw Error(n(482));d=p,d.status="pending",d.then(function(_){if(p.status==="pending"){var P=p;P.status="fulfilled",P.value=_}},function(_){if(p.status==="pending"){var P=p;P.status="rejected",P.reason=_}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw d=p.reason,$t(d),d}throw Ye=p,He}}function qe(d){try{var p=d._init;return p(d._payload)}catch(x){throw x!==null&&typeof x=="object"&&typeof x.then=="function"?(Ye=x,He):x}}var Ye=null;function Ft(){if(Ye===null)throw Error(n(459));var d=Ye;return Ye=null,d}function $t(d){if(d===He||d===ct)throw Error(n(483))}var Lt=null,vr=0;function hr(d){var p=vr;return vr+=1,Lt===null&&(Lt=[]),Tt(Lt,d,p)}function Fr(d,p){p=p.props.ref,d.ref=p!==void 0?p:null}function pr(d,p){throw p.$$typeof===m?Error(n(525)):(d=Object.prototype.toString.call(p),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d)))}function Vn(d){function p(nt,Ke){if(d){var ft=nt.deletions;ft===null?(nt.deletions=[Ke],nt.flags|=16):ft.push(Ke)}}function x(nt,Ke){if(!d)return null;for(;Ke!==null;)p(nt,Ke),Ke=Ke.sibling;return null}function _(nt){for(var Ke=new Map;nt!==null;)nt.key!==null?Ke.set(nt.key,nt):Ke.set(nt.index,nt),nt=nt.sibling;return Ke}function P(nt,Ke){return nt=qc(nt,Ke),nt.index=0,nt.sibling=null,nt}function M(nt,Ke,ft){return nt.index=ft,d?(ft=nt.alternate,ft!==null?(ft=ft.index,ft<Ke?(nt.flags|=67108866,Ke):ft):(nt.flags|=67108866,Ke)):(nt.flags|=1048576,Ke)}function ae(nt){return d&&nt.alternate===null&&(nt.flags|=67108866),nt}function be(nt,Ke,ft,Bt){return Ke===null||Ke.tag!==6?(Ke=iv(ft,nt.mode,Bt),Ke.return=nt,Ke):(Ke=P(Ke,ft),Ke.return=nt,Ke)}function Be(nt,Ke,ft,Bt){var Vr=ft.type;return Vr===y?Pt(nt,Ke,ft.props.children,Bt,ft.key):Ke!==null&&(Ke.elementType===Vr||typeof Vr=="object"&&Vr!==null&&Vr.$$typeof===U&&qe(Vr)===Ke.type)?(Ke=P(Ke,ft.props),Fr(Ke,ft),Ke.return=nt,Ke):(Ke=Ym(ft.type,ft.key,ft.props,null,nt.mode,Bt),Fr(Ke,ft),Ke.return=nt,Ke)}function pt(nt,Ke,ft,Bt){return Ke===null||Ke.tag!==4||Ke.stateNode.containerInfo!==ft.containerInfo||Ke.stateNode.implementation!==ft.implementation?(Ke=Xm(ft,nt.mode,Bt),Ke.return=nt,Ke):(Ke=P(Ke,ft.children||[]),Ke.return=nt,Ke)}function Pt(nt,Ke,ft,Bt,Vr){return Ke===null||Ke.tag!==7?(Ke=Mf(ft,nt.mode,Bt,Vr),Ke.return=nt,Ke):(Ke=P(Ke,ft),Ke.return=nt,Ke)}function zt(nt,Ke,ft){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return Ke=iv(""+Ke,nt.mode,ft),Ke.return=nt,Ke;if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case g:return ft=Ym(Ke.type,Ke.key,Ke.props,null,nt.mode,ft),Fr(ft,Ke),ft.return=nt,ft;case b:return Ke=Xm(Ke,nt.mode,ft),Ke.return=nt,Ke;case U:return Ke=qe(Ke),zt(nt,Ke,ft)}if(pe(Ke)||L(Ke))return Ke=Mf(Ke,nt.mode,ft,null),Ke.return=nt,Ke;if(typeof Ke.then=="function")return zt(nt,hr(Ke),ft);if(Ke.$$typeof===N)return zt(nt,eb(nt,Ke),ft);pr(nt,Ke)}return null}function gt(nt,Ke,ft,Bt){var Vr=Ke!==null?Ke.key:null;if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return Vr!==null?null:be(nt,Ke,""+ft,Bt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case g:return ft.key===Vr?Be(nt,Ke,ft,Bt):null;case b:return ft.key===Vr?pt(nt,Ke,ft,Bt):null;case U:return ft=qe(ft),gt(nt,Ke,ft,Bt)}if(pe(ft)||L(ft))return Vr!==null?null:Pt(nt,Ke,ft,Bt,null);if(typeof ft.then=="function")return gt(nt,Ke,hr(ft),Bt);if(ft.$$typeof===N)return gt(nt,Ke,eb(nt,ft),Bt);pr(nt,ft)}return null}function At(nt,Ke,ft,Bt,Vr){if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number"||typeof Bt=="bigint")return nt=nt.get(ft)||null,be(Ke,nt,""+Bt,Vr);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case g:return nt=nt.get(Bt.key===null?ft:Bt.key)||null,Be(Ke,nt,Bt,Vr);case b:return nt=nt.get(Bt.key===null?ft:Bt.key)||null,pt(Ke,nt,Bt,Vr);case U:return Bt=qe(Bt),At(nt,Ke,ft,Bt,Vr)}if(pe(Bt)||L(Bt))return nt=nt.get(ft)||null,Pt(Ke,nt,Bt,Vr,null);if(typeof Bt.then=="function")return At(nt,Ke,ft,hr(Bt),Vr);if(Bt.$$typeof===N)return At(nt,Ke,ft,eb(Ke,Bt),Vr);pr(Ke,Bt)}return null}function Cr(nt,Ke,ft,Bt){for(var Vr=null,Yn=null,Or=Ke,xn=Ke=0,Mn=null;Or!==null&&xn<ft.length;xn++){Or.index>xn?(Mn=Or,Or=null):Mn=Or.sibling;var Xn=gt(nt,Or,ft[xn],Bt);if(Xn===null){Or===null&&(Or=Mn);break}d&&Or&&Xn.alternate===null&&p(nt,Or),Ke=M(Xn,Ke,xn),Yn===null?Vr=Xn:Yn.sibling=Xn,Yn=Xn,Or=Mn}if(xn===ft.length)return x(nt,Or),Cn&&vc(nt,xn),Vr;if(Or===null){for(;xn<ft.length;xn++)Or=zt(nt,ft[xn],Bt),Or!==null&&(Ke=M(Or,Ke,xn),Yn===null?Vr=Or:Yn.sibling=Or,Yn=Or);return Cn&&vc(nt,xn),Vr}for(Or=_(Or);xn<ft.length;xn++)Mn=At(Or,nt,xn,ft[xn],Bt),Mn!==null&&(d&&Mn.alternate!==null&&Or.delete(Mn.key===null?xn:Mn.key),Ke=M(Mn,Ke,xn),Yn===null?Vr=Mn:Yn.sibling=Mn,Yn=Mn);return d&&Or.forEach(function(xg){return p(nt,xg)}),Cn&&vc(nt,xn),Vr}function Jr(nt,Ke,ft,Bt){if(ft==null)throw Error(n(151));for(var Vr=null,Yn=null,Or=Ke,xn=Ke=0,Mn=null,Xn=ft.next();Or!==null&&!Xn.done;xn++,Xn=ft.next()){Or.index>xn?(Mn=Or,Or=null):Mn=Or.sibling;var xg=gt(nt,Or,Xn.value,Bt);if(xg===null){Or===null&&(Or=Mn);break}d&&Or&&xg.alternate===null&&p(nt,Or),Ke=M(xg,Ke,xn),Yn===null?Vr=xg:Yn.sibling=xg,Yn=xg,Or=Mn}if(Xn.done)return x(nt,Or),Cn&&vc(nt,xn),Vr;if(Or===null){for(;!Xn.done;xn++,Xn=ft.next())Xn=zt(nt,Xn.value,Bt),Xn!==null&&(Ke=M(Xn,Ke,xn),Yn===null?Vr=Xn:Yn.sibling=Xn,Yn=Xn);return Cn&&vc(nt,xn),Vr}for(Or=_(Or);!Xn.done;xn++,Xn=ft.next())Xn=At(Or,nt,xn,Xn.value,Bt),Xn!==null&&(d&&Xn.alternate!==null&&Or.delete(Xn.key===null?xn:Xn.key),Ke=M(Xn,Ke,xn),Yn===null?Vr=Xn:Yn.sibling=Xn,Yn=Xn);return d&&Or.forEach(function(xde){return p(nt,xde)}),Cn&&vc(nt,xn),Vr}function ja(nt,Ke,ft,Bt){if(typeof ft=="object"&&ft!==null&&ft.type===y&&ft.key===null&&(ft=ft.props.children),typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case g:e:{for(var Vr=ft.key;Ke!==null;){if(Ke.key===Vr){if(Vr=ft.type,Vr===y){if(Ke.tag===7){x(nt,Ke.sibling),Bt=P(Ke,ft.props.children),Bt.return=nt,nt=Bt;break e}}else if(Ke.elementType===Vr||typeof Vr=="object"&&Vr!==null&&Vr.$$typeof===U&&qe(Vr)===Ke.type){x(nt,Ke.sibling),Bt=P(Ke,ft.props),Fr(Bt,ft),Bt.return=nt,nt=Bt;break e}x(nt,Ke);break}else p(nt,Ke);Ke=Ke.sibling}ft.type===y?(Bt=Mf(ft.props.children,nt.mode,Bt,ft.key),Bt.return=nt,nt=Bt):(Bt=Ym(ft.type,ft.key,ft.props,null,nt.mode,Bt),Fr(Bt,ft),Bt.return=nt,nt=Bt)}return ae(nt);case b:e:{for(Vr=ft.key;Ke!==null;){if(Ke.key===Vr)if(Ke.tag===4&&Ke.stateNode.containerInfo===ft.containerInfo&&Ke.stateNode.implementation===ft.implementation){x(nt,Ke.sibling),Bt=P(Ke,ft.children||[]),Bt.return=nt,nt=Bt;break e}else{x(nt,Ke);break}else p(nt,Ke);Ke=Ke.sibling}Bt=Xm(ft,nt.mode,Bt),Bt.return=nt,nt=Bt}return ae(nt);case U:return ft=qe(ft),ja(nt,Ke,ft,Bt)}if(pe(ft))return Cr(nt,Ke,ft,Bt);if(L(ft)){if(Vr=L(ft),typeof Vr!="function")throw Error(n(150));return ft=Vr.call(ft),Jr(nt,Ke,ft,Bt)}if(typeof ft.then=="function")return ja(nt,Ke,hr(ft),Bt);if(ft.$$typeof===N)return ja(nt,Ke,eb(nt,ft),Bt);pr(nt,ft)}return typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint"?(ft=""+ft,Ke!==null&&Ke.tag===6?(x(nt,Ke.sibling),Bt=P(Ke,ft),Bt.return=nt,nt=Bt):(x(nt,Ke),Bt=iv(ft,nt.mode,Bt),Bt.return=nt,nt=Bt),ae(nt)):x(nt,Ke)}return function(nt,Ke,ft,Bt){try{vr=0;var Vr=ja(nt,Ke,ft,Bt);return Lt=null,Vr}catch(Or){if(Or===He||Or===ct)throw Or;var Yn=ko(29,Or,null,nt.mode);return Yn.lanes=Bt,Yn.return=nt,Yn}finally{}}}var kn=Vn(!0),In=Vn(!1),nn=!1;function ta(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kn(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function Xr(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function fa(d,p,x){var _=d.updateQueue;if(_===null)return null;if(_=_.shared,(ra&2)!==0){var P=_.pending;return P===null?p.next=p:(p.next=P.next,P.next=p),_.pending=p,p=$n(d),Cd(d,null,x),p}return $r(d,_,p,x),$n(d)}function Cs(d,p,x){if(p=p.updateQueue,p!==null&&(p=p.shared,(x&4194048)!==0)){var _=p.lanes;_&=d.pendingLanes,x|=_,p.lanes=x,pn(d,x)}}function yi(d,p){var x=d.updateQueue,_=d.alternate;if(_!==null&&(_=_.updateQueue,x===_)){var P=null,M=null;if(x=x.firstBaseUpdate,x!==null){do{var ae={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};M===null?P=M=ae:M=M.next=ae,x=x.next}while(x!==null);M===null?P=M=p:M=M.next=p}else P=M=p;x={baseState:_.baseState,firstBaseUpdate:P,lastBaseUpdate:M,shared:_.shared,callbacks:_.callbacks},d.updateQueue=x;return}d=x.lastBaseUpdate,d===null?x.firstBaseUpdate=p:d.next=p,x.lastBaseUpdate=p}var Po=!1;function Bn(){if(Po){var d=D;if(d!==null)throw d}}function ao(d,p,x,_){Po=!1;var P=d.updateQueue;nn=!1;var M=P.firstBaseUpdate,ae=P.lastBaseUpdate,be=P.shared.pending;if(be!==null){P.shared.pending=null;var Be=be,pt=Be.next;Be.next=null,ae===null?M=pt:ae.next=pt,ae=Be;var Pt=d.alternate;Pt!==null&&(Pt=Pt.updateQueue,be=Pt.lastBaseUpdate,be!==ae&&(be===null?Pt.firstBaseUpdate=pt:be.next=pt,Pt.lastBaseUpdate=Be))}if(M!==null){var zt=P.baseState;ae=0,Pt=pt=Be=null,be=M;do{var gt=be.lane&-536870913,At=gt!==be.lane;if(At?(Ln&gt)===gt:(_&gt)===gt){gt!==0&&gt===E&&(Po=!0),Pt!==null&&(Pt=Pt.next={lane:0,tag:be.tag,payload:be.payload,callback:null,next:null});e:{var Cr=d,Jr=be;gt=p;var ja=x;switch(Jr.tag){case 1:if(Cr=Jr.payload,typeof Cr=="function"){zt=Cr.call(ja,zt,gt);break e}zt=Cr;break e;case 3:Cr.flags=Cr.flags&-65537|128;case 0:if(Cr=Jr.payload,gt=typeof Cr=="function"?Cr.call(ja,zt,gt):Cr,gt==null)break e;zt=f({},zt,gt);break e;case 2:nn=!0}}gt=be.callback,gt!==null&&(d.flags|=64,At&&(d.flags|=8192),At=P.callbacks,At===null?P.callbacks=[gt]:At.push(gt))}else At={lane:gt,tag:be.tag,payload:be.payload,callback:be.callback,next:null},Pt===null?(pt=Pt=At,Be=zt):Pt=Pt.next=At,ae|=gt;if(be=be.next,be===null){if(be=P.shared.pending,be===null)break;At=be,be=At.next,At.next=null,P.lastBaseUpdate=At,P.shared.pending=null}}while(!0);Pt===null&&(Be=zt),P.baseState=Be,P.firstBaseUpdate=pt,P.lastBaseUpdate=Pt,M===null&&(P.shared.lanes=0),og|=ae,d.lanes=ae,d.memoizedState=zt}}function Ml(d,p){if(typeof d!="function")throw Error(n(191,d));d.call(p)}function vs(d,p){var x=d.callbacks;if(x!==null)for(d.callbacks=null,d=0;d<x.length;d++)Ml(x[d],p)}var bi=ne(null),ks=ne(0);function yc(d,p){d=fp,V(ks,d),V(bi,p),fp=d|p.baseLanes}function Zc(){V(ks,fp),V(bi,bi.current)}function Zi(){fp=ks.current,B(bi),B(ks)}var Fi=ne(null),Ps=null;function bc(d){var p=d.alternate;V(wi,wi.current&1),V(Fi,d),Ps===null&&(p===null||bi.current!==null||p.memoizedState!==null)&&(Ps=d)}function Pd(d){V(wi,wi.current),V(Fi,d),Ps===null&&(Ps=d)}function li(d){d.tag===22?(V(wi,wi.current),V(Fi,d),Ps===null&&(Ps=d)):Od()}function Od(){V(wi,wi.current),V(Fi,Fi.current)}function Fl(d){B(Fi),Ps===d&&(Ps=null),B(wi)}var wi=ne(0);function rp(d){for(var p=d;p!==null;){if(p.tag===13){var x=p.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||qO(x)||GO(x)))return p}else if(p.tag===19&&(p.memoizedProps.revealOrder==="forwards"||p.memoizedProps.revealOrder==="backwards"||p.memoizedProps.revealOrder==="unstable_legacy-backwards"||p.memoizedProps.revealOrder==="together")){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var wc=0,rn=null,wn=null,za=null,Ph=!1,np=!1,Dd=!1,cv=0,Hf=0,qf=null,rb=0;function Ea(){throw Error(n(321))}function M5(d,p){if(p===null)return!1;for(var x=0;x<p.length&&x<d.length;x++)if(!xs(d[x],p[x]))return!1;return!0}function F5(d,p,x,_,P,M){return wc=M,rn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Q.H=d===null||d.memoizedState===null?xU:rO,Dd=!1,M=x(_,P),Dd=!1,np&&(M=Oh(p,x,_,P)),nb(d),M}function nb(d){Q.H=G5;var p=wn!==null&&wn.next!==null;if(wc=0,za=wn=rn=null,Ph=!1,Hf=0,qf=null,p)throw Error(n(300));d===null||Ds||(d=d.dependencies,d!==null&&Qy(d)&&(Ds=!0))}function Oh(d,p,x,_){rn=d;var P=0;do{if(np&&(qf=null),Hf=0,np=!1,25<=P)throw Error(n(301));if(P+=1,za=wn=null,d.updateQueue!=null){var M=d.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}Q.H=vU,M=p(x,_)}while(np);return M}function YP(){var d=Q.H,p=d.useState()[0];return p=typeof p.then=="function"?Gf(p):p,d=d.useState()[0],(wn!==null?wn.memoizedState:null)!==d&&(rn.flags|=1024),p}function B5(){var d=cv!==0;return cv=0,d}function U5(d,p,x){p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~x}function ab(d){if(Ph){for(d=d.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Ph=!1}wc=0,za=wn=rn=null,np=!1,Hf=cv=0,qf=null}function Os(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return za===null?rn.memoizedState=za=d:za=za.next=d,za}function Ai(){if(wn===null){var d=rn.alternate;d=d!==null?d.memoizedState:null}else d=wn.next;var p=za===null?rn.memoizedState:za.next;if(p!==null)za=p,wn=d;else{if(d===null)throw rn.alternate===null?Error(n(467)):Error(n(310));wn=d,d={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},za===null?rn.memoizedState=za=d:za=za.next=d}return za}function uv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gf(d){var p=Hf;return Hf+=1,qf===null&&(qf=[]),d=Tt(qf,d,p),p=rn,(za===null?p.memoizedState:za.next)===null&&(p=p.alternate,Q.H=p===null||p.memoizedState===null?xU:rO),d}function tg(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return Gf(d);if(d.$$typeof===N)return no(d)}throw Error(n(438,String(d)))}function ap(d){var p=null,x=rn.updateQueue;if(x!==null&&(p=x.memoCache),p==null){var _=rn.alternate;_!==null&&(_=_.updateQueue,_!==null&&(_=_.memoCache,_!=null&&(p={data:_.data.map(function(P){return P.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),x===null&&(x=uv(),rn.updateQueue=x),x.memoCache=p,x=p.data[p.index],x===void 0)for(x=p.data[p.index]=Array(d),_=0;_<d;_++)x[_]=G;return p.index++,x}function Rd(d,p){return typeof p=="function"?p(d):p}function ib(d){var p=Ai();return rg(p,wn,d)}function rg(d,p,x){var _=d.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=x;var P=d.baseQueue,M=_.pending;if(M!==null){if(P!==null){var ae=P.next;P.next=M.next,M.next=ae}p.baseQueue=P=M,_.pending=null}if(M=d.baseState,P===null)d.memoizedState=M;else{p=P.next;var be=ae=null,Be=null,pt=p,Pt=!1;do{var zt=pt.lane&-536870913;if(zt!==pt.lane?(Ln&zt)===zt:(wc&zt)===zt){var gt=pt.revertLane;if(gt===0)Be!==null&&(Be=Be.next={lane:0,revertLane:0,gesture:null,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null}),zt===E&&(Pt=!0);else if((wc&gt)===gt){pt=pt.next,gt===E&&(Pt=!0);continue}else zt={lane:0,revertLane:pt.revertLane,gesture:null,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null},Be===null?(be=Be=zt,ae=M):Be=Be.next=zt,rn.lanes|=gt,og|=gt;zt=pt.action,Dd&&x(M,zt),M=pt.hasEagerState?pt.eagerState:x(M,zt)}else gt={lane:zt,revertLane:pt.revertLane,gesture:pt.gesture,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null},Be===null?(be=Be=gt,ae=M):Be=Be.next=gt,rn.lanes|=zt,og|=zt;pt=pt.next}while(pt!==null&&pt!==p);if(Be===null?ae=M:Be.next=be,!xs(M,d.memoizedState)&&(Ds=!0,Pt&&(x=D,x!==null)))throw x;d.memoizedState=M,d.baseState=ae,d.baseQueue=Be,_.lastRenderedState=M}return P===null&&(_.lanes=0),[d.memoizedState,_.dispatch]}function sb(d){var p=Ai(),x=p.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=d;var _=x.dispatch,P=x.pending,M=p.memoizedState;if(P!==null){x.pending=null;var ae=P=P.next;do M=d(M,ae.action),ae=ae.next;while(ae!==P);xs(M,p.memoizedState)||(Ds=!0),p.memoizedState=M,p.baseQueue===null&&(p.baseState=M),x.lastRenderedState=M}return[M,_]}function ob(d,p,x){var _=rn,P=Ai(),M=Cn;if(M){if(x===void 0)throw Error(n(407));x=x()}else x=p();var ae=!xs((wn||P).memoizedState,x);if(ae&&(P.memoizedState=x,Ds=!0),P=P.queue,XP($5.bind(null,_,P,d),[d]),P.getSnapshot!==p||ae||za!==null&&za.memoizedState.tag&1){if(_.flags|=2048,sp(9,{destroy:void 0},z5.bind(null,_,P,x,p),null),$a===null)throw Error(n(349));M||(wc&127)!==0||Dh(_,p,x)}return x}function Dh(d,p,x){d.flags|=16384,d={getSnapshot:p,value:x},p=rn.updateQueue,p===null?(p=uv(),rn.updateQueue=p,p.stores=[d]):(x=p.stores,x===null?p.stores=[d]:x.push(d))}function z5(d,p,x,_){p.value=x,p.getSnapshot=_,f4(p)&&V5(d)}function $5(d,p,x){return x(function(){f4(p)&&V5(d)})}function f4(d){var p=d.getSnapshot;d=d.value;try{var x=p();return!xs(d,x)}catch{return!0}}function V5(d){var p=Na(d,2);p!==null&&nu(p,d,2)}function Wf(d){var p=Os();if(typeof d=="function"){var x=d;if(d=x(),Dd){Tr(!0);try{x()}finally{Tr(!1)}}}return p.memoizedState=p.baseState=d,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rd,lastRenderedState:d},p}function p4(d,p,x,_){return d.baseState=x,rg(d,wn,typeof _=="function"?_:Rd)}function m4(d,p,x,_,P){if(y4(d))throw Error(n(485));if(d=p.action,d!==null){var M={payload:P,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ae){M.listeners.push(ae)}};Q.T!==null?x(!0):M.isTransition=!1,_(M),x=p.pending,x===null?(M.next=p.pending=M,g4(p,M)):(M.next=x.next,p.pending=x.next=M)}}function g4(d,p){var x=p.action,_=p.payload,P=d.state;if(p.isTransition){var M=Q.T,ae={};Q.T=ae;try{var be=x(P,_),Be=Q.S;Be!==null&&Be(ae,be),H5(d,p,be)}catch(pt){ip(d,p,pt)}finally{M!==null&&ae.types!==null&&(M.types=ae.types),Q.T=M}}else try{M=x(P,_),H5(d,p,M)}catch(pt){ip(d,p,pt)}}function H5(d,p,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(_){x4(d,p,_)},function(_){return ip(d,p,_)}):x4(d,p,x)}function x4(d,p,x){p.status="fulfilled",p.value=x,lb(p),d.state=x,p=d.pending,p!==null&&(x=p.next,x===p?d.pending=null:(x=x.next,p.next=x,g4(d,x)))}function ip(d,p,x){var _=d.pending;if(d.pending=null,_!==null){_=_.next;do p.status="rejected",p.reason=x,lb(p),p=p.next;while(p!==_)}d.action=null}function lb(d){d=d.listeners;for(var p=0;p<d.length;p++)(0,d[p])()}function dv(d,p){return p}function Id(d,p){if(Cn){var x=$a.formState;if(x!==null){e:{var _=rn;if(Cn){if(Ua){t:{for(var P=Ua,M=vi;P.nodeType!==8;){if(!M){P=null;break t}if(P=Ld(P.nextSibling),P===null){P=null;break t}}M=P.data,P=M==="F!"||M==="F"?P:null}if(P){Ua=Ld(P.nextSibling),_=P.data==="F!";break e}}Bf(_)}_=!1}_&&(p=x[0])}}return x=Os(),x.memoizedState=x.baseState=p,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dv,lastRenderedState:p},x.queue=_,x=pU.bind(null,rn,_),_.dispatch=x,_=Wf(!1),M=tO.bind(null,rn,!1,_.queue),_=Os(),P={state:p,dispatch:null,action:d,pending:null},_.queue=P,x=m4.bind(null,rn,P,M,x),P.dispatch=x,_.memoizedState=d,[p,x,!1]}function Rh(d){var p=Ai();return Ih(p,wn,d)}function Ih(d,p,x){if(p=rg(d,p,dv)[0],d=ib(Rd)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var _=Gf(p)}catch(ae){throw ae===He?ct:ae}else _=p;p=Ai();var P=p.queue,M=P.dispatch;return x!==p.memoizedState&&(rn.flags|=2048,sp(9,{destroy:void 0},cb.bind(null,P,x),null)),[_,M,d]}function cb(d,p){d.action=p}function ub(d){var p=Ai(),x=wn;if(x!==null)return Ih(p,x,d);Ai(),p=p.memoizedState,x=Ai();var _=x.queue.dispatch;return x.memoizedState=d,[p,_,!1]}function sp(d,p,x,_){return d={tag:d,create:x,deps:_,inst:p,next:null},p=rn.updateQueue,p===null&&(p=uv(),rn.updateQueue=p),x=p.lastEffect,x===null?p.lastEffect=d.next=d:(_=x.next,x.next=d,d.next=_,p.lastEffect=d),d}function v4(){return Ai().memoizedState}function ng(d,p,x,_){var P=Os();rn.flags|=d,P.memoizedState=sp(1|p,{destroy:void 0},x,_===void 0?null:_)}function ag(d,p,x,_){var P=Ai();_=_===void 0?null:_;var M=P.memoizedState.inst;wn!==null&&_!==null&&M5(_,wn.memoizedState.deps)?P.memoizedState=sp(p,M,x,_):(rn.flags|=d,P.memoizedState=sp(1|p,M,x,_))}function eU(d,p){ng(8390656,8,d,p)}function XP(d,p){ag(2048,8,d,p)}function due(d){rn.flags|=4;var p=rn.updateQueue;if(p===null)p=uv(),rn.updateQueue=p,p.events=[d];else{var x=p.events;x===null?p.events=[d]:x.push(d)}}function tU(d){var p=Ai().memoizedState;return due({ref:p,nextImpl:d}),function(){if((ra&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}function rU(d,p){return ag(4,2,d,p)}function nU(d,p){return ag(4,4,d,p)}function aU(d,p){if(typeof p=="function"){d=d();var x=p(d);return function(){typeof x=="function"?x():p(null)}}if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function iU(d,p,x){x=x!=null?x.concat([d]):null,ag(4,4,aU.bind(null,p,d),x)}function JP(){}function sU(d,p){var x=Ai();p=p===void 0?null:p;var _=x.memoizedState;return p!==null&&M5(p,_[1])?_[0]:(x.memoizedState=[d,p],d)}function oU(d,p){var x=Ai();p=p===void 0?null:p;var _=x.memoizedState;if(p!==null&&M5(p,_[1]))return _[0];if(_=d(),Dd){Tr(!0);try{d()}finally{Tr(!1)}}return x.memoizedState=[_,p],_}function ZP(d,p,x){return x===void 0||(wc&1073741824)!==0&&(Ln&261930)===0?d.memoizedState=p:(d.memoizedState=x,d=lz(),rn.lanes|=d,og|=d,x)}function lU(d,p,x,_){return xs(x,p)?x:bi.current!==null?(d=ZP(d,x,_),xs(d,p)||(Ds=!0),d):(wc&42)===0||(wc&1073741824)!==0&&(Ln&261930)===0?(Ds=!0,d.memoizedState=x):(d=lz(),rn.lanes|=d,og|=d,p)}function cU(d,p,x,_,P){var M=X.p;X.p=M!==0&&8>M?M:8;var ae=Q.T,be={};Q.T=be,tO(d,!1,p,x);try{var Be=P(),pt=Q.S;if(pt!==null&&pt(be,Be),Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var Pt=fe(Be,_);q5(d,p,Pt,Lu(d))}else q5(d,p,_,Lu(d))}catch(zt){q5(d,p,{then:function(){},status:"rejected",reason:zt},Lu())}finally{X.p=M,ae!==null&&be.types!==null&&(ae.types=be.types),Q.T=ae}}function hue(){}function QP(d,p,x,_){if(d.tag!==5)throw Error(n(476));var P=uU(d).queue;cU(d,P,p,oe,x===null?hue:function(){return dU(d),x(_)})}function uU(d){var p=d.memoizedState;if(p!==null)return p;p={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rd,lastRenderedState:oe},next:null};var x={};return p.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rd,lastRenderedState:x},next:null},d.memoizedState=p,d=d.alternate,d!==null&&(d.memoizedState=p),p}function dU(d){var p=uU(d);p.next===null&&(p=d.alternate.memoizedState),q5(d,p.next.queue,{},Lu())}function eO(){return no(lA)}function hU(){return Ai().memoizedState}function fU(){return Ai().memoizedState}function fue(d){for(var p=d.return;p!==null;){switch(p.tag){case 24:case 3:var x=Lu();d=Xr(x);var _=fa(p,d,x);_!==null&&(nu(_,p,x),Cs(_,p,x)),p={cache:eg()},d.payload=p;return}p=p.return}}function pue(d,p,x){var _=Lu();x={lane:_,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},y4(d)?mU(p,x):(x=oi(d,p,x,_),x!==null&&(nu(x,d,_),gU(x,p,_)))}function pU(d,p,x){var _=Lu();q5(d,p,x,_)}function q5(d,p,x,_){var P={lane:_,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null};if(y4(d))mU(p,P);else{var M=d.alternate;if(d.lanes===0&&(M===null||M.lanes===0)&&(M=p.lastRenderedReducer,M!==null))try{var ae=p.lastRenderedState,be=M(ae,x);if(P.hasEagerState=!0,P.eagerState=be,xs(be,ae))return $r(d,p,P,0),$a===null&&xi(),!1}catch{}finally{}if(x=oi(d,p,P,_),x!==null)return nu(x,d,_),gU(x,p,_),!0}return!1}function tO(d,p,x,_){if(_={lane:2,revertLane:DO(),gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null},y4(d)){if(p)throw Error(n(479))}else p=oi(d,x,_,2),p!==null&&nu(p,d,2)}function y4(d){var p=d.alternate;return d===rn||p!==null&&p===rn}function mU(d,p){np=Ph=!0;var x=d.pending;x===null?p.next=p:(p.next=x.next,x.next=p),d.pending=p}function gU(d,p,x){if((x&4194048)!==0){var _=p.lanes;_&=d.pendingLanes,x|=_,p.lanes=x,pn(d,x)}}var G5={readContext:no,use:tg,useCallback:Ea,useContext:Ea,useEffect:Ea,useImperativeHandle:Ea,useLayoutEffect:Ea,useInsertionEffect:Ea,useMemo:Ea,useReducer:Ea,useRef:Ea,useState:Ea,useDebugValue:Ea,useDeferredValue:Ea,useTransition:Ea,useSyncExternalStore:Ea,useId:Ea,useHostTransitionStatus:Ea,useFormState:Ea,useActionState:Ea,useOptimistic:Ea,useMemoCache:Ea,useCacheRefresh:Ea};G5.useEffectEvent=Ea;var xU={readContext:no,use:tg,useCallback:function(d,p){return Os().memoizedState=[d,p===void 0?null:p],d},useContext:no,useEffect:eU,useImperativeHandle:function(d,p,x){x=x!=null?x.concat([d]):null,ng(4194308,4,aU.bind(null,p,d),x)},useLayoutEffect:function(d,p){return ng(4194308,4,d,p)},useInsertionEffect:function(d,p){ng(4,2,d,p)},useMemo:function(d,p){var x=Os();p=p===void 0?null:p;var _=d();if(Dd){Tr(!0);try{d()}finally{Tr(!1)}}return x.memoizedState=[_,p],_},useReducer:function(d,p,x){var _=Os();if(x!==void 0){var P=x(p);if(Dd){Tr(!0);try{x(p)}finally{Tr(!1)}}}else P=p;return _.memoizedState=_.baseState=P,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:P},_.queue=d,d=d.dispatch=pue.bind(null,rn,d),[_.memoizedState,d]},useRef:function(d){var p=Os();return d={current:d},p.memoizedState=d},useState:function(d){d=Wf(d);var p=d.queue,x=pU.bind(null,rn,p);return p.dispatch=x,[d.memoizedState,x]},useDebugValue:JP,useDeferredValue:function(d,p){var x=Os();return ZP(x,d,p)},useTransition:function(){var d=Wf(!1);return d=cU.bind(null,rn,d.queue,!0,!1),Os().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,p,x){var _=rn,P=Os();if(Cn){if(x===void 0)throw Error(n(407));x=x()}else{if(x=p(),$a===null)throw Error(n(349));(Ln&127)!==0||Dh(_,p,x)}P.memoizedState=x;var M={value:x,getSnapshot:p};return P.queue=M,eU($5.bind(null,_,M,d),[d]),_.flags|=2048,sp(9,{destroy:void 0},z5.bind(null,_,M,x,p),null),x},useId:function(){var d=Os(),p=$a.identifierPrefix;if(Cn){var x=Xc,_=Yc;x=(_&~(1<<32-Mt(_)-1)).toString(32)+x,p="_"+p+"R_"+x,x=cv++,0<x&&(p+="H"+x.toString(32)),p+="_"}else x=rb++,p="_"+p+"r_"+x.toString(32)+"_";return d.memoizedState=p},useHostTransitionStatus:eO,useFormState:Id,useActionState:Id,useOptimistic:function(d){var p=Os();p.memoizedState=p.baseState=d;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=x,p=tO.bind(null,rn,!0,x),x.dispatch=p,[d,p]},useMemoCache:ap,useCacheRefresh:function(){return Os().memoizedState=fue.bind(null,rn)},useEffectEvent:function(d){var p=Os(),x={impl:d};return p.memoizedState=x,function(){if((ra&2)!==0)throw Error(n(440));return x.impl.apply(void 0,arguments)}}},rO={readContext:no,use:tg,useCallback:sU,useContext:no,useEffect:XP,useImperativeHandle:iU,useInsertionEffect:rU,useLayoutEffect:nU,useMemo:oU,useReducer:ib,useRef:v4,useState:function(){return ib(Rd)},useDebugValue:JP,useDeferredValue:function(d,p){var x=Ai();return lU(x,wn.memoizedState,d,p)},useTransition:function(){var d=ib(Rd)[0],p=Ai().memoizedState;return[typeof d=="boolean"?d:Gf(d),p]},useSyncExternalStore:ob,useId:hU,useHostTransitionStatus:eO,useFormState:Rh,useActionState:Rh,useOptimistic:function(d,p){var x=Ai();return p4(x,wn,d,p)},useMemoCache:ap,useCacheRefresh:fU};rO.useEffectEvent=tU;var vU={readContext:no,use:tg,useCallback:sU,useContext:no,useEffect:XP,useImperativeHandle:iU,useInsertionEffect:rU,useLayoutEffect:nU,useMemo:oU,useReducer:sb,useRef:v4,useState:function(){return sb(Rd)},useDebugValue:JP,useDeferredValue:function(d,p){var x=Ai();return wn===null?ZP(x,d,p):lU(x,wn.memoizedState,d,p)},useTransition:function(){var d=sb(Rd)[0],p=Ai().memoizedState;return[typeof d=="boolean"?d:Gf(d),p]},useSyncExternalStore:ob,useId:hU,useHostTransitionStatus:eO,useFormState:ub,useActionState:ub,useOptimistic:function(d,p){var x=Ai();return wn!==null?p4(x,wn,d,p):(x.baseState=d,[d,x.queue.dispatch])},useMemoCache:ap,useCacheRefresh:fU};vU.useEffectEvent=tU;function nO(d,p,x,_){p=d.memoizedState,x=x(_,p),x=x==null?p:f({},p,x),d.memoizedState=x,d.lanes===0&&(d.updateQueue.baseState=x)}var aO={enqueueSetState:function(d,p,x){d=d._reactInternals;var _=Lu(),P=Xr(_);P.payload=p,x!=null&&(P.callback=x),p=fa(d,P,_),p!==null&&(nu(p,d,_),Cs(p,d,_))},enqueueReplaceState:function(d,p,x){d=d._reactInternals;var _=Lu(),P=Xr(_);P.tag=1,P.payload=p,x!=null&&(P.callback=x),p=fa(d,P,_),p!==null&&(nu(p,d,_),Cs(p,d,_))},enqueueForceUpdate:function(d,p){d=d._reactInternals;var x=Lu(),_=Xr(x);_.tag=2,p!=null&&(_.callback=p),p=fa(d,_,x),p!==null&&(nu(p,d,x),Cs(p,d,x))}};function yU(d,p,x,_,P,M,ae){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(_,M,ae):p.prototype&&p.prototype.isPureReactComponent?!j(x,_)||!j(P,M):!0}function bU(d,p,x,_){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(x,_),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(x,_),p.state!==d&&aO.enqueueReplaceState(p,p.state,null)}function hv(d,p){var x=p;if("ref"in p){x={};for(var _ in p)_!=="ref"&&(x[_]=p[_])}if(d=d.defaultProps){x===p&&(x=f({},x));for(var P in d)x[P]===void 0&&(x[P]=d[P])}return x}function wU(d){er(d)}function AU(d){console.error(d)}function _U(d){er(d)}function b4(d,p){try{var x=d.onUncaughtError;x(p.value,{componentStack:p.stack})}catch(_){setTimeout(function(){throw _})}}function SU(d,p,x){try{var _=d.onCaughtError;_(x.value,{componentStack:x.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(P){setTimeout(function(){throw P})}}function iO(d,p,x){return x=Xr(x),x.tag=3,x.payload={element:null},x.callback=function(){b4(d,p)},x}function NU(d){return d=Xr(d),d.tag=3,d}function EU(d,p,x,_){var P=x.type.getDerivedStateFromError;if(typeof P=="function"){var M=_.value;d.payload=function(){return P(M)},d.callback=function(){SU(p,x,_)}}var ae=x.stateNode;ae!==null&&typeof ae.componentDidCatch=="function"&&(d.callback=function(){SU(p,x,_),typeof P!="function"&&(lg===null?lg=new Set([this]):lg.add(this));var be=_.stack;this.componentDidCatch(_.value,{componentStack:be!==null?be:""})})}function mue(d,p,x,_,P){if(x.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){if(p=x.alternate,p!==null&&$f(p,x,P,!0),x=Fi.current,x!==null){switch(x.tag){case 31:case 13:return Ps===null?O4():x.alternate===null&&Qi===0&&(Qi=3),x.flags&=-257,x.flags|=65536,x.lanes=P,_===tt?x.flags|=16384:(p=x.updateQueue,p===null?x.updateQueue=new Set([_]):p.add(_),kO(d,_,P)),!1;case 22:return x.flags|=65536,_===tt?x.flags|=16384:(p=x.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([_])},x.updateQueue=p):(x=p.retryQueue,x===null?p.retryQueue=new Set([_]):x.add(_)),kO(d,_,P)),!1}throw Error(n(435,x.tag))}return kO(d,_,P),O4(),!1}if(Cn)return p=Fi.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=P,_!==Du&&(d=Error(n(422),{cause:_}),Zm(Gc(d,x)))):(_!==Du&&(p=Error(n(423),{cause:_}),Zm(Gc(p,x))),d=d.current.alternate,d.flags|=65536,P&=-P,d.lanes|=P,_=Gc(_,x),P=iO(d.stateNode,_,P),yi(d,P),Qi!==4&&(Qi=2)),!1;var M=Error(n(520),{cause:_});if(M=Gc(M,x),eA===null?eA=[M]:eA.push(M),Qi!==4&&(Qi=2),p===null)return!0;_=Gc(_,x),x=p;do{switch(x.tag){case 3:return x.flags|=65536,d=P&-P,x.lanes|=d,d=iO(x.stateNode,_,d),yi(x,d),!1;case 1:if(p=x.type,M=x.stateNode,(x.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(lg===null||!lg.has(M))))return x.flags|=65536,P&=-P,x.lanes|=P,P=NU(P),EU(P,d,x,_),yi(x,P),!1}x=x.return}while(x!==null);return!1}var sO=Error(n(461)),Ds=!1;function sl(d,p,x,_){p.child=d===null?In(p,null,x,_):kn(p,d.child,x,_)}function TU(d,p,x,_,P){x=x.render;var M=p.ref;if("ref"in _){var ae={};for(var be in _)be!=="ref"&&(ae[be]=_[be])}else ae=_;return Vf(p),_=F5(d,p,x,ae,M,P),be=B5(),d!==null&&!Ds?(U5(d,p,P),op(d,p,P)):(Cn&&be&&R5(p),p.flags|=1,sl(d,p,_,P),p.child)}function jU(d,p,x,_,P){if(d===null){var M=x.type;return typeof M=="function"&&!Wy(M)&&M.defaultProps===void 0&&x.compare===null?(p.tag=15,p.type=M,CU(d,p,M,_,P)):(d=Ym(x.type,null,_,p,p.mode,P),d.ref=p.ref,d.return=p,p.child=d)}if(M=d.child,!pO(d,P)){var ae=M.memoizedProps;if(x=x.compare,x=x!==null?x:j,x(ae,_)&&d.ref===p.ref)return op(d,p,P)}return p.flags|=1,d=qc(M,_),d.ref=p.ref,d.return=p,p.child=d}function CU(d,p,x,_,P){if(d!==null){var M=d.memoizedProps;if(j(M,_)&&d.ref===p.ref)if(Ds=!1,p.pendingProps=_=M,pO(d,P))(d.flags&131072)!==0&&(Ds=!0);else return p.lanes=d.lanes,op(d,p,P)}return oO(d,p,x,_,P)}function kU(d,p,x,_){var P=_.children,M=d!==null?d.memoizedState:null;if(d===null&&p.stateNode===null&&(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),_.mode==="hidden"){if((p.flags&128)!==0){if(M=M!==null?M.baseLanes|x:x,d!==null){for(_=p.child=d.child,P=0;_!==null;)P=P|_.lanes|_.childLanes,_=_.sibling;_=P&~M}else _=0,p.child=null;return PU(d,p,M,x,_)}if((x&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},d!==null&&we(p,M!==null?M.cachePool:null),M!==null?yc(p,M):Zc(),li(p);else return _=p.lanes=536870912,PU(d,p,M!==null?M.baseLanes|x:x,x,_)}else M!==null?(we(p,M.cachePool),yc(p,M),Od(),p.memoizedState=null):(d!==null&&we(p,null),Zc(),Od());return sl(d,p,P,x),p.child}function W5(d,p){return d!==null&&d.tag===22||p.stateNode!==null||(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.sibling}function PU(d,p,x,_,P){var M=ye();return M=M===null?null:{parent:Mi._currentValue,pool:M},p.memoizedState={baseLanes:x,cachePool:M},d!==null&&we(p,null),Zc(),li(p),d!==null&&$f(d,p,_,!0),p.childLanes=P,null}function w4(d,p){return p=_4({mode:p.mode,children:p.children},d.mode),p.ref=d.ref,d.child=p,p.return=d,p}function OU(d,p,x){return kn(p,d.child,null,x),d=w4(p,p.pendingProps),d.flags|=2,Fl(p),p.memoizedState=null,d}function gue(d,p,x){var _=p.pendingProps,P=(p.flags&128)!==0;if(p.flags&=-129,d===null){if(Cn){if(_.mode==="hidden")return d=w4(p,_),p.lanes=536870912,W5(null,d);if(Pd(p),(d=Ua)?(d=Hz(d,vi),d=d!==null&&d.data==="&"?d:null,d!==null&&(p.memoizedState={dehydrated:d,treeContext:Ff!==null?{id:Yc,overflow:Xc}:null,retryLane:536870912,hydrationErrors:null},x=Ky(d),x.return=p,p.child=x,to=p,Ua=null)):d=null,d===null)throw Bf(p);return p.lanes=536870912,null}return w4(p,_)}var M=d.memoizedState;if(M!==null){var ae=M.dehydrated;if(Pd(p),P)if(p.flags&256)p.flags&=-257,p=OU(d,p,x);else if(p.memoizedState!==null)p.child=d.child,p.flags|=128,p=null;else throw Error(n(558));else if(Ds||$f(d,p,x,!1),P=(x&d.childLanes)!==0,Ds||P){if(_=$a,_!==null&&(ae=Nn(_,x),ae!==0&&ae!==M.retryLane))throw M.retryLane=ae,Na(d,ae),nu(_,d,ae),sO;O4(),p=OU(d,p,x)}else d=M.treeContext,Ua=Ld(ae.nextSibling),to=p,Cn=!0,il=null,vi=!1,d!==null&&d4(p,d),p=w4(p,_),p.flags|=4096;return p}return d=qc(d.child,{mode:_.mode,children:_.children}),d.ref=p.ref,p.child=d,d.return=p,d}function A4(d,p){var x=p.ref;if(x===null)d!==null&&d.ref!==null&&(p.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(n(284));(d===null||d.ref!==x)&&(p.flags|=4194816)}}function oO(d,p,x,_,P){return Vf(p),x=F5(d,p,x,_,void 0,P),_=B5(),d!==null&&!Ds?(U5(d,p,P),op(d,p,P)):(Cn&&_&&R5(p),p.flags|=1,sl(d,p,x,P),p.child)}function DU(d,p,x,_,P,M){return Vf(p),p.updateQueue=null,x=Oh(p,_,x,P),nb(d),_=B5(),d!==null&&!Ds?(U5(d,p,M),op(d,p,M)):(Cn&&_&&R5(p),p.flags|=1,sl(d,p,x,M),p.child)}function RU(d,p,x,_,P){if(Vf(p),p.stateNode===null){var M=Ba,ae=x.contextType;typeof ae=="object"&&ae!==null&&(M=no(ae)),M=new x(_,M),p.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=aO,p.stateNode=M,M._reactInternals=p,M=p.stateNode,M.props=_,M.state=p.memoizedState,M.refs={},ta(p),ae=x.contextType,M.context=typeof ae=="object"&&ae!==null?no(ae):Ba,M.state=p.memoizedState,ae=x.getDerivedStateFromProps,typeof ae=="function"&&(nO(p,x,ae,_),M.state=p.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(ae=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),ae!==M.state&&aO.enqueueReplaceState(M,M.state,null),ao(p,_,M,P),Bn(),M.state=p.memoizedState),typeof M.componentDidMount=="function"&&(p.flags|=4194308),_=!0}else if(d===null){M=p.stateNode;var be=p.memoizedProps,Be=hv(x,be);M.props=Be;var pt=M.context,Pt=x.contextType;ae=Ba,typeof Pt=="object"&&Pt!==null&&(ae=no(Pt));var zt=x.getDerivedStateFromProps;Pt=typeof zt=="function"||typeof M.getSnapshotBeforeUpdate=="function",be=p.pendingProps!==be,Pt||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(be||pt!==ae)&&bU(p,M,_,ae),nn=!1;var gt=p.memoizedState;M.state=gt,ao(p,_,M,P),Bn(),pt=p.memoizedState,be||gt!==pt||nn?(typeof zt=="function"&&(nO(p,x,zt,_),pt=p.memoizedState),(Be=nn||yU(p,x,Be,_,gt,pt,ae))?(Pt||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(p.flags|=4194308)):(typeof M.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=_,p.memoizedState=pt),M.props=_,M.state=pt,M.context=ae,_=Be):(typeof M.componentDidMount=="function"&&(p.flags|=4194308),_=!1)}else{M=p.stateNode,Kn(d,p),ae=p.memoizedProps,Pt=hv(x,ae),M.props=Pt,zt=p.pendingProps,gt=M.context,pt=x.contextType,Be=Ba,typeof pt=="object"&&pt!==null&&(Be=no(pt)),be=x.getDerivedStateFromProps,(pt=typeof be=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(ae!==zt||gt!==Be)&&bU(p,M,_,Be),nn=!1,gt=p.memoizedState,M.state=gt,ao(p,_,M,P),Bn();var At=p.memoizedState;ae!==zt||gt!==At||nn||d!==null&&d.dependencies!==null&&Qy(d.dependencies)?(typeof be=="function"&&(nO(p,x,be,_),At=p.memoizedState),(Pt=nn||yU(p,x,Pt,_,gt,At,Be)||d!==null&&d.dependencies!==null&&Qy(d.dependencies))?(pt||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(_,At,Be),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(_,At,Be)),typeof M.componentDidUpdate=="function"&&(p.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof M.componentDidUpdate!="function"||ae===d.memoizedProps&&gt===d.memoizedState||(p.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||ae===d.memoizedProps&&gt===d.memoizedState||(p.flags|=1024),p.memoizedProps=_,p.memoizedState=At),M.props=_,M.state=At,M.context=Be,_=Pt):(typeof M.componentDidUpdate!="function"||ae===d.memoizedProps&&gt===d.memoizedState||(p.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||ae===d.memoizedProps&&gt===d.memoizedState||(p.flags|=1024),_=!1)}return M=_,A4(d,p),_=(p.flags&128)!==0,M||_?(M=p.stateNode,x=_&&typeof x.getDerivedStateFromError!="function"?null:M.render(),p.flags|=1,d!==null&&_?(p.child=kn(p,d.child,null,P),p.child=kn(p,null,x,P)):sl(d,p,x,P),p.memoizedState=M.state,d=p.child):d=op(d,p,P),d}function IU(d,p,x,_){return ep(),p.flags|=256,sl(d,p,x,_),p.child}var lO={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cO(d){return{baseLanes:d,cachePool:Ce()}}function uO(d,p,x){return d=d!==null?d.childLanes&~x:0,p&&(d|=Iu),d}function LU(d,p,x){var _=p.pendingProps,P=!1,M=(p.flags&128)!==0,ae;if((ae=M)||(ae=d!==null&&d.memoizedState===null?!1:(wi.current&2)!==0),ae&&(P=!0,p.flags&=-129),ae=(p.flags&32)!==0,p.flags&=-33,d===null){if(Cn){if(P?bc(p):Od(),(d=Ua)?(d=Hz(d,vi),d=d!==null&&d.data!=="&"?d:null,d!==null&&(p.memoizedState={dehydrated:d,treeContext:Ff!==null?{id:Yc,overflow:Xc}:null,retryLane:536870912,hydrationErrors:null},x=Ky(d),x.return=p,p.child=x,to=p,Ua=null)):d=null,d===null)throw Bf(p);return GO(d)?p.lanes=32:p.lanes=536870912,null}var be=_.children;return _=_.fallback,P?(Od(),P=p.mode,be=_4({mode:"hidden",children:be},P),_=Mf(_,P,x,null),be.return=p,_.return=p,be.sibling=_,p.child=be,_=p.child,_.memoizedState=cO(x),_.childLanes=uO(d,ae,x),p.memoizedState=lO,W5(null,_)):(bc(p),dO(p,be))}var Be=d.memoizedState;if(Be!==null&&(be=Be.dehydrated,be!==null)){if(M)p.flags&256?(bc(p),p.flags&=-257,p=hO(d,p,x)):p.memoizedState!==null?(Od(),p.child=d.child,p.flags|=128,p=null):(Od(),be=_.fallback,P=p.mode,_=_4({mode:"visible",children:_.children},P),be=Mf(be,P,x,null),be.flags|=2,_.return=p,be.return=p,_.sibling=be,p.child=_,kn(p,d.child,null,x),_=p.child,_.memoizedState=cO(x),_.childLanes=uO(d,ae,x),p.memoizedState=lO,p=W5(null,_));else if(bc(p),GO(be)){if(ae=be.nextSibling&&be.nextSibling.dataset,ae)var pt=ae.dgst;ae=pt,_=Error(n(419)),_.stack="",_.digest=ae,Zm({value:_,source:null,stack:null}),p=hO(d,p,x)}else if(Ds||$f(d,p,x,!1),ae=(x&d.childLanes)!==0,Ds||ae){if(ae=$a,ae!==null&&(_=Nn(ae,x),_!==0&&_!==Be.retryLane))throw Be.retryLane=_,Na(d,_),nu(ae,d,_),sO;qO(be)||O4(),p=hO(d,p,x)}else qO(be)?(p.flags|=192,p.child=d.child,p=null):(d=Be.treeContext,Ua=Ld(be.nextSibling),to=p,Cn=!0,il=null,vi=!1,d!==null&&d4(p,d),p=dO(p,_.children),p.flags|=4096);return p}return P?(Od(),be=_.fallback,P=p.mode,Be=d.child,pt=Be.sibling,_=qc(Be,{mode:"hidden",children:_.children}),_.subtreeFlags=Be.subtreeFlags&65011712,pt!==null?be=qc(pt,be):(be=Mf(be,P,x,null),be.flags|=2),be.return=p,_.return=p,_.sibling=be,p.child=_,W5(null,_),_=p.child,be=d.child.memoizedState,be===null?be=cO(x):(P=be.cachePool,P!==null?(Be=Mi._currentValue,P=P.parent!==Be?{parent:Be,pool:Be}:P):P=Ce(),be={baseLanes:be.baseLanes|x,cachePool:P}),_.memoizedState=be,_.childLanes=uO(d,ae,x),p.memoizedState=lO,W5(d.child,_)):(bc(p),x=d.child,d=x.sibling,x=qc(x,{mode:"visible",children:_.children}),x.return=p,x.sibling=null,d!==null&&(ae=p.deletions,ae===null?(p.deletions=[d],p.flags|=16):ae.push(d)),p.child=x,p.memoizedState=null,x)}function dO(d,p){return p=_4({mode:"visible",children:p},d.mode),p.return=d,d.child=p}function _4(d,p){return d=ko(22,d,null,p),d.lanes=0,d}function hO(d,p,x){return kn(p,d.child,null,x),d=dO(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function MU(d,p,x){d.lanes|=p;var _=d.alternate;_!==null&&(_.lanes|=p),Qm(d.return,p,x)}function fO(d,p,x,_,P,M){var ae=d.memoizedState;ae===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:_,tail:x,tailMode:P,treeForkCount:M}:(ae.isBackwards=p,ae.rendering=null,ae.renderingStartTime=0,ae.last=_,ae.tail=x,ae.tailMode=P,ae.treeForkCount=M)}function FU(d,p,x){var _=p.pendingProps,P=_.revealOrder,M=_.tail;_=_.children;var ae=wi.current,be=(ae&2)!==0;if(be?(ae=ae&1|2,p.flags|=128):ae&=1,V(wi,ae),sl(d,p,_,x),_=Cn?sv:0,!be&&d!==null&&(d.flags&128)!==0)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&MU(d,x,p);else if(d.tag===19)MU(d,x,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(P){case"forwards":for(x=p.child,P=null;x!==null;)d=x.alternate,d!==null&&rp(d)===null&&(P=x),x=x.sibling;x=P,x===null?(P=p.child,p.child=null):(P=x.sibling,x.sibling=null),fO(p,!1,P,x,M,_);break;case"backwards":case"unstable_legacy-backwards":for(x=null,P=p.child,p.child=null;P!==null;){if(d=P.alternate,d!==null&&rp(d)===null){p.child=P;break}d=P.sibling,P.sibling=x,x=P,P=d}fO(p,!0,x,null,M,_);break;case"together":fO(p,!1,null,null,void 0,_);break;default:p.memoizedState=null}return p.child}function op(d,p,x){if(d!==null&&(p.dependencies=d.dependencies),og|=p.lanes,(x&p.childLanes)===0)if(d!==null){if($f(d,p,x,!1),(x&p.childLanes)===0)return null}else return null;if(d!==null&&p.child!==d.child)throw Error(n(153));if(p.child!==null){for(d=p.child,x=qc(d,d.pendingProps),p.child=x,x.return=p;d.sibling!==null;)d=d.sibling,x=x.sibling=qc(d,d.pendingProps),x.return=p;x.sibling=null}return p.child}function pO(d,p){return(d.lanes&p)!==0?!0:(d=d.dependencies,!!(d!==null&&Qy(d)))}function xue(d,p,x){switch(p.tag){case 3:De(p,p.stateNode.containerInfo),zf(p,Mi,d.memoizedState.cache),ep();break;case 27:case 5:Le(p);break;case 4:De(p,p.stateNode.containerInfo);break;case 10:zf(p,p.type,p.memoizedProps.value);break;case 31:if(p.memoizedState!==null)return p.flags|=128,Pd(p),null;break;case 13:var _=p.memoizedState;if(_!==null)return _.dehydrated!==null?(bc(p),p.flags|=128,null):(x&p.child.childLanes)!==0?LU(d,p,x):(bc(p),d=op(d,p,x),d!==null?d.sibling:null);bc(p);break;case 19:var P=(d.flags&128)!==0;if(_=(x&p.childLanes)!==0,_||($f(d,p,x,!1),_=(x&p.childLanes)!==0),P){if(_)return FU(d,p,x);p.flags|=128}if(P=p.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),V(wi,wi.current),_)break;return null;case 22:return p.lanes=0,kU(d,p,x,p.pendingProps);case 24:zf(p,Mi,d.memoizedState.cache)}return op(d,p,x)}function BU(d,p,x){if(d!==null)if(d.memoizedProps!==p.pendingProps)Ds=!0;else{if(!pO(d,x)&&(p.flags&128)===0)return Ds=!1,xue(d,p,x);Ds=(d.flags&131072)!==0}else Ds=!1,Cn&&(p.flags&1048576)!==0&&u4(p,sv,p.index);switch(p.lanes=0,p.tag){case 16:e:{var _=p.pendingProps;if(d=qe(p.elementType),p.type=d,typeof d=="function")Wy(d)?(_=hv(d,_),p.tag=1,p=RU(null,p,d,_,x)):(p.tag=0,p=oO(null,p,d,_,x));else{if(d!=null){var P=d.$$typeof;if(P===T){p.tag=11,p=TU(null,p,d,_,x);break e}else if(P===O){p.tag=14,p=jU(null,p,d,_,x);break e}}throw p=Z(d)||d,Error(n(306,p,""))}}return p;case 0:return oO(d,p,p.type,p.pendingProps,x);case 1:return _=p.type,P=hv(_,p.pendingProps),RU(d,p,_,P,x);case 3:e:{if(De(p,p.stateNode.containerInfo),d===null)throw Error(n(387));_=p.pendingProps;var M=p.memoizedState;P=M.element,Kn(d,p),ao(p,_,null,x);var ae=p.memoizedState;if(_=ae.cache,zf(p,Mi,_),_!==M.cache&&tp(p,[Mi],x,!0),Bn(),_=ae.element,M.isDehydrated)if(M={element:_,isDehydrated:!1,cache:ae.cache},p.updateQueue.baseState=M,p.memoizedState=M,p.flags&256){p=IU(d,p,_,x);break e}else if(_!==P){P=Gc(Error(n(424)),p),Zm(P),p=IU(d,p,_,x);break e}else{switch(d=p.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(Ua=Ld(d.firstChild),to=p,Cn=!0,il=null,vi=!0,x=In(p,null,_,x),p.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(ep(),_===P){p=op(d,p,x);break e}sl(d,p,_,x)}p=p.child}return p;case 26:return A4(d,p),d===null?(x=Xz(p.type,null,p.pendingProps,null))?p.memoizedState=x:Cn||(x=p.type,d=p.pendingProps,_=B4(le.current).createElement(x),_[_e]=p,_[je]=d,ol(_,x,d),Ar(_),p.stateNode=_):p.memoizedState=Xz(p.type,d.memoizedProps,p.pendingProps,d.memoizedState),null;case 27:return Le(p),d===null&&Cn&&(_=p.stateNode=Wz(p.type,p.pendingProps,le.current),to=p,vi=!0,P=Ua,hg(p.type)?(WO=P,Ua=Ld(_.firstChild)):Ua=P),sl(d,p,p.pendingProps.children,x),A4(d,p),d===null&&(p.flags|=4194304),p.child;case 5:return d===null&&Cn&&((P=_=Ua)&&(_=Wue(_,p.type,p.pendingProps,vi),_!==null?(p.stateNode=_,to=p,Ua=Ld(_.firstChild),vi=!1,P=!0):P=!1),P||Bf(p)),Le(p),P=p.type,M=p.pendingProps,ae=d!==null?d.memoizedProps:null,_=M.children,$O(P,M)?_=null:ae!==null&&$O(P,ae)&&(p.flags|=32),p.memoizedState!==null&&(P=F5(d,p,YP,null,null,x),lA._currentValue=P),A4(d,p),sl(d,p,_,x),p.child;case 6:return d===null&&Cn&&((d=x=Ua)&&(x=Kue(x,p.pendingProps,vi),x!==null?(p.stateNode=x,to=p,Ua=null,d=!0):d=!1),d||Bf(p)),null;case 13:return LU(d,p,x);case 4:return De(p,p.stateNode.containerInfo),_=p.pendingProps,d===null?p.child=kn(p,null,_,x):sl(d,p,_,x),p.child;case 11:return TU(d,p,p.type,p.pendingProps,x);case 7:return sl(d,p,p.pendingProps,x),p.child;case 8:return sl(d,p,p.pendingProps.children,x),p.child;case 12:return sl(d,p,p.pendingProps.children,x),p.child;case 10:return _=p.pendingProps,zf(p,p.type,_.value),sl(d,p,_.children,x),p.child;case 9:return P=p.type._context,_=p.pendingProps.children,Vf(p),P=no(P),_=_(P),p.flags|=1,sl(d,p,_,x),p.child;case 14:return jU(d,p,p.type,p.pendingProps,x);case 15:return CU(d,p,p.type,p.pendingProps,x);case 19:return FU(d,p,x);case 31:return gue(d,p,x);case 22:return kU(d,p,x,p.pendingProps);case 24:return Vf(p),_=no(Mi),d===null?(P=ye(),P===null&&(P=$a,M=eg(),P.pooledCache=M,M.refCount++,M!==null&&(P.pooledCacheLanes|=x),P=M),p.memoizedState={parent:_,cache:P},ta(p),zf(p,Mi,P)):((d.lanes&x)!==0&&(Kn(d,p),ao(p,null,null,x),Bn()),P=d.memoizedState,M=p.memoizedState,P.parent!==_?(P={parent:_,cache:_},p.memoizedState=P,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=P),zf(p,Mi,_)):(_=M.cache,zf(p,Mi,_),_!==P.cache&&tp(p,[Mi],x,!0))),sl(d,p,p.pendingProps.children,x),p.child;case 29:throw p.pendingProps}throw Error(n(156,p.tag))}function lp(d){d.flags|=4}function mO(d,p,x,_,P){if((p=(d.mode&32)!==0)&&(p=!1),p){if(d.flags|=16777216,(P&335544128)===P)if(d.stateNode.complete)d.flags|=8192;else if(hz())d.flags|=8192;else throw Ye=tt,ut}else d.flags&=-16777217}function UU(d,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!t$(p))if(hz())d.flags|=8192;else throw Ye=tt,ut}function S4(d,p){p!==null&&(d.flags|=4),d.flags&16384&&(p=d.tag!==22?mi():536870912,d.lanes|=p,pb|=p)}function K5(d,p){if(!Cn)switch(d.tailMode){case"hidden":p=d.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?d.tail=null:x.sibling=null;break;case"collapsed":x=d.tail;for(var _=null;x!==null;)x.alternate!==null&&(_=x),x=x.sibling;_===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:_.sibling=null}}function ci(d){var p=d.alternate!==null&&d.alternate.child===d.child,x=0,_=0;if(p)for(var P=d.child;P!==null;)x|=P.lanes|P.childLanes,_|=P.subtreeFlags&65011712,_|=P.flags&65011712,P.return=d,P=P.sibling;else for(P=d.child;P!==null;)x|=P.lanes|P.childLanes,_|=P.subtreeFlags,_|=P.flags,P.return=d,P=P.sibling;return d.subtreeFlags|=_,d.childLanes=x,p}function vue(d,p,x){var _=p.pendingProps;switch(Jy(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ci(p),null;case 1:return ci(p),null;case 3:return x=p.stateNode,_=null,d!==null&&(_=d.memoizedState.cache),p.memoizedState.cache!==_&&(p.flags|=2048),Jc(Mi),de(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(d===null||d.child===null)&&(ro(p)?lp(p):d===null||d.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,L5())),ci(p),null;case 26:var P=p.type,M=p.memoizedState;return d===null?(lp(p),M!==null?(ci(p),UU(p,M)):(ci(p),mO(p,P,null,_,x))):M?M!==d.memoizedState?(lp(p),ci(p),UU(p,M)):(ci(p),p.flags&=-16777217):(d=d.memoizedProps,d!==_&&lp(p),ci(p),mO(p,P,d,_,x)),null;case 27:if(Ge(p),x=le.current,P=p.type,d!==null&&p.stateNode!=null)d.memoizedProps!==_&&lp(p);else{if(!_){if(p.stateNode===null)throw Error(n(166));return ci(p),null}d=Y.current,ro(p)?I5(p):(d=Wz(P,_,x),p.stateNode=d,lp(p))}return ci(p),null;case 5:if(Ge(p),P=p.type,d!==null&&p.stateNode!=null)d.memoizedProps!==_&&lp(p);else{if(!_){if(p.stateNode===null)throw Error(n(166));return ci(p),null}if(M=Y.current,ro(p))I5(p);else{var ae=B4(le.current);switch(M){case 1:M=ae.createElementNS("http://www.w3.org/2000/svg",P);break;case 2:M=ae.createElementNS("http://www.w3.org/1998/Math/MathML",P);break;default:switch(P){case"svg":M=ae.createElementNS("http://www.w3.org/2000/svg",P);break;case"math":M=ae.createElementNS("http://www.w3.org/1998/Math/MathML",P);break;case"script":M=ae.createElement("div"),M.innerHTML="<script><\/script>",M=M.removeChild(M.firstChild);break;case"select":M=typeof _.is=="string"?ae.createElement("select",{is:_.is}):ae.createElement("select"),_.multiple?M.multiple=!0:_.size&&(M.size=_.size);break;default:M=typeof _.is=="string"?ae.createElement(P,{is:_.is}):ae.createElement(P)}}M[_e]=p,M[je]=_;e:for(ae=p.child;ae!==null;){if(ae.tag===5||ae.tag===6)M.appendChild(ae.stateNode);else if(ae.tag!==4&&ae.tag!==27&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===p)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===p)break e;ae=ae.return}ae.sibling.return=ae.return,ae=ae.sibling}p.stateNode=M;e:switch(ol(M,P,_),P){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}_&&lp(p)}}return ci(p),mO(p,p.type,d===null?null:d.memoizedProps,p.pendingProps,x),null;case 6:if(d&&p.stateNode!=null)d.memoizedProps!==_&&lp(p);else{if(typeof _!="string"&&p.stateNode===null)throw Error(n(166));if(d=le.current,ro(p)){if(d=p.stateNode,x=p.memoizedProps,_=null,P=to,P!==null)switch(P.tag){case 27:case 5:_=P.memoizedProps}d[_e]=p,d=!!(d.nodeValue===x||_!==null&&_.suppressHydrationWarning===!0||Lz(d.nodeValue,x)),d||Bf(p,!0)}else d=B4(d).createTextNode(_),d[_e]=p,p.stateNode=d}return ci(p),null;case 31:if(x=p.memoizedState,d===null||d.memoizedState!==null){if(_=ro(p),x!==null){if(d===null){if(!_)throw Error(n(318));if(d=p.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(557));d[_e]=p}else ep(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;ci(p),d=!1}else x=L5(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=x),d=!0;if(!d)return p.flags&256?(Fl(p),p):(Fl(p),null);if((p.flags&128)!==0)throw Error(n(558))}return ci(p),null;case 13:if(_=p.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(P=ro(p),_!==null&&_.dehydrated!==null){if(d===null){if(!P)throw Error(n(318));if(P=p.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(n(317));P[_e]=p}else ep(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;ci(p),P=!1}else P=L5(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=P),P=!0;if(!P)return p.flags&256?(Fl(p),p):(Fl(p),null)}return Fl(p),(p.flags&128)!==0?(p.lanes=x,p):(x=_!==null,d=d!==null&&d.memoizedState!==null,x&&(_=p.child,P=null,_.alternate!==null&&_.alternate.memoizedState!==null&&_.alternate.memoizedState.cachePool!==null&&(P=_.alternate.memoizedState.cachePool.pool),M=null,_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(M=_.memoizedState.cachePool.pool),M!==P&&(_.flags|=2048)),x!==d&&x&&(p.child.flags|=8192),S4(p,p.updateQueue),ci(p),null);case 4:return de(),d===null&&MO(p.stateNode.containerInfo),ci(p),null;case 10:return Jc(p.type),ci(p),null;case 19:if(B(wi),_=p.memoizedState,_===null)return ci(p),null;if(P=(p.flags&128)!==0,M=_.rendering,M===null)if(P)K5(_,!1);else{if(Qi!==0||d!==null&&(d.flags&128)!==0)for(d=p.child;d!==null;){if(M=rp(d),M!==null){for(p.flags|=128,K5(_,!1),d=M.updateQueue,p.updateQueue=d,S4(p,d),p.subtreeFlags=0,d=x,x=p.child;x!==null;)av(x,d),x=x.sibling;return V(wi,wi.current&1|2),Cn&&vc(p,_.treeForkCount),p.child}d=d.sibling}_.tail!==null&&We()>C4&&(p.flags|=128,P=!0,K5(_,!1),p.lanes=4194304)}else{if(!P)if(d=rp(M),d!==null){if(p.flags|=128,P=!0,d=d.updateQueue,p.updateQueue=d,S4(p,d),K5(_,!0),_.tail===null&&_.tailMode==="hidden"&&!M.alternate&&!Cn)return ci(p),null}else 2*We()-_.renderingStartTime>C4&&x!==536870912&&(p.flags|=128,P=!0,K5(_,!1),p.lanes=4194304);_.isBackwards?(M.sibling=p.child,p.child=M):(d=_.last,d!==null?d.sibling=M:p.child=M,_.last=M)}return _.tail!==null?(d=_.tail,_.rendering=d,_.tail=d.sibling,_.renderingStartTime=We(),d.sibling=null,x=wi.current,V(wi,P?x&1|2:x&1),Cn&&vc(p,_.treeForkCount),d):(ci(p),null);case 22:case 23:return Fl(p),Zi(),_=p.memoizedState!==null,d!==null?d.memoizedState!==null!==_&&(p.flags|=8192):_&&(p.flags|=8192),_?(x&536870912)!==0&&(p.flags&128)===0&&(ci(p),p.subtreeFlags&6&&(p.flags|=8192)):ci(p),x=p.updateQueue,x!==null&&S4(p,x.retryQueue),x=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),_=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(_=p.memoizedState.cachePool.pool),_!==x&&(p.flags|=2048),d!==null&&B(ve),null;case 24:return x=null,d!==null&&(x=d.memoizedState.cache),p.memoizedState.cache!==x&&(p.flags|=2048),Jc(Mi),ci(p),null;case 25:return null;case 30:return null}throw Error(n(156,p.tag))}function yue(d,p){switch(Jy(p),p.tag){case 1:return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return Jc(Mi),de(),d=p.flags,(d&65536)!==0&&(d&128)===0?(p.flags=d&-65537|128,p):null;case 26:case 27:case 5:return Ge(p),null;case 31:if(p.memoizedState!==null){if(Fl(p),p.alternate===null)throw Error(n(340));ep()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 13:if(Fl(p),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(n(340));ep()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return B(wi),null;case 4:return de(),null;case 10:return Jc(p.type),null;case 22:case 23:return Fl(p),Zi(),d!==null&&B(ve),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 24:return Jc(Mi),null;case 25:return null;default:return null}}function zU(d,p){switch(Jy(p),p.tag){case 3:Jc(Mi),de();break;case 26:case 27:case 5:Ge(p);break;case 4:de();break;case 31:p.memoizedState!==null&&Fl(p);break;case 13:Fl(p);break;case 19:B(wi);break;case 10:Jc(p.type);break;case 22:case 23:Fl(p),Zi(),d!==null&&B(ve);break;case 24:Jc(Mi)}}function Y5(d,p){try{var x=p.updateQueue,_=x!==null?x.lastEffect:null;if(_!==null){var P=_.next;x=P;do{if((x.tag&d)===d){_=void 0;var M=x.create,ae=x.inst;_=M(),ae.destroy=_}x=x.next}while(x!==P)}}catch(be){ma(p,p.return,be)}}function ig(d,p,x){try{var _=p.updateQueue,P=_!==null?_.lastEffect:null;if(P!==null){var M=P.next;_=M;do{if((_.tag&d)===d){var ae=_.inst,be=ae.destroy;if(be!==void 0){ae.destroy=void 0,P=p;var Be=x,pt=be;try{pt()}catch(Pt){ma(P,Be,Pt)}}}_=_.next}while(_!==M)}}catch(Pt){ma(p,p.return,Pt)}}function $U(d){var p=d.updateQueue;if(p!==null){var x=d.stateNode;try{vs(p,x)}catch(_){ma(d,d.return,_)}}}function VU(d,p,x){x.props=hv(d.type,d.memoizedProps),x.state=d.memoizedState;try{x.componentWillUnmount()}catch(_){ma(d,p,_)}}function X5(d,p){try{var x=d.ref;if(x!==null){switch(d.tag){case 26:case 27:case 5:var _=d.stateNode;break;case 30:_=d.stateNode;break;default:_=d.stateNode}typeof x=="function"?d.refCleanup=x(_):x.current=_}}catch(P){ma(d,p,P)}}function Kf(d,p){var x=d.ref,_=d.refCleanup;if(x!==null)if(typeof _=="function")try{_()}catch(P){ma(d,p,P)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(P){ma(d,p,P)}else x.current=null}function HU(d){var p=d.type,x=d.memoizedProps,_=d.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":x.autoFocus&&_.focus();break e;case"img":x.src?_.src=x.src:x.srcSet&&(_.srcset=x.srcSet)}}catch(P){ma(d,d.return,P)}}function gO(d,p,x){try{var _=d.stateNode;zue(_,d.type,x,p),_[je]=p}catch(P){ma(d,d.return,P)}}function qU(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&hg(d.type)||d.tag===4}function xO(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||qU(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&hg(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function vO(d,p,x){var _=d.tag;if(_===5||_===6)d=d.stateNode,p?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(d,p):(p=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,p.appendChild(d),x=x._reactRootContainer,x!=null||p.onclick!==null||(p.onclick=ea));else if(_!==4&&(_===27&&hg(d.type)&&(x=d.stateNode,p=null),d=d.child,d!==null))for(vO(d,p,x),d=d.sibling;d!==null;)vO(d,p,x),d=d.sibling}function N4(d,p,x){var _=d.tag;if(_===5||_===6)d=d.stateNode,p?x.insertBefore(d,p):x.appendChild(d);else if(_!==4&&(_===27&&hg(d.type)&&(x=d.stateNode),d=d.child,d!==null))for(N4(d,p,x),d=d.sibling;d!==null;)N4(d,p,x),d=d.sibling}function GU(d){var p=d.stateNode,x=d.memoizedProps;try{for(var _=d.type,P=p.attributes;P.length;)p.removeAttributeNode(P[0]);ol(p,_,x),p[_e]=d,p[je]=x}catch(M){ma(d,d.return,M)}}var cp=!1,Rs=!1,yO=!1,WU=typeof WeakSet=="function"?WeakSet:Set,Oo=null;function bue(d,p){if(d=d.containerInfo,UO=G4,d=se(d),me(d)){if("selectionStart"in d)var x={start:d.selectionStart,end:d.selectionEnd};else e:{x=(x=d.ownerDocument)&&x.defaultView||window;var _=x.getSelection&&x.getSelection();if(_&&_.rangeCount!==0){x=_.anchorNode;var P=_.anchorOffset,M=_.focusNode;_=_.focusOffset;try{x.nodeType,M.nodeType}catch{x=null;break e}var ae=0,be=-1,Be=-1,pt=0,Pt=0,zt=d,gt=null;t:for(;;){for(var At;zt!==x||P!==0&&zt.nodeType!==3||(be=ae+P),zt!==M||_!==0&&zt.nodeType!==3||(Be=ae+_),zt.nodeType===3&&(ae+=zt.nodeValue.length),(At=zt.firstChild)!==null;)gt=zt,zt=At;for(;;){if(zt===d)break t;if(gt===x&&++pt===P&&(be=ae),gt===M&&++Pt===_&&(Be=ae),(At=zt.nextSibling)!==null)break;zt=gt,gt=zt.parentNode}zt=At}x=be===-1||Be===-1?null:{start:be,end:Be}}else x=null}x=x||{start:0,end:0}}else x=null;for(zO={focusedElem:d,selectionRange:x},G4=!1,Oo=p;Oo!==null;)if(p=Oo,d=p.child,(p.subtreeFlags&1028)!==0&&d!==null)d.return=p,Oo=d;else for(;Oo!==null;){switch(p=Oo,M=p.alternate,d=p.flags,p.tag){case 0:if((d&4)!==0&&(d=p.updateQueue,d=d!==null?d.events:null,d!==null))for(x=0;x<d.length;x++)P=d[x],P.ref.impl=P.nextImpl;break;case 11:case 15:break;case 1:if((d&1024)!==0&&M!==null){d=void 0,x=p,P=M.memoizedProps,M=M.memoizedState,_=x.stateNode;try{var Cr=hv(x.type,P);d=_.getSnapshotBeforeUpdate(Cr,M),_.__reactInternalSnapshotBeforeUpdate=d}catch(Jr){ma(x,x.return,Jr)}}break;case 3:if((d&1024)!==0){if(d=p.stateNode.containerInfo,x=d.nodeType,x===9)HO(d);else if(x===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":HO(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(n(163))}if(d=p.sibling,d!==null){d.return=p.return,Oo=d;break}Oo=p.return}}function KU(d,p,x){var _=x.flags;switch(x.tag){case 0:case 11:case 15:dp(d,x),_&4&&Y5(5,x);break;case 1:if(dp(d,x),_&4)if(d=x.stateNode,p===null)try{d.componentDidMount()}catch(ae){ma(x,x.return,ae)}else{var P=hv(x.type,p.memoizedProps);p=p.memoizedState;try{d.componentDidUpdate(P,p,d.__reactInternalSnapshotBeforeUpdate)}catch(ae){ma(x,x.return,ae)}}_&64&&$U(x),_&512&&X5(x,x.return);break;case 3:if(dp(d,x),_&64&&(d=x.updateQueue,d!==null)){if(p=null,x.child!==null)switch(x.child.tag){case 27:case 5:p=x.child.stateNode;break;case 1:p=x.child.stateNode}try{vs(d,p)}catch(ae){ma(x,x.return,ae)}}break;case 27:p===null&&_&4&&GU(x);case 26:case 5:dp(d,x),p===null&&_&4&&HU(x),_&512&&X5(x,x.return);break;case 12:dp(d,x);break;case 31:dp(d,x),_&4&&JU(d,x);break;case 13:dp(d,x),_&4&&ZU(d,x),_&64&&(d=x.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(x=Cue.bind(null,x),Yue(d,x))));break;case 22:if(_=x.memoizedState!==null||cp,!_){p=p!==null&&p.memoizedState!==null||Rs,P=cp;var M=Rs;cp=_,(Rs=p)&&!M?hp(d,x,(x.subtreeFlags&8772)!==0):dp(d,x),cp=P,Rs=M}break;case 30:break;default:dp(d,x)}}function YU(d){var p=d.alternate;p!==null&&(d.alternate=null,YU(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&Gt(p)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var _i=null,Qc=!1;function up(d,p,x){for(x=x.child;x!==null;)XU(d,p,x),x=x.sibling}function XU(d,p,x){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(gr,x)}catch{}switch(x.tag){case 26:Rs||Kf(x,p),up(d,p,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:Rs||Kf(x,p);var _=_i,P=Qc;hg(x.type)&&(_i=x.stateNode,Qc=!1),up(d,p,x),iA(x.stateNode),_i=_,Qc=P;break;case 5:Rs||Kf(x,p);case 6:if(_=_i,P=Qc,_i=null,up(d,p,x),_i=_,Qc=P,_i!==null)if(Qc)try{(_i.nodeType===9?_i.body:_i.nodeName==="HTML"?_i.ownerDocument.body:_i).removeChild(x.stateNode)}catch(M){ma(x,p,M)}else try{_i.removeChild(x.stateNode)}catch(M){ma(x,p,M)}break;case 18:_i!==null&&(Qc?(d=_i,$z(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,x.stateNode),Ab(d)):$z(_i,x.stateNode));break;case 4:_=_i,P=Qc,_i=x.stateNode.containerInfo,Qc=!0,up(d,p,x),_i=_,Qc=P;break;case 0:case 11:case 14:case 15:ig(2,x,p),Rs||ig(4,x,p),up(d,p,x);break;case 1:Rs||(Kf(x,p),_=x.stateNode,typeof _.componentWillUnmount=="function"&&VU(x,p,_)),up(d,p,x);break;case 21:up(d,p,x);break;case 22:Rs=(_=Rs)||x.memoizedState!==null,up(d,p,x),Rs=_;break;default:up(d,p,x)}}function JU(d,p){if(p.memoizedState===null&&(d=p.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{Ab(d)}catch(x){ma(p,p.return,x)}}}function ZU(d,p){if(p.memoizedState===null&&(d=p.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{Ab(d)}catch(x){ma(p,p.return,x)}}function wue(d){switch(d.tag){case 31:case 13:case 19:var p=d.stateNode;return p===null&&(p=d.stateNode=new WU),p;case 22:return d=d.stateNode,p=d._retryCache,p===null&&(p=d._retryCache=new WU),p;default:throw Error(n(435,d.tag))}}function E4(d,p){var x=wue(d);p.forEach(function(_){if(!x.has(_)){x.add(_);var P=kue.bind(null,d,_);_.then(P,P)}})}function eu(d,p){var x=p.deletions;if(x!==null)for(var _=0;_<x.length;_++){var P=x[_],M=d,ae=p,be=ae;e:for(;be!==null;){switch(be.tag){case 27:if(hg(be.type)){_i=be.stateNode,Qc=!1;break e}break;case 5:_i=be.stateNode,Qc=!1;break e;case 3:case 4:_i=be.stateNode.containerInfo,Qc=!0;break e}be=be.return}if(_i===null)throw Error(n(160));XU(M,ae,P),_i=null,Qc=!1,M=P.alternate,M!==null&&(M.return=null),P.return=null}if(p.subtreeFlags&13886)for(p=p.child;p!==null;)QU(p,d),p=p.sibling}var Lh=null;function QU(d,p){var x=d.alternate,_=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:eu(p,d),tu(d),_&4&&(ig(3,d,d.return),Y5(3,d),ig(5,d,d.return));break;case 1:eu(p,d),tu(d),_&512&&(Rs||x===null||Kf(x,x.return)),_&64&&cp&&(d=d.updateQueue,d!==null&&(_=d.callbacks,_!==null&&(x=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=x===null?_:x.concat(_))));break;case 26:var P=Lh;if(eu(p,d),tu(d),_&512&&(Rs||x===null||Kf(x,x.return)),_&4){var M=x!==null?x.memoizedState:null;if(_=d.memoizedState,x===null)if(_===null)if(d.stateNode===null){e:{_=d.type,x=d.memoizedProps,P=P.ownerDocument||P;t:switch(_){case"title":M=P.getElementsByTagName("title")[0],(!M||M[lt]||M[_e]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=P.createElement(_),P.head.insertBefore(M,P.querySelector("head > title"))),ol(M,_,x),M[_e]=d,Ar(M),_=M;break e;case"link":var ae=Qz("link","href",P).get(_+(x.href||""));if(ae){for(var be=0;be<ae.length;be++)if(M=ae[be],M.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&M.getAttribute("rel")===(x.rel==null?null:x.rel)&&M.getAttribute("title")===(x.title==null?null:x.title)&&M.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){ae.splice(be,1);break t}}M=P.createElement(_),ol(M,_,x),P.head.appendChild(M);break;case"meta":if(ae=Qz("meta","content",P).get(_+(x.content||""))){for(be=0;be<ae.length;be++)if(M=ae[be],M.getAttribute("content")===(x.content==null?null:""+x.content)&&M.getAttribute("name")===(x.name==null?null:x.name)&&M.getAttribute("property")===(x.property==null?null:x.property)&&M.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&M.getAttribute("charset")===(x.charSet==null?null:x.charSet)){ae.splice(be,1);break t}}M=P.createElement(_),ol(M,_,x),P.head.appendChild(M);break;default:throw Error(n(468,_))}M[_e]=d,Ar(M),_=M}d.stateNode=_}else e$(P,d.type,d.stateNode);else d.stateNode=Zz(P,_,d.memoizedProps);else M!==_?(M===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):M.count--,_===null?e$(P,d.type,d.stateNode):Zz(P,_,d.memoizedProps)):_===null&&d.stateNode!==null&&gO(d,d.memoizedProps,x.memoizedProps)}break;case 27:eu(p,d),tu(d),_&512&&(Rs||x===null||Kf(x,x.return)),x!==null&&_&4&&gO(d,d.memoizedProps,x.memoizedProps);break;case 5:if(eu(p,d),tu(d),_&512&&(Rs||x===null||Kf(x,x.return)),d.flags&32){P=d.stateNode;try{uc(P,"")}catch(Cr){ma(d,d.return,Cr)}}_&4&&d.stateNode!=null&&(P=d.memoizedProps,gO(d,P,x!==null?x.memoizedProps:P)),_&1024&&(yO=!0);break;case 6:if(eu(p,d),tu(d),_&4){if(d.stateNode===null)throw Error(n(162));_=d.memoizedProps,x=d.stateNode;try{x.nodeValue=_}catch(Cr){ma(d,d.return,Cr)}}break;case 3:if($4=null,P=Lh,Lh=U4(p.containerInfo),eu(p,d),Lh=P,tu(d),_&4&&x!==null&&x.memoizedState.isDehydrated)try{Ab(p.containerInfo)}catch(Cr){ma(d,d.return,Cr)}yO&&(yO=!1,ez(d));break;case 4:_=Lh,Lh=U4(d.stateNode.containerInfo),eu(p,d),tu(d),Lh=_;break;case 12:eu(p,d),tu(d);break;case 31:eu(p,d),tu(d),_&4&&(_=d.updateQueue,_!==null&&(d.updateQueue=null,E4(d,_)));break;case 13:eu(p,d),tu(d),d.child.flags&8192&&d.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(j4=We()),_&4&&(_=d.updateQueue,_!==null&&(d.updateQueue=null,E4(d,_)));break;case 22:P=d.memoizedState!==null;var Be=x!==null&&x.memoizedState!==null,pt=cp,Pt=Rs;if(cp=pt||P,Rs=Pt||Be,eu(p,d),Rs=Pt,cp=pt,tu(d),_&8192)e:for(p=d.stateNode,p._visibility=P?p._visibility&-2:p._visibility|1,P&&(x===null||Be||cp||Rs||fv(d)),x=null,p=d;;){if(p.tag===5||p.tag===26){if(x===null){Be=x=p;try{if(M=Be.stateNode,P)ae=M.style,typeof ae.setProperty=="function"?ae.setProperty("display","none","important"):ae.display="none";else{be=Be.stateNode;var zt=Be.memoizedProps.style,gt=zt!=null&&zt.hasOwnProperty("display")?zt.display:null;be.style.display=gt==null||typeof gt=="boolean"?"":(""+gt).trim()}}catch(Cr){ma(Be,Be.return,Cr)}}}else if(p.tag===6){if(x===null){Be=p;try{Be.stateNode.nodeValue=P?"":Be.memoizedProps}catch(Cr){ma(Be,Be.return,Cr)}}}else if(p.tag===18){if(x===null){Be=p;try{var At=Be.stateNode;P?Vz(At,!0):Vz(Be.stateNode,!1)}catch(Cr){ma(Be,Be.return,Cr)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===d)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break e;for(;p.sibling===null;){if(p.return===null||p.return===d)break e;x===p&&(x=null),p=p.return}x===p&&(x=null),p.sibling.return=p.return,p=p.sibling}_&4&&(_=d.updateQueue,_!==null&&(x=_.retryQueue,x!==null&&(_.retryQueue=null,E4(d,x))));break;case 19:eu(p,d),tu(d),_&4&&(_=d.updateQueue,_!==null&&(d.updateQueue=null,E4(d,_)));break;case 30:break;case 21:break;default:eu(p,d),tu(d)}}function tu(d){var p=d.flags;if(p&2){try{for(var x,_=d.return;_!==null;){if(qU(_)){x=_;break}_=_.return}if(x==null)throw Error(n(160));switch(x.tag){case 27:var P=x.stateNode,M=xO(d);N4(d,M,P);break;case 5:var ae=x.stateNode;x.flags&32&&(uc(ae,""),x.flags&=-33);var be=xO(d);N4(d,be,ae);break;case 3:case 4:var Be=x.stateNode.containerInfo,pt=xO(d);vO(d,pt,Be);break;default:throw Error(n(161))}}catch(Pt){ma(d,d.return,Pt)}d.flags&=-3}p&4096&&(d.flags&=-4097)}function ez(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var p=d;ez(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),d=d.sibling}}function dp(d,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)KU(d,p.alternate,p),p=p.sibling}function fv(d){for(d=d.child;d!==null;){var p=d;switch(p.tag){case 0:case 11:case 14:case 15:ig(4,p,p.return),fv(p);break;case 1:Kf(p,p.return);var x=p.stateNode;typeof x.componentWillUnmount=="function"&&VU(p,p.return,x),fv(p);break;case 27:iA(p.stateNode);case 26:case 5:Kf(p,p.return),fv(p);break;case 22:p.memoizedState===null&&fv(p);break;case 30:fv(p);break;default:fv(p)}d=d.sibling}}function hp(d,p,x){for(x=x&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var _=p.alternate,P=d,M=p,ae=M.flags;switch(M.tag){case 0:case 11:case 15:hp(P,M,x),Y5(4,M);break;case 1:if(hp(P,M,x),_=M,P=_.stateNode,typeof P.componentDidMount=="function")try{P.componentDidMount()}catch(pt){ma(_,_.return,pt)}if(_=M,P=_.updateQueue,P!==null){var be=_.stateNode;try{var Be=P.shared.hiddenCallbacks;if(Be!==null)for(P.shared.hiddenCallbacks=null,P=0;P<Be.length;P++)Ml(Be[P],be)}catch(pt){ma(_,_.return,pt)}}x&&ae&64&&$U(M),X5(M,M.return);break;case 27:GU(M);case 26:case 5:hp(P,M,x),x&&_===null&&ae&4&&HU(M),X5(M,M.return);break;case 12:hp(P,M,x);break;case 31:hp(P,M,x),x&&ae&4&&JU(P,M);break;case 13:hp(P,M,x),x&&ae&4&&ZU(P,M);break;case 22:M.memoizedState===null&&hp(P,M,x),X5(M,M.return);break;case 30:break;default:hp(P,M,x)}p=p.sibling}}function bO(d,p){var x=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),d=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(d=p.memoizedState.cachePool.pool),d!==x&&(d!=null&&d.refCount++,x!=null&&ov(x))}function wO(d,p){d=null,p.alternate!==null&&(d=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==d&&(p.refCount++,d!=null&&ov(d))}function Mh(d,p,x,_){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)tz(d,p,x,_),p=p.sibling}function tz(d,p,x,_){var P=p.flags;switch(p.tag){case 0:case 11:case 15:Mh(d,p,x,_),P&2048&&Y5(9,p);break;case 1:Mh(d,p,x,_);break;case 3:Mh(d,p,x,_),P&2048&&(d=null,p.alternate!==null&&(d=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==d&&(p.refCount++,d!=null&&ov(d)));break;case 12:if(P&2048){Mh(d,p,x,_),d=p.stateNode;try{var M=p.memoizedProps,ae=M.id,be=M.onPostCommit;typeof be=="function"&&be(ae,p.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(Be){ma(p,p.return,Be)}}else Mh(d,p,x,_);break;case 31:Mh(d,p,x,_);break;case 13:Mh(d,p,x,_);break;case 23:break;case 22:M=p.stateNode,ae=p.alternate,p.memoizedState!==null?M._visibility&2?Mh(d,p,x,_):J5(d,p):M._visibility&2?Mh(d,p,x,_):(M._visibility|=2,db(d,p,x,_,(p.subtreeFlags&10256)!==0||!1)),P&2048&&bO(ae,p);break;case 24:Mh(d,p,x,_),P&2048&&wO(p.alternate,p);break;default:Mh(d,p,x,_)}}function db(d,p,x,_,P){for(P=P&&((p.subtreeFlags&10256)!==0||!1),p=p.child;p!==null;){var M=d,ae=p,be=x,Be=_,pt=ae.flags;switch(ae.tag){case 0:case 11:case 15:db(M,ae,be,Be,P),Y5(8,ae);break;case 23:break;case 22:var Pt=ae.stateNode;ae.memoizedState!==null?Pt._visibility&2?db(M,ae,be,Be,P):J5(M,ae):(Pt._visibility|=2,db(M,ae,be,Be,P)),P&&pt&2048&&bO(ae.alternate,ae);break;case 24:db(M,ae,be,Be,P),P&&pt&2048&&wO(ae.alternate,ae);break;default:db(M,ae,be,Be,P)}p=p.sibling}}function J5(d,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var x=d,_=p,P=_.flags;switch(_.tag){case 22:J5(x,_),P&2048&&bO(_.alternate,_);break;case 24:J5(x,_),P&2048&&wO(_.alternate,_);break;default:J5(x,_)}p=p.sibling}}var Z5=8192;function hb(d,p,x){if(d.subtreeFlags&Z5)for(d=d.child;d!==null;)rz(d,p,x),d=d.sibling}function rz(d,p,x){switch(d.tag){case 26:hb(d,p,x),d.flags&Z5&&d.memoizedState!==null&&ode(x,Lh,d.memoizedState,d.memoizedProps);break;case 5:hb(d,p,x);break;case 3:case 4:var _=Lh;Lh=U4(d.stateNode.containerInfo),hb(d,p,x),Lh=_;break;case 22:d.memoizedState===null&&(_=d.alternate,_!==null&&_.memoizedState!==null?(_=Z5,Z5=16777216,hb(d,p,x),Z5=_):hb(d,p,x));break;default:hb(d,p,x)}}function nz(d){var p=d.alternate;if(p!==null&&(d=p.child,d!==null)){p.child=null;do p=d.sibling,d.sibling=null,d=p;while(d!==null)}}function Q5(d){var p=d.deletions;if((d.flags&16)!==0){if(p!==null)for(var x=0;x<p.length;x++){var _=p[x];Oo=_,iz(_,d)}nz(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)az(d),d=d.sibling}function az(d){switch(d.tag){case 0:case 11:case 15:Q5(d),d.flags&2048&&ig(9,d,d.return);break;case 3:Q5(d);break;case 12:Q5(d);break;case 22:var p=d.stateNode;d.memoizedState!==null&&p._visibility&2&&(d.return===null||d.return.tag!==13)?(p._visibility&=-3,T4(d)):Q5(d);break;default:Q5(d)}}function T4(d){var p=d.deletions;if((d.flags&16)!==0){if(p!==null)for(var x=0;x<p.length;x++){var _=p[x];Oo=_,iz(_,d)}nz(d)}for(d=d.child;d!==null;){switch(p=d,p.tag){case 0:case 11:case 15:ig(8,p,p.return),T4(p);break;case 22:x=p.stateNode,x._visibility&2&&(x._visibility&=-3,T4(p));break;default:T4(p)}d=d.sibling}}function iz(d,p){for(;Oo!==null;){var x=Oo;switch(x.tag){case 0:case 11:case 15:ig(8,x,p);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var _=x.memoizedState.cachePool.pool;_!=null&&_.refCount++}break;case 24:ov(x.memoizedState.cache)}if(_=x.child,_!==null)_.return=x,Oo=_;else e:for(x=d;Oo!==null;){_=Oo;var P=_.sibling,M=_.return;if(YU(_),_===x){Oo=null;break e}if(P!==null){P.return=M,Oo=P;break e}Oo=M}}}var Aue={getCacheForType:function(d){var p=no(Mi),x=p.data.get(d);return x===void 0&&(x=d(),p.data.set(d,x)),x},cacheSignal:function(){return no(Mi).controller.signal}},_ue=typeof WeakMap=="function"?WeakMap:Map,ra=0,$a=null,Pn=null,Ln=0,pa=0,Ru=null,sg=!1,fb=!1,AO=!1,fp=0,Qi=0,og=0,pv=0,_O=0,Iu=0,pb=0,eA=null,ru=null,SO=!1,j4=0,sz=0,C4=1/0,k4=null,lg=null,io=0,cg=null,mb=null,pp=0,NO=0,EO=null,oz=null,tA=0,TO=null;function Lu(){return(ra&2)!==0&&Ln!==0?Ln&-Ln:Q.T!==null?DO():ge()}function lz(){if(Iu===0)if((Ln&536870912)===0||Cn){var d=ri;ri<<=1,(ri&3932160)===0&&(ri=262144),Iu=d}else Iu=536870912;return d=Fi.current,d!==null&&(d.flags|=32),Iu}function nu(d,p,x){(d===$a&&(pa===2||pa===9)||d.cancelPendingCommit!==null)&&(gb(d,0),ug(d,Ln,Iu,!1)),ni(d,x),((ra&2)===0||d!==$a)&&(d===$a&&((ra&2)===0&&(pv|=x),Qi===4&&ug(d,Ln,Iu,!1)),Yf(d))}function cz(d,p,x){if((ra&6)!==0)throw Error(n(327));var _=!x&&(p&127)===0&&(p&d.expiredLanes)===0||fn(d,p),P=_?Eue(d,p):CO(d,p,!0),M=_;do{if(P===0){fb&&!_&&ug(d,p,0,!1);break}else{if(x=d.current.alternate,M&&!Sue(x)){P=CO(d,p,!1),M=!1;continue}if(P===2){if(M=p,d.errorRecoveryDisabledLanes&M)var ae=0;else ae=d.pendingLanes&-536870913,ae=ae!==0?ae:ae&536870912?536870912:0;if(ae!==0){p=ae;e:{var be=d;P=eA;var Be=be.current.memoizedState.isDehydrated;if(Be&&(gb(be,ae).flags|=256),ae=CO(be,ae,!1),ae!==2){if(AO&&!Be){be.errorRecoveryDisabledLanes|=M,pv|=M,P=4;break e}M=ru,ru=P,M!==null&&(ru===null?ru=M:ru.push.apply(ru,M))}P=ae}if(M=!1,P!==2)continue}}if(P===1){gb(d,0),ug(d,p,0,!0);break}e:{switch(_=d,M=P,M){case 0:case 1:throw Error(n(345));case 4:if((p&4194048)!==p)break;case 6:ug(_,p,Iu,!sg);break e;case 2:ru=null;break;case 3:case 5:break;default:throw Error(n(329))}if((p&62914560)===p&&(P=j4+300-We(),10<P)){if(ug(_,p,Iu,!sg),Hr(_,0,!0)!==0)break e;pp=p,_.timeoutHandle=Uz(uz.bind(null,_,x,ru,k4,SO,p,Iu,pv,pb,sg,M,"Throttled",-0,0),P);break e}uz(_,x,ru,k4,SO,p,Iu,pv,pb,sg,M,null,-0,0)}}break}while(!0);Yf(d)}function uz(d,p,x,_,P,M,ae,be,Be,pt,Pt,zt,gt,At){if(d.timeoutHandle=-1,zt=p.subtreeFlags,zt&8192||(zt&16785408)===16785408){zt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},rz(p,M,zt);var Cr=(M&62914560)===M?j4-We():(M&4194048)===M?sz-We():0;if(Cr=lde(zt,Cr),Cr!==null){pp=M,d.cancelPendingCommit=Cr(vz.bind(null,d,p,M,x,_,P,ae,be,Be,Pt,zt,null,gt,At)),ug(d,M,ae,!pt);return}}vz(d,p,M,x,_,P,ae,be,Be)}function Sue(d){for(var p=d;;){var x=p.tag;if((x===0||x===11||x===15)&&p.flags&16384&&(x=p.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var _=0;_<x.length;_++){var P=x[_],M=P.getSnapshot;P=P.value;try{if(!xs(M(),P))return!1}catch{return!1}}if(x=p.child,p.subtreeFlags&16384&&x!==null)x.return=p,p=x;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function ug(d,p,x,_){p&=~_O,p&=~pv,d.suspendedLanes|=p,d.pingedLanes&=~p,_&&(d.warmLanes|=p),_=d.expirationTimes;for(var P=p;0<P;){var M=31-Mt(P),ae=1<<M;_[M]=-1,P&=~ae}x!==0&&ps(d,x,p)}function P4(){return(ra&6)===0?(rA(0),!1):!0}function jO(){if(Pn!==null){if(pa===0)var d=Pn.return;else d=Pn,kd=Uf=null,ab(d),Lt=null,vr=0,d=Pn;for(;d!==null;)zU(d.alternate,d),d=d.return;Pn=null}}function gb(d,p){var x=d.timeoutHandle;x!==-1&&(d.timeoutHandle=-1,Hue(x)),x=d.cancelPendingCommit,x!==null&&(d.cancelPendingCommit=null,x()),pp=0,jO(),$a=d,Pn=x=qc(d.current,null),Ln=p,pa=0,Ru=null,sg=!1,fb=fn(d,p),AO=!1,pb=Iu=_O=pv=og=Qi=0,ru=eA=null,SO=!1,(p&8)!==0&&(p|=p&32);var _=d.entangledLanes;if(_!==0)for(d=d.entanglements,_&=p;0<_;){var P=31-Mt(_),M=1<<P;p|=d[P],_&=~M}return fp=p,xi(),x}function dz(d,p){rn=null,Q.H=G5,p===He||p===ct?(p=Ft(),pa=3):p===ut?(p=Ft(),pa=4):pa=p===sO?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,Ru=p,Pn===null&&(Qi=1,b4(d,Gc(p,d.current)))}function hz(){var d=Fi.current;return d===null?!0:(Ln&4194048)===Ln?Ps===null:(Ln&62914560)===Ln||(Ln&536870912)!==0?d===Ps:!1}function fz(){var d=Q.H;return Q.H=G5,d===null?G5:d}function pz(){var d=Q.A;return Q.A=Aue,d}function O4(){Qi=4,sg||(Ln&4194048)!==Ln&&Fi.current!==null||(fb=!0),(og&134217727)===0&&(pv&134217727)===0||$a===null||ug($a,Ln,Iu,!1)}function CO(d,p,x){var _=ra;ra|=2;var P=fz(),M=pz();($a!==d||Ln!==p)&&(k4=null,gb(d,p)),p=!1;var ae=Qi;e:do try{if(pa!==0&&Pn!==null){var be=Pn,Be=Ru;switch(pa){case 8:jO(),ae=6;break e;case 3:case 2:case 9:case 6:Fi.current===null&&(p=!0);var pt=pa;if(pa=0,Ru=null,xb(d,be,Be,pt),x&&fb){ae=0;break e}break;default:pt=pa,pa=0,Ru=null,xb(d,be,Be,pt)}}Nue(),ae=Qi;break}catch(Pt){dz(d,Pt)}while(!0);return p&&d.shellSuspendCounter++,kd=Uf=null,ra=_,Q.H=P,Q.A=M,Pn===null&&($a=null,Ln=0,xi()),ae}function Nue(){for(;Pn!==null;)mz(Pn)}function Eue(d,p){var x=ra;ra|=2;var _=fz(),P=pz();$a!==d||Ln!==p?(k4=null,C4=We()+500,gb(d,p)):fb=fn(d,p);e:do try{if(pa!==0&&Pn!==null){p=Pn;var M=Ru;t:switch(pa){case 1:pa=0,Ru=null,xb(d,p,M,1);break;case 2:case 9:if(Ut(M)){pa=0,Ru=null,gz(p);break}p=function(){pa!==2&&pa!==9||$a!==d||(pa=7),Yf(d)},M.then(p,p);break e;case 3:pa=7;break e;case 4:pa=5;break e;case 7:Ut(M)?(pa=0,Ru=null,gz(p)):(pa=0,Ru=null,xb(d,p,M,7));break;case 5:var ae=null;switch(Pn.tag){case 26:ae=Pn.memoizedState;case 5:case 27:var be=Pn;if(ae?t$(ae):be.stateNode.complete){pa=0,Ru=null;var Be=be.sibling;if(Be!==null)Pn=Be;else{var pt=be.return;pt!==null?(Pn=pt,D4(pt)):Pn=null}break t}}pa=0,Ru=null,xb(d,p,M,5);break;case 6:pa=0,Ru=null,xb(d,p,M,6);break;case 8:jO(),Qi=6;break e;default:throw Error(n(462))}}Tue();break}catch(Pt){dz(d,Pt)}while(!0);return kd=Uf=null,Q.H=_,Q.A=P,ra=x,Pn!==null?0:($a=null,Ln=0,xi(),Qi)}function Tue(){for(;Pn!==null&&!yt();)mz(Pn)}function mz(d){var p=BU(d.alternate,d,fp);d.memoizedProps=d.pendingProps,p===null?D4(d):Pn=p}function gz(d){var p=d,x=p.alternate;switch(p.tag){case 15:case 0:p=DU(x,p,p.pendingProps,p.type,void 0,Ln);break;case 11:p=DU(x,p,p.pendingProps,p.type.render,p.ref,Ln);break;case 5:ab(p);default:zU(x,p),p=Pn=av(p,fp),p=BU(x,p,fp)}d.memoizedProps=d.pendingProps,p===null?D4(d):Pn=p}function xb(d,p,x,_){kd=Uf=null,ab(p),Lt=null,vr=0;var P=p.return;try{if(mue(d,P,p,x,Ln)){Qi=1,b4(d,Gc(x,d.current)),Pn=null;return}}catch(M){if(P!==null)throw Pn=P,M;Qi=1,b4(d,Gc(x,d.current)),Pn=null;return}p.flags&32768?(Cn||_===1?d=!0:fb||(Ln&536870912)!==0?d=!1:(sg=d=!0,(_===2||_===9||_===3||_===6)&&(_=Fi.current,_!==null&&_.tag===13&&(_.flags|=16384))),xz(p,d)):D4(p)}function D4(d){var p=d;do{if((p.flags&32768)!==0){xz(p,sg);return}d=p.return;var x=vue(p.alternate,p,fp);if(x!==null){Pn=x;return}if(p=p.sibling,p!==null){Pn=p;return}Pn=p=d}while(p!==null);Qi===0&&(Qi=5)}function xz(d,p){do{var x=yue(d.alternate,d);if(x!==null){x.flags&=32767,Pn=x;return}if(x=d.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!p&&(d=d.sibling,d!==null)){Pn=d;return}Pn=d=x}while(d!==null);Qi=6,Pn=null}function vz(d,p,x,_,P,M,ae,be,Be){d.cancelPendingCommit=null;do R4();while(io!==0);if((ra&6)!==0)throw Error(n(327));if(p!==null){if(p===d.current)throw Error(n(177));if(M=p.lanes|p.childLanes,M|=Kr,Mr(d,x,M,ae,be,Be),d===$a&&(Pn=$a=null,Ln=0),mb=p,cg=d,pp=x,NO=M,EO=P,oz=_,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,Pue(Ue,function(){return _z(),null})):(d.callbackNode=null,d.callbackPriority=0),_=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||_){_=Q.T,Q.T=null,P=X.p,X.p=2,ae=ra,ra|=4;try{bue(d,p,x)}finally{ra=ae,X.p=P,Q.T=_}}io=1,yz(),bz(),wz()}}function yz(){if(io===1){io=0;var d=cg,p=mb,x=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||x){x=Q.T,Q.T=null;var _=X.p;X.p=2;var P=ra;ra|=4;try{QU(p,d);var M=zO,ae=se(d.containerInfo),be=M.focusedElem,Be=M.selectionRange;if(ae!==be&&be&&be.ownerDocument&&te(be.ownerDocument.documentElement,be)){if(Be!==null&&me(be)){var pt=Be.start,Pt=Be.end;if(Pt===void 0&&(Pt=pt),"selectionStart"in be)be.selectionStart=pt,be.selectionEnd=Math.min(Pt,be.value.length);else{var zt=be.ownerDocument||document,gt=zt&&zt.defaultView||window;if(gt.getSelection){var At=gt.getSelection(),Cr=be.textContent.length,Jr=Math.min(Be.start,Cr),ja=Be.end===void 0?Jr:Math.min(Be.end,Cr);!At.extend&&Jr>ja&&(ae=ja,ja=Jr,Jr=ae);var nt=W(be,Jr),Ke=W(be,ja);if(nt&&Ke&&(At.rangeCount!==1||At.anchorNode!==nt.node||At.anchorOffset!==nt.offset||At.focusNode!==Ke.node||At.focusOffset!==Ke.offset)){var ft=zt.createRange();ft.setStart(nt.node,nt.offset),At.removeAllRanges(),Jr>ja?(At.addRange(ft),At.extend(Ke.node,Ke.offset)):(ft.setEnd(Ke.node,Ke.offset),At.addRange(ft))}}}}for(zt=[],At=be;At=At.parentNode;)At.nodeType===1&&zt.push({element:At,left:At.scrollLeft,top:At.scrollTop});for(typeof be.focus=="function"&&be.focus(),be=0;be<zt.length;be++){var Bt=zt[be];Bt.element.scrollLeft=Bt.left,Bt.element.scrollTop=Bt.top}}G4=!!UO,zO=UO=null}finally{ra=P,X.p=_,Q.T=x}}d.current=p,io=2}}function bz(){if(io===2){io=0;var d=cg,p=mb,x=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||x){x=Q.T,Q.T=null;var _=X.p;X.p=2;var P=ra;ra|=4;try{KU(d,p.alternate,p)}finally{ra=P,X.p=_,Q.T=x}}io=3}}function wz(){if(io===4||io===3){io=0,qt();var d=cg,p=mb,x=pp,_=oz;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?io=5:(io=0,mb=cg=null,Az(d,d.pendingLanes));var P=d.pendingLanes;if(P===0&&(lg=null),Qn(x),p=p.stateNode,Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(gr,p,void 0,(p.current.flags&128)===128)}catch{}if(_!==null){p=Q.T,P=X.p,X.p=2,Q.T=null;try{for(var M=d.onRecoverableError,ae=0;ae<_.length;ae++){var be=_[ae];M(be.value,{componentStack:be.stack})}}finally{Q.T=p,X.p=P}}(pp&3)!==0&&R4(),Yf(d),P=d.pendingLanes,(x&261930)!==0&&(P&42)!==0?d===TO?tA++:(tA=0,TO=d):tA=0,rA(0)}}function Az(d,p){(d.pooledCacheLanes&=p)===0&&(p=d.pooledCache,p!=null&&(d.pooledCache=null,ov(p)))}function R4(){return yz(),bz(),wz(),_z()}function _z(){if(io!==5)return!1;var d=cg,p=NO;NO=0;var x=Qn(pp),_=Q.T,P=X.p;try{X.p=32>x?32:x,Q.T=null,x=EO,EO=null;var M=cg,ae=pp;if(io=0,mb=cg=null,pp=0,(ra&6)!==0)throw Error(n(331));var be=ra;if(ra|=4,az(M.current),tz(M,M.current,ae,x),ra=be,rA(0,!1),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(gr,M)}catch{}return!0}finally{X.p=P,Q.T=_,Az(d,p)}}function Sz(d,p,x){p=Gc(x,p),p=iO(d.stateNode,p,2),d=fa(d,p,2),d!==null&&(ni(d,2),Yf(d))}function ma(d,p,x){if(d.tag===3)Sz(d,d,x);else for(;p!==null;){if(p.tag===3){Sz(p,d,x);break}else if(p.tag===1){var _=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(lg===null||!lg.has(_))){d=Gc(x,d),x=NU(2),_=fa(p,x,2),_!==null&&(EU(x,_,p,d),ni(_,2),Yf(_));break}}p=p.return}}function kO(d,p,x){var _=d.pingCache;if(_===null){_=d.pingCache=new _ue;var P=new Set;_.set(p,P)}else P=_.get(p),P===void 0&&(P=new Set,_.set(p,P));P.has(x)||(AO=!0,P.add(x),d=jue.bind(null,d,p,x),p.then(d,d))}function jue(d,p,x){var _=d.pingCache;_!==null&&_.delete(p),d.pingedLanes|=d.suspendedLanes&x,d.warmLanes&=~x,$a===d&&(Ln&x)===x&&(Qi===4||Qi===3&&(Ln&62914560)===Ln&&300>We()-j4?(ra&2)===0&&gb(d,0):_O|=x,pb===Ln&&(pb=0)),Yf(d)}function Nz(d,p){p===0&&(p=mi()),d=Na(d,p),d!==null&&(ni(d,p),Yf(d))}function Cue(d){var p=d.memoizedState,x=0;p!==null&&(x=p.retryLane),Nz(d,x)}function kue(d,p){var x=0;switch(d.tag){case 31:case 13:var _=d.stateNode,P=d.memoizedState;P!==null&&(x=P.retryLane);break;case 19:_=d.stateNode;break;case 22:_=d.stateNode._retryCache;break;default:throw Error(n(314))}_!==null&&_.delete(p),Nz(d,x)}function Pue(d,p){return vt(d,p)}var I4=null,vb=null,PO=!1,L4=!1,OO=!1,dg=0;function Yf(d){d!==vb&&d.next===null&&(vb===null?I4=vb=d:vb=vb.next=d),L4=!0,PO||(PO=!0,Due())}function rA(d,p){if(!OO&&L4){OO=!0;do for(var x=!1,_=I4;_!==null;){if(d!==0){var P=_.pendingLanes;if(P===0)var M=0;else{var ae=_.suspendedLanes,be=_.pingedLanes;M=(1<<31-Mt(42|d)+1)-1,M&=P&~(ae&~be),M=M&201326741?M&201326741|1:M?M|2:0}M!==0&&(x=!0,Cz(_,M))}else M=Ln,M=Hr(_,_===$a?M:0,_.cancelPendingCommit!==null||_.timeoutHandle!==-1),(M&3)===0||fn(_,M)||(x=!0,Cz(_,M));_=_.next}while(x);OO=!1}}function Oue(){Ez()}function Ez(){L4=PO=!1;var d=0;dg!==0&&Vue()&&(d=dg);for(var p=We(),x=null,_=I4;_!==null;){var P=_.next,M=Tz(_,p);M===0?(_.next=null,x===null?I4=P:x.next=P,P===null&&(vb=x)):(x=_,(d!==0||(M&3)!==0)&&(L4=!0)),_=P}io!==0&&io!==5||rA(d),dg!==0&&(dg=0)}function Tz(d,p){for(var x=d.suspendedLanes,_=d.pingedLanes,P=d.expirationTimes,M=d.pendingLanes&-62914561;0<M;){var ae=31-Mt(M),be=1<<ae,Be=P[ae];Be===-1?((be&x)===0||(be&_)!==0)&&(P[ae]=Nu(be,p)):Be<=p&&(d.expiredLanes|=be),M&=~be}if(p=$a,x=Ln,x=Hr(d,d===p?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),_=d.callbackNode,x===0||d===p&&(pa===2||pa===9)||d.cancelPendingCommit!==null)return _!==null&&_!==null&&Dt(_),d.callbackNode=null,d.callbackPriority=0;if((x&3)===0||fn(d,x)){if(p=x&-x,p===d.callbackPriority)return p;switch(_!==null&&Dt(_),Qn(x)){case 2:case 8:x=Vt;break;case 32:x=Ue;break;case 268435456:x=xt;break;default:x=Ue}return _=jz.bind(null,d),x=vt(x,_),d.callbackPriority=p,d.callbackNode=x,p}return _!==null&&_!==null&&Dt(_),d.callbackPriority=2,d.callbackNode=null,2}function jz(d,p){if(io!==0&&io!==5)return d.callbackNode=null,d.callbackPriority=0,null;var x=d.callbackNode;if(R4()&&d.callbackNode!==x)return null;var _=Ln;return _=Hr(d,d===$a?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),_===0?null:(cz(d,_,p),Tz(d,We()),d.callbackNode!=null&&d.callbackNode===x?jz.bind(null,d):null)}function Cz(d,p){if(R4())return null;cz(d,p,!0)}function Due(){que(function(){(ra&6)!==0?vt(ir,Oue):Ez()})}function DO(){if(dg===0){var d=E;d===0&&(d=Ht,Ht<<=1,(Ht&261888)===0&&(Ht=256)),dg=d}return dg}function kz(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:kl(""+d)}function Pz(d,p){var x=p.ownerDocument.createElement("input");return x.name=p.name,x.value=p.value,d.id&&x.setAttribute("form",d.id),p.parentNode.insertBefore(x,p),d=new FormData(d),x.parentNode.removeChild(x),d}function Rue(d,p,x,_,P){if(p==="submit"&&x&&x.stateNode===P){var M=kz((P[je]||null).action),ae=_.submitter;ae&&(p=(p=ae[je]||null)?kz(p.formAction):ae.getAttribute("formAction"),p!==null&&(M=p,ae=null));var be=new _h("action","action",null,_,P);d.push({event:be,listeners:[{instance:null,listener:function(){if(_.defaultPrevented){if(dg!==0){var Be=ae?Pz(P,ae):new FormData(P);QP(x,{pending:!0,data:Be,method:P.method,action:M},null,Be)}}else typeof M=="function"&&(be.preventDefault(),Be=ae?Pz(P,ae):new FormData(P),QP(x,{pending:!0,data:Be,method:P.method,action:M},M,Be))},currentTarget:P}]})}}for(var RO=0;RO<sr.length;RO++){var IO=sr[RO],Iue=IO.toLowerCase(),Lue=IO[0].toUpperCase()+IO.slice(1);It(Iue,"on"+Lue)}It(st,"onAnimationEnd"),It(ht,"onAnimationIteration"),It(Et,"onAnimationStart"),It("dblclick","onDoubleClick"),It("focusin","onFocus"),It("focusout","onBlur"),It(Rt,"onTransitionRun"),It(nr,"onTransitionStart"),It(cr,"onTransitionCancel"),It(Zt,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nA="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mue=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nA));function Oz(d,p){p=(p&4)!==0;for(var x=0;x<d.length;x++){var _=d[x],P=_.event;_=_.listeners;e:{var M=void 0;if(p)for(var ae=_.length-1;0<=ae;ae--){var be=_[ae],Be=be.instance,pt=be.currentTarget;if(be=be.listener,Be!==M&&P.isPropagationStopped())break e;M=be,P.currentTarget=pt;try{M(P)}catch(Pt){er(Pt)}P.currentTarget=null,M=Be}else for(ae=0;ae<_.length;ae++){if(be=_[ae],Be=be.instance,pt=be.currentTarget,be=be.listener,Be!==M&&P.isPropagationStopped())break e;M=be,P.currentTarget=pt;try{M(P)}catch(Pt){er(Pt)}P.currentTarget=null,M=Be}}}}function On(d,p){var x=p[ot];x===void 0&&(x=p[ot]=new Set);var _=d+"__bubble";x.has(_)||(Dz(p,d,2,!1),x.add(_))}function LO(d,p,x){var _=0;p&&(_|=4),Dz(x,d,_,p)}var M4="_reactListening"+Math.random().toString(36).slice(2);function MO(d){if(!d[M4]){d[M4]=!0,bn.forEach(function(x){x!=="selectionchange"&&(Mue.has(x)||LO(x,!1,d),LO(x,!0,d))});var p=d.nodeType===9?d:d.ownerDocument;p===null||p[M4]||(p[M4]=!0,LO("selectionchange",!1,p))}}function Dz(d,p,x,_){switch(l$(p)){case 2:var P=dde;break;case 8:P=hde;break;default:P=ZO}x=P.bind(null,p,x,d),P=void 0,!wh||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(P=!0),_?P!==void 0?d.addEventListener(p,x,{capture:!0,passive:P}):d.addEventListener(p,x,!0):P!==void 0?d.addEventListener(p,x,{passive:P}):d.addEventListener(p,x,!1)}function FO(d,p,x,_,P){var M=_;if((p&1)===0&&(p&2)===0&&_!==null)e:for(;;){if(_===null)return;var ae=_.tag;if(ae===3||ae===4){var be=_.stateNode.containerInfo;if(be===P)break;if(ae===4)for(ae=_.return;ae!==null;){var Be=ae.tag;if((Be===3||Be===4)&&ae.stateNode.containerInfo===P)return;ae=ae.return}for(;be!==null;){if(ae=ar(be),ae===null)return;if(Be=ae.tag,Be===5||Be===6||Be===26||Be===27){_=M=ae;continue e}be=be.parentNode}}_=_.return}Tu(function(){var pt=M,Pt=bh(x),zt=[];e:{var gt=Qt.get(d);if(gt!==void 0){var At=_h,Cr=d;switch(d){case"keypress":if(rl(x)===0)break e;case"keydown":case"keyup":At=Td;break;case"focusin":Cr="focus",At=Nd;break;case"focusout":Cr="blur",At=Nd;break;case"beforeblur":case"afterblur":At=Nd;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":At=fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":At=Of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":At=he;break;case st:case ht:case Et:At=Km;break;case Zt:At=$e;break;case"scroll":case"scrollend":At=Sh;break;case"wheel":At=jt;break;case"copy":case"cut":case"paste":At=$c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":At=jh;break;case"toggle":case"beforetoggle":At=xr}var Jr=(p&4)!==0,ja=!Jr&&(d==="scroll"||d==="scrollend"),nt=Jr?gt!==null?gt+"Capture":null:gt;Jr=[];for(var Ke=pt,ft;Ke!==null;){var Bt=Ke;if(ft=Bt.stateNode,Bt=Bt.tag,Bt!==5&&Bt!==26&&Bt!==27||ft===null||nt===null||(Bt=Bc(Ke,nt),Bt!=null&&Jr.push(aA(Ke,Bt,ft))),ja)break;Ke=Ke.return}0<Jr.length&&(gt=new At(gt,Cr,null,x,Pt),zt.push({event:gt,listeners:Jr}))}}if((p&7)===0){e:{if(gt=d==="mouseover"||d==="pointerover",At=d==="mouseout"||d==="pointerout",gt&&x!==Pl&&(Cr=x.relatedTarget||x.fromElement)&&(ar(Cr)||Cr[ke]))break e;if((At||gt)&&(gt=Pt.window===Pt?Pt:(gt=Pt.ownerDocument)?gt.defaultView||gt.parentWindow:window,At?(Cr=x.relatedTarget||x.toElement,At=pt,Cr=Cr?ar(Cr):null,Cr!==null&&(ja=i(Cr),Jr=Cr.tag,Cr!==ja||Jr!==5&&Jr!==27&&Jr!==6)&&(Cr=null)):(At=null,Cr=pt),At!==Cr)){if(Jr=fc,Bt="onMouseLeave",nt="onMouseEnter",Ke="mouse",(d==="pointerout"||d==="pointerover")&&(Jr=jh,Bt="onPointerLeave",nt="onPointerEnter",Ke="pointer"),ja=At==null?gt:Yt(At),ft=Cr==null?gt:Yt(Cr),gt=new Jr(Bt,Ke+"leave",At,x,Pt),gt.target=ja,gt.relatedTarget=ft,Bt=null,ar(Pt)===pt&&(Jr=new Jr(nt,Ke+"enter",Cr,x,Pt),Jr.target=ft,Jr.relatedTarget=ja,Bt=Jr),ja=Bt,At&&Cr)t:{for(Jr=Fue,nt=At,Ke=Cr,ft=0,Bt=nt;Bt;Bt=Jr(Bt))ft++;Bt=0;for(var Vr=Ke;Vr;Vr=Jr(Vr))Bt++;for(;0<ft-Bt;)nt=Jr(nt),ft--;for(;0<Bt-ft;)Ke=Jr(Ke),Bt--;for(;ft--;){if(nt===Ke||Ke!==null&&nt===Ke.alternate){Jr=nt;break t}nt=Jr(nt),Ke=Jr(Ke)}Jr=null}else Jr=null;At!==null&&Rz(zt,gt,At,Jr,!1),Cr!==null&&ja!==null&&Rz(zt,ja,Cr,Jr,!0)}}e:{if(gt=pt?Yt(pt):window,At=gt.nodeName&&gt.nodeName.toLowerCase(),At==="select"||At==="input"&&gt.type==="file")var Yn=si;else if(jd(gt))if(Qs)Yn=gc;else{Yn=Hc;var Or=If}else At=gt.nodeName,!At||At.toLowerCase()!=="input"||gt.type!=="checkbox"&&gt.type!=="radio"?pt&&dc(pt.elementType)&&(Yn=si):Yn=Co;if(Yn&&(Yn=Yn(d,pt))){Ch(zt,Yn,x,Pt);break e}Or&&Or(d,gt,pt),d==="focusout"&&pt&&gt.type==="number"&&pt.memoizedProps.value!=null&&Ad(gt,"number",gt.value)}switch(Or=pt?Yt(pt):window,d){case"focusin":(jd(Or)||Or.contentEditable==="true")&&(Ie=Or,ze=pt,Fe=null);break;case"focusout":Fe=ze=Ie=null;break;case"mousedown":et=!0;break;case"contextmenu":case"mouseup":case"dragend":et=!1,Me(zt,x,Pt);break;case"selectionchange":if(Ee)break;case"keydown":case"keyup":Me(zt,x,Pt)}var xn;if(Yr)e:{switch(d){case"compositionstart":var Mn="onCompositionStart";break e;case"compositionend":Mn="onCompositionEnd";break e;case"compositionupdate":Mn="onCompositionUpdate";break e}Mn=void 0}else ms?Ji(d,x)&&(Mn="onCompositionEnd"):d==="keydown"&&x.keyCode===229&&(Mn="onCompositionStart");Mn&&(la&&x.locale!=="ko"&&(ms||Mn!=="onCompositionStart"?Mn==="onCompositionEnd"&&ms&&(xn=Dl()):(Ol=Pt,kf="value"in Ol?Ol.value:Ol.textContent,ms=!0)),Or=F4(pt,Mn),0<Or.length&&(Mn=new Cu(Mn,d,null,x,Pt),zt.push({event:Mn,listeners:Or}),xn?Mn.data=xn:(xn=Li(x),xn!==null&&(Mn.data=xn)))),(xn=Tn?jo(d,x):Vc(d,x))&&(Mn=F4(pt,"onBeforeInput"),0<Mn.length&&(Or=new Cu("onBeforeInput","beforeinput",null,x,Pt),zt.push({event:Or,listeners:Mn}),Or.data=xn)),Rue(zt,d,pt,x,Pt)}Oz(zt,p)})}function aA(d,p,x){return{instance:d,listener:p,currentTarget:x}}function F4(d,p){for(var x=p+"Capture",_=[];d!==null;){var P=d,M=P.stateNode;if(P=P.tag,P!==5&&P!==26&&P!==27||M===null||(P=Bc(d,x),P!=null&&_.unshift(aA(d,P,M)),P=Bc(d,p),P!=null&&_.push(aA(d,P,M))),d.tag===3)return _;d=d.return}return[]}function Fue(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function Rz(d,p,x,_,P){for(var M=p._reactName,ae=[];x!==null&&x!==_;){var be=x,Be=be.alternate,pt=be.stateNode;if(be=be.tag,Be!==null&&Be===_)break;be!==5&&be!==26&&be!==27||pt===null||(Be=pt,P?(pt=Bc(x,M),pt!=null&&ae.unshift(aA(x,pt,Be))):P||(pt=Bc(x,M),pt!=null&&ae.push(aA(x,pt,Be)))),x=x.return}ae.length!==0&&d.push({event:p,listeners:ae})}var Bue=/\r\n?/g,Uue=/\u0000|\uFFFD/g;function Iz(d){return(typeof d=="string"?d:""+d).replace(Bue,`
`).replace(Uue,"")}function Lz(d,p){return p=Iz(p),Iz(d)===p}function Ta(d,p,x,_,P,M){switch(x){case"children":typeof _=="string"?p==="body"||p==="textarea"&&_===""||uc(d,_):(typeof _=="number"||typeof _=="bigint")&&p!=="body"&&uc(d,""+_);break;case"className":ua(d,"class",_);break;case"tabIndex":ua(d,"tabindex",_);break;case"dir":case"role":case"viewBox":case"width":case"height":ua(d,x,_);break;case"style":Y0(d,_,M);break;case"data":if(p!=="object"){ua(d,"data",_);break}case"src":case"href":if(_===""&&(p!=="a"||x!=="href")){d.removeAttribute(x);break}if(_==null||typeof _=="function"||typeof _=="symbol"||typeof _=="boolean"){d.removeAttribute(x);break}_=kl(""+_),d.setAttribute(x,_);break;case"action":case"formAction":if(typeof _=="function"){d.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(x==="formAction"?(p!=="input"&&Ta(d,p,"name",P.name,P,null),Ta(d,p,"formEncType",P.formEncType,P,null),Ta(d,p,"formMethod",P.formMethod,P,null),Ta(d,p,"formTarget",P.formTarget,P,null)):(Ta(d,p,"encType",P.encType,P,null),Ta(d,p,"method",P.method,P,null),Ta(d,p,"target",P.target,P,null)));if(_==null||typeof _=="symbol"||typeof _=="boolean"){d.removeAttribute(x);break}_=kl(""+_),d.setAttribute(x,_);break;case"onClick":_!=null&&(d.onclick=ea);break;case"onScroll":_!=null&&On("scroll",d);break;case"onScrollEnd":_!=null&&On("scrollend",d);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(n(61));if(x=_.__html,x!=null){if(P.children!=null)throw Error(n(60));d.innerHTML=x}}break;case"multiple":d.multiple=_&&typeof _!="function"&&typeof _!="symbol";break;case"muted":d.muted=_&&typeof _!="function"&&typeof _!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(_==null||typeof _=="function"||typeof _=="boolean"||typeof _=="symbol"){d.removeAttribute("xlink:href");break}x=kl(""+_),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":_!=null&&typeof _!="function"&&typeof _!="symbol"?d.setAttribute(x,""+_):d.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":_&&typeof _!="function"&&typeof _!="symbol"?d.setAttribute(x,""):d.removeAttribute(x);break;case"capture":case"download":_===!0?d.setAttribute(x,""):_!==!1&&_!=null&&typeof _!="function"&&typeof _!="symbol"?d.setAttribute(x,_):d.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":_!=null&&typeof _!="function"&&typeof _!="symbol"&&!isNaN(_)&&1<=_?d.setAttribute(x,_):d.removeAttribute(x);break;case"rowSpan":case"start":_==null||typeof _=="function"||typeof _=="symbol"||isNaN(_)?d.removeAttribute(x):d.setAttribute(x,_);break;case"popover":On("beforetoggle",d),On("toggle",d),qr(d,"popover",_);break;case"xlinkActuate":Qo(d,"http://www.w3.org/1999/xlink","xlink:actuate",_);break;case"xlinkArcrole":Qo(d,"http://www.w3.org/1999/xlink","xlink:arcrole",_);break;case"xlinkRole":Qo(d,"http://www.w3.org/1999/xlink","xlink:role",_);break;case"xlinkShow":Qo(d,"http://www.w3.org/1999/xlink","xlink:show",_);break;case"xlinkTitle":Qo(d,"http://www.w3.org/1999/xlink","xlink:title",_);break;case"xlinkType":Qo(d,"http://www.w3.org/1999/xlink","xlink:type",_);break;case"xmlBase":Qo(d,"http://www.w3.org/XML/1998/namespace","xml:base",_);break;case"xmlLang":Qo(d,"http://www.w3.org/XML/1998/namespace","xml:lang",_);break;case"xmlSpace":Qo(d,"http://www.w3.org/XML/1998/namespace","xml:space",_);break;case"is":qr(d,"is",_);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=Cf.get(x)||x,qr(d,x,_))}}function BO(d,p,x,_,P,M){switch(x){case"style":Y0(d,_,M);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(n(61));if(x=_.__html,x!=null){if(P.children!=null)throw Error(n(60));d.innerHTML=x}}break;case"children":typeof _=="string"?uc(d,_):(typeof _=="number"||typeof _=="bigint")&&uc(d,""+_);break;case"onScroll":_!=null&&On("scroll",d);break;case"onScrollEnd":_!=null&&On("scrollend",d);break;case"onClick":_!=null&&(d.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rn.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(P=x.endsWith("Capture"),p=x.slice(2,P?x.length-7:void 0),M=d[je]||null,M=M!=null?M[x]:null,typeof M=="function"&&d.removeEventListener(p,M,P),typeof _=="function")){typeof M!="function"&&M!==null&&(x in d?d[x]=null:d.hasAttribute(x)&&d.removeAttribute(x)),d.addEventListener(p,_,P);break e}x in d?d[x]=_:_===!0?d.setAttribute(x,""):qr(d,x,_)}}}function ol(d,p,x){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":On("error",d),On("load",d);var _=!1,P=!1,M;for(M in x)if(x.hasOwnProperty(M)){var ae=x[M];if(ae!=null)switch(M){case"src":_=!0;break;case"srcSet":P=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:Ta(d,p,M,ae,x,null)}}P&&Ta(d,p,"srcSet",x.srcSet,x,null),_&&Ta(d,p,"src",x.src,x,null);return;case"input":On("invalid",d);var be=M=ae=P=null,Be=null,pt=null;for(_ in x)if(x.hasOwnProperty(_)){var Pt=x[_];if(Pt!=null)switch(_){case"name":P=Pt;break;case"type":ae=Pt;break;case"checked":Be=Pt;break;case"defaultChecked":pt=Pt;break;case"value":M=Pt;break;case"defaultValue":be=Pt;break;case"children":case"dangerouslySetInnerHTML":if(Pt!=null)throw Error(n(137,p));break;default:Ta(d,p,_,Pt,x,null)}}Tf(d,M,be,Be,pt,ae,P,!1);return;case"select":On("invalid",d),_=ae=M=null;for(P in x)if(x.hasOwnProperty(P)&&(be=x[P],be!=null))switch(P){case"value":M=be;break;case"defaultValue":ae=be;break;case"multiple":_=be;default:Ta(d,p,P,be,x,null)}p=M,x=ae,d.multiple=!!_,p!=null?cc(d,!!_,p,!1):x!=null&&cc(d,!!_,x,!0);return;case"textarea":On("invalid",d),M=P=_=null;for(ae in x)if(x.hasOwnProperty(ae)&&(be=x[ae],be!=null))switch(ae){case"value":_=be;break;case"defaultValue":P=be;break;case"children":M=be;break;case"dangerouslySetInnerHTML":if(be!=null)throw Error(n(91));break;default:Ta(d,p,ae,be,x,null)}yh(d,_,P,M);return;case"option":for(Be in x)if(x.hasOwnProperty(Be)&&(_=x[Be],_!=null))switch(Be){case"selected":d.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:Ta(d,p,Be,_,x,null)}return;case"dialog":On("beforetoggle",d),On("toggle",d),On("cancel",d),On("close",d);break;case"iframe":case"object":On("load",d);break;case"video":case"audio":for(_=0;_<nA.length;_++)On(nA[_],d);break;case"image":On("error",d),On("load",d);break;case"details":On("toggle",d);break;case"embed":case"source":case"link":On("error",d),On("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pt in x)if(x.hasOwnProperty(pt)&&(_=x[pt],_!=null))switch(pt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,p));default:Ta(d,p,pt,_,x,null)}return;default:if(dc(p)){for(Pt in x)x.hasOwnProperty(Pt)&&(_=x[Pt],_!==void 0&&BO(d,p,Pt,_,x,void 0));return}}for(be in x)x.hasOwnProperty(be)&&(_=x[be],_!=null&&Ta(d,p,be,_,x,null))}function zue(d,p,x,_){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var P=null,M=null,ae=null,be=null,Be=null,pt=null,Pt=null;for(At in x){var zt=x[At];if(x.hasOwnProperty(At)&&zt!=null)switch(At){case"checked":break;case"value":break;case"defaultValue":Be=zt;default:_.hasOwnProperty(At)||Ta(d,p,At,null,_,zt)}}for(var gt in _){var At=_[gt];if(zt=x[gt],_.hasOwnProperty(gt)&&(At!=null||zt!=null))switch(gt){case"type":M=At;break;case"name":P=At;break;case"checked":pt=At;break;case"defaultChecked":Pt=At;break;case"value":ae=At;break;case"defaultValue":be=At;break;case"children":case"dangerouslySetInnerHTML":if(At!=null)throw Error(n(137,p));break;default:At!==zt&&Ta(d,p,gt,At,_,zt)}}lc(d,ae,be,Be,pt,Pt,M,P);return;case"select":At=ae=be=gt=null;for(M in x)if(Be=x[M],x.hasOwnProperty(M)&&Be!=null)switch(M){case"value":break;case"multiple":At=Be;default:_.hasOwnProperty(M)||Ta(d,p,M,null,_,Be)}for(P in _)if(M=_[P],Be=x[P],_.hasOwnProperty(P)&&(M!=null||Be!=null))switch(P){case"value":gt=M;break;case"defaultValue":be=M;break;case"multiple":ae=M;default:M!==Be&&Ta(d,p,P,M,_,Be)}p=be,x=ae,_=At,gt!=null?cc(d,!!x,gt,!1):!!_!=!!x&&(p!=null?cc(d,!!x,p,!0):cc(d,!!x,x?[]:"",!1));return;case"textarea":At=gt=null;for(be in x)if(P=x[be],x.hasOwnProperty(be)&&P!=null&&!_.hasOwnProperty(be))switch(be){case"value":break;case"children":break;default:Ta(d,p,be,null,_,P)}for(ae in _)if(P=_[ae],M=x[ae],_.hasOwnProperty(ae)&&(P!=null||M!=null))switch(ae){case"value":gt=P;break;case"defaultValue":At=P;break;case"children":break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(n(91));break;default:P!==M&&Ta(d,p,ae,P,_,M)}jf(d,gt,At);return;case"option":for(var Cr in x)if(gt=x[Cr],x.hasOwnProperty(Cr)&&gt!=null&&!_.hasOwnProperty(Cr))switch(Cr){case"selected":d.selected=!1;break;default:Ta(d,p,Cr,null,_,gt)}for(Be in _)if(gt=_[Be],At=x[Be],_.hasOwnProperty(Be)&&gt!==At&&(gt!=null||At!=null))switch(Be){case"selected":d.selected=gt&&typeof gt!="function"&&typeof gt!="symbol";break;default:Ta(d,p,Be,gt,_,At)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Jr in x)gt=x[Jr],x.hasOwnProperty(Jr)&&gt!=null&&!_.hasOwnProperty(Jr)&&Ta(d,p,Jr,null,_,gt);for(pt in _)if(gt=_[pt],At=x[pt],_.hasOwnProperty(pt)&&gt!==At&&(gt!=null||At!=null))switch(pt){case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(n(137,p));break;default:Ta(d,p,pt,gt,_,At)}return;default:if(dc(p)){for(var ja in x)gt=x[ja],x.hasOwnProperty(ja)&&gt!==void 0&&!_.hasOwnProperty(ja)&&BO(d,p,ja,void 0,_,gt);for(Pt in _)gt=_[Pt],At=x[Pt],!_.hasOwnProperty(Pt)||gt===At||gt===void 0&&At===void 0||BO(d,p,Pt,gt,_,At);return}}for(var nt in x)gt=x[nt],x.hasOwnProperty(nt)&&gt!=null&&!_.hasOwnProperty(nt)&&Ta(d,p,nt,null,_,gt);for(zt in _)gt=_[zt],At=x[zt],!_.hasOwnProperty(zt)||gt===At||gt==null&&At==null||Ta(d,p,zt,gt,_,At)}function Mz(d){switch(d){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $ue(){if(typeof performance.getEntriesByType=="function"){for(var d=0,p=0,x=performance.getEntriesByType("resource"),_=0;_<x.length;_++){var P=x[_],M=P.transferSize,ae=P.initiatorType,be=P.duration;if(M&&be&&Mz(ae)){for(ae=0,be=P.responseEnd,_+=1;_<x.length;_++){var Be=x[_],pt=Be.startTime;if(pt>be)break;var Pt=Be.transferSize,zt=Be.initiatorType;Pt&&Mz(zt)&&(Be=Be.responseEnd,ae+=Pt*(Be<be?1:(be-pt)/(Be-pt)))}if(--_,p+=8*(M+ae)/(P.duration/1e3),d++,10<d)break}}if(0<d)return p/d/1e6}return navigator.connection&&(d=navigator.connection.downlink,typeof d=="number")?d:5}var UO=null,zO=null;function B4(d){return d.nodeType===9?d:d.ownerDocument}function Fz(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bz(d,p){if(d===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&p==="foreignObject"?0:d}function $O(d,p){return d==="textarea"||d==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var VO=null;function Vue(){var d=window.event;return d&&d.type==="popstate"?d===VO?!1:(VO=d,!0):(VO=null,!1)}var Uz=typeof setTimeout=="function"?setTimeout:void 0,Hue=typeof clearTimeout=="function"?clearTimeout:void 0,zz=typeof Promise=="function"?Promise:void 0,que=typeof queueMicrotask=="function"?queueMicrotask:typeof zz<"u"?function(d){return zz.resolve(null).then(d).catch(Gue)}:Uz;function Gue(d){setTimeout(function(){throw d})}function hg(d){return d==="head"}function $z(d,p){var x=p,_=0;do{var P=x.nextSibling;if(d.removeChild(x),P&&P.nodeType===8)if(x=P.data,x==="/$"||x==="/&"){if(_===0){d.removeChild(P),Ab(p);return}_--}else if(x==="$"||x==="$?"||x==="$~"||x==="$!"||x==="&")_++;else if(x==="html")iA(d.ownerDocument.documentElement);else if(x==="head"){x=d.ownerDocument.head,iA(x);for(var M=x.firstChild;M;){var ae=M.nextSibling,be=M.nodeName;M[lt]||be==="SCRIPT"||be==="STYLE"||be==="LINK"&&M.rel.toLowerCase()==="stylesheet"||x.removeChild(M),M=ae}}else x==="body"&&iA(d.ownerDocument.body);x=P}while(x);Ab(p)}function Vz(d,p){var x=d;d=0;do{var _=x.nextSibling;if(x.nodeType===1?p?(x._stashedDisplay=x.style.display,x.style.display="none"):(x.style.display=x._stashedDisplay||"",x.getAttribute("style")===""&&x.removeAttribute("style")):x.nodeType===3&&(p?(x._stashedText=x.nodeValue,x.nodeValue=""):x.nodeValue=x._stashedText||""),_&&_.nodeType===8)if(x=_.data,x==="/$"){if(d===0)break;d--}else x!=="$"&&x!=="$?"&&x!=="$~"&&x!=="$!"||d++;x=_}while(x)}function HO(d){var p=d.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var x=p;switch(p=p.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":HO(x),Gt(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}d.removeChild(x)}}function Wue(d,p,x,_){for(;d.nodeType===1;){var P=x;if(d.nodeName.toLowerCase()!==p.toLowerCase()){if(!_&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(_){if(!d[lt])switch(p){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(M=d.getAttribute("rel"),M==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(M!==P.rel||d.getAttribute("href")!==(P.href==null||P.href===""?null:P.href)||d.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin)||d.getAttribute("title")!==(P.title==null?null:P.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(M=d.getAttribute("src"),(M!==(P.src==null?null:P.src)||d.getAttribute("type")!==(P.type==null?null:P.type)||d.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin))&&M&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(p==="input"&&d.type==="hidden"){var M=P.name==null?null:""+P.name;if(P.type==="hidden"&&d.getAttribute("name")===M)return d}else return d;if(d=Ld(d.nextSibling),d===null)break}return null}function Kue(d,p,x){if(p==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!x||(d=Ld(d.nextSibling),d===null))return null;return d}function Hz(d,p){for(;d.nodeType!==8;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!p||(d=Ld(d.nextSibling),d===null))return null;return d}function qO(d){return d.data==="$?"||d.data==="$~"}function GO(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState!=="loading"}function Yue(d,p){var x=d.ownerDocument;if(d.data==="$~")d._reactRetry=p;else if(d.data!=="$?"||x.readyState!=="loading")p();else{var _=function(){p(),x.removeEventListener("DOMContentLoaded",_)};x.addEventListener("DOMContentLoaded",_),d._reactRetry=_}}function Ld(d){for(;d!=null;d=d.nextSibling){var p=d.nodeType;if(p===1||p===3)break;if(p===8){if(p=d.data,p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"||p==="F!"||p==="F")break;if(p==="/$"||p==="/&")return null}}return d}var WO=null;function qz(d){d=d.nextSibling;for(var p=0;d;){if(d.nodeType===8){var x=d.data;if(x==="/$"||x==="/&"){if(p===0)return Ld(d.nextSibling);p--}else x!=="$"&&x!=="$!"&&x!=="$?"&&x!=="$~"&&x!=="&"||p++}d=d.nextSibling}return null}function Gz(d){d=d.previousSibling;for(var p=0;d;){if(d.nodeType===8){var x=d.data;if(x==="$"||x==="$!"||x==="$?"||x==="$~"||x==="&"){if(p===0)return d;p--}else x!=="/$"&&x!=="/&"||p++}d=d.previousSibling}return null}function Wz(d,p,x){switch(p=B4(x),d){case"html":if(d=p.documentElement,!d)throw Error(n(452));return d;case"head":if(d=p.head,!d)throw Error(n(453));return d;case"body":if(d=p.body,!d)throw Error(n(454));return d;default:throw Error(n(451))}}function iA(d){for(var p=d.attributes;p.length;)d.removeAttributeNode(p[0]);Gt(d)}var Md=new Map,Kz=new Set;function U4(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var mp=X.d;X.d={f:Xue,r:Jue,D:Zue,C:Que,L:ede,m:tde,X:nde,S:rde,M:ade};function Xue(){var d=mp.f(),p=P4();return d||p}function Jue(d){var p=Xt(d);p!==null&&p.tag===5&&p.type==="form"?dU(p):mp.r(d)}var yb=typeof document>"u"?null:document;function Yz(d,p,x){var _=yb;if(_&&typeof p=="string"&&p){var P=gi(p);P='link[rel="'+d+'"][href="'+P+'"]',typeof x=="string"&&(P+='[crossorigin="'+x+'"]'),Kz.has(P)||(Kz.add(P),d={rel:d,crossOrigin:x,href:p},_.querySelector(P)===null&&(p=_.createElement("link"),ol(p,"link",d),Ar(p),_.head.appendChild(p)))}}function Zue(d){mp.D(d),Yz("dns-prefetch",d,null)}function Que(d,p){mp.C(d,p),Yz("preconnect",d,p)}function ede(d,p,x){mp.L(d,p,x);var _=yb;if(_&&d&&p){var P='link[rel="preload"][as="'+gi(p)+'"]';p==="image"&&x&&x.imageSrcSet?(P+='[imagesrcset="'+gi(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(P+='[imagesizes="'+gi(x.imageSizes)+'"]')):P+='[href="'+gi(d)+'"]';var M=P;switch(p){case"style":M=bb(d);break;case"script":M=wb(d)}Md.has(M)||(d=f({rel:"preload",href:p==="image"&&x&&x.imageSrcSet?void 0:d,as:p},x),Md.set(M,d),_.querySelector(P)!==null||p==="style"&&_.querySelector(sA(M))||p==="script"&&_.querySelector(oA(M))||(p=_.createElement("link"),ol(p,"link",d),Ar(p),_.head.appendChild(p)))}}function tde(d,p){mp.m(d,p);var x=yb;if(x&&d){var _=p&&typeof p.as=="string"?p.as:"script",P='link[rel="modulepreload"][as="'+gi(_)+'"][href="'+gi(d)+'"]',M=P;switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=wb(d)}if(!Md.has(M)&&(d=f({rel:"modulepreload",href:d},p),Md.set(M,d),x.querySelector(P)===null)){switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(oA(M)))return}_=x.createElement("link"),ol(_,"link",d),Ar(_),x.head.appendChild(_)}}}function rde(d,p,x){mp.S(d,p,x);var _=yb;if(_&&d){var P=lr(_).hoistableStyles,M=bb(d);p=p||"default";var ae=P.get(M);if(!ae){var be={loading:0,preload:null};if(ae=_.querySelector(sA(M)))be.loading=5;else{d=f({rel:"stylesheet",href:d,"data-precedence":p},x),(x=Md.get(M))&&KO(d,x);var Be=ae=_.createElement("link");Ar(Be),ol(Be,"link",d),Be._p=new Promise(function(pt,Pt){Be.onload=pt,Be.onerror=Pt}),Be.addEventListener("load",function(){be.loading|=1}),Be.addEventListener("error",function(){be.loading|=2}),be.loading|=4,z4(ae,p,_)}ae={type:"stylesheet",instance:ae,count:1,state:be},P.set(M,ae)}}}function nde(d,p){mp.X(d,p);var x=yb;if(x&&d){var _=lr(x).hoistableScripts,P=wb(d),M=_.get(P);M||(M=x.querySelector(oA(P)),M||(d=f({src:d,async:!0},p),(p=Md.get(P))&&YO(d,p),M=x.createElement("script"),Ar(M),ol(M,"link",d),x.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},_.set(P,M))}}function ade(d,p){mp.M(d,p);var x=yb;if(x&&d){var _=lr(x).hoistableScripts,P=wb(d),M=_.get(P);M||(M=x.querySelector(oA(P)),M||(d=f({src:d,async:!0,type:"module"},p),(p=Md.get(P))&&YO(d,p),M=x.createElement("script"),Ar(M),ol(M,"link",d),x.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},_.set(P,M))}}function Xz(d,p,x,_){var P=(P=le.current)?U4(P):null;if(!P)throw Error(n(446));switch(d){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(p=bb(x.href),x=lr(P).hoistableStyles,_=x.get(p),_||(_={type:"style",instance:null,count:0,state:null},x.set(p,_)),_):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){d=bb(x.href);var M=lr(P).hoistableStyles,ae=M.get(d);if(ae||(P=P.ownerDocument||P,ae={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(d,ae),(M=P.querySelector(sA(d)))&&!M._p&&(ae.instance=M,ae.state.loading=5),Md.has(d)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},Md.set(d,x),M||ide(P,d,x,ae.state))),p&&_===null)throw Error(n(528,""));return ae}if(p&&_!==null)throw Error(n(529,""));return null;case"script":return p=x.async,x=x.src,typeof x=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=wb(x),x=lr(P).hoistableScripts,_=x.get(p),_||(_={type:"script",instance:null,count:0,state:null},x.set(p,_)),_):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,d))}}function bb(d){return'href="'+gi(d)+'"'}function sA(d){return'link[rel="stylesheet"]['+d+"]"}function Jz(d){return f({},d,{"data-precedence":d.precedence,precedence:null})}function ide(d,p,x,_){d.querySelector('link[rel="preload"][as="style"]['+p+"]")?_.loading=1:(p=d.createElement("link"),_.preload=p,p.addEventListener("load",function(){return _.loading|=1}),p.addEventListener("error",function(){return _.loading|=2}),ol(p,"link",x),Ar(p),d.head.appendChild(p))}function wb(d){return'[src="'+gi(d)+'"]'}function oA(d){return"script[async]"+d}function Zz(d,p,x){if(p.count++,p.instance===null)switch(p.type){case"style":var _=d.querySelector('style[data-href~="'+gi(x.href)+'"]');if(_)return p.instance=_,Ar(_),_;var P=f({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return _=(d.ownerDocument||d).createElement("style"),Ar(_),ol(_,"style",P),z4(_,x.precedence,d),p.instance=_;case"stylesheet":P=bb(x.href);var M=d.querySelector(sA(P));if(M)return p.state.loading|=4,p.instance=M,Ar(M),M;_=Jz(x),(P=Md.get(P))&&KO(_,P),M=(d.ownerDocument||d).createElement("link"),Ar(M);var ae=M;return ae._p=new Promise(function(be,Be){ae.onload=be,ae.onerror=Be}),ol(M,"link",_),p.state.loading|=4,z4(M,x.precedence,d),p.instance=M;case"script":return M=wb(x.src),(P=d.querySelector(oA(M)))?(p.instance=P,Ar(P),P):(_=x,(P=Md.get(M))&&(_=f({},x),YO(_,P)),d=d.ownerDocument||d,P=d.createElement("script"),Ar(P),ol(P,"link",_),d.head.appendChild(P),p.instance=P);case"void":return null;default:throw Error(n(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(_=p.instance,p.state.loading|=4,z4(_,x.precedence,d));return p.instance}function z4(d,p,x){for(var _=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),P=_.length?_[_.length-1]:null,M=P,ae=0;ae<_.length;ae++){var be=_[ae];if(be.dataset.precedence===p)M=be;else if(M!==P)break}M?M.parentNode.insertBefore(d,M.nextSibling):(p=x.nodeType===9?x.head:x,p.insertBefore(d,p.firstChild))}function KO(d,p){d.crossOrigin==null&&(d.crossOrigin=p.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=p.referrerPolicy),d.title==null&&(d.title=p.title)}function YO(d,p){d.crossOrigin==null&&(d.crossOrigin=p.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=p.referrerPolicy),d.integrity==null&&(d.integrity=p.integrity)}var $4=null;function Qz(d,p,x){if($4===null){var _=new Map,P=$4=new Map;P.set(x,_)}else P=$4,_=P.get(x),_||(_=new Map,P.set(x,_));if(_.has(d))return _;for(_.set(d,null),x=x.getElementsByTagName(d),P=0;P<x.length;P++){var M=x[P];if(!(M[lt]||M[_e]||d==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var ae=M.getAttribute(p)||"";ae=d+ae;var be=_.get(ae);be?be.push(M):_.set(ae,[M])}}return _}function e$(d,p,x){d=d.ownerDocument||d,d.head.insertBefore(x,p==="title"?d.querySelector("head > title"):null)}function sde(d,p,x){if(x===1||p.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return d=p.disabled,typeof p.precedence=="string"&&d==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function t$(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}function ode(d,p,x,_){if(x.type==="stylesheet"&&(typeof _.media!="string"||matchMedia(_.media).matches!==!1)&&(x.state.loading&4)===0){if(x.instance===null){var P=bb(_.href),M=p.querySelector(sA(P));if(M){p=M._p,p!==null&&typeof p=="object"&&typeof p.then=="function"&&(d.count++,d=V4.bind(d),p.then(d,d)),x.state.loading|=4,x.instance=M,Ar(M);return}M=p.ownerDocument||p,_=Jz(_),(P=Md.get(P))&&KO(_,P),M=M.createElement("link"),Ar(M);var ae=M;ae._p=new Promise(function(be,Be){ae.onload=be,ae.onerror=Be}),ol(M,"link",_),x.instance=M}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(x,p),(p=x.state.preload)&&(x.state.loading&3)===0&&(d.count++,x=V4.bind(d),p.addEventListener("load",x),p.addEventListener("error",x))}}var XO=0;function lde(d,p){return d.stylesheets&&d.count===0&&q4(d,d.stylesheets),0<d.count||0<d.imgCount?function(x){var _=setTimeout(function(){if(d.stylesheets&&q4(d,d.stylesheets),d.unsuspend){var M=d.unsuspend;d.unsuspend=null,M()}},6e4+p);0<d.imgBytes&&XO===0&&(XO=62500*$ue());var P=setTimeout(function(){if(d.waitingForImages=!1,d.count===0&&(d.stylesheets&&q4(d,d.stylesheets),d.unsuspend)){var M=d.unsuspend;d.unsuspend=null,M()}},(d.imgBytes>XO?50:800)+p);return d.unsuspend=x,function(){d.unsuspend=null,clearTimeout(_),clearTimeout(P)}}:null}function V4(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)q4(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var H4=null;function q4(d,p){d.stylesheets=null,d.unsuspend!==null&&(d.count++,H4=new Map,p.forEach(cde,d),H4=null,V4.call(d))}function cde(d,p){if(!(p.state.loading&4)){var x=H4.get(d);if(x)var _=x.get(null);else{x=new Map,H4.set(d,x);for(var P=d.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<P.length;M++){var ae=P[M];(ae.nodeName==="LINK"||ae.getAttribute("media")!=="not all")&&(x.set(ae.dataset.precedence,ae),_=ae)}_&&x.set(null,_)}P=p.instance,ae=P.getAttribute("data-precedence"),M=x.get(ae)||_,M===_&&x.set(null,P),x.set(ae,P),this.count++,_=V4.bind(this),P.addEventListener("load",_),P.addEventListener("error",_),M?M.parentNode.insertBefore(P,M.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(P,d.firstChild)),p.state.loading|=4}}var lA={$$typeof:N,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function ude(d,p,x,_,P,M,ae,be,Be){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=_,this.onUncaughtError=P,this.onCaughtError=M,this.onRecoverableError=ae,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Be,this.incompleteTransitions=new Map}function r$(d,p,x,_,P,M,ae,be,Be,pt,Pt,zt){return d=new ude(d,p,x,ae,Be,pt,Pt,zt,be),p=1,M===!0&&(p|=24),M=ko(3,null,null,p),d.current=M,M.stateNode=d,p=eg(),p.refCount++,d.pooledCache=p,p.refCount++,M.memoizedState={element:_,isDehydrated:x,cache:p},ta(M),d}function n$(d){return d?(d=Ba,d):Ba}function a$(d,p,x,_,P,M){P=n$(P),_.context===null?_.context=P:_.pendingContext=P,_=Xr(p),_.payload={element:x},M=M===void 0?null:M,M!==null&&(_.callback=M),x=fa(d,_,p),x!==null&&(nu(x,d,p),Cs(x,d,p))}function i$(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var x=d.retryLane;d.retryLane=x!==0&&x<p?x:p}}function JO(d,p){i$(d,p),(d=d.alternate)&&i$(d,p)}function s$(d){if(d.tag===13||d.tag===31){var p=Na(d,67108864);p!==null&&nu(p,d,67108864),JO(d,67108864)}}function o$(d){if(d.tag===13||d.tag===31){var p=Lu();p=Fa(p);var x=Na(d,p);x!==null&&nu(x,d,p),JO(d,p)}}var G4=!0;function dde(d,p,x,_){var P=Q.T;Q.T=null;var M=X.p;try{X.p=2,ZO(d,p,x,_)}finally{X.p=M,Q.T=P}}function hde(d,p,x,_){var P=Q.T;Q.T=null;var M=X.p;try{X.p=8,ZO(d,p,x,_)}finally{X.p=M,Q.T=P}}function ZO(d,p,x,_){if(G4){var P=QO(_);if(P===null)FO(d,p,_,W4,x),c$(d,_);else if(pde(P,d,p,x,_))_.stopPropagation();else if(c$(d,_),p&4&&-1<fde.indexOf(d)){for(;P!==null;){var M=Xt(P);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var ae=hn(M.pendingLanes);if(ae!==0){var be=M;for(be.pendingLanes|=2,be.entangledLanes|=2;ae;){var Be=1<<31-Mt(ae);be.entanglements[1]|=Be,ae&=~Be}Yf(M),(ra&6)===0&&(C4=We()+500,rA(0))}}break;case 31:case 13:be=Na(M,2),be!==null&&nu(be,M,2),P4(),JO(M,2)}if(M=QO(_),M===null&&FO(d,p,_,W4,x),M===P)break;P=M}P!==null&&_.stopPropagation()}else FO(d,p,_,null,x)}}function QO(d){return d=bh(d),e6(d)}var W4=null;function e6(d){if(W4=null,d=ar(d),d!==null){var p=i(d);if(p===null)d=null;else{var x=p.tag;if(x===13){if(d=s(p),d!==null)return d;d=null}else if(x===31){if(d=o(p),d!==null)return d;d=null}else if(x===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;d=null}else p!==d&&(d=null)}}return W4=d,null}function l$(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case ir:return 2;case Vt:return 8;case Ue:case ur:return 32;case xt:return 268435456;default:return 32}default:return 32}}var t6=!1,fg=null,pg=null,mg=null,cA=new Map,uA=new Map,gg=[],fde="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c$(d,p){switch(d){case"focusin":case"focusout":fg=null;break;case"dragenter":case"dragleave":pg=null;break;case"mouseover":case"mouseout":mg=null;break;case"pointerover":case"pointerout":cA.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":uA.delete(p.pointerId)}}function dA(d,p,x,_,P,M){return d===null||d.nativeEvent!==M?(d={blockedOn:p,domEventName:x,eventSystemFlags:_,nativeEvent:M,targetContainers:[P]},p!==null&&(p=Xt(p),p!==null&&s$(p)),d):(d.eventSystemFlags|=_,p=d.targetContainers,P!==null&&p.indexOf(P)===-1&&p.push(P),d)}function pde(d,p,x,_,P){switch(p){case"focusin":return fg=dA(fg,d,p,x,_,P),!0;case"dragenter":return pg=dA(pg,d,p,x,_,P),!0;case"mouseover":return mg=dA(mg,d,p,x,_,P),!0;case"pointerover":var M=P.pointerId;return cA.set(M,dA(cA.get(M)||null,d,p,x,_,P)),!0;case"gotpointercapture":return M=P.pointerId,uA.set(M,dA(uA.get(M)||null,d,p,x,_,P)),!0}return!1}function u$(d){var p=ar(d.target);if(p!==null){var x=i(p);if(x!==null){if(p=x.tag,p===13){if(p=s(x),p!==null){d.blockedOn=p,Pe(d.priority,function(){o$(x)});return}}else if(p===31){if(p=o(x),p!==null){d.blockedOn=p,Pe(d.priority,function(){o$(x)});return}}else if(p===3&&x.stateNode.current.memoizedState.isDehydrated){d.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}d.blockedOn=null}function K4(d){if(d.blockedOn!==null)return!1;for(var p=d.targetContainers;0<p.length;){var x=QO(d.nativeEvent);if(x===null){x=d.nativeEvent;var _=new x.constructor(x.type,x);Pl=_,x.target.dispatchEvent(_),Pl=null}else return p=Xt(x),p!==null&&s$(p),d.blockedOn=x,!1;p.shift()}return!0}function d$(d,p,x){K4(d)&&x.delete(p)}function mde(){t6=!1,fg!==null&&K4(fg)&&(fg=null),pg!==null&&K4(pg)&&(pg=null),mg!==null&&K4(mg)&&(mg=null),cA.forEach(d$),uA.forEach(d$)}function Y4(d,p){d.blockedOn===p&&(d.blockedOn=null,t6||(t6=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,mde)))}var X4=null;function h$(d){X4!==d&&(X4=d,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){X4===d&&(X4=null);for(var p=0;p<d.length;p+=3){var x=d[p],_=d[p+1],P=d[p+2];if(typeof _!="function"){if(e6(_||x)===null)continue;break}var M=Xt(x);M!==null&&(d.splice(p,3),p-=3,QP(M,{pending:!0,data:P,method:x.method,action:_},_,P))}}))}function Ab(d){function p(Be){return Y4(Be,d)}fg!==null&&Y4(fg,d),pg!==null&&Y4(pg,d),mg!==null&&Y4(mg,d),cA.forEach(p),uA.forEach(p);for(var x=0;x<gg.length;x++){var _=gg[x];_.blockedOn===d&&(_.blockedOn=null)}for(;0<gg.length&&(x=gg[0],x.blockedOn===null);)u$(x),x.blockedOn===null&&gg.shift();if(x=(d.ownerDocument||d).$$reactFormReplay,x!=null)for(_=0;_<x.length;_+=3){var P=x[_],M=x[_+1],ae=P[je]||null;if(typeof M=="function")ae||h$(x);else if(ae){var be=null;if(M&&M.hasAttribute("formAction")){if(P=M,ae=M[je]||null)be=ae.formAction;else if(e6(P)!==null)continue}else be=ae.action;typeof be=="function"?x[_+1]=be:(x.splice(_,3),_-=3),h$(x)}}}function f$(){function d(M){M.canIntercept&&M.info==="react-transition"&&M.intercept({handler:function(){return new Promise(function(ae){return P=ae})},focusReset:"manual",scroll:"manual"})}function p(){P!==null&&(P(),P=null),_||setTimeout(x,20)}function x(){if(!_&&!navigation.transition){var M=navigation.currentEntry;M&&M.url!=null&&navigation.navigate(M.url,{state:M.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var _=!1,P=null;return navigation.addEventListener("navigate",d),navigation.addEventListener("navigatesuccess",p),navigation.addEventListener("navigateerror",p),setTimeout(x,100),function(){_=!0,navigation.removeEventListener("navigate",d),navigation.removeEventListener("navigatesuccess",p),navigation.removeEventListener("navigateerror",p),P!==null&&(P(),P=null)}}}function r6(d){this._internalRoot=d}J4.prototype.render=r6.prototype.render=function(d){var p=this._internalRoot;if(p===null)throw Error(n(409));var x=p.current,_=Lu();a$(x,_,d,p,null,null)},J4.prototype.unmount=r6.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var p=d.containerInfo;a$(d.current,2,null,d,null,null),P4(),p[ke]=null}};function J4(d){this._internalRoot=d}J4.prototype.unstable_scheduleHydration=function(d){if(d){var p=ge();d={blockedOn:null,target:d,priority:p};for(var x=0;x<gg.length&&p!==0&&p<gg[x].priority;x++);gg.splice(x,0,d),x===0&&u$(d)}};var p$=e.version;if(p$!=="19.2.3")throw Error(n(527,p$,"19.2.3"));X.findDOMNode=function(d){var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=u(p),d=d!==null?h(d):null,d=d===null?null:d.stateNode,d};var gde={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Z4=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Z4.isDisabled&&Z4.supportsFiber)try{gr=Z4.inject(gde),Lr=Z4}catch{}}return fA.createRoot=function(d,p){if(!a(d))throw Error(n(299));var x=!1,_="",P=wU,M=AU,ae=_U;return p!=null&&(p.unstable_strictMode===!0&&(x=!0),p.identifierPrefix!==void 0&&(_=p.identifierPrefix),p.onUncaughtError!==void 0&&(P=p.onUncaughtError),p.onCaughtError!==void 0&&(M=p.onCaughtError),p.onRecoverableError!==void 0&&(ae=p.onRecoverableError)),p=r$(d,1,!1,null,null,x,_,null,P,M,ae,f$),d[ke]=p.current,MO(d),new r6(p)},fA.hydrateRoot=function(d,p,x){if(!a(d))throw Error(n(299));var _=!1,P="",M=wU,ae=AU,be=_U,Be=null;return x!=null&&(x.unstable_strictMode===!0&&(_=!0),x.identifierPrefix!==void 0&&(P=x.identifierPrefix),x.onUncaughtError!==void 0&&(M=x.onUncaughtError),x.onCaughtError!==void 0&&(ae=x.onCaughtError),x.onRecoverableError!==void 0&&(be=x.onRecoverableError),x.formState!==void 0&&(Be=x.formState)),p=r$(d,1,!0,p,x??null,_,P,Be,M,ae,be,f$),p.context=n$(null),x=p.current,_=Lu(),_=Fa(_),P=Xr(_),P.callback=null,fa(x,P,_),x=_,p.current.lanes=x,ni(p,x),Yf(p),d[ke]=p.current,MO(d),new J4(p)},fA.version="19.2.3",fA}var N$;function kde(){if(N$)return s6.exports;N$=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),s6.exports=Cde(),s6.exports}var Pde=kde();const Ode=ph(Pde);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E$="popstate";function Dde(t={}){function e(n,a){let{pathname:i,search:s,hash:o}=n.location;return QR("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:O_(a)}return Ide(e,r,null,t)}function yo(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rde(){return Math.random().toString(36).substring(2,10)}function T$(t,e){return{usr:t.state,key:t.key,idx:e}}function QR(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?cE(e):e,state:r,key:e&&e.key||n||Rde()}}function O_({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function cE(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Ide(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o="POP",l=null,u=h();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function h(){return(s.state||{idx:null}).idx}function f(){o="POP";let w=h(),A=w==null?null:w-u;u=w,l&&l({action:o,location:y.location,delta:A})}function m(w,A){o="PUSH";let S=QR(y.location,w,A);u=h()+1;let N=T$(S,u),T=y.createHref(S);try{s.pushState(N,"",T)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(T)}i&&l&&l({action:o,location:y.location,delta:1})}function g(w,A){o="REPLACE";let S=QR(y.location,w,A);u=h();let N=T$(S,u),T=y.createHref(S);s.replaceState(N,"",T),i&&l&&l({action:o,location:y.location,delta:0})}function b(w){return Lde(w)}let y={get action(){return o},get location(){return t(a,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(E$,f),l=w,()=>{a.removeEventListener(E$,f),l=null}},createHref(w){return e(a,w)},createURL:b,encodeLocation(w){let A=b(w);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:m,replace:g,go(w){return s.go(w)}};return y}function Lde(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),yo(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:O_(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function JX(t,e,r="/"){return Mde(t,e,r,!1)}function Mde(t,e,r,n){let a=typeof e=="string"?cE(e):e,i=Am(a.pathname||"/",r);if(i==null)return null;let s=ZX(t);Fde(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=Yde(i);o=Wde(s[l],u,n)}return o}function ZX(t,e=[],r=[],n="",a=!1){let i=(s,o,l=a,u)=>{let h={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&l)return;yo(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let f=dm([n,h.relativePath]),m=r.concat(h);s.children&&s.children.length>0&&(yo(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),ZX(s.children,e,m,f,l)),!(s.path==null&&!s.index)&&e.push({path:f,score:qde(f,s.index),routesMeta:m})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of QX(s.path))i(s,o,!0,u)}),e}function QX(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=QX(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Fde(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Gde(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Bde=/^:[\w-]+$/,Ude=3,zde=2,$de=1,Vde=10,Hde=-2,j$=t=>t==="*";function qde(t,e){let r=t.split("/"),n=r.length;return r.some(j$)&&(n+=Hde),e&&(n+=zde),r.filter(a=>!j$(a)).reduce((a,i)=>a+(Bde.test(i)?Ude:i===""?$de:Vde),n)}function Gde(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function Wde(t,e,r=!1){let{routesMeta:n}=t,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=aj({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),m=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=aj({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:dm([i,f.pathname]),pathnameBase:Qde(dm([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=dm([i,f.pathnameBase]))}return s}function aj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Kde(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,{paramName:h,isOptional:f},m)=>{if(h==="*"){let b=o[m]||"";s=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=o[m];return f&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:t}}function Kde(t,e=!1,r=!0){vf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function Yde(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vf(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Am(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var eJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xde=t=>eJ.test(t);function Jde(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?cE(t):t,i;if(r)if(Xde(r))i=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),vf(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${r}`)}r.startsWith("/")?i=C$(r.substring(1),"/"):i=C$(r,e)}else i=e;return{pathname:i,search:ehe(n),hash:the(a)}}function C$(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function u6(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zde(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function tJ(t){let e=Zde(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function rJ(t,e,r,n=!1){let a;typeof t=="string"?a=cE(t):(a={...t},yo(!a.pathname||!a.pathname.includes("?"),u6("?","pathname","search",a)),yo(!a.pathname||!a.pathname.includes("#"),u6("#","pathname","hash",a)),yo(!a.search||!a.search.includes("#"),u6("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=e.length-1;if(!n&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}o=f>=0?e[f]:"/"}let l=Jde(a,o),u=s&&s!=="/"&&s.endsWith("/"),h=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var dm=t=>t.join("/").replace(/\/\/+/g,"/"),Qde=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ehe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,the=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,rhe=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function nhe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function ahe(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var nJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function aJ(t,e){let r=t;if(typeof r!="string"||!eJ.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(nJ)try{let i=new URL(window.location.href),s=r.startsWith("//")?new URL(i.protocol+r):new URL(r),o=Am(s.pathname,e);s.origin===i.origin&&o!=null?r=o+s.search+s.hash:a=!0}catch{vf(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iJ=["POST","PUT","PATCH","DELETE"];new Set(iJ);var ihe=["GET",...iJ];new Set(ihe);var f5=C.createContext(null);f5.displayName="DataRouter";var uk=C.createContext(null);uk.displayName="DataRouterState";var she=C.createContext(!1),sJ=C.createContext({isTransitioning:!1});sJ.displayName="ViewTransition";var ohe=C.createContext(new Map);ohe.displayName="Fetchers";var lhe=C.createContext(null);lhe.displayName="Await";var mh=C.createContext(null);mh.displayName="Navigation";var dk=C.createContext(null);dk.displayName="Location";var Bm=C.createContext({outlet:null,matches:[],isDataRoute:!1});Bm.displayName="Route";var R8=C.createContext(null);R8.displayName="RouteError";var oJ="REACT_ROUTER_ERROR",che="REDIRECT",uhe="ROUTE_ERROR_RESPONSE";function dhe(t){if(t.startsWith(`${oJ}:${che}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function hhe(t){if(t.startsWith(`${oJ}:${uhe}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new rhe(e.status,e.statusText,e.data)}catch{}}function fhe(t,{relative:e}={}){yo(uE(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=C.useContext(mh),{hash:a,pathname:i,search:s}=dE(t,{relative:e}),o=i;return r!=="/"&&(o=i==="/"?r:dm([r,i])),n.createHref({pathname:o,search:s,hash:a})}function uE(){return C.useContext(dk)!=null}function Iy(){return yo(uE(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(dk).location}var lJ="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cJ(t){C.useContext(mh).static||C.useLayoutEffect(t)}function uJ(){let{isDataRoute:t}=C.useContext(Bm);return t?Ehe():phe()}function phe(){yo(uE(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(f5),{basename:e,navigator:r}=C.useContext(mh),{matches:n}=C.useContext(Bm),{pathname:a}=Iy(),i=JSON.stringify(tJ(n)),s=C.useRef(!1);return cJ(()=>{s.current=!0}),C.useCallback((l,u={})=>{if(vf(s.current,lJ),!s.current)return;if(typeof l=="number"){r.go(l);return}let h=rJ(l,JSON.parse(i),a,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:dm([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,i,a,t])}C.createContext(null);function dE(t,{relative:e}={}){let{matches:r}=C.useContext(Bm),{pathname:n}=Iy(),a=JSON.stringify(tJ(r));return C.useMemo(()=>rJ(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function mhe(t,e,r,n,a){yo(uE(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=C.useContext(mh),{matches:s}=C.useContext(Bm),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",h=o?o.pathnameBase:"/",f=o&&o.route;{let S=f&&f.path||"";hJ(u,!f||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let m=Iy(),g;g=m;let b=g.pathname||"/",y=b;if(h!=="/"){let S=h.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=JX(t,{pathname:y});return vf(f||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),vf(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),bhe(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:dm([h,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:dm([h,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),s,r,n,a)}function ghe(){let t=Nhe(),e=nhe(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:i},"ErrorBoundary")," or"," ",C.createElement("code",{style:i},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:a},r):null,s)}var xhe=C.createElement(ghe,null),dJ=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=hhe(t.digest);r&&(t=r)}let e=t!==void 0?C.createElement(Bm.Provider,{value:this.props.routeContext},C.createElement(R8.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?C.createElement(vhe,{error:t},e):e}};dJ.contextType=she;var d6=new WeakMap;function vhe({children:t,error:e}){let{basename:r}=C.useContext(mh);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=dhe(e.digest);if(n){let a=d6.get(e);if(a)throw a;let i=aJ(n.location,r);if(nJ&&!d6.get(e))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw d6.set(e,s),s}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function yhe({routeContext:t,match:e,children:r}){let n=C.useContext(f5);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Bm.Provider,{value:t},r)}function bhe(t,e=[],r=null,n=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,s=r==null?void 0:r.errors;if(s!=null){let h=i.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);yo(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let o=!1,l=-1;if(r)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=h),f.route.id){let{loaderData:m,errors:g}=r,b=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}let u=r&&n?(h,f)=>{var m,g;n(h,{location:r.location,params:((g=(m=r.matches)==null?void 0:m[0])==null?void 0:g.params)??{},unstable_pattern:ahe(r.matches),errorInfo:f})}:void 0;return i.reduceRight((h,f,m)=>{let g,b=!1,y=null,w=null;r&&(g=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||xhe,o&&(l<0&&m===0?(hJ("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):l===m&&(b=!0,w=f.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,m+1)),S=()=>{let N;return g?N=y:b?N=w:f.route.Component?N=C.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=h,C.createElement(yhe,{match:f,routeContext:{outlet:h,matches:A,isDataRoute:r!=null},children:N})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?C.createElement(dJ,{location:r.location,revalidation:r.revalidation,component:y,error:g,children:S(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:u}):S()},null)}function I8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function whe(t){let e=C.useContext(f5);return yo(e,I8(t)),e}function Ahe(t){let e=C.useContext(uk);return yo(e,I8(t)),e}function _he(t){let e=C.useContext(Bm);return yo(e,I8(t)),e}function L8(t){let e=_he(t),r=e.matches[e.matches.length-1];return yo(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function She(){return L8("useRouteId")}function Nhe(){var n;let t=C.useContext(R8),e=Ahe("useRouteError"),r=L8("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Ehe(){let{router:t}=whe("useNavigate"),e=L8("useNavigate"),r=C.useRef(!1);return cJ(()=>{r.current=!0}),C.useCallback(async(a,i={})=>{vf(r.current,lJ),r.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var k$={};function hJ(t,e,r){!e&&!k$[t]&&(k$[t]=!0,vf(!1,r))}C.memo(The);function The({routes:t,future:e,state:r,onError:n}){return mhe(t,void 0,r,n,e)}function jhe({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:s}){yo(!uE(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:o,navigator:a,static:i,unstable_useTransitions:s,future:{}}),[o,a,i,s]);typeof r=="string"&&(r=cE(r));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:g="default"}=r,b=C.useMemo(()=>{let y=Am(u,o);return y==null?null:{location:{pathname:y,search:h,hash:f,state:m,key:g},navigationType:n}},[o,u,h,f,m,g,n]);return vf(b!=null,`<Router basename="${o}"> is not able to match the URL "${u}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:C.createElement(mh.Provider,{value:l},C.createElement(dk.Provider,{children:e,value:b}))}var n3="get",a3="application/x-www-form-urlencoded";function hk(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Che(t){return hk(t)&&t.tagName.toLowerCase()==="button"}function khe(t){return hk(t)&&t.tagName.toLowerCase()==="form"}function Phe(t){return hk(t)&&t.tagName.toLowerCase()==="input"}function Ohe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Dhe(t,e){return t.button===0&&(!e||e==="_self")&&!Ohe(t)}var Q4=null;function Rhe(){if(Q4===null)try{new FormData(document.createElement("form"),0),Q4=!1}catch{Q4=!0}return Q4}var Ihe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function h6(t){return t!=null&&!Ihe.has(t)?(vf(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${a3}"`),null):t}function Lhe(t,e){let r,n,a,i,s;if(khe(t)){let o=t.getAttribute("action");n=o?Am(o,e):null,r=t.getAttribute("method")||n3,a=h6(t.getAttribute("enctype"))||a3,i=new FormData(t)}else if(Che(t)||Phe(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(n=l?Am(l,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||n3,a=h6(t.getAttribute("formenctype"))||h6(o.getAttribute("enctype"))||a3,i=new FormData(o,t),!Rhe()){let{name:u,type:h,value:f}=t;if(h==="image"){let m=u?`${u}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else u&&i.append(u,f)}}else{if(hk(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=n3,n=null,a=a3,s=t}return i&&a==="text/plain"&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function M8(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mhe(t,e,r,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:e&&Am(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function Fhe(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Bhe(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Uhe(t,e,r){let n=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let s=await Fhe(i,r);return s.links?s.links():[]}return[]}));return Hhe(n.flat(1).filter(Bhe).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function P$(t,e,r,n,a,i){let s=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,o=(l,u)=>{var h;return r[u].pathname!==l.pathname||((h=r[u].route.path)==null?void 0:h.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,u)=>s(l,u)||o(l,u)):i==="data"?e.filter((l,u)=>{var f;let h=n.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function zhe(t,e,{includeHydrateFallback:r}={}){return $he(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function $he(t){return[...new Set(t)]}function Vhe(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function Hhe(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let i=JSON.stringify(Vhe(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function fJ(){let t=C.useContext(f5);return M8(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function qhe(){let t=C.useContext(uk);return M8(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var F8=C.createContext(void 0);F8.displayName="FrameworkContext";function pJ(){let t=C.useContext(F8);return M8(t,"You must render this element inside a <HydratedRouter> element"),t}function Ghe(t,e){let r=C.useContext(F8),[n,a]=C.useState(!1),[i,s]=C.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=e,m=C.useRef(null);C.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let y=A=>{A.forEach(S=>{s(S.isIntersecting)})},w=new IntersectionObserver(y,{threshold:.5});return m.current&&w.observe(m.current),()=>{w.disconnect()}}},[t]),C.useEffect(()=>{if(n){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[n]);let g=()=>{a(!0)},b=()=>{a(!1),s(!1)};return r?t!=="intent"?[i,m,{}]:[i,m,{onFocus:pA(o,g),onBlur:pA(l,b),onMouseEnter:pA(u,g),onMouseLeave:pA(h,b),onTouchStart:pA(f,g)}]:[!1,m,{}]}function pA(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Whe({page:t,...e}){let{router:r}=fJ(),n=C.useMemo(()=>JX(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?C.createElement(Yhe,{page:t,matches:n,...e}):null}function Khe(t){let{manifest:e,routeModules:r}=pJ(),[n,a]=C.useState([]);return C.useEffect(()=>{let i=!1;return Uhe(t,e,r).then(s=>{i||a(s)}),()=>{i=!0}},[t,e,r]),n}function Yhe({page:t,matches:e,...r}){let n=Iy(),{future:a,manifest:i,routeModules:s}=pJ(),{basename:o}=fJ(),{loaderData:l,matches:u}=qhe(),h=C.useMemo(()=>P$(t,e,u,i,n,"data"),[t,e,u,i,n]),f=C.useMemo(()=>P$(t,e,u,i,n,"assets"),[t,e,u,i,n]),m=C.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let y=new Set,w=!1;if(e.forEach(S=>{var T;let N=i.routes[S.route.id];!N||!N.hasLoader||(!h.some(k=>k.route.id===S.route.id)&&S.route.id in l&&((T=s[S.route.id])!=null&&T.shouldRevalidate)||N.hasClientLoader?w=!0:y.add(S.route.id))}),y.size===0)return[];let A=Mhe(t,o,a.unstable_trailingSlashAwareDataRequests,"data");return w&&y.size>0&&A.searchParams.set("_routes",e.filter(S=>y.has(S.route.id)).map(S=>S.route.id).join(",")),[A.pathname+A.search]},[o,a.unstable_trailingSlashAwareDataRequests,l,n,i,h,e,t,s]),g=C.useMemo(()=>zhe(f,i),[f,i]),b=Khe(f);return C.createElement(C.Fragment,null,m.map(y=>C.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),g.map(y=>C.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),b.map(({key:y,link:w})=>C.createElement("link",{key:y,nonce:r.nonce,...w})))}function Xhe(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Jhe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Jhe&&(window.__reactRouterVersion="7.12.0")}catch{}function Zhe({basename:t,children:e,unstable_useTransitions:r,window:n}){let a=C.useRef();a.current==null&&(a.current=Dde({window:n,v5Compat:!0}));let i=a.current,[s,o]=C.useState({action:i.action,location:i.location}),l=C.useCallback(u=>{r===!1?o(u):C.startTransition(()=>o(u))},[r]);return C.useLayoutEffect(()=>i.listen(l),[i,l]),C.createElement(jhe,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i,unstable_useTransitions:r})}var mJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gJ=C.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:s,state:o,target:l,to:u,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:m,...g},b){let{basename:y,unstable_useTransitions:w}=C.useContext(mh),A=typeof u=="string"&&mJ.test(u),S=aJ(u,y);u=S.to;let N=fhe(u,{relative:a}),[T,k,R]=Ghe(n,g),O=rfe(u,{replace:s,state:o,target:l,preventScrollReset:h,relative:a,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:w});function U(G){e&&e(G),G.defaultPrevented||O(G)}let H=C.createElement("a",{...g,...R,href:S.absoluteURL||N,onClick:S.isExternal||i?e:U,ref:Xhe(b,k),target:l,"data-discover":!A&&r==="render"?"true":void 0});return T&&!A?C.createElement(C.Fragment,null,H,C.createElement(Whe,{page:N})):H});gJ.displayName="Link";var Qhe=C.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:s,viewTransition:o,children:l,...u},h){let f=dE(s,{relative:u.relative}),m=Iy(),g=C.useContext(uk),{navigator:b,basename:y}=C.useContext(mh),w=g!=null&&ofe(f)&&o===!0,A=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,S=m.pathname,N=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(S=S.toLowerCase(),N=N?N.toLowerCase():null,A=A.toLowerCase()),N&&y&&(N=Am(N,y)||N);const T=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let k=S===A||!a&&S.startsWith(A)&&S.charAt(T)==="/",R=N!=null&&(N===A||!a&&N.startsWith(A)&&N.charAt(A.length)==="/"),O={isActive:k,isPending:R,isTransitioning:w},U=k?e:void 0,H;typeof n=="function"?H=n(O):H=[n,k?"active":null,R?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let G=typeof i=="function"?i(O):i;return C.createElement(gJ,{...u,"aria-current":U,className:H,ref:h,style:G,to:s,viewTransition:o},typeof l=="function"?l(O):l)});Qhe.displayName="NavLink";var efe=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:i,method:s=n3,action:o,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:m,...g},b)=>{let{unstable_useTransitions:y}=C.useContext(mh),w=ife(),A=sfe(o,{relative:u}),S=s.toLowerCase()==="get"?"get":"post",N=typeof o=="string"&&mJ.test(o),T=k=>{if(l&&l(k),k.defaultPrevented)return;k.preventDefault();let R=k.nativeEvent.submitter,O=(R==null?void 0:R.getAttribute("formmethod"))||s,U=()=>w(R||k.currentTarget,{fetcherKey:e,method:O,navigate:r,replace:a,state:i,relative:u,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:m});y&&r!==!1?C.startTransition(()=>U()):U()};return C.createElement("form",{ref:b,method:S,action:A,onSubmit:n?l:T,...g,"data-discover":!N&&t==="render"?"true":void 0})});efe.displayName="Form";function tfe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xJ(t){let e=C.useContext(f5);return yo(e,tfe(t)),e}function rfe(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:l}={}){let u=uJ(),h=Iy(),f=dE(t,{relative:i});return C.useCallback(m=>{if(Dhe(m,e)){m.preventDefault();let g=r!==void 0?r:O_(h)===O_(f),b=()=>u(t,{replace:g,state:n,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:o});l?C.startTransition(()=>b()):b()}},[h,u,f,r,n,e,t,a,i,s,o,l])}var nfe=0,afe=()=>`__${String(++nfe)}__`;function ife(){let{router:t}=xJ("useSubmit"),{basename:e}=C.useContext(mh),r=She(),n=t.fetch,a=t.navigate;return C.useCallback(async(i,s={})=>{let{action:o,method:l,encType:u,formData:h,body:f}=Lhe(i,e);if(s.navigate===!1){let m=s.fetcherKey||afe();await n(m,r,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await a(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,a,e,r])}function sfe(t,{relative:e}={}){let{basename:r}=C.useContext(mh),n=C.useContext(Bm);yo(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...dE(t||".",{relative:e})},s=Iy();if(t==null){i.search=s.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(h=>h==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let h=o.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:dm([r,i.pathname])),O_(i)}function ofe(t,{relative:e}={}){let r=C.useContext(sJ);yo(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=xJ("useViewTransitionState"),a=dE(t,{relative:e});if(!r.isTransitioning)return!1;let i=Am(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Am(r.nextLocation.pathname,n)||r.nextLocation.pathname;return aj(a.pathname,s)!=null||aj(a.pathname,i)!=null}var vJ=XX();/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lfe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cfe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),O$=t=>{const e=cfe(t);return e.charAt(0).toUpperCase()+e.slice(1)},yJ=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),ufe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hfe=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},l)=>C.createElement("svg",{ref:l,...dfe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:yJ("lucide",a),...!i&&!ufe(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,h])=>C.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=(t,e)=>{const r=C.forwardRef(({className:n,...a},i)=>C.createElement(hfe,{ref:i,iconNode:e,className:yJ(`lucide-${lfe(O$(t))}`,`lucide-${t}`,n),...a}));return r.displayName=O$(t),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ffe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],$s=Ct("activity",ffe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pfe=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],B8=Ct("arrow-down-right",pfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mfe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],gfe=Ct("arrow-left",mfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xfe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],mu=Ct("arrow-right",xfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vfe=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],hE=Ct("arrow-up-right",vfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yfe=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],D$=Ct("badge-check",yfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],U8=Ct("bell",bfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wfe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],e5=Ct("bot",wfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Afe=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],B0=Ct("brain-circuit",Afe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _fe=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Zb=Ct("briefcase",_fe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sfe=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Wa=Ct("building-2",Sfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nfe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],fk=Ct("calculator",Nfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Efe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pk=Ct("calendar",Efe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tfe=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],jfe=Ct("camera",Tfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cfe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],z8=Ct("chart-column",Cfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kfe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Pc=Ct("check",kfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Px=Ct("chevron-down",Pfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ofe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],t5=Ct("chevron-left",Ofe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dfe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Nx=Ct("chevron-right",Dfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rfe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$8=Ct("chevron-up",Rfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ife=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ys=Ct("circle-alert",Ife);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lfe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ox=Ct("circle-check-big",Lfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ns=Ct("circle-check",Mfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ffe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Bfe=Ct("circle-plus",Ffe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ufe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],zfe=Ct("circle-user",Ufe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $fe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ty=Ct("circle-x",$fe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vfe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mk=Ct("clock",Vfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],qfe=Ct("cloud-upload",Hfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gfe=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],R$=Ct("coins",Gfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],bJ=Ct("command",Wfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kfe=[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]],Yfe=Ct("corner-down-left",Kfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],eI=Ct("cpu",Xfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Lx=Ct("credit-card",Jfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],D_=Ct("database",Zfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qfe=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ry=Ct("dollar-sign",Qfe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0e=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],py=Ct("download",e0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0e=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],r0e=Ct("ellipsis-vertical",t0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0e=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],V8=Ct("external-link",n0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0e=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],i0e=Ct("eye-off",a0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0e=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],my=Ct("eye",s0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0e=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],l0e=Ct("file-check",o0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0e=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],u0e=Ct("file-code",c0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0e=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],I$=Ct("file-down",d0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0e=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fE=Ct("file-exclamation-point",h0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0e=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],p0e=Ct("file-spreadsheet",f0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0e=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Yo=Ct("file-text",m0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0e=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],x0e=Ct("file",g0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0e=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],tI=Ct("fingerprint-pattern",v0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0e=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],H8=Ct("funnel",y0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0e=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],w0e=Ct("gavel",b0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0e=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],_0e=Ct("gem",A0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],gy=Ct("globe",S0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0e=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],E0e=Ct("hash",N0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0e=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],j0e=Ct("hexagon",T0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0e=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],wJ=Ct("history",C0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],P0e=Ct("image",k0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0e=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],AJ=Ct("inbox",O0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_J=Ct("info",D0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0e=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],I0e=Ct("instagram",R0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0e=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],q8=Ct("key",L0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0e=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],F0e=Ct("keyboard",M0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0e=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],G8=Ct("landmark",B0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0e=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],SJ=Ct("layout-dashboard",U0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0e=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],$0e=Ct("layout-grid",z0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0e=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],H0e=Ct("layout-list",V0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0e=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],G0e=Ct("layout-template",q0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0e=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],K0e=Ct("lightbulb",W0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0e=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],X0e=Ct("linkedin",Y0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0e=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 19H3",key:"zzsher"}],["path",{d:"m15.5 9.5 5 5",key:"ytk86i"}],["path",{d:"m20.5 9.5-5 5",key:"17o44f"}]],Z0e=Ct("list-x",J0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0e=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],epe=Ct("list",Q0e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tpe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ji=Ct("loader-circle",tpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],P0=Ct("lock",rpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const npe=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],ape=Ct("log-in",npe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ipe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pE=Ct("log-out",ipe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const spe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],d_=Ct("mail",spe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ope=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],L$=Ct("map-pin",ope);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lpe=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],cpe=Ct("maximize-2",lpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const upe=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],dpe=Ct("menu",upe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hpe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],fpe=Ct("message-square",hpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ppe=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],f6=Ct("monitor",ppe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mpe=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],gpe=Ct("mouse-pointer-2",mpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xpe=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],gk=Ct("octagon-alert",xpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vpe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],rI=Ct("package",vpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ype=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],bpe=Ct("panels-top-left",ype);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wpe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ape=Ct("pen",wpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _pe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Spe=Ct("phone",_pe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Npe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],p2=Ct("plus",Npe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Epe=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],Tpe=Ct("power",Epe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jpe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Cpe=Ct("printer",jpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kpe=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Ppe=Ct("quote",kpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ope=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_m=Ct("refresh-cw",Ope);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dpe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],W8=Ct("save",Dpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rpe=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],K8=Ct("scale",Rpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ipe=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],mE=Ct("scan-line",Ipe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lpe=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],Mpe=Ct("scan",Lpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fpe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yu=Ct("search",Fpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bpe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Upe=Ct("send",Bpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zpe=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Y8=Ct("server",zpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $pe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xy=Ct("settings",$pe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vpe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],vy=Ct("shield-alert",Vpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hpe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ki=Ct("shield-check",Hpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qpe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xk=Ct("shield",qpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gpe=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Wpe=Ct("shopping-bag",Gpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kpe=[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]],Ype=Ct("siren",Kpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xpe=[["rect",{width:"7",height:"12",x:"2",y:"6",rx:"1",key:"5nje8w"}],["path",{d:"M13 8.32a7.43 7.43 0 0 1 0 7.36",key:"1g306n"}],["path",{d:"M16.46 6.21a11.76 11.76 0 0 1 0 11.58",key:"uqvjvo"}],["path",{d:"M19.91 4.1a15.91 15.91 0 0 1 .01 15.8",key:"ujntz3"}]],Jpe=Ct("smartphone-nfc",Xpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zpe=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],X8=Ct("smartphone",Zpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qpe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gE=Ct("sparkles",Qpe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eme=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ij=Ct("square-check-big",eme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tme=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],rme=Ct("square-pen",tme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nme=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],sj=Ct("square",nme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ame=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ime=Ct("star",ame);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sme=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],ome=Ct("table",sme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],nI=Ct("target",lme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cme=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],R_=Ct("terminal",cme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ume=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],dme=Ct("thermometer",ume);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hme=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Sm=Ct("trash-2",hme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fme=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],pme=Ct("trending-down",fme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mme=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],vk=Ct("trending-up",mme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gme=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wo=Ct("triangle-alert",gme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xme=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],vme=Ct("twitter",xme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yme=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],bme=Ct("upload",yme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wme=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],M$=Ct("user-check",wme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ame=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],NJ=Ct("user-plus",Ame);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _me=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],EJ=Ct("user-x",_me);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sme=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],mf=Ct("user",Sme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nme=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yy=Ct("users",Nme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eme=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Nm=Ct("wallet",Eme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tme=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],TJ=Ct("wifi-off",Tme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jme=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hs=Ct("x",jme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cme=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ia=Ct("zap",Cme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kme=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Pme=Ct("zoom-in",kme);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ome=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Dme=Ct("zoom-out",Ome);var or=(t=>(t.PROCESSING="PROCESSING",t.COMPLETED="COMPLETED",t.ERROR="ERROR",t.ARCHIVED="ARCHIVED",t.PENDING_REVIEW="PENDING_REVIEW",t.APROVADO="APROVADO",t.REJEITADO="REJEITADO",t.APROVADO_USUARIO="APROVADO_USUARIO",t))(or||{}),ny=(t=>(t.RECEIPT="RECEIPT",t.INVOICE="INVOICE",t.CONTRACT="CONTRACT",t.TAX_FORM="TAX_FORM",t.UNKNOWN="UNKNOWN",t))(ny||{});const zs={login:async(t,e)=>{var r;try{const n=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})});if(!n.ok){const i=await n.json();throw new Error(i.error||"Falha no login")}const a=await n.json();return localStorage.setItem("auth_token",a.token),(r=a.user)!=null&&r.id&&localStorage.setItem("user_id",a.user.id),a.user}catch(n){throw console.error("Login error:",n),new Error(n.message||"Erro ao conectar com o servidor")}},register:async(t,e,r,n="ACCOUNTANT",a)=>{try{const i=r||"123456",s=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:e,password:i,role:n,ownerId:a})});if(!s.ok){const u=await s.json();throw new Error(u.error||"Falha no registo")}const l=(await s.json()).user;return zs.login(e,i)}catch(i){throw console.error("Register error:",i),new Error(i.message||"Erro ao registar usurio")}},logout:async()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("user_id")},getCurrentUser:async()=>{const t=localStorage.getItem("auth_token");if(localStorage.getItem("user_id")&&t)try{const r=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${t}`}});if(r.ok)return(await r.json()).user}catch(r){console.warn("Failed to fetch fresh user data",r)}return null},isAuthenticated:()=>!!localStorage.getItem("auth_token"),getSystemLogs:async()=>{const t=localStorage.getItem("auth_token");if(!t)return[];try{const e=await fetch("/api/system/logs",{headers:{Authorization:`Bearer ${t}`}});return e.ok?await e.json():[]}catch(e){return console.error("Failed to fetch system logs",e),[]}},createTeamMember:async t=>{const e=localStorage.getItem("auth_token"),r=await fetch("/api/team/member",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)});if(!r.ok){const a=await r.json();throw new Error(a.error||"Erro ao criar membro")}return(await r.json()).member},changePassword:async t=>{const e=localStorage.getItem("auth_token"),r=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({password:t})});if(!r.ok){const n=await r.json();throw new Error(n.error||"Erro ao alterar senha")}},updateUserPrompts:async t=>{const e=localStorage.getItem("auth_token"),r=await fetch("/api/users/prompts",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({prompts:t})});if(!r.ok){const n=await r.json();throw new Error(n.error||"Erro ao atualizar prompts")}},addCredits:async(t,e)=>{const r=localStorage.getItem("auth_token"),n=await fetch(`/api/users/${t}/credits`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({amount:e})});if(!n.ok){const a=await n.json();throw new Error(a.error||"Erro ao adicionar crditos")}},getTeam:async(t,e)=>{const r=localStorage.getItem("auth_token"),n=e&&e!=="ALL"?`/api/team?companyId=${e}`:"/api/team",a=await fetch(n,{headers:{Authorization:`Bearer ${r}`}});if(!a.ok)throw new Error("Falha ao buscar equipe");return(await a.json()).map(s=>({...s,companyId:s.company_id||s.companyId}))},getTeamStats:async t=>{const e=localStorage.getItem("auth_token"),r=t&&t!=="ALL"?`/api/team/stats?companyId=${t}`:"/api/team/stats",n=await fetch(r,{headers:{Authorization:`Bearer ${e}`}});if(!n.ok)throw new Error("Falha ao carregar estatsticas");return await n.json()},setUserStatus:async(t,e)=>{const r=localStorage.getItem("auth_token");if(!(await fetch(`/api/team/status/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({isActive:e})})).ok)throw new Error("Erro ao atualizar status")},deleteTeamMember:async t=>{const e=localStorage.getItem("auth_token"),r=await fetch(`/api/team/member/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||"Erro ao remover membro")}},getFaturixStats:async(t,e,r)=>{const n=localStorage.getItem("auth_token");if(!n)throw new Error("Not authenticated");let a="/api/faturix/stats";const i=new URLSearchParams;t&&i.append("companyId",t),e&&i.append("month",e.toString()),r&&i.append("year",r.toString()),i.toString()&&(a+=`?${i.toString()}`);const s=await fetch(a,{headers:{Authorization:`Bearer ${n}`}});if(!s.ok)throw new Error("Failed to fetch stats");return s.json()},getFaturixAudits:async()=>{const t=localStorage.getItem("auth_token");if(!t)throw new Error("Not authenticated");const e=await fetch("/api/faturix/audits",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Failed to fetch audits");return e.json()},getFiscalEntities:async t=>{const e=localStorage.getItem("auth_token");if(!e)throw new Error("Not authenticated");let r="/api/fiscal/entities";t&&(r+=`?companyId=${t}`);const n=await fetch(r,{headers:{Authorization:`Bearer ${e}`}});if(!n.ok)throw new Error("Failed to fetch entities");return n.json()},getPlans:async()=>{const t=localStorage.getItem("auth_token");if(!t)throw new Error("Not authenticated");const e=await fetch("/api/plans",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Falha ao buscar planos de licena");return e.json()}},jJ=C.createContext(void 0),Rme=({children:t})=>{const[e,r]=C.useState(null),[n,a]=C.useState(!0);C.useEffect(()=>{(async()=>{const h=await zs.getCurrentUser();h?r(h):(localStorage.removeItem("auth_token"),localStorage.removeItem("user_id"),r(null)),a(!1)})()},[]);const i=async(u,h)=>{a(!0);try{const f=await zs.login(u,h);r(f)}finally{a(!1)}},s=async(u,h,f)=>{a(!0);try{const m=await zs.register(u,h,f);r(m)}finally{a(!1)}},o=async()=>{await zs.logout(),r(null)},l=async()=>{const u=await zs.getCurrentUser();r(u)};return c.jsx(jJ.Provider,{value:{user:e,isAuthenticated:!!e,isLoading:n,login:i,register:s,logout:o,refreshUser:l},children:t})},uh=()=>{const t=C.useContext(jJ);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},p6="/api",oj={async getAll(){const t=localStorage.getItem("auth_token"),e=await fetch(`${p6}/admin/settings`,{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Falha ao carregar configuraes");return e.json()},async update(t,e){const r=localStorage.getItem("auth_token"),n=await fetch(`${p6}/admin/settings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({key:t,value:e})});if(!n.ok){const a=await n.json();throw new Error(a.error||"Falha ao atualizar configurao")}},async getPublicConfig(){const t=await fetch(`${p6}/config`);return t.ok?t.json():(console.warn("Failed to fetch public config, using defaults"),{})}},O0={getAllClients:async()=>{const t=localStorage.getItem("auth_token"),e=await fetch("/api/companies",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Falha ao carregar empresas");return(await e.json()).map(n=>({id:n.id,name:n.name,nif:n.nif,email:n.email,status:n.status,plan:n.plan,regime:n.regime,credits:n.credits,isVerified:n.is_verified,createdAt:new Date(n.created_at),address:n.address,phone:n.phone,website:n.website,sector:n.sector,cae:n.cae}))},getClientById:async t=>{const e=localStorage.getItem("auth_token"),r=await fetch(`/api/companies/${t}`,{headers:{Authorization:`Bearer ${e}`}});if(r.status===404)return;if(!r.ok)throw new Error("Erro ao buscar empresa");const n=await r.json();return{id:n.id,name:n.name,nif:n.nif,email:n.email,status:n.status,plan:n.plan,regime:n.regime,fiscal_status:n.fiscal_status,is_defaulter:n.is_defaulter,fiscal_residence:n.fiscal_residence,credits:n.credits,isVerified:n.is_verified,createdAt:new Date(n.created_at),address:n.address,phone:n.phone,website:n.website,sector:n.sector,cae:n.cae}},validateNif:async(t,e)=>{var s;const n=(await oj.getPublicConfig()).nif_webhook_url||"https://n8n.conversio.ao/webhook-test/validar_nif_empresa",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nif:t,userId:e})});if(!a.ok)throw new Error("Erro na validao do NIF.");const i=await a.json();return Array.isArray(i)&&((s=i[0])!=null&&s.output)?i[0].output:i},createClient:async t=>{const e=localStorage.getItem("auth_token"),r=await fetch("/api/companies",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)});if(!r.ok){const n=await r.json();throw new Error(n.error||"Erro ao criar empresa")}return await r.json()},updateClient:async(t,e)=>{const r=localStorage.getItem("auth_token"),n=await fetch(`/api/companies/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(e)});if(!n.ok){const a=await n.json();throw new Error(a.error||"Erro ao atualizar empresa")}return await n.json()},deleteClient:async t=>{const e=localStorage.getItem("auth_token");if(!(await fetch(`/api/companies/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).ok)throw new Error("Erro ao deletar empresa")},updateClientStatus:async(t,e)=>{const r=localStorage.getItem("auth_token"),n=await fetch(`/api/companies/${t}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({status:e})});if(!n.ok){const a=await n.json();throw new Error(a.error||"Erro ao atualizar status")}return await n.json()},purchaseCredits:async(t,e,r,n)=>{const a=localStorage.getItem("auth_token"),i=await fetch("/api/billing/topup",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({companyId:t,amount:e.price,credits:e.credits,method:r,description:`Recarga: Plano ${e.name} (${e.credits} Crditos)`,proof:n==null?void 0:n.proof,paymentDetails:n})});if(!i.ok){const s=await i.json();throw new Error(s.error||"Erro ao processar compra")}return!0},getTransactionHistory:async(t,e=1,r=10)=>{const n=localStorage.getItem("auth_token"),a=await fetch(`/api/transactions?companyId=${t}&page=${e}&limit=${r}`,{headers:{Authorization:`Bearer ${n}`}});if(!a.ok)throw new Error("Erro ao carregar histrico");const i=await a.json();return{data:(i.data||[]).map(l=>({id:l.id,companyId:l.company_id,userId:l.user_id,userName:l.user_name,amount:parseFloat(l.amount),credits:l.credits,type:l.type,method:l.method,status:l.status,date:new Date(l.created_at),description:l.description,invoiceUrl:"#"})),pagination:i.pagination}},getClientStats:async t=>{const e=localStorage.getItem("auth_token"),r=await fetch(`/api/companies/${t}/stats`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw new Error("Erro ao buscar estatsticas");return await r.json()},getCompanyDocCount:async t=>{const e=localStorage.getItem("auth_token"),r=await fetch(`/api/companies/${t}/doc-count`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw new Error("Erro ao buscar contagem");return(await r.json()).count},getCreditPackages:async()=>{const t=localStorage.getItem("auth_token"),e=await fetch("/api/credits/packages",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Erro ao carregar pacotes de crditos");return await e.json()}},aI="RFC3986",iI={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},Ime="RFC1738",Lme=Array.isArray,Xf=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),m6=1024,Mme=(t,e,r,n,a)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),r==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let s="";for(let o=0;o<i.length;o+=m6){const l=i.length>=m6?i.slice(o,o+m6):i,u=[];for(let h=0;h<l.length;++h){let f=l.charCodeAt(h);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||a===Ime&&(f===40||f===41)){u[u.length]=l.charAt(h);continue}if(f<128){u[u.length]=Xf[f];continue}if(f<2048){u[u.length]=Xf[192|f>>6]+Xf[128|f&63];continue}if(f<55296||f>=57344){u[u.length]=Xf[224|f>>12]+Xf[128|f>>6&63]+Xf[128|f&63];continue}h+=1,f=65536+((f&1023)<<10|l.charCodeAt(h)&1023),u[u.length]=Xf[240|f>>18]+Xf[128|f>>12&63]+Xf[128|f>>6&63]+Xf[128|f&63]}s+=u.join("")}return s};function Fme(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function F$(t,e){if(Lme(t)){const r=[];for(let n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)}const Bme=Object.prototype.hasOwnProperty,CJ={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},i0=Array.isArray,Ume=Array.prototype.push,kJ=function(t,e){Ume.apply(t,i0(e)?e:[e])},zme=Date.prototype.toISOString,uo={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Mme,encodeValuesOnly:!1,format:aI,formatter:iI[aI],indices:!1,serializeDate(t){return zme.call(t)},skipNulls:!1,strictNullHandling:!1};function $me(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const g6={};function PJ(t,e,r,n,a,i,s,o,l,u,h,f,m,g,b,y,w,A){let S=t,N=A,T=0,k=!1;for(;(N=N.get(g6))!==void 0&&!k;){const G=N.get(t);if(T+=1,typeof G<"u"){if(G===T)throw new RangeError("Cyclic object value");k=!0}typeof N.get(g6)>"u"&&(T=0)}if(typeof u=="function"?S=u(e,S):S instanceof Date?S=m==null?void 0:m(S):r==="comma"&&i0(S)&&(S=F$(S,function(G){return G instanceof Date?m==null?void 0:m(G):G})),S===null){if(i)return l&&!y?l(e,uo.encoder,w,"key",g):e;S=""}if($me(S)||Fme(S)){if(l){const G=y?e:l(e,uo.encoder,w,"key",g);return[(b==null?void 0:b(G))+"="+(b==null?void 0:b(l(S,uo.encoder,w,"value",g)))]}return[(b==null?void 0:b(e))+"="+(b==null?void 0:b(String(S)))]}const R=[];if(typeof S>"u")return R;let O;if(r==="comma"&&i0(S))y&&l&&(S=F$(S,l)),O=[{value:S.length>0?S.join(",")||null:void 0}];else if(i0(u))O=u;else{const G=Object.keys(S);O=h?G.sort(h):G}const U=o?String(e).replace(/\./g,"%2E"):String(e),H=n&&i0(S)&&S.length===1?U+"[]":U;if(a&&i0(S)&&S.length===0)return H+"[]";for(let G=0;G<O.length;++G){const F=O[G],L=typeof F=="object"&&typeof F.value<"u"?F.value:S[F];if(s&&L===null)continue;const re=f&&o?F.replace(/\./g,"%2E"):F,Z=i0(S)?typeof r=="function"?r(H,re):H:H+(f?"."+re:"["+re+"]");A.set(t,T);const pe=new WeakMap;pe.set(g6,A),kJ(R,PJ(L,Z,r,n,a,i,s,o,r==="comma"&&y&&i0(S)?null:l,u,h,f,m,g,b,y,w,pe))}return R}function Vme(t=uo){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||uo.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=aI;if(typeof t.format<"u"){if(!Bme.call(iI,t.format))throw new TypeError("Unknown format option provided.");r=t.format}const n=iI[r];let a=uo.filter;(typeof t.filter=="function"||i0(t.filter))&&(a=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in CJ?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=uo.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const s=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:uo.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:uo.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:uo.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:uo.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?uo.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:uo.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:uo.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:uo.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:uo.encodeValuesOnly,filter:a,format:r,formatter:n,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:uo.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:uo.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:uo.strictNullHandling}}function Hme(t,e={}){let r=t;const n=Vme(e);let a,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):i0(n.filter)&&(i=n.filter,a=i);const s=[];if(typeof r!="object"||r===null)return"";const o=CJ[n.arrayFormat],l=o==="comma"&&n.commaRoundTrip;a||(a=Object.keys(r)),n.sort&&a.sort(n.sort);const u=new WeakMap;for(let m=0;m<a.length;++m){const g=a[m];n.skipNulls&&r[g]===null||kJ(s,PJ(r[g],g,o,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}const h=s.join(n.delimiter);let f=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),h.length>0?f+h:""}const Fb="4.104.0";let B$=!1,h_,OJ,DJ,sI,RJ,IJ,LJ,MJ,FJ;function qme(t,e={auto:!1}){if(B$)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(h_)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${h_}'\``);B$=e.auto,h_=t.kind,OJ=t.fetch,DJ=t.FormData,sI=t.File,RJ=t.ReadableStream,IJ=t.getMultipartRequestOptions,LJ=t.getDefaultAgent,MJ=t.fileFromPath,FJ=t.isFsReadStream}class Gme{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function Wme({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let r,n,a,i;try{r=fetch,n=Request,a=Response,i=Headers}catch(s){throw new Error(`this environment is missing the following Web Fetch API type: ${s.message}. ${e}`)}return{kind:"web",fetch:r,Request:n,Response:a,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(s,o)=>({...o,body:new Gme(s)}),getDefaultAgent:s=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:s=>!1}}const BJ=()=>{h_||qme(Wme(),{auto:!0})};BJ();class en extends Error{}class Tl extends en{constructor(e,r,n,a){super(`${Tl.makeMessage(e,r,n)}`),this.status=e,this.headers=a,this.request_id=a==null?void 0:a["x-request-id"],this.error=r;const i=r;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,r,n){const a=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,r,n,a){if(!e||!a)return new yk({message:n,cause:lI(r)});const i=r==null?void 0:r.error;return e===400?new UJ(e,i,n,a):e===401?new zJ(e,i,n,a):e===403?new $J(e,i,n,a):e===404?new VJ(e,i,n,a):e===409?new HJ(e,i,n,a):e===422?new qJ(e,i,n,a):e===429?new GJ(e,i,n,a):e>=500?new WJ(e,i,n,a):new Tl(e,i,n,a)}}class ih extends Tl{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class yk extends Tl{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}}class J8 extends yk{constructor({message:e}={}){super({message:e??"Request timed out."})}}class UJ extends Tl{}class zJ extends Tl{}class $J extends Tl{}class VJ extends Tl{}class HJ extends Tl{}class qJ extends Tl{}class GJ extends Tl{}class WJ extends Tl{}class KJ extends en{constructor(){super("Could not parse response content as the length limit was reached")}}class YJ extends en{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var eT=function(t,e,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(t,r):a?a.value=r:e.set(t,r),r},mv=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Fu;class bk{constructor(){Fu.set(this,void 0),this.buffer=new Uint8Array,eT(this,Fu,null,"f")}decode(e){if(e==null)return[];const r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let n=new Uint8Array(this.buffer.length+r.length);n.set(this.buffer),n.set(r,this.buffer.length),this.buffer=n;const a=[];let i;for(;(i=Kme(this.buffer,mv(this,Fu,"f")))!=null;){if(i.carriage&&mv(this,Fu,"f")==null){eT(this,Fu,i.index,"f");continue}if(mv(this,Fu,"f")!=null&&(i.index!==mv(this,Fu,"f")+1||i.carriage)){a.push(this.decodeText(this.buffer.slice(0,mv(this,Fu,"f")-1))),this.buffer=this.buffer.slice(mv(this,Fu,"f")),eT(this,Fu,null,"f");continue}const s=mv(this,Fu,"f")!==null?i.preceding-1:i.preceding,o=this.decodeText(this.buffer.slice(0,s));a.push(o),this.buffer=this.buffer.slice(i.index),eT(this,Fu,null,"f")}return a}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new en(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new en(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new en("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}Fu=new WeakMap;bk.NEWLINE_CHARS=new Set([`
`,"\r"]);bk.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Kme(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function Yme(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}function XJ(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const r=await e.read();return r!=null&&r.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){const r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class D0{constructor(e,r){this.iterator=e,this.controller=r}static fromSSEResponse(e,r){let n=!1;async function*a(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let i=!1;try{for await(const s of Xme(e,r))if(!i){if(s.data.startsWith("[DONE]")){i=!0;continue}if(s.event===null||s.event.startsWith("response.")||s.event.startsWith("transcript.")){let o;try{o=JSON.parse(s.data)}catch(l){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),l}if(o&&o.error)throw new Tl(void 0,o.error,void 0,nZ(e.headers));yield o}else{let o;try{o=JSON.parse(s.data)}catch(l){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),l}if(s.event=="error")throw new Tl(void 0,o.error,o.message,void 0);yield{event:s.event,data:o}}}i=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{i||r.abort()}}return new D0(a,r)}static fromReadableStream(e,r){let n=!1;async function*a(){const s=new bk,o=XJ(e);for await(const l of o)for(const u of s.decode(l))yield u;for(const l of s.flush())yield l}async function*i(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let s=!1;try{for await(const o of a())s||o&&(yield JSON.parse(o));s=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{s||r.abort()}}return new D0(i,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],r=[],n=this.iterator(),a=i=>({next:()=>{if(i.length===0){const s=n.next();e.push(s),r.push(s)}return i.shift()}});return[new D0(()=>a(e),this.controller),new D0(()=>a(r),this.controller)]}toReadableStream(){const e=this;let r;const n=new TextEncoder;return new RJ({async start(){r=e[Symbol.asyncIterator]()},async pull(a){try{const{value:i,done:s}=await r.next();if(s)return a.close();const o=n.encode(JSON.stringify(i)+`
`);a.enqueue(o)}catch(i){a.error(i)}},async cancel(){var a;await((a=r.return)==null?void 0:a.call(r))}})}}async function*Xme(t,e){if(!t.body)throw e.abort(),new en("Attempted to iterate over a response with no body");const r=new Zme,n=new bk,a=XJ(t.body);for await(const i of Jme(a))for(const s of n.decode(i)){const o=r.decode(s);o&&(yield o)}for(const i of n.flush()){const s=r.decode(i);s&&(yield s)}}async function*Jme(t){let e=new Uint8Array;for await(const r of t){if(r==null)continue;const n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?new TextEncoder().encode(r):r;let a=new Uint8Array(e.length+n.length);a.set(e),a.set(n,e.length),e=a;let i;for(;(i=Yme(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}class Zme{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,a]=Qme(e,":");return a.startsWith(" ")&&(a=a.substring(1)),r==="event"?this.event=a:r==="data"&&this.data.push(a),null}}function Qme(t,e){const r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}const JJ=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",ZJ=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&wk(t),wk=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",ege=t=>ZJ(t)||JJ(t)||FJ(t);async function QJ(t,e,r){var a;if(t=await t,ZJ(t))return t;if(JJ(t)){const i=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const s=wk(i)?[await i.arrayBuffer()]:[i];return new sI(s,e,r)}const n=await tge(t);if(e||(e=nge(t)??"unknown_file"),!(r!=null&&r.type)){const i=(a=n[0])==null?void 0:a.type;typeof i=="string"&&(r={...r,type:i})}return new sI(n,e,r)}async function tge(t){var r;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(wk(t))e.push(await t.arrayBuffer());else if(age(t))for await(const n of t)e.push(n);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(r=t==null?void 0:t.constructor)==null?void 0:r.name}; props: ${rge(t)}`);return e}function rge(t){return`[${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}function nge(t){var e;return x6(t.name)||x6(t.filename)||((e=x6(t.path))==null?void 0:e.split(/[\\/]/).pop())}const x6=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},age=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",U$=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",by=async t=>{const e=await ige(t.body);return IJ(e,t)},ige=async t=>{const e=new DJ;return await Promise.all(Object.entries(t||{}).map(([r,n])=>oI(e,r,n))),e},oI=async(t,e,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")t.append(e,String(r));else if(ege(r)){const n=await QJ(r);t.append(e,n)}else if(Array.isArray(r))await Promise.all(r.map(n=>oI(t,e+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,a])=>oI(t,`${e}[${n}]`,a)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var m2={},sge=function(t,e,r,n,a){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r},oge=function(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},tT;BJ();async function eZ(t){var s;const{response:e}=t;if(t.options.stream)return Dx("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):D0.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const r=e.headers.get("content-type"),n=(s=r==null?void 0:r.split(";")[0])==null?void 0:s.trim();if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.endsWith("+json"))){const o=await e.json();return Dx("response",e.status,e.url,e.headers,o),tZ(o,e)}const i=await e.text();return Dx("response",e.status,e.url,e.headers,i),i}function tZ(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class Ak extends Promise{constructor(e,r=eZ){super(n=>{n(null)}),this.responsePromise=e,this.parseResponse=r}_thenUnwrap(e){return new Ak(this.responsePromise,async r=>tZ(e(await this.parseResponse(r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class lge{constructor({baseURL:e,maxRetries:r=2,timeout:n=6e5,httpAgent:a,fetch:i}){this.baseURL=e,this.maxRetries=v6("maxRetries",r),this.timeout=v6("timeout",n),this.httpAgent=a,this.fetch=i??OJ}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...fge(),...this.authHeaders(e)}}validateHeaders(e,r){}defaultIdempotencyKey(){return`stainless-node-retry-${xge()}`}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(async a=>{const i=a&&wk(a==null?void 0:a.body)?new DataView(await a.body.arrayBuffer()):(a==null?void 0:a.body)instanceof DataView?a.body:(a==null?void 0:a.body)instanceof ArrayBuffer?new DataView(a.body):a&&ArrayBuffer.isView(a==null?void 0:a.body)?new DataView(a.body.buffer):a==null?void 0:a.body;return{method:e,path:r,...a,body:i}}))}getAPIList(e,r,n){return this.requestAPIList(r,{method:"get",path:e,...n})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:r=0}={}){var y;const n={...e},{method:a,path:i,query:s,headers:o={}}=n,l=ArrayBuffer.isView(n.body)||n.__binaryRequest&&typeof n.body=="string"?n.body:U$(n.body)?n.body.body:n.body?JSON.stringify(n.body,null,2):null,u=this.calculateContentLength(l),h=this.buildURL(i,s);"timeout"in n&&v6("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const f=n.httpAgent??this.httpAgent??LJ(h),m=n.timeout+1e3;typeof((y=f==null?void 0:f.options)==null?void 0:y.timeout)=="number"&&m>(f.options.timeout??0)&&(f.options.timeout=m),this.idempotencyHeader&&a!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const g=this.buildHeaders({options:n,headers:o,contentLength:u,retryCount:r});return{req:{method:a,...l&&{body:l},headers:g,...f&&{agent:f},signal:n.signal??null},url:h,timeout:n.timeout}}buildHeaders({options:e,headers:r,contentLength:n,retryCount:a}){const i={};n&&(i["content-length"]=n);const s=this.defaultHeaders(e);return H$(i,s),H$(i,r),U$(e.body)&&h_!=="node"&&delete i["content-type"],nT(s,"x-stainless-retry-count")===void 0&&nT(r,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(a)),nT(s,"x-stainless-timeout")===void 0&&nT(r,"x-stainless-timeout")===void 0&&e.timeout&&(i["x-stainless-timeout"]=String(Math.trunc(e.timeout/1e3))),this.validateHeaders(i,r),i}async prepareOptions(e){}async prepareRequest(e,{url:r,options:n}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(r=>[...r])):{...e}:{}}makeStatusError(e,r,n,a){return Tl.generate(e,r,n,a)}request(e,r=null){return new Ak(this.makeRequest(e,r))}async makeRequest(e,r){var f,m;const n=await e,a=n.maxRetries??this.maxRetries;r==null&&(r=a),await this.prepareOptions(n);const{req:i,url:s,timeout:o}=this.buildRequest(n,{retryCount:a-r});if(await this.prepareRequest(i,{url:s,options:n}),Dx("request",s,n,i.headers),(f=n.signal)!=null&&f.aborted)throw new ih;const l=new AbortController,u=await this.fetchWithTimeout(s,i,o,l).catch(lI);if(u instanceof Error){if((m=n.signal)!=null&&m.aborted)throw new ih;if(r)return this.retryRequest(n,r);throw u.name==="AbortError"?new J8:new yk({cause:u})}const h=nZ(u.headers);if(!u.ok){if(r&&this.shouldRetry(u)){const S=`retrying, ${r} attempts remaining`;return Dx(`response (error; ${S})`,u.status,s,h),this.retryRequest(n,r,h)}const g=await u.text().catch(S=>lI(S).message),b=pge(g),y=b?void 0:g;throw Dx(`response (error; ${r?"(error; no more retries left)":"(error; not retryable)"})`,u.status,s,h,y),this.makeStatusError(u.status,b,y,h)}return{response:u,options:n,controller:l}}requestAPIList(e,r){const n=this.makeRequest(r,null);return new cge(this,n,e)}buildURL(e,r){const n=gge(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return aZ(a)||(r={...a,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(n.search=this.stringifyQuery(r)),n.toString()}stringifyQuery(e){return Object.entries(e).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new en(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,r,n,a){const{signal:i,...s}=r||{};i&&i.addEventListener("abort",()=>a.abort());const o=setTimeout(()=>a.abort(),n),l={signal:a.signal,...s};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(o)})}shouldRetry(e){const r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n){let a;const i=n==null?void 0:n["retry-after-ms"];if(i){const o=parseFloat(i);Number.isNaN(o)||(a=o)}const s=n==null?void 0:n["retry-after"];if(s&&!a){const o=parseFloat(s);Number.isNaN(o)?a=Date.parse(s)-Date.now():a=o*1e3}if(!(a&&0<=a&&a<60*1e3)){const o=e.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(r,o)}return await xE(a),this.makeRequest(e,r-1)}calculateDefaultRetryTimeoutMillis(e,r){const i=r-e,s=Math.min(.5*Math.pow(2,i),8),o=1-Math.random()*.25;return s*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Fb}`}}class rZ{constructor(e,r,n,a){tT.set(this,void 0),sge(this,tT,e),this.options=a,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new en("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const r={...this.options};if("params"in e&&typeof r.query=="object")r.query={...r.query,...e.params};else if("url"in e){const n=[...Object.entries(r.query||{}),...e.url.searchParams.entries()];for(const[a,i]of n)e.url.searchParams.set(a,i);r.query=void 0,r.path=e.url.toString()}return await oge(this,tT,"f").requestAPIList(this.constructor,r)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(tT=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const r of e.getPaginatedItems())yield r}}class cge extends Ak{constructor(e,r,n){super(r,async a=>new n(e,a.response,await eZ(a),a.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const r of e)yield r}}const nZ=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,r){const n=r.toString();return e[n.toLowerCase()]||e[n]}}),uge={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Hi=t=>typeof t=="object"&&t!==null&&!aZ(t)&&Object.keys(t).every(e=>iZ(uge,e)),dge=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fb,"X-Stainless-OS":$$(Deno.build.os),"X-Stainless-Arch":z$(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fb,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fb,"X-Stainless-OS":$$(process.platform),"X-Stainless-Arch":z$(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=hge();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fb,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fb,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function hge(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:r}of t){const n=r.exec(navigator.userAgent);if(n){const a=n[1]||0,i=n[2]||0,s=n[3]||0;return{browser:e,version:`${a}.${i}.${s}`}}}return null}const z$=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",$$=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let V$;const fge=()=>V$??(V$=dge()),pge=t=>{try{return JSON.parse(t)}catch{return}},mge=/^[a-z][a-z0-9+.-]*:/i,gge=t=>mge.test(t),xE=t=>new Promise(e=>setTimeout(e,t)),v6=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new en(`${t} must be an integer`);if(e<0)throw new en(`${t} must be a positive integer`);return e},lI=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},rT=t=>{var e,r,n,a;if(typeof process<"u")return((e=m2==null?void 0:m2[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(a=(n=(r=Deno.env)==null?void 0:r.get)==null?void 0:n.call(r,t))==null?void 0:a.trim()};function aZ(t){if(!t)return!0;for(const e in t)return!1;return!0}function iZ(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function H$(t,e){for(const r in e){if(!iZ(e,r))continue;const n=r.toLowerCase();if(!n)continue;const a=e[r];a===null?delete t[n]:a!==void 0&&(t[n]=a)}}const q$=new Set(["authorization","api-key"]);function Dx(t,...e){if(typeof process<"u"&&(m2==null?void 0:m2.DEBUG)==="true"){const r=e.map(n=>{if(!n)return n;if(n.headers){const i={...n,headers:{...n.headers}};for(const s in n.headers)q$.has(s.toLowerCase())&&(i.headers[s]="REDACTED");return i}let a=null;for(const i in n)q$.has(i.toLowerCase())&&(a??(a={...n}),a[i]="REDACTED");return a??n});console.log(`OpenAI:DEBUG:${t}`,...r)}}const xge=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),vge=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",yge=t=>typeof(t==null?void 0:t.get)=="function",nT=(t,e)=>{var n;const r=e.toLowerCase();if(yge(t)){const a=((n=e[0])==null?void 0:n.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(i,s,o)=>s+o.toUpperCase());for(const i of[e,r,e.toUpperCase(),a]){const s=t.get(i);if(s)return s}}for(const[a,i]of Object.entries(t))if(a.toLowerCase()===r)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${e} header, using the first entry.`),i[0]):i},bge=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),r=e.length,n=new Uint8Array(r);for(let a=0;a<r;a++)n[a]=e.charCodeAt(a);return Array.from(new Float32Array(n.buffer))}};function y6(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class _k extends rZ{constructor(e,r,n,a){super(e,r,n,a),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Ao extends rZ{constructor(e,r,n,a){super(e,r,n,a),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const r=Object.fromEntries(e.url.searchParams);return Object.keys(r).length?r:null}nextPageInfo(){var n;const e=this.getPaginatedItems();if(!e.length)return null;const r=(n=e[e.length-1])==null?void 0:n.id;return r?{params:{after:r}}:null}}class tn{constructor(e){this._client=e}}let sZ=class extends tn{list(e,r={},n){return Hi(r)?this.list(e,{},r):this._client.getAPIList(`/chat/completions/${e}/messages`,wge,{query:r,...n})}},Sk=class extends tn{constructor(){super(...arguments),this.messages=new sZ(this._client)}create(e,r){return this._client.post("/chat/completions",{body:e,...r,stream:e.stream??!1})}retrieve(e,r){return this._client.get(`/chat/completions/${e}`,r)}update(e,r,n){return this._client.post(`/chat/completions/${e}`,{body:r,...n})}list(e={},r){return Hi(e)?this.list({},e):this._client.getAPIList("/chat/completions",Nk,{query:e,...r})}del(e,r){return this._client.delete(`/chat/completions/${e}`,r)}};class Nk extends Ao{}class wge extends Ao{}Sk.ChatCompletionsPage=Nk;Sk.Messages=sZ;let Ek=class extends tn{constructor(){super(...arguments),this.completions=new Sk(this._client)}};Ek.Completions=Sk;Ek.ChatCompletionsPage=Nk;class oZ extends tn{create(e,r){return this._client.post("/audio/speech",{body:e,...r,headers:{Accept:"application/octet-stream",...r==null?void 0:r.headers},__binaryResponse:!0})}}class lZ extends tn{create(e,r){return this._client.post("/audio/transcriptions",by({body:e,...r,stream:e.stream??!1,__metadata:{model:e.model}}))}}class cZ extends tn{create(e,r){return this._client.post("/audio/translations",by({body:e,...r,__metadata:{model:e.model}}))}}let vE=class extends tn{constructor(){super(...arguments),this.transcriptions=new lZ(this._client),this.translations=new cZ(this._client),this.speech=new oZ(this._client)}};vE.Transcriptions=lZ;vE.Translations=cZ;vE.Speech=oZ;class Z8 extends tn{create(e,r){return this._client.post("/batches",{body:e,...r})}retrieve(e,r){return this._client.get(`/batches/${e}`,r)}list(e={},r){return Hi(e)?this.list({},e):this._client.getAPIList("/batches",Q8,{query:e,...r})}cancel(e,r){return this._client.post(`/batches/${e}/cancel`,r)}}class Q8 extends Ao{}Z8.BatchesPage=Q8;var Hh=function(t,e,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(t,r):a?a.value=r:e.set(t,r),r},Bi=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},cI,i3,s3,DA,RA,o3,IA,yp,LA,lj,cj,Bb,uZ;class eF{constructor(){cI.add(this),this.controller=new AbortController,i3.set(this,void 0),s3.set(this,()=>{}),DA.set(this,()=>{}),RA.set(this,void 0),o3.set(this,()=>{}),IA.set(this,()=>{}),yp.set(this,{}),LA.set(this,!1),lj.set(this,!1),cj.set(this,!1),Bb.set(this,!1),Hh(this,i3,new Promise((e,r)=>{Hh(this,s3,e,"f"),Hh(this,DA,r,"f")}),"f"),Hh(this,RA,new Promise((e,r)=>{Hh(this,o3,e,"f"),Hh(this,IA,r,"f")}),"f"),Bi(this,i3,"f").catch(()=>{}),Bi(this,RA,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},Bi(this,cI,"m",uZ).bind(this))},0)}_connected(){this.ended||(Bi(this,s3,"f").call(this),this._emit("connect"))}get ended(){return Bi(this,LA,"f")}get errored(){return Bi(this,lj,"f")}get aborted(){return Bi(this,cj,"f")}abort(){this.controller.abort()}on(e,r){return(Bi(this,yp,"f")[e]||(Bi(this,yp,"f")[e]=[])).push({listener:r}),this}off(e,r){const n=Bi(this,yp,"f")[e];if(!n)return this;const a=n.findIndex(i=>i.listener===r);return a>=0&&n.splice(a,1),this}once(e,r){return(Bi(this,yp,"f")[e]||(Bi(this,yp,"f")[e]=[])).push({listener:r,once:!0}),this}emitted(e){return new Promise((r,n)=>{Hh(this,Bb,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,r)})}async done(){Hh(this,Bb,!0,"f"),await Bi(this,RA,"f")}_emit(e,...r){if(Bi(this,LA,"f"))return;e==="end"&&(Hh(this,LA,!0,"f"),Bi(this,o3,"f").call(this));const n=Bi(this,yp,"f")[e];if(n&&(Bi(this,yp,"f")[e]=n.filter(a=>!a.once),n.forEach(({listener:a})=>a(...r))),e==="abort"){const a=r[0];!Bi(this,Bb,"f")&&!(n!=null&&n.length)&&Promise.reject(a),Bi(this,DA,"f").call(this,a),Bi(this,IA,"f").call(this,a),this._emit("end");return}if(e==="error"){const a=r[0];!Bi(this,Bb,"f")&&!(n!=null&&n.length)&&Promise.reject(a),Bi(this,DA,"f").call(this,a),Bi(this,IA,"f").call(this,a),this._emit("end")}}_emitFinal(){}}i3=new WeakMap,s3=new WeakMap,DA=new WeakMap,RA=new WeakMap,o3=new WeakMap,IA=new WeakMap,yp=new WeakMap,LA=new WeakMap,lj=new WeakMap,cj=new WeakMap,Bb=new WeakMap,cI=new WeakSet,uZ=function(e){if(Hh(this,lj,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new ih),e instanceof ih)return Hh(this,cj,!0,"f"),this._emit("abort",e);if(e instanceof en)return this._emit("error",e);if(e instanceof Error){const r=new en(e.message);return r.cause=e,this._emit("error",r)}return this._emit("error",new en(String(e)))};var Br=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Mu=function(t,e,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(t,r):a?a.value=r:e.set(t,r),r},vl,uI,s0,l3,Wh,Ov,Qb,Tv,uj,Bu,c3,u3,f_,MA,FA,G$,W$,K$,Y$,X$,J$,Z$;class hf extends eF{constructor(){super(...arguments),vl.add(this),uI.set(this,[]),s0.set(this,{}),l3.set(this,{}),Wh.set(this,void 0),Ov.set(this,void 0),Qb.set(this,void 0),Tv.set(this,void 0),uj.set(this,void 0),Bu.set(this,void 0),c3.set(this,void 0),u3.set(this,void 0),f_.set(this,void 0)}[(uI=new WeakMap,s0=new WeakMap,l3=new WeakMap,Wh=new WeakMap,Ov=new WeakMap,Qb=new WeakMap,Tv=new WeakMap,uj=new WeakMap,Bu=new WeakMap,c3=new WeakMap,u3=new WeakMap,f_=new WeakMap,vl=new WeakSet,Symbol.asyncIterator)](){const e=[],r=[];let n=!1;return this.on("event",a=>{const i=r.shift();i?i.resolve(a):e.push(a)}),this.on("end",()=>{n=!0;for(const a of r)a.resolve(void 0);r.length=0}),this.on("abort",a=>{n=!0;for(const i of r)i.reject(a);r.length=0}),this.on("error",a=>{n=!0;for(const i of r)i.reject(a);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,s)=>r.push({resolve:i,reject:s})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const r=new hf;return r._run(()=>r._fromReadableStream(e)),r}async _fromReadableStream(e,r){var i;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const a=D0.fromReadableStream(e,this.controller);for await(const s of a)Br(this,vl,"m",MA).call(this,s);if((i=a.controller.signal)!=null&&i.aborted)throw new ih;return this._addRun(Br(this,vl,"m",FA).call(this))}toReadableStream(){return new D0(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,r,n,a,i){const s=new hf;return s._run(()=>s._runToolAssistantStream(e,r,n,a,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createToolAssistantStream(e,r,n,a,i){var u;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...a,stream:!0},l=await e.submitToolOutputs(r,n,o,{...i,signal:this.controller.signal});this._connected();for await(const h of l)Br(this,vl,"m",MA).call(this,h);if((u=l.controller.signal)!=null&&u.aborted)throw new ih;return this._addRun(Br(this,vl,"m",FA).call(this))}static createThreadAssistantStream(e,r,n){const a=new hf;return a._run(()=>a._threadAssistantStream(e,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),a}static createAssistantStream(e,r,n,a){const i=new hf;return i._run(()=>i._runAssistantStream(e,r,n,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return Br(this,c3,"f")}currentRun(){return Br(this,u3,"f")}currentMessageSnapshot(){return Br(this,Wh,"f")}currentRunStepSnapshot(){return Br(this,f_,"f")}async finalRunSteps(){return await this.done(),Object.values(Br(this,s0,"f"))}async finalMessages(){return await this.done(),Object.values(Br(this,l3,"f"))}async finalRun(){if(await this.done(),!Br(this,Ov,"f"))throw Error("Final run was not received.");return Br(this,Ov,"f")}async _createThreadAssistantStream(e,r,n){var o;const a=n==null?void 0:n.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const i={...r,stream:!0},s=await e.createAndRun(i,{...n,signal:this.controller.signal});this._connected();for await(const l of s)Br(this,vl,"m",MA).call(this,l);if((o=s.controller.signal)!=null&&o.aborted)throw new ih;return this._addRun(Br(this,vl,"m",FA).call(this))}async _createAssistantStream(e,r,n,a){var l;const i=a==null?void 0:a.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},o=await e.create(r,s,{...a,signal:this.controller.signal});this._connected();for await(const u of o)Br(this,vl,"m",MA).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new ih;return this._addRun(Br(this,vl,"m",FA).call(this))}static accumulateDelta(e,r){for(const[n,a]of Object.entries(r)){if(!e.hasOwnProperty(n)){e[n]=a;continue}let i=e[n];if(i==null){e[n]=a;continue}if(n==="index"||n==="type"){e[n]=a;continue}if(typeof i=="string"&&typeof a=="string")i+=a;else if(typeof i=="number"&&typeof a=="number")i+=a;else if(y6(i)&&y6(a))i=this.accumulateDelta(i,a);else if(Array.isArray(i)&&Array.isArray(a)){if(i.every(s=>typeof s=="string"||typeof s=="number")){i.push(...a);continue}for(const s of a){if(!y6(s))throw new Error(`Expected array delta entry to be an object but got: ${s}`);const o=s.index;if(o==null)throw console.error(s),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=i[o];l==null?i.push(s):i[o]=this.accumulateDelta(l,s)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${a}, accValue: ${i}`);e[n]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,r,n){return await this._createThreadAssistantStream(r,e,n)}async _runAssistantStream(e,r,n,a){return await this._createAssistantStream(r,e,n,a)}async _runToolAssistantStream(e,r,n,a,i){return await this._createToolAssistantStream(n,e,r,a,i)}}MA=function(e){if(!this.ended)switch(Mu(this,c3,e,"f"),Br(this,vl,"m",K$).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Br(this,vl,"m",Z$).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Br(this,vl,"m",W$).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Br(this,vl,"m",G$).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},FA=function(){if(this.ended)throw new en("stream has ended, this shouldn't happen");if(!Br(this,Ov,"f"))throw Error("Final run has not been received");return Br(this,Ov,"f")},G$=function(e){const[r,n]=Br(this,vl,"m",X$).call(this,e,Br(this,Wh,"f"));Mu(this,Wh,r,"f"),Br(this,l3,"f")[r.id]=r;for(const a of n){const i=r.content[a.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,r),e.data.delta.content)for(const a of e.data.delta.content){if(a.type=="text"&&a.text){let i=a.text,s=r.content[a.index];if(s&&s.type=="text")this._emit("textDelta",i,s.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(a.index!=Br(this,Qb,"f")){if(Br(this,Tv,"f"))switch(Br(this,Tv,"f").type){case"text":this._emit("textDone",Br(this,Tv,"f").text,Br(this,Wh,"f"));break;case"image_file":this._emit("imageFileDone",Br(this,Tv,"f").image_file,Br(this,Wh,"f"));break}Mu(this,Qb,a.index,"f")}Mu(this,Tv,r.content[a.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(Br(this,Qb,"f")!==void 0){const a=e.data.content[Br(this,Qb,"f")];if(a)switch(a.type){case"image_file":this._emit("imageFileDone",a.image_file,Br(this,Wh,"f"));break;case"text":this._emit("textDone",a.text,Br(this,Wh,"f"));break}}Br(this,Wh,"f")&&this._emit("messageDone",e.data),Mu(this,Wh,void 0,"f")}},W$=function(e){const r=Br(this,vl,"m",Y$).call(this,e);switch(Mu(this,f_,r,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(const i of n.step_details.tool_calls)i.index==Br(this,uj,"f")?this._emit("toolCallDelta",i,r.step_details.tool_calls[i.index]):(Br(this,Bu,"f")&&this._emit("toolCallDone",Br(this,Bu,"f")),Mu(this,uj,i.index,"f"),Mu(this,Bu,r.step_details.tool_calls[i.index],"f"),Br(this,Bu,"f")&&this._emit("toolCallCreated",Br(this,Bu,"f")));this._emit("runStepDelta",e.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Mu(this,f_,void 0,"f"),e.data.step_details.type=="tool_calls"&&Br(this,Bu,"f")&&(this._emit("toolCallDone",Br(this,Bu,"f")),Mu(this,Bu,void 0,"f")),this._emit("runStepDone",e.data,r);break}},K$=function(e){Br(this,uI,"f").push(e),this._emit("event",e)},Y$=function(e){switch(e.event){case"thread.run.step.created":return Br(this,s0,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let r=Br(this,s0,"f")[e.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const a=hf.accumulateDelta(r,n.delta);Br(this,s0,"f")[e.data.id]=a}return Br(this,s0,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Br(this,s0,"f")[e.data.id]=e.data;break}if(Br(this,s0,"f")[e.data.id])return Br(this,s0,"f")[e.data.id];throw new Error("No snapshot available")},X$=function(e,r){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let a=e.data;if(a.delta.content)for(const i of a.delta.content)if(i.index in r.content){let s=r.content[i.index];r.content[i.index]=Br(this,vl,"m",J$).call(this,i,s)}else r.content[i.index]=i,n.push(i);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},J$=function(e,r){return hf.accumulateDelta(r,e)},Z$=function(e){switch(Mu(this,u3,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Mu(this,Ov,e.data,"f"),Br(this,Bu,"f")&&(this._emit("toolCallDone",Br(this,Bu,"f")),Mu(this,Bu,void 0,"f"));break}};class tF extends tn{create(e,r){return this._client.post("/assistants",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,r){return this._client.get(`/assistants/${e}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,r,n){return this._client.post(`/assistants/${e}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(e={},r){return Hi(e)?this.list({},e):this._client.getAPIList("/assistants",rF,{query:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,r){return this._client.delete(`/assistants/${e}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class rF extends Ao{}tF.AssistantsPage=rF;function Q$(t){return typeof t.parse=="function"}const g2=t=>(t==null?void 0:t.role)==="assistant",dZ=t=>(t==null?void 0:t.role)==="function",hZ=t=>(t==null?void 0:t.role)==="tool";function nF(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function yE(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function Age(t,e){return!e||!fZ(e)?{...t,choices:t.choices.map(r=>({...r,message:{...r.message,parsed:null,...r.message.tool_calls?{tool_calls:r.message.tool_calls}:void 0}}))}:aF(t,e)}function aF(t,e){const r=t.choices.map(n=>{var a;if(n.finish_reason==="length")throw new KJ;if(n.finish_reason==="content_filter")throw new YJ;return{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:((a=n.message.tool_calls)==null?void 0:a.map(i=>Sge(e,i)))??void 0}:void 0,parsed:n.message.content&&!n.message.refusal?_ge(e,n.message.content):null}}});return{...t,choices:r}}function _ge(t,e){var r,n;return((r=t.response_format)==null?void 0:r.type)!=="json_schema"?null:((n=t.response_format)==null?void 0:n.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function Sge(t,e){var n;const r=(n=t.tools)==null?void 0:n.find(a=>{var i;return((i=a.function)==null?void 0:i.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:yE(r)?r.$parseRaw(e.function.arguments):r!=null&&r.function.strict?JSON.parse(e.function.arguments):null}}}function Nge(t,e){var n;if(!t)return!1;const r=(n=t.tools)==null?void 0:n.find(a=>{var i;return((i=a.function)==null?void 0:i.name)===e.function.name});return yE(r)||(r==null?void 0:r.function.strict)||!1}function fZ(t){var e;return nF(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(r=>yE(r)||r.type==="function"&&r.function.strict===!0))??!1}function Ege(t){for(const e of t??[]){if(e.type!=="function")throw new en(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new en(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var iu=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ql,dI,dj,hI,fI,pI,pZ,mI;const eV=10;class mZ extends eF{constructor(){super(...arguments),ql.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var n;this._chatCompletions.push(e),this._emit("chatCompletion",e);const r=(n=e.choices[0])==null?void 0:n.message;return r&&this._addMessage(r),e}_addMessage(e,r=!0){if("content"in e||(e.content=null),this.messages.push(e),r){if(this._emit("message",e),(dZ(e)||hZ(e))&&e.content)this._emit("functionCallResult",e.content);else if(g2(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(g2(e)&&e.tool_calls)for(const n of e.tool_calls)n.type==="function"&&this._emit("functionCall",n.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new en("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),iu(this,ql,"m",dI).call(this)}async finalMessage(){return await this.done(),iu(this,ql,"m",dj).call(this)}async finalFunctionCall(){return await this.done(),iu(this,ql,"m",hI).call(this)}async finalFunctionCallResult(){return await this.done(),iu(this,ql,"m",fI).call(this)}async totalUsage(){return await this.done(),iu(this,ql,"m",pI).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const r=iu(this,ql,"m",dj).call(this);r&&this._emit("finalMessage",r);const n=iu(this,ql,"m",dI).call(this);n&&this._emit("finalContent",n);const a=iu(this,ql,"m",hI).call(this);a&&this._emit("finalFunctionCall",a);const i=iu(this,ql,"m",fI).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(s=>s.usage)&&this._emit("totalUsage",iu(this,ql,"m",pI).call(this))}async _createChatCompletion(e,r,n){const a=n==null?void 0:n.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),iu(this,ql,"m",pZ).call(this,r);const i=await e.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(aF(i,r))}async _runChatCompletion(e,r,n){for(const a of r.messages)this._addMessage(a,!1);return await this._createChatCompletion(e,r,n)}async _runFunctions(e,r,n){var m;const a="function",{function_call:i="auto",stream:s,...o}=r,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=eV}=n||{},h={};for(const g of r.functions)h[g.name||g.function.name]=g;const f=r.functions.map(g=>({name:g.name||g.function.name,parameters:g.parameters,description:g.description}));for(const g of r.messages)this._addMessage(g,!1);for(let g=0;g<u;++g){const y=(m=(await this._createChatCompletion(e,{...o,function_call:i,functions:f,messages:[...this.messages]},n)).choices[0])==null?void 0:m.message;if(!y)throw new en("missing message in ChatCompletion response");if(!y.function_call)return;const{name:w,arguments:A}=y.function_call,S=h[w];if(S){if(l&&l!==w){const R=`Invalid function_call: ${JSON.stringify(w)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:a,name:w,content:R});continue}}else{const R=`Invalid function_call: ${JSON.stringify(w)}. Available options are: ${f.map(O=>JSON.stringify(O.name)).join(", ")}. Please try again`;this._addMessage({role:a,name:w,content:R});continue}let N;try{N=Q$(S)?await S.parse(A):A}catch(R){this._addMessage({role:a,name:w,content:R instanceof Error?R.message:String(R)});continue}const T=await S.function(N,this),k=iu(this,ql,"m",mI).call(this,T);if(this._addMessage({role:a,name:w,content:k}),l)return}}async _runTools(e,r,n){var g,b,y;const a="tool",{tool_choice:i="auto",stream:s,...o}=r,l=typeof i!="string"&&((g=i==null?void 0:i.function)==null?void 0:g.name),{maxChatCompletions:u=eV}=n||{},h=r.tools.map(w=>{if(yE(w)){if(!w.$callback)throw new en("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:w.$callback,name:w.function.name,description:w.function.description||"",parameters:w.function.parameters,parse:w.$parseRaw,strict:!0}}}return w}),f={};for(const w of h)w.type==="function"&&(f[w.function.name||w.function.function.name]=w.function);const m="tools"in r?h.map(w=>w.type==="function"?{type:"function",function:{name:w.function.name||w.function.function.name,parameters:w.function.parameters,description:w.function.description,strict:w.function.strict}}:w):void 0;for(const w of r.messages)this._addMessage(w,!1);for(let w=0;w<u;++w){const S=(b=(await this._createChatCompletion(e,{...o,tool_choice:i,tools:m,messages:[...this.messages]},n)).choices[0])==null?void 0:b.message;if(!S)throw new en("missing message in ChatCompletion response");if(!((y=S.tool_calls)!=null&&y.length))return;for(const N of S.tool_calls){if(N.type!=="function")continue;const T=N.id,{name:k,arguments:R}=N.function,O=f[k];if(O){if(l&&l!==k){const F=`Invalid tool_call: ${JSON.stringify(k)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:a,tool_call_id:T,content:F});continue}}else{const F=`Invalid tool_call: ${JSON.stringify(k)}. Available options are: ${Object.keys(f).map(L=>JSON.stringify(L)).join(", ")}. Please try again`;this._addMessage({role:a,tool_call_id:T,content:F});continue}let U;try{U=Q$(O)?await O.parse(R):R}catch(F){const L=F instanceof Error?F.message:String(F);this._addMessage({role:a,tool_call_id:T,content:L});continue}const H=await O.function(U,this),G=iu(this,ql,"m",mI).call(this,H);if(this._addMessage({role:a,tool_call_id:T,content:G}),l)return}}}}ql=new WeakSet,dI=function(){return iu(this,ql,"m",dj).call(this).content??null},dj=function(){let e=this.messages.length;for(;e-- >0;){const r=this.messages[e];if(g2(r)){const{function_call:n,...a}=r,i={...a,content:r.content??null,refusal:r.refusal??null};return n&&(i.function_call=n),i}}throw new en("stream ended without producing a ChatCompletionMessage with role=assistant")},hI=function(){var e,r;for(let n=this.messages.length-1;n>=0;n--){const a=this.messages[n];if(g2(a)&&(a!=null&&a.function_call))return a.function_call;if(g2(a)&&((e=a==null?void 0:a.tool_calls)!=null&&e.length))return(r=a.tool_calls.at(-1))==null?void 0:r.function}},fI=function(){for(let e=this.messages.length-1;e>=0;e--){const r=this.messages[e];if(dZ(r)&&r.content!=null||hZ(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>{var a;return n.role==="assistant"&&((a=n.tool_calls)==null?void 0:a.some(i=>i.type==="function"&&i.id===r.tool_call_id))}))return r.content}},pI=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:r}of this._chatCompletions)r&&(e.completion_tokens+=r.completion_tokens,e.prompt_tokens+=r.prompt_tokens,e.total_tokens+=r.total_tokens);return e},pZ=function(e){if(e.n!=null&&e.n>1)throw new en("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},mI=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class I_ extends mZ{static runFunctions(e,r,n){const a=new I_,i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return a._run(()=>a._runFunctions(e,r,i)),a}static runTools(e,r,n){const a=new I_,i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(e,r,i)),a}_addMessage(e,r=!0){super._addMessage(e,r),g2(e)&&e.content&&this._emit("content",e.content)}}const gZ=1,xZ=2,vZ=4,yZ=8,bZ=16,wZ=32,AZ=64,_Z=128,SZ=256,NZ=_Z|SZ,EZ=bZ|wZ|NZ|AZ,TZ=gZ|xZ|EZ,jZ=vZ|yZ,Tge=TZ|jZ,Lo={STR:gZ,NUM:xZ,ARR:vZ,OBJ:yZ,NULL:bZ,BOOL:wZ,NAN:AZ,INFINITY:_Z,MINUS_INFINITY:SZ,INF:NZ,SPECIAL:EZ,ATOM:TZ,COLLECTION:jZ,ALL:Tge};class jge extends Error{}class Cge extends Error{}function kge(t,e=Lo.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return Pge(t.trim(),e)}const Pge=(t,e)=>{const r=t.length;let n=0;const a=m=>{throw new jge(`${m} at position ${n}`)},i=m=>{throw new Cge(`${m} at position ${n}`)},s=()=>(f(),n>=r&&a("Unexpected end of input"),t[n]==='"'?o():t[n]==="{"?l():t[n]==="["?u():t.substring(n,n+4)==="null"||Lo.NULL&e&&r-n<4&&"null".startsWith(t.substring(n))?(n+=4,null):t.substring(n,n+4)==="true"||Lo.BOOL&e&&r-n<4&&"true".startsWith(t.substring(n))?(n+=4,!0):t.substring(n,n+5)==="false"||Lo.BOOL&e&&r-n<5&&"false".startsWith(t.substring(n))?(n+=5,!1):t.substring(n,n+8)==="Infinity"||Lo.INFINITY&e&&r-n<8&&"Infinity".startsWith(t.substring(n))?(n+=8,1/0):t.substring(n,n+9)==="-Infinity"||Lo.MINUS_INFINITY&e&&1<r-n&&r-n<9&&"-Infinity".startsWith(t.substring(n))?(n+=9,-1/0):t.substring(n,n+3)==="NaN"||Lo.NAN&e&&r-n<3&&"NaN".startsWith(t.substring(n))?(n+=3,NaN):h()),o=()=>{const m=n;let g=!1;for(n++;n<r&&(t[n]!=='"'||g&&t[n-1]==="\\");)g=t[n]==="\\"?!g:!1,n++;if(t.charAt(n)=='"')try{return JSON.parse(t.substring(m,++n-Number(g)))}catch(b){i(String(b))}else if(Lo.STR&e)try{return JSON.parse(t.substring(m,n-Number(g))+'"')}catch{return JSON.parse(t.substring(m,t.lastIndexOf("\\"))+'"')}a("Unterminated string literal")},l=()=>{n++,f();const m={};try{for(;t[n]!=="}";){if(f(),n>=r&&Lo.OBJ&e)return m;const g=o();f(),n++;try{const b=s();Object.defineProperty(m,g,{value:b,writable:!0,enumerable:!0,configurable:!0})}catch(b){if(Lo.OBJ&e)return m;throw b}f(),t[n]===","&&n++}}catch{if(Lo.OBJ&e)return m;a("Expected '}' at end of object")}return n++,m},u=()=>{n++;const m=[];try{for(;t[n]!=="]";)m.push(s()),f(),t[n]===","&&n++}catch{if(Lo.ARR&e)return m;a("Expected ']' at end of array")}return n++,m},h=()=>{if(n===0){t==="-"&&Lo.NUM&e&&a("Not sure what '-' is");try{return JSON.parse(t)}catch(g){if(Lo.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(g))}}const m=n;for(t[n]==="-"&&n++;t[n]&&!",]}".includes(t[n]);)n++;n==r&&!(Lo.NUM&e)&&a("Unterminated number literal");try{return JSON.parse(t.substring(m,n))}catch{t.substring(m,n)==="-"&&Lo.NUM&e&&a("Not sure what '-' is");try{return JSON.parse(t.substring(m,t.lastIndexOf("e")))}catch(b){i(String(b))}}},f=()=>{for(;n<r&&` 
\r	`.includes(t[n]);)n++};return s()},tV=t=>kge(t,Lo.ALL^Lo.NUM);var _b=function(t,e,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(t,r):a?a.value=r:e.set(t,r),r},Ca=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},oo,gp,Sb,vg,b6,aT,w6,A6,_6,iT,S6,rV;class L_ extends mZ{constructor(e){super(),oo.add(this),gp.set(this,void 0),Sb.set(this,void 0),vg.set(this,void 0),_b(this,gp,e,"f"),_b(this,Sb,[],"f")}get currentChatCompletionSnapshot(){return Ca(this,vg,"f")}static fromReadableStream(e){const r=new L_(null);return r._run(()=>r._fromReadableStream(e)),r}static createChatCompletion(e,r,n){const a=new L_(r);return a._run(()=>a._runChatCompletion(e,{...r,stream:!0},{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createChatCompletion(e,r,n){var s;super._createChatCompletion;const a=n==null?void 0:n.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),Ca(this,oo,"m",b6).call(this);const i=await e.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const o of i)Ca(this,oo,"m",w6).call(this,o);if((s=i.controller.signal)!=null&&s.aborted)throw new ih;return this._addChatCompletion(Ca(this,oo,"m",iT).call(this))}async _fromReadableStream(e,r){var s;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),Ca(this,oo,"m",b6).call(this),this._connected();const a=D0.fromReadableStream(e,this.controller);let i;for await(const o of a)i&&i!==o.id&&this._addChatCompletion(Ca(this,oo,"m",iT).call(this)),Ca(this,oo,"m",w6).call(this,o),i=o.id;if((s=a.controller.signal)!=null&&s.aborted)throw new ih;return this._addChatCompletion(Ca(this,oo,"m",iT).call(this))}[(gp=new WeakMap,Sb=new WeakMap,vg=new WeakMap,oo=new WeakSet,b6=function(){this.ended||_b(this,vg,void 0,"f")},aT=function(r){let n=Ca(this,Sb,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Ca(this,Sb,"f")[r.index]=n,n)},w6=function(r){var a,i,s,o,l,u,h,f,m,g,b,y,w,A,S;if(this.ended)return;const n=Ca(this,oo,"m",rV).call(this,r);this._emit("chunk",r,n);for(const N of r.choices){const T=n.choices[N.index];N.delta.content!=null&&((a=T.message)==null?void 0:a.role)==="assistant"&&((i=T.message)!=null&&i.content)&&(this._emit("content",N.delta.content,T.message.content),this._emit("content.delta",{delta:N.delta.content,snapshot:T.message.content,parsed:T.message.parsed})),N.delta.refusal!=null&&((s=T.message)==null?void 0:s.role)==="assistant"&&((o=T.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:N.delta.refusal,snapshot:T.message.refusal}),((l=N.logprobs)==null?void 0:l.content)!=null&&((u=T.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(h=N.logprobs)==null?void 0:h.content,snapshot:((f=T.logprobs)==null?void 0:f.content)??[]}),((m=N.logprobs)==null?void 0:m.refusal)!=null&&((g=T.message)==null?void 0:g.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(b=N.logprobs)==null?void 0:b.refusal,snapshot:((y=T.logprobs)==null?void 0:y.refusal)??[]});const k=Ca(this,oo,"m",aT).call(this,T);T.finish_reason&&(Ca(this,oo,"m",_6).call(this,T),k.current_tool_call_index!=null&&Ca(this,oo,"m",A6).call(this,T,k.current_tool_call_index));for(const R of N.delta.tool_calls??[])k.current_tool_call_index!==R.index&&(Ca(this,oo,"m",_6).call(this,T),k.current_tool_call_index!=null&&Ca(this,oo,"m",A6).call(this,T,k.current_tool_call_index)),k.current_tool_call_index=R.index;for(const R of N.delta.tool_calls??[]){const O=(w=T.message.tool_calls)==null?void 0:w[R.index];O!=null&&O.type&&((O==null?void 0:O.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(A=O.function)==null?void 0:A.name,index:R.index,arguments:O.function.arguments,parsed_arguments:O.function.parsed_arguments,arguments_delta:((S=R.function)==null?void 0:S.arguments)??""}):(O==null||O.type,void 0))}}},A6=function(r,n){var s,o,l;if(Ca(this,oo,"m",aT).call(this,r).done_tool_calls.has(n))return;const i=(s=r.message.tool_calls)==null?void 0:s[n];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(l=(o=Ca(this,gp,"f"))==null?void 0:o.tools)==null?void 0:l.find(h=>h.type==="function"&&h.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:n,arguments:i.function.arguments,parsed_arguments:yE(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},_6=function(r){var a,i;const n=Ca(this,oo,"m",aT).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;const s=Ca(this,oo,"m",S6).call(this);this._emit("content.done",{content:r.message.content,parsed:s?s.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),(a=r.logprobs)!=null&&a.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),(i=r.logprobs)!=null&&i.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},iT=function(){if(this.ended)throw new en("stream has ended, this shouldn't happen");const r=Ca(this,vg,"f");if(!r)throw new en("request ended without sending any chunks");return _b(this,vg,void 0,"f"),_b(this,Sb,[],"f"),Oge(r,Ca(this,gp,"f"))},S6=function(){var n;const r=(n=Ca(this,gp,"f"))==null?void 0:n.response_format;return nF(r)?r:null},rV=function(r){var n,a,i,s;let o=Ca(this,vg,"f");const{choices:l,...u}=r;o?Object.assign(o,u):o=_b(this,vg,{...u,choices:[]},"f");for(const{delta:h,finish_reason:f,index:m,logprobs:g=null,...b}of r.choices){let y=o.choices[m];if(y||(y=o.choices[m]={finish_reason:f,index:m,message:{},logprobs:g,...b}),g)if(!y.logprobs)y.logprobs=Object.assign({},g);else{const{content:R,refusal:O,...U}=g;Object.assign(y.logprobs,U),R&&((n=y.logprobs).content??(n.content=[]),y.logprobs.content.push(...R)),O&&((a=y.logprobs).refusal??(a.refusal=[]),y.logprobs.refusal.push(...O))}if(f&&(y.finish_reason=f,Ca(this,gp,"f")&&fZ(Ca(this,gp,"f")))){if(f==="length")throw new KJ;if(f==="content_filter")throw new YJ}if(Object.assign(y,b),!h)continue;const{content:w,refusal:A,function_call:S,role:N,tool_calls:T,...k}=h;if(Object.assign(y.message,k),A&&(y.message.refusal=(y.message.refusal||"")+A),N&&(y.message.role=N),S&&(y.message.function_call?(S.name&&(y.message.function_call.name=S.name),S.arguments&&((i=y.message.function_call).arguments??(i.arguments=""),y.message.function_call.arguments+=S.arguments)):y.message.function_call=S),w&&(y.message.content=(y.message.content||"")+w,!y.message.refusal&&Ca(this,oo,"m",S6).call(this)&&(y.message.parsed=tV(y.message.content))),T){y.message.tool_calls||(y.message.tool_calls=[]);for(const{index:R,id:O,type:U,function:H,...G}of T){const F=(s=y.message.tool_calls)[R]??(s[R]={});Object.assign(F,G),O&&(F.id=O),U&&(F.type=U),H&&(F.function??(F.function={name:H.name??"",arguments:""})),H!=null&&H.name&&(F.function.name=H.name),H!=null&&H.arguments&&(F.function.arguments+=H.arguments,Nge(Ca(this,gp,"f"),F)&&(F.function.parsed_arguments=tV(F.function.arguments)))}}}return o},Symbol.asyncIterator)](){const e=[],r=[];let n=!1;return this.on("chunk",a=>{const i=r.shift();i?i.resolve(a):e.push(a)}),this.on("end",()=>{n=!0;for(const a of r)a.resolve(void 0);r.length=0}),this.on("abort",a=>{n=!0;for(const i of r)i.reject(a);r.length=0}),this.on("error",a=>{n=!0;for(const i of r)i.reject(a);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,s)=>r.push({resolve:i,reject:s})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new D0(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Oge(t,e){const{id:r,choices:n,created:a,model:i,system_fingerprint:s,...o}=t,l={...o,id:r,choices:n.map(({message:u,finish_reason:h,index:f,logprobs:m,...g})=>{if(!h)throw new en(`missing finish_reason for choice ${f}`);const{content:b=null,function_call:y,tool_calls:w,...A}=u,S=u.role;if(!S)throw new en(`missing role for choice ${f}`);if(y){const{arguments:N,name:T}=y;if(N==null)throw new en(`missing function_call.arguments for choice ${f}`);if(!T)throw new en(`missing function_call.name for choice ${f}`);return{...g,message:{content:b,function_call:{arguments:N,name:T},role:S,refusal:u.refusal??null},finish_reason:h,index:f,logprobs:m}}return w?{...g,index:f,finish_reason:h,logprobs:m,message:{...A,role:S,content:b,refusal:u.refusal??null,tool_calls:w.map((N,T)=>{const{function:k,type:R,id:O,...U}=N,{arguments:H,name:G,...F}=k||{};if(O==null)throw new en(`missing choices[${f}].tool_calls[${T}].id
${sT(t)}`);if(R==null)throw new en(`missing choices[${f}].tool_calls[${T}].type
${sT(t)}`);if(G==null)throw new en(`missing choices[${f}].tool_calls[${T}].function.name
${sT(t)}`);if(H==null)throw new en(`missing choices[${f}].tool_calls[${T}].function.arguments
${sT(t)}`);return{...U,id:O,type:R,function:{...F,name:G,arguments:H}}})}}:{...g,message:{...A,content:b,role:S,refusal:u.refusal??null},finish_reason:h,index:f,logprobs:m}}),created:a,model:i,object:"chat.completion",...s?{system_fingerprint:s}:{}};return Age(l,e)}function sT(t){return JSON.stringify(t)}class x2 extends L_{static fromReadableStream(e){const r=new x2(null);return r._run(()=>r._fromReadableStream(e)),r}static runFunctions(e,r,n){const a=new x2(null),i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return a._run(()=>a._runFunctions(e,r,i)),a}static runTools(e,r,n){const a=new x2(r),i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(e,r,i)),a}}let CZ=class extends tn{parse(e,r){return Ege(e.tools),this._client.chat.completions.create(e,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(n=>aF(n,e))}runFunctions(e,r){return e.stream?x2.runFunctions(this._client,e,r):I_.runFunctions(this._client,e,r)}runTools(e,r){return e.stream?x2.runTools(this._client,e,r):I_.runTools(this._client,e,r)}stream(e,r){return L_.createChatCompletion(this._client,e,r)}};class gI extends tn{constructor(){super(...arguments),this.completions=new CZ(this._client)}}(function(t){t.Completions=CZ})(gI||(gI={}));class kZ extends tn{create(e,r){return this._client.post("/realtime/sessions",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class PZ extends tn{create(e,r){return this._client.post("/realtime/transcription_sessions",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Tk extends tn{constructor(){super(...arguments),this.sessions=new kZ(this._client),this.transcriptionSessions=new PZ(this._client)}}Tk.Sessions=kZ;Tk.TranscriptionSessions=PZ;class iF extends tn{create(e,r,n){return this._client.post(`/threads/${e}/messages`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,r,n){return this._client.get(`/threads/${e}/messages/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,r,n,a){return this._client.post(`/threads/${e}/messages/${r}`,{body:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(e,r={},n){return Hi(r)?this.list(e,{},r):this._client.getAPIList(`/threads/${e}/messages`,sF,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,r,n){return this._client.delete(`/threads/${e}/messages/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class sF extends Ao{}iF.MessagesPage=sF;class oF extends tn{retrieve(e,r,n,a={},i){return Hi(a)?this.retrieve(e,r,n,{},a):this._client.get(`/threads/${e}/runs/${r}/steps/${n}`,{query:a,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,r,n={},a){return Hi(n)?this.list(e,r,{},n):this._client.getAPIList(`/threads/${e}/runs/${r}/steps`,lF,{query:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class lF extends Ao{}oF.RunStepsPage=lF;let bE=class extends tn{constructor(){super(...arguments),this.steps=new oF(this._client)}create(e,r,n){const{include:a,...i}=r;return this._client.post(`/threads/${e}/runs`,{query:{include:a},body:i,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:r.stream??!1})}retrieve(e,r,n){return this._client.get(`/threads/${e}/runs/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,r,n,a){return this._client.post(`/threads/${e}/runs/${r}`,{body:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(e,r={},n){return Hi(r)?this.list(e,{},r):this._client.getAPIList(`/threads/${e}/runs`,cF,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(e,r,n){return this._client.post(`/threads/${e}/runs/${r}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(e,r,n){const a=await this.create(e,r,n);return await this.poll(e,a.id,n)}createAndStream(e,r,n){return hf.createAssistantStream(e,this._client.beta.threads.runs,r,n)}async poll(e,r,n){const a={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:s}=await this.retrieve(e,r,{...n,headers:{...n==null?void 0:n.headers,...a}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(n!=null&&n.pollIntervalMs)o=n.pollIntervalMs;else{const l=s.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await xE(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,r,n){return hf.createAssistantStream(e,this._client.beta.threads.runs,r,n)}submitToolOutputs(e,r,n,a){return this._client.post(`/threads/${e}/runs/${r}/submit_tool_outputs`,{body:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers},stream:n.stream??!1})}async submitToolOutputsAndPoll(e,r,n,a){const i=await this.submitToolOutputs(e,r,n,a);return await this.poll(e,i.id,a)}submitToolOutputsStream(e,r,n,a){return hf.createToolAssistantStream(e,r,this._client.beta.threads.runs,n,a)}};class cF extends Ao{}bE.RunsPage=cF;bE.Steps=oF;bE.RunStepsPage=lF;class p5 extends tn{constructor(){super(...arguments),this.runs=new bE(this._client),this.messages=new iF(this._client)}create(e={},r){return Hi(e)?this.create({},e):this._client.post("/threads",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,r){return this._client.get(`/threads/${e}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,r,n){return this._client.post(`/threads/${e}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,r){return this._client.delete(`/threads/${e}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}createAndRun(e,r){return this._client.post("/threads/runs",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:e.stream??!1})}async createAndRunPoll(e,r){const n=await this.createAndRun(e,r);return await this.runs.poll(n.thread_id,n.id,r)}createAndRunStream(e,r){return hf.createThreadAssistantStream(e,this._client.beta.threads,r)}}p5.Runs=bE;p5.RunsPage=cF;p5.Messages=iF;p5.MessagesPage=sF;class m5 extends tn{constructor(){super(...arguments),this.realtime=new Tk(this._client),this.chat=new gI(this._client),this.assistants=new tF(this._client),this.threads=new p5(this._client)}}m5.Realtime=Tk;m5.Assistants=tF;m5.AssistantsPage=rF;m5.Threads=p5;class OZ extends tn{create(e,r){return this._client.post("/completions",{body:e,...r,stream:e.stream??!1})}}class DZ extends tn{retrieve(e,r,n){return this._client.get(`/containers/${e}/files/${r}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}}let jk=class extends tn{constructor(){super(...arguments),this.content=new DZ(this._client)}create(e,r,n){return this._client.post(`/containers/${e}/files`,by({body:r,...n}))}retrieve(e,r,n){return this._client.get(`/containers/${e}/files/${r}`,n)}list(e,r={},n){return Hi(r)?this.list(e,{},r):this._client.getAPIList(`/containers/${e}/files`,uF,{query:r,...n})}del(e,r,n){return this._client.delete(`/containers/${e}/files/${r}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}};class uF extends Ao{}jk.FileListResponsesPage=uF;jk.Content=DZ;class wE extends tn{constructor(){super(...arguments),this.files=new jk(this._client)}create(e,r){return this._client.post("/containers",{body:e,...r})}retrieve(e,r){return this._client.get(`/containers/${e}`,r)}list(e={},r){return Hi(e)?this.list({},e):this._client.getAPIList("/containers",dF,{query:e,...r})}del(e,r){return this._client.delete(`/containers/${e}`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}}class dF extends Ao{}wE.ContainerListResponsesPage=dF;wE.Files=jk;wE.FileListResponsesPage=uF;class RZ extends tn{create(e,r){const n=!!e.encoding_format;let a=n?e.encoding_format:"base64";n&&Dx("Request","User defined encoding_format:",e.encoding_format);const i=this._client.post("/embeddings",{body:{...e,encoding_format:a},...r});return n?i:(Dx("response","Decoding base64 embeddings to float32 array"),i._thenUnwrap(s=>(s&&s.data&&s.data.forEach(o=>{const l=o.embedding;o.embedding=bge(l)}),s)))}}class hF extends tn{retrieve(e,r,n,a){return this._client.get(`/evals/${e}/runs/${r}/output_items/${n}`,a)}list(e,r,n={},a){return Hi(n)?this.list(e,r,{},n):this._client.getAPIList(`/evals/${e}/runs/${r}/output_items`,fF,{query:n,...a})}}class fF extends Ao{}hF.OutputItemListResponsesPage=fF;class AE extends tn{constructor(){super(...arguments),this.outputItems=new hF(this._client)}create(e,r,n){return this._client.post(`/evals/${e}/runs`,{body:r,...n})}retrieve(e,r,n){return this._client.get(`/evals/${e}/runs/${r}`,n)}list(e,r={},n){return Hi(r)?this.list(e,{},r):this._client.getAPIList(`/evals/${e}/runs`,pF,{query:r,...n})}del(e,r,n){return this._client.delete(`/evals/${e}/runs/${r}`,n)}cancel(e,r,n){return this._client.post(`/evals/${e}/runs/${r}`,n)}}class pF extends Ao{}AE.RunListResponsesPage=pF;AE.OutputItems=hF;AE.OutputItemListResponsesPage=fF;class _E extends tn{constructor(){super(...arguments),this.runs=new AE(this._client)}create(e,r){return this._client.post("/evals",{body:e,...r})}retrieve(e,r){return this._client.get(`/evals/${e}`,r)}update(e,r,n){return this._client.post(`/evals/${e}`,{body:r,...n})}list(e={},r){return Hi(e)?this.list({},e):this._client.getAPIList("/evals",mF,{query:e,...r})}del(e,r){return this._client.delete(`/evals/${e}`,r)}}class mF extends Ao{}_E.EvalListResponsesPage=mF;_E.Runs=AE;_E.RunListResponsesPage=pF;let gF=class extends tn{create(e,r){return this._client.post("/files",by({body:e,...r}))}retrieve(e,r){return this._client.get(`/files/${e}`,r)}list(e={},r){return Hi(e)?this.list({},e):this._client.getAPIList("/files",xF,{query:e,...r})}del(e,r){return this._client.delete(`/files/${e}`,r)}content(e,r){return this._client.get(`/files/${e}/content`,{...r,headers:{Accept:"application/binary",...r==null?void 0:r.headers},__binaryResponse:!0})}retrieveContent(e,r){return this._client.get(`/files/${e}/content`,r)}async waitForProcessing(e,{pollInterval:r=5e3,maxWait:n=1800*1e3}={}){const a=new Set(["processed","error","deleted"]),i=Date.now();let s=await this.retrieve(e);for(;!s.status||!a.has(s.status);)if(await xE(r),s=await this.retrieve(e),Date.now()-i>n)throw new J8({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return s}};class xF extends Ao{}gF.FileObjectsPage=xF;class IZ extends tn{}let LZ=class extends tn{run(e,r){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...r})}validate(e,r){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...r})}};class vF extends tn{constructor(){super(...arguments),this.graders=new LZ(this._client)}}vF.Graders=LZ;class yF extends tn{create(e,r,n){return this._client.getAPIList(`/fine_tuning/checkpoints/${e}/permissions`,bF,{body:r,method:"post",...n})}retrieve(e,r={},n){return Hi(r)?this.retrieve(e,{},r):this._client.get(`/fine_tuning/checkpoints/${e}/permissions`,{query:r,...n})}del(e,r,n){return this._client.delete(`/fine_tuning/checkpoints/${e}/permissions/${r}`,n)}}class bF extends _k{}yF.PermissionCreateResponsesPage=bF;let Ck=class extends tn{constructor(){super(...arguments),this.permissions=new yF(this._client)}};Ck.Permissions=yF;Ck.PermissionCreateResponsesPage=bF;class wF extends tn{list(e,r={},n){return Hi(r)?this.list(e,{},r):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,AF,{query:r,...n})}}class AF extends Ao{}wF.FineTuningJobCheckpointsPage=AF;class g5 extends tn{constructor(){super(...arguments),this.checkpoints=new wF(this._client)}create(e,r){return this._client.post("/fine_tuning/jobs",{body:e,...r})}retrieve(e,r){return this._client.get(`/fine_tuning/jobs/${e}`,r)}list(e={},r){return Hi(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",_F,{query:e,...r})}cancel(e,r){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,r)}listEvents(e,r={},n){return Hi(r)?this.listEvents(e,{},r):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,SF,{query:r,...n})}pause(e,r){return this._client.post(`/fine_tuning/jobs/${e}/pause`,r)}resume(e,r){return this._client.post(`/fine_tuning/jobs/${e}/resume`,r)}}class _F extends Ao{}class SF extends Ao{}g5.FineTuningJobsPage=_F;g5.FineTuningJobEventsPage=SF;g5.Checkpoints=wF;g5.FineTuningJobCheckpointsPage=AF;class Xx extends tn{constructor(){super(...arguments),this.methods=new IZ(this._client),this.jobs=new g5(this._client),this.checkpoints=new Ck(this._client),this.alpha=new vF(this._client)}}Xx.Methods=IZ;Xx.Jobs=g5;Xx.FineTuningJobsPage=_F;Xx.FineTuningJobEventsPage=SF;Xx.Checkpoints=Ck;Xx.Alpha=vF;class MZ extends tn{}class NF extends tn{constructor(){super(...arguments),this.graderModels=new MZ(this._client)}}NF.GraderModels=MZ;class FZ extends tn{createVariation(e,r){return this._client.post("/images/variations",by({body:e,...r}))}edit(e,r){return this._client.post("/images/edits",by({body:e,...r}))}generate(e,r){return this._client.post("/images/generations",{body:e,...r})}}class EF extends tn{retrieve(e,r){return this._client.get(`/models/${e}`,r)}list(e){return this._client.getAPIList("/models",TF,e)}del(e,r){return this._client.delete(`/models/${e}`,r)}}class TF extends _k{}EF.ModelsPage=TF;class BZ extends tn{create(e,r){return this._client.post("/moderations",{body:e,...r})}}function Dge(t,e){return!e||!Ige(e)?{...t,output_parsed:null,output:t.output.map(r=>r.type==="function_call"?{...r,parsed_arguments:null}:r.type==="message"?{...r,content:r.content.map(n=>({...n,parsed:null}))}:r)}:UZ(t,e)}function UZ(t,e){const r=t.output.map(a=>{if(a.type==="function_call")return{...a,parsed_arguments:Fge(e,a)};if(a.type==="message"){const i=a.content.map(s=>s.type==="output_text"?{...s,parsed:Rge(e,s.text)}:s);return{...a,content:i}}return a}),n=Object.assign({},t,{output:r});return Object.getOwnPropertyDescriptor(t,"output_text")||zZ(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(const a of n.output)if(a.type==="message"){for(const i of a.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),n}function Rge(t,e){var r,n,a,i;return((n=(r=t.text)==null?void 0:r.format)==null?void 0:n.type)!=="json_schema"?null:"$parseRaw"in((a=t.text)==null?void 0:a.format)?((i=t.text)==null?void 0:i.format).$parseRaw(e):JSON.parse(e)}function Ige(t){var e;return!!nF((e=t.text)==null?void 0:e.format)}function Lge(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function Mge(t,e){return t.find(r=>r.type==="function"&&r.name===e)}function Fge(t,e){const r=Mge(t.tools??[],e.name);return{...e,...e,parsed_arguments:Lge(r)?r.$parseRaw(e.arguments):r!=null&&r.strict?JSON.parse(e.arguments):null}}function zZ(t){const e=[];for(const r of t.output)if(r.type==="message")for(const n of r.content)n.type==="output_text"&&e.push(n.text);t.output_text=e.join("")}class $Z extends tn{list(e,r={},n){return Hi(r)?this.list(e,{},r):this._client.getAPIList(`/responses/${e}/input_items`,Uge,{query:r,...n})}}var Nb=function(t,e,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(t,r):a?a.value=r:e.set(t,r),r},yg=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Eb,oT,bg,lT,nV,aV,iV,sV;class jF extends eF{constructor(e){super(),Eb.add(this),oT.set(this,void 0),bg.set(this,void 0),lT.set(this,void 0),Nb(this,oT,e,"f")}static createResponse(e,r,n){const a=new jF(r);return a._run(()=>a._createOrRetrieveResponse(e,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createOrRetrieveResponse(e,r,n){var o;const a=n==null?void 0:n.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),yg(this,Eb,"m",nV).call(this);let i,s=null;"response_id"in r?(i=await e.responses.retrieve(r.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),s=r.starting_after??null):i=await e.responses.create({...r,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(const l of i)yg(this,Eb,"m",aV).call(this,l,s);if((o=i.controller.signal)!=null&&o.aborted)throw new ih;return yg(this,Eb,"m",iV).call(this)}[(oT=new WeakMap,bg=new WeakMap,lT=new WeakMap,Eb=new WeakSet,nV=function(){this.ended||Nb(this,bg,void 0,"f")},aV=function(r,n){if(this.ended)return;const a=(s,o)=>{(n==null||o.sequence_number>n)&&this._emit(s,o)},i=yg(this,Eb,"m",sV).call(this,r);switch(a("event",r),r.type){case"response.output_text.delta":{const s=i.output[r.output_index];if(!s)throw new en(`missing output at index ${r.output_index}`);if(s.type==="message"){const o=s.content[r.content_index];if(!o)throw new en(`missing content at index ${r.content_index}`);if(o.type!=="output_text")throw new en(`expected content to be 'output_text', got ${o.type}`);a("response.output_text.delta",{...r,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const s=i.output[r.output_index];if(!s)throw new en(`missing output at index ${r.output_index}`);s.type==="function_call"&&a("response.function_call_arguments.delta",{...r,snapshot:s.arguments});break}default:a(r.type,r);break}},iV=function(){if(this.ended)throw new en("stream has ended, this shouldn't happen");const r=yg(this,bg,"f");if(!r)throw new en("request ended without sending any events");Nb(this,bg,void 0,"f");const n=Bge(r,yg(this,oT,"f"));return Nb(this,lT,n,"f"),n},sV=function(r){let n=yg(this,bg,"f");if(!n){if(r.type!=="response.created")throw new en(`When snapshot hasn't been set yet, expected 'response.created' event, got ${r.type}`);return n=Nb(this,bg,r.response,"f"),n}switch(r.type){case"response.output_item.added":{n.output.push(r.item);break}case"response.content_part.added":{const a=n.output[r.output_index];if(!a)throw new en(`missing output at index ${r.output_index}`);a.type==="message"&&a.content.push(r.part);break}case"response.output_text.delta":{const a=n.output[r.output_index];if(!a)throw new en(`missing output at index ${r.output_index}`);if(a.type==="message"){const i=a.content[r.content_index];if(!i)throw new en(`missing content at index ${r.content_index}`);if(i.type!=="output_text")throw new en(`expected content to be 'output_text', got ${i.type}`);i.text+=r.delta}break}case"response.function_call_arguments.delta":{const a=n.output[r.output_index];if(!a)throw new en(`missing output at index ${r.output_index}`);a.type==="function_call"&&(a.arguments+=r.delta);break}case"response.completed":{Nb(this,bg,r.response,"f");break}}return n},Symbol.asyncIterator)](){const e=[],r=[];let n=!1;return this.on("event",a=>{const i=r.shift();i?i.resolve(a):e.push(a)}),this.on("end",()=>{n=!0;for(const a of r)a.resolve(void 0);r.length=0}),this.on("abort",a=>{n=!0;for(const i of r)i.reject(a);r.length=0}),this.on("error",a=>{n=!0;for(const i of r)i.reject(a);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,s)=>r.push({resolve:i,reject:s})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=yg(this,lT,"f");if(!e)throw new en("stream ended without producing a ChatCompletion");return e}}function Bge(t,e){return Dge(t,e)}class CF extends tn{constructor(){super(...arguments),this.inputItems=new $Z(this._client)}create(e,r){return this._client.post("/responses",{body:e,...r,stream:e.stream??!1})._thenUnwrap(n=>("object"in n&&n.object==="response"&&zZ(n),n))}retrieve(e,r={},n){return this._client.get(`/responses/${e}`,{query:r,...n,stream:(r==null?void 0:r.stream)??!1})}del(e,r){return this._client.delete(`/responses/${e}`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}parse(e,r){return this._client.responses.create(e,r)._thenUnwrap(n=>UZ(n,e))}stream(e,r){return jF.createResponse(this._client,e,r)}cancel(e,r){return this._client.post(`/responses/${e}/cancel`,{...r,headers:{Accept:"*/*",...r==null?void 0:r.headers}})}}class Uge extends Ao{}CF.InputItems=$Z;class VZ extends tn{create(e,r,n){return this._client.post(`/uploads/${e}/parts`,by({body:r,...n}))}}class kF extends tn{constructor(){super(...arguments),this.parts=new VZ(this._client)}create(e,r){return this._client.post("/uploads",{body:e,...r})}cancel(e,r){return this._client.post(`/uploads/${e}/cancel`,r)}complete(e,r,n){return this._client.post(`/uploads/${e}/complete`,{body:r,...n})}}kF.Parts=VZ;const zge=async t=>{const e=await Promise.allSettled(t),r=e.filter(a=>a.status==="rejected");if(r.length){for(const a of r)console.error(a.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}const n=[];for(const a of e)a.status==="fulfilled"&&n.push(a.value);return n};class kk extends tn{create(e,r,n){return this._client.post(`/vector_stores/${e}/files`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,r,n){return this._client.get(`/vector_stores/${e}/files/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,r,n,a){return this._client.post(`/vector_stores/${e}/files/${r}`,{body:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(e,r={},n){return Hi(r)?this.list(e,{},r):this._client.getAPIList(`/vector_stores/${e}/files`,Pk,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,r,n){return this._client.delete(`/vector_stores/${e}/files/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(e,r,n){const a=await this.create(e,r,n);return await this.poll(e,a.id,n)}async poll(e,r,n){const a={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const i=await this.retrieve(e,r,{...n,headers:a}).withResponse(),s=i.data;switch(s.status){case"in_progress":let o=5e3;if(n!=null&&n.pollIntervalMs)o=n.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await xE(o);break;case"failed":case"completed":return s}}}async upload(e,r,n){const a=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(e,{file_id:a.id},n)}async uploadAndPoll(e,r,n){const a=await this.upload(e,r,n);return await this.poll(e,a.id,n)}content(e,r,n){return this._client.getAPIList(`/vector_stores/${e}/files/${r}/content`,PF,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Pk extends Ao{}class PF extends _k{}kk.VectorStoreFilesPage=Pk;kk.FileContentResponsesPage=PF;class HZ extends tn{create(e,r,n){return this._client.post(`/vector_stores/${e}/file_batches`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,r,n){return this._client.get(`/vector_stores/${e}/file_batches/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(e,r,n){return this._client.post(`/vector_stores/${e}/file_batches/${r}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(e,r,n){const a=await this.create(e,r);return await this.poll(e,a.id,n)}listFiles(e,r,n={},a){return Hi(n)?this.listFiles(e,r,{},n):this._client.getAPIList(`/vector_stores/${e}/file_batches/${r}/files`,Pk,{query:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}async poll(e,r,n){const a={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:s}=await this.retrieve(e,r,{...n,headers:a}).withResponse();switch(i.status){case"in_progress":let o=5e3;if(n!=null&&n.pollIntervalMs)o=n.pollIntervalMs;else{const l=s.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(o=u)}}await xE(o);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:r,fileIds:n=[]},a){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(a==null?void 0:a.maxConcurrency)??5,s=Math.min(i,r.length),o=this._client,l=r.values(),u=[...n];async function h(m){for(let g of m){const b=await o.files.create({file:g,purpose:"assistants"},a);u.push(b.id)}}const f=Array(s).fill(l).map(h);return await zge(f),await this.createAndPoll(e,{file_ids:u})}}class Jx extends tn{constructor(){super(...arguments),this.files=new kk(this._client),this.fileBatches=new HZ(this._client)}create(e,r){return this._client.post("/vector_stores",{body:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,r){return this._client.get(`/vector_stores/${e}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,r,n){return this._client.post(`/vector_stores/${e}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(e={},r){return Hi(e)?this.list({},e):this._client.getAPIList("/vector_stores",OF,{query:e,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,r){return this._client.delete(`/vector_stores/${e}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}search(e,r,n){return this._client.getAPIList(`/vector_stores/${e}/search`,DF,{body:r,method:"post",...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class OF extends Ao{}class DF extends _k{}Jx.VectorStoresPage=OF;Jx.VectorStoreSearchResponsesPage=DF;Jx.Files=kk;Jx.VectorStoreFilesPage=Pk;Jx.FileContentResponsesPage=PF;Jx.FileBatches=HZ;var qZ;class cn extends lge{constructor({baseURL:e=rT("OPENAI_BASE_URL"),apiKey:r=rT("OPENAI_API_KEY"),organization:n=rT("OPENAI_ORG_ID")??null,project:a=rT("OPENAI_PROJECT_ID")??null,...i}={}){if(r===void 0)throw new en("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const s={apiKey:r,organization:n,project:a,...i,baseURL:e||"https://api.openai.com/v1"};if(!s.dangerouslyAllowBrowser&&vge())throw new en(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:s.baseURL,timeout:s.timeout??6e5,httpAgent:s.httpAgent,maxRetries:s.maxRetries,fetch:s.fetch}),this.completions=new OZ(this),this.chat=new Ek(this),this.embeddings=new RZ(this),this.files=new gF(this),this.images=new FZ(this),this.audio=new vE(this),this.moderations=new BZ(this),this.models=new EF(this),this.fineTuning=new Xx(this),this.graders=new NF(this),this.vectorStores=new Jx(this),this.beta=new m5(this),this.batches=new Z8(this),this.uploads=new kF(this),this.responses=new CF(this),this.evals=new _E(this),this.containers=new wE(this),this._options=s,this.apiKey=r,this.organization=n,this.project=a}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return Hme(e,{arrayFormat:"brackets"})}}qZ=cn;cn.OpenAI=qZ;cn.DEFAULT_TIMEOUT=6e5;cn.OpenAIError=en;cn.APIError=Tl;cn.APIConnectionError=yk;cn.APIConnectionTimeoutError=J8;cn.APIUserAbortError=ih;cn.NotFoundError=VJ;cn.ConflictError=HJ;cn.RateLimitError=GJ;cn.BadRequestError=UJ;cn.AuthenticationError=zJ;cn.InternalServerError=WJ;cn.PermissionDeniedError=$J;cn.UnprocessableEntityError=qJ;cn.toFile=QJ;cn.fileFromPath=MJ;cn.Completions=OZ;cn.Chat=Ek;cn.ChatCompletionsPage=Nk;cn.Embeddings=RZ;cn.Files=gF;cn.FileObjectsPage=xF;cn.Images=FZ;cn.Audio=vE;cn.Moderations=BZ;cn.Models=EF;cn.ModelsPage=TF;cn.FineTuning=Xx;cn.Graders=NF;cn.VectorStores=Jx;cn.VectorStoresPage=OF;cn.VectorStoreSearchResponsesPage=DF;cn.Beta=m5;cn.Batches=Z8;cn.BatchesPage=Q8;cn.Uploads=kF;cn.Responses=CF;cn.Evals=_E;cn.EvalListResponsesPage=mF;cn.Containers=wE;cn.ContainerListResponsesPage=dF;let cT=null;const xI=async()=>cT||(cT=new cn({apiKey:"proxy-mode",baseURL:"/api/ai/proxy-openai-adapter",dangerouslyAllowBrowser:!0,fetch:async(t,e)=>await fetch("/api/ai/proxy",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:e==null?void 0:e.body})}),cT),$ge=()=>!0,GZ={AUDITOR:"gpt-4o",CHAT:"gpt-4o-mini",STRATEGIST:"gpt-4o",VISION:"gpt-4o"},N6="/api",p_={async getAll(){const t=localStorage.getItem("auth_token"),e=await fetch(`${N6}/admin/agents`,{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Falha ao carregar agentes");return e.json()},async update(t,e){const r=localStorage.getItem("auth_token"),n=await fetch(`${N6}/admin/agents/${t}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(e)});if(!n.ok){const a=await n.json();throw new Error(a.error||"Falha ao atualizar agente")}},async getPrompt(t){const e=localStorage.getItem("auth_token"),r=await fetch(`${N6}/agents/prompt/${t}`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw new Error("Falha ao carregar prompt do agente");return r.json()}},au={NIF:{PATTERN:/^\d{10}$/},IVA:{STANDARD_RATE:.14,REDUCED_RATE:.05,EXEMPT_CATEGORIES:["SAUDE","EDUCACAO","EXPORTACAO"]},WITHHOLDING:{SERVICES_RATE:.065,RENTAL_RATE:.15,CATEGORIES:["SERVICOS_PROFISSIONAIS","ALUGUEL","CONSULTORIA"]},DATE:{MAX_PAST_YEARS:5},AMOUNTS:{MAX_VARIANCE:1}},hj=`Voc  o **Auditor Fiscal Forense KwikDocs**, certificado em legislao tributria angolana (AGT, CIVA, Imposto Industrial).

**MISSO PRIMRIA:**
Proteger a empresa de riscos fiscais atravs de auditoria rigorosa, identificando irregularidades com preciso cirrgica e fornecendo solues acionveis.

**PROTOCOLO DE AUDITORIA FORENSE (Chain-of-Thought):**

### 1 VALIDAO ESTRUTURAL
-  Tipo de documento vlido? (Fatura, Recibo, FR, Nota Crdito/Dbito)
-  Campos obrigatrios presentes? (NIF, Data, Totais, Itens)
-  Qualidade dos dados extrados (OCR confivel?)

### 2 VALIDAO DE NIF (CRTICO)
**Regras Angola:**
- Exatamente 10 dgitos numricos
- Primeiro dgito: 5 (pessoa jurdica) ou 2-4 (pessoa fsica)
- Obrigatrio em: Faturas, FR, Notas Fiscais
- Opcional em: Recibos simples < 50.000 AOA

**Verificaes:**
\`\`\`
NIF Emitente: OBRIGATRIO sempre
NIF Comprador: OBRIGATRIO se valor > 50.000 AOA
    \`\`\`

### 3 ANLISE MATEMTICA RIGOROSA
**Frmulas:**
\`\`\`
Base Tributvel = Soma(item.preo * item.qtd) - Descontos
IVA Calculado = Base Tributvel  Taxa IVA
Total Final = Base Tributvel + IVA
    \`\`\`

**Tolerncias:**
- Variao  1 AOA  APROVADO (arredondamento)
- Variao > 1 AOA  REJEITADO (erro de clculo)

**Validaes Cruzadas:**
- Se IVA = 0  Verificar se categoria  isenta
- Se Base + IVA  Total  REJEITAR
- Se itens no batem com total  REVISAR

### 4 COMPLIANCE FISCAL ANGOLA

**IVA (Cdigo do IVA - CIVA):**
- Taxa padro: 14%
- Taxa reduzida: 5% (alimentao bsica, medicamentos)
- Isentos: Sade, Educao, Exportao

**Reteno na Fonte (Art. 63 Cdigo do IR):**
- Servios Profissionais: 6,5%
- Aluguis: 15%
- Threshold: Todas as transaes (sem mnimo)
- Categorias obrigatrias: Consultoria, Honorrios, Rent

**Prazos (AGT):**
- Entrega mensal: At dia 15 do ms seguinte
- Pagamento IVA: At dia 10 do ms seguinte

### 5 ANLISE DE RISCO (Score 0-100)

**Matriz de Pontuao:**
\`\`\`
100 pontos  SEM PROBLEMAS
90 - 99  Pequenas inconsistncias(aprovar com observao)
70 - 89  Problemas mdios(revisar)
50 - 69  Problemas graves(pendente)
0 - 49  Erros crticos(rejeitar)
    \`\`\`

**Fatores de Risco (-pontos):**
- NIF ausente/invlido: -40 pontos
- Erro de clculo > 1% do total: -30 pontos
- Data invlida/futura: -20 pontos
- Reteno ausente quando obrigatria: -25 pontos
- Campos crticos vazios: -15 pontos cada
- OCR de baixa qualidade: -10 pontos

### 6 CLASSIFICAO INTELIGENTE

**Categorias Fiscais Angola:**
- COMBUSTIVEL, ALIMENTACAO, TRANSPORTE
- SERVICOS_PROFISSIONAIS (reteno obrigatria)
- ALUGUEL (reteno 15%)
- MATERIAL_ESCRITORIO, MANUTENCAO
- TELECOMUNICACOES, UTILITIES

**Regras de Categorizao:**
- Fornecedor conhecido  usar histrico
- Palavras-chave nos itens  match semntico
- Valor tpico da categoria

### 7 DECISO FINAL

**APROVADO:**
- Risk Score  90
- Nenhum problema CRTICO
- Compliance 100%

**REVISAR:**
- Risk Score 70-89
- Problemas MDIOS detectados
- Necessita confirmao humana

**PENDENTE:**
- Risk Score 50-69
- Problemas GRAVES
- Dados insuficientes

**REJEITADO:**
- Risk Score < 50
- Problemas CRTICOS
- No conformidade legal

**FORMATO DE SADA (JSON):**
Retorne APENAS JSON vlido seguindo esta estrutura:
{
  "status": "APROVADO|REJEITADO|PENDENTE|REVISAR",
  "risk_score": <0-100>,
  "confidence_level": <0-100>,
  "issues": [
    {
      "severity": "CRITICO|ALTO|MEDIO|BAIXO",
      "type": "NIF_INVALIDO|CALCULO_ERRADO|...",
      "field": "campo_afetado",
      "description": "Descrio tcnica do problema",
      "legal_reference": "Art. X do CIVA",
      "financial_impact": 12345.67,
      "action_required": "Ao especfica a tomar",
      "deadline": "2026-02-15"
    }
  ],
  "tax_analysis": {
    "iva_correct": true,
    "iva_calculated": 14000,
    "iva_expected": 14000,
    "iva_variance": 0,
    "base_correct": true,
    "base_taxable": 100000,
    "withholding_needed": false,
    "withholding_rate": 0,
    "withholding_amount": 0,
    "tax_regime": "GERAL",
    "deductible": true
  },
  "category_suggestion": "COMBUSTIVEL",
  "justification": "Documento aprovado. Todos os clculos corretos e NIF vlido.",
  "recommendations": [
    "Arquivar cpia fsica por 10 anos",
    "Incluir no clculo de IVA dedutvel"
  ]
}`;class Vge{constructor(){this.auditHistory=new Map,this.VERSION="2.0.0"}validateDocumentStructure(e){const r=["merchantName","totalAmount","date"],n=r.filter(s=>!e[s]||e[s]===""),a=r.filter(s=>e[s]).length,i=Math.round(a/r.length*100);return{is_valid_format:n.length===0,is_complete:n.length===0,missing_fields:n,data_quality_score:i}}validateNIF(e,r){if(!e)return{severity:"CRITICO",type:"NIF_INVALIDO",field:"issuer_data.nif",description:`NIF do ${r} ausente. Obrigatrio para deduo fiscal.`,legal_reference:"Art. 36 CIVA",financial_impact:0,action_required:"Solicitar fatura corrigida com NIF vlido",deadline:this.calculateDeadline(30)};const n=e.replace(/\D/g,"");if(!au.NIF.PATTERN.test(n))return{severity:"CRITICO",type:"NIF_INVALIDO",field:"issuer_data.nif",description:`NIF "${e}" invlido. Deve ter exatamente 10 dgitos.`,legal_reference:"Art. 36 CIVA",financial_impact:0,action_required:"Verificar NIF com fornecedor e solicitar correo",deadline:this.calculateDeadline(15)};const a=n[0];return["2","3","4","5"].includes(a)?null:{severity:"ALTO",type:"NIF_INVALIDO",field:"issuer_data.nif",description:`NIF "${n}" com formato atpico. Primeiro dgito deve ser 2-5.`,legal_reference:"Padro AGT",action_required:"Validar NIF no portal da AGT",deadline:this.calculateDeadline(7)}}validateTaxCalculations(e){var g;const r=[],n=e.totalAmount||0,a=e.iva||0,i=this.determineIVARate(e.category);let s,o;a>0?(s=n/(1+i),o=n-s):(s=n,o=0);const l=Math.abs(a-o);let u=l<=au.AMOUNTS.MAX_VARIANCE;!u&&a>0&&r.push({severity:"ALTO",type:"CALCULO_ERRADO",field:"iva",description:`IVA declarado (${this.formatCurrency(a)}) difere do esperado (${this.formatCurrency(o)}). Variao: ${this.formatCurrency(l)}.`,legal_reference:"Art. 18 CIVA",financial_impact:l,action_required:"Solicitar nota de correo ao fornecedor",deadline:this.calculateDeadline(15)}),au.IVA.EXEMPT_CATEGORIES.includes(((g=e.category)==null?void 0:g.toUpperCase())||"")&&a>0&&r.push({severity:"MEDIO",type:"CALCULO_ERRADO",field:"category",description:`Categoria "${e.category}" isenta de IVA, mas documento declara ${this.formatCurrency(a)}.`,legal_reference:"Art. 9 CIVA",action_required:"Verificar classificao fiscal correta",deadline:this.calculateDeadline(20)});const f=this.calculateWithholding(e),m={iva_correct:u,iva_calculated:a,iva_expected:Math.round(o*100)/100,iva_variance:Math.round(l*100)/100,base_correct:Math.abs(s-(n-a))<=au.AMOUNTS.MAX_VARIANCE,base_taxable:Math.round(s*100)/100,withholding_needed:f.needed,withholding_rate:f.rate,withholding_amount:f.amount,tax_regime:this.determineTaxRegime(e),deductible:this.isDeductible(e)};return f.needed&&!f.applied&&r.push({severity:"CRITICO",type:"RETENCAO_AUSENTE",field:"withholding",description:`Reteno na fonte obrigatria no aplicada. Taxa: ${f.rate*100}%. Valor: ${this.formatCurrency(f.amount)}.`,legal_reference:"Art. 63 Cdigo do IR",financial_impact:f.amount,action_required:"Aplicar reteno e emitir comprovante",deadline:this.calculateDeadline(5)}),{tax_analysis:m,issues:r}}determineIVARate(e){const r=["ALIMENTACAO","SAUDE_BASICA"];return e?au.IVA.EXEMPT_CATEGORIES.includes(e.toUpperCase())?0:r.some(n=>e.toUpperCase().includes(n))?au.IVA.REDUCED_RATE:au.IVA.STANDARD_RATE:au.IVA.STANDARD_RATE}calculateWithholding(e){var l;const r=((l=e.category)==null?void 0:l.toUpperCase())||"",n=e.totalAmount||0;let a=0,i=!1;au.WITHHOLDING.CATEGORIES.some(u=>r.includes(u))&&(i=!0,r.includes("ALUGUEL")||r.includes("RENT")?a=au.WITHHOLDING.RENTAL_RATE:a=au.WITHHOLDING.SERVICES_RATE);const s=i?Math.round(n*a*100)/100:0,o=e.withholding_applied||!1;return{needed:i,rate:a,amount:s,applied:o}}determineTaxRegime(e){var n;const r=e.totalAmount||0;return au.IVA.EXEMPT_CATEGORIES.includes(((n=e.category)==null?void 0:n.toUpperCase())||"")?"ISENTO":r<5e4?"SIMPLIFICADO":"GERAL"}isDeductible(e){var n,a;return!(!((n=e.issuer_data)!=null&&n.nif)||["COMBUSTIVEL_PESSOAL","ENTRETENIMENTO","MULTAS"].includes(((a=e.category)==null?void 0:a.toUpperCase())||""))}validateDate(e){if(!e)return{severity:"ALTO",type:"DATA_INVALIDA",field:"date",description:"Data do documento ausente.",action_required:"Solicitar documento com data vlida",deadline:this.calculateDeadline(7)};const r=new Date(e),a=(new Date().getTime()-r.getTime())/(1e3*60*60*24);return a<-5?{severity:"ALTO",type:"DATA_INVALIDA",field:"date",description:`Data do documento no futuro: ${this.formatDate(e)}.`,action_required:"Verificar data com fornecedor",deadline:this.calculateDeadline(3)}:a>au.DATE.MAX_PAST_YEARS*365?{severity:"MEDIO",type:"DATA_INVALIDA",field:"date",description:`Documento com mais de ${au.DATE.MAX_PAST_YEARS} anos: ${this.formatDate(e)}.`,action_required:"Verificar se documento ainda  vlido fiscalmente",deadline:this.calculateDeadline(10)}:null}calculateRiskScore(e,r){let n=100;return n-=(100-e.data_quality_score)*.3,r.forEach(a=>{switch(a.severity){case"CRITICO":n-=40;break;case"ALTO":n-=25;break;case"MEDIO":n-=15;break;case"BAIXO":n-=5;break}}),Math.max(0,Math.min(100,Math.round(n)))}determineStatus(e,r){return r.some(a=>a.severity==="CRITICO")||e<50?"REJEITADO":e>=90?"APROVADO":e>=70?"REVISAR":"PENDENTE"}generateRecommendations(e,r){const n=[];return n.push("Arquivar cpia digital e fsica por 10 anos (Art. 123 CGT)"),e.length===0?(n.push("Documento conforme - incluir no clculo de IVA dedutvel mensal"),n.push("Registrar no livro de compras at dia 15 do ms seguinte")):(e.filter(i=>i.severity==="CRITICO").length>0&&(n.push(" NO processar pagamento at correo dos problemas crticos"),n.push("Contactar fornecedor imediatamente para emisso de documento correto")),e.some(i=>i.type==="NIF_INVALIDO")&&n.push("IVA no dedutvel sem NIF vlido - impacto fiscal direto"),e.some(i=>i.type==="RETENCAO_AUSENTE")&&n.push("Aplicar reteno antes do pagamento e emitir comprovante (Mod. 19 AGT)")),n}async auditDocument(e,r){var i;const n=Date.now(),a=this.generateAuditId();try{const s=this.validateDocumentStructure(e);if(!s.is_complete)return this.generateIncompleteDocumentResult(s,a,n);const o=[],l=this.validateNIF((i=e.issuer_data)==null?void 0:i.nif,"emitente");l&&o.push(l);const u=this.validateDate(e.date);u&&o.push(u);const{tax_analysis:h,issues:f}=this.validateTaxCalculations(e);o.push(...f);const m=this.calculateRiskScore(s,o),g=this.determineStatus(m,o);let b=null;(g==="REVISAR"||g==="PENDENTE")&&(b=await this.getLLMEnhancement(e,o,r));const y={status:g,risk_score:m,confidence_level:s.data_quality_score,issues:b!=null&&b.additional_issues?[...o,...b.additional_issues]:o,tax_analysis:h,category_suggestion:(b==null?void 0:b.suggested_category)||e.category||"GERAL",justification:(b==null?void 0:b.justification)||this.generateJustification(g,o),recommendations:this.generateRecommendations(o,e),audit_metadata:{audit_id:a,timestamp:new Date().toISOString(),auditor_version:this.VERSION,processing_time_ms:Date.now()-n,ocr_quality:this.assessOCRQuality(e),manual_review_required:g==="REVISAR"||g==="PENDENTE",previous_audits_count:this.getAuditHistoryCount(e.merchantName)}};return this.addToHistory(e.merchantName||"UNKNOWN",y),y}catch(s){return console.error("[AUDITOR] Erro crtico:",s),this.generateErrorResult(s,a,n)}}async getLLMEnhancement(e,r,n){try{const a=await xI(),i=await p_.getPrompt("auditor"),s=n||i.prompt_text||hj,o=i.model_override||GZ.AUDITOR,l=`
DOCUMENTO ANALISADO:
${JSON.stringify(e,null,2)}

ISSUES J IDENTIFICADOS:
${JSON.stringify(r,null,2)}

TAREFA: Fornea anlise adicional focando em:
1. Categorizao fiscal correta
2. Issues no detectados automaticamente
3. Justificativa tcnica detalhada

Retorne JSON:
{
  "suggested_category": "...",
  "additional_issues": [...]
}
\`\`\`;
`,h=(await a.chat.completions.create({model:o,messages:[{role:"system",content:s},{role:"user",content:l}],response_format:{type:"json_object"},temperature:i.temperature??.1})).choices[0].message.content;return h?JSON.parse(h):null}catch(a){return console.error("[AUDITOR] Falha no enriquecimento LLM:",a),null}}generateAuditId(){return`AUD-${Date.now()}-${Math.random().toString(36).substr(2,9).toUpperCase()}`}calculateDeadline(e){const r=new Date;return r.setDate(r.getDate()+e),r.toISOString().split("T")[0]}formatCurrency(e){return new Intl.NumberFormat("pt-AO",{style:"currency",currency:"AOA"}).format(e)}formatDate(e){return new Date(e).toLocaleDateString("pt-PT")}assessOCRQuality(e){const r=Object.keys(e).length,a=Object.values(e).filter(i=>i!==null&&i!=="").length/r;return a>.8?"ALTA":a>.5?"MEDIA":"BAIXA"}getAuditHistoryCount(e){var r;return e&&((r=this.auditHistory.get(e))==null?void 0:r.length)||0}generateJustification(e,r){if(e==="APROVADO")return"Documento aprovado automaticamente. Nenhuma inconsistncia crtica detectada.";const n=r.filter(i=>i.severity==="CRITICO").length,a=r.filter(i=>i.severity==="ALTO").length;return`Documento ${e}. Detectados ${n} erros crticos e ${a} erros de alta severidade.`}generateIncompleteDocumentResult(e,r,n){return{status:"REJEITADO",risk_score:0,confidence_level:0,issues:[{severity:"CRITICO",type:"FORMATO_INVALIDO",field:"general",description:"Documento incompleto ou ilegvel.",action_required:"Reenviar documento com melhor qualidade."}],tax_analysis:{iva_correct:!1,base_correct:!1,withholding_needed:!1,deductible:!1},category_suggestion:"INDEFINIDO",justification:"Falha na validao estrutural.",recommendations:["Reenviar imagem"],audit_metadata:{audit_id:r,timestamp:new Date().toISOString(),auditor_version:this.VERSION,processing_time_ms:Date.now()-n,ocr_quality:"BAIXA",manual_review_required:!0,previous_audits_count:0}}}generateErrorResult(e,r,n){return{status:"PENDENTE",risk_score:0,confidence_level:0,issues:[{severity:"ALTO",type:"OUTRO",field:"system",description:`Erro interno: ${e.message}`,action_required:"Contactar suporte."}],tax_analysis:{iva_correct:!1,base_correct:!1,withholding_needed:!1,deductible:!1},category_suggestion:"ERRO",justification:"Erro no processamento.",recommendations:[],audit_metadata:{audit_id:r,timestamp:new Date().toISOString(),auditor_version:this.VERSION,processing_time_ms:Date.now()-n,manual_review_required:!0}}}addToHistory(e,r){const n=this.auditHistory.get(e)||[];n.push(r),n.length>10&&n.shift(),this.auditHistory.set(e,n)}}const Hge=new Vge,Tc=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),vI=[.001,0,0,.001,0,0],E6=1.35,sd={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},kg={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},M_="pdfjs_internal_editor_",dn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Un={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},qge={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},yI={TRIANGLES:1,LATTICE:2},lo={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},d3={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ms={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ub={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Ok={ERRORS:0,WARNINGS:1,INFOS:5},F_={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},mA={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},Gge={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Dk=Ok.WARNINGS;function Wge(t){Number.isInteger(t)&&(Dk=t)}function Kge(){return Dk}function Rk(t){Dk>=Ok.INFOS&&console.info(`Info: ${t}`)}function on(t){Dk>=Ok.WARNINGS&&console.warn(`Warning: ${t}`)}function Ka(t){throw new Error(t)}function zn(t,e){t||Ka(e)}function Yge(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function WZ(t,e=null,r=null){if(!t)return null;if(r&&typeof t=="string"){if(r.addDefaultProtocol&&t.startsWith("www.")){const a=t.match(/\./g);(a==null?void 0:a.length)>=2&&(t=`http://${t}`)}if(r.tryConvertEncoding)try{t=exe(t)}catch{}}const n=e?URL.parse(t,e):URL.parse(t);return Yge(n)?n:null}function KZ(t,e,r=!1){const n=URL.parse(t);return n?(n.hash=e,n.href):r&&WZ(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function ln(t,e,r,n=!1){return Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!0,writable:!1}),r}const Ly=(function(){function e(r,n){this.message=r,this.name=n}return e.prototype=new Error,e.constructor=e,e})();class oV extends Ly{constructor(e,r){super(e,"PasswordException"),this.code=r}}class T6 extends Ly{constructor(e,r){super(e,"UnknownErrorException"),this.details=r}}class bI extends Ly{constructor(e){super(e,"InvalidPDFException")}}class fj extends Ly{constructor(e,r,n){super(e,"ResponseException"),this.status=r,this.missing=n}}class Xge extends Ly{constructor(e){super(e,"FormatError")}}class Mx extends Ly{constructor(e){super(e,"AbortException")}}function YZ(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Ka("Invalid argument for bytesToString");const e=t.length,r=8192;if(e<r)return String.fromCharCode.apply(null,t);const n=[];for(let a=0;a<e;a+=r){const i=Math.min(a+r,e),s=t.subarray(a,i);n.push(String.fromCharCode.apply(null,s))}return n.join("")}function SE(t){typeof t!="string"&&Ka("Invalid argument for stringToBytes");const e=t.length,r=new Uint8Array(e);for(let n=0;n<e;++n)r[n]=t.charCodeAt(n)&255;return r}function Jge(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function Zge(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function Qge(){try{return new Function(""),!0}catch{return!1}}class bo{static get isLittleEndian(){return ln(this,"isLittleEndian",Zge())}static get isEvalSupported(){return ln(this,"isEvalSupported",Qge())}static get isOffscreenCanvasSupported(){return ln(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ln(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return ln(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return ln(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:r}=navigator;return ln(this,"platform",{isAndroid:r.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:r.includes("Firefox")})}static get isCSSRoundSupported(){var e,r;return ln(this,"isCSSRoundSupported",(r=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:r.call(e,"width: round(1.5px, 1px)"))}}const j6=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var ym,h3,wI;class wr{static makeHexColor(e,r,n){return`#${j6[e]}${j6[r]}${j6[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,r){let n;e[0]?(e[0]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[0],r[2]*=e[0],e[3]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[3],r[3]*=e[3]):(n=r[0],r[0]=r[1],r[1]=n,n=r[2],r[2]=r[3],r[3]=n,e[1]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[1],r[3]*=e[1],e[2]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[2],r[2]*=e[2]),r[0]+=e[4],r[1]+=e[5],r[2]+=e[4],r[3]+=e[5]}static transform(e,r){return[e[0]*r[0]+e[2]*r[1],e[1]*r[0]+e[3]*r[1],e[0]*r[2]+e[2]*r[3],e[1]*r[2]+e[3]*r[3],e[0]*r[4]+e[2]*r[5]+e[4],e[1]*r[4]+e[3]*r[5]+e[5]]}static multiplyByDOMMatrix(e,r){return[e[0]*r.a+e[2]*r.b,e[1]*r.a+e[3]*r.b,e[0]*r.c+e[2]*r.d,e[1]*r.c+e[3]*r.d,e[0]*r.e+e[2]*r.f+e[4],e[1]*r.e+e[3]*r.f+e[5]]}static applyTransform(e,r,n=0){const a=e[n],i=e[n+1];e[n]=a*r[0]+i*r[2]+r[4],e[n+1]=a*r[1]+i*r[3]+r[5]}static applyTransformToBezier(e,r,n=0){const a=r[0],i=r[1],s=r[2],o=r[3],l=r[4],u=r[5];for(let h=0;h<6;h+=2){const f=e[n+h],m=e[n+h+1];e[n+h]=f*a+m*s+l,e[n+h+1]=f*i+m*o+u}}static applyInverseTransform(e,r){const n=e[0],a=e[1],i=r[0]*r[3]-r[1]*r[2];e[0]=(n*r[3]-a*r[2]+r[2]*r[5]-r[4]*r[3])/i,e[1]=(-n*r[1]+a*r[0]+r[4]*r[1]-r[5]*r[0])/i}static axialAlignedBoundingBox(e,r,n){const a=r[0],i=r[1],s=r[2],o=r[3],l=r[4],u=r[5],h=e[0],f=e[1],m=e[2],g=e[3];let b=a*h+l,y=b,w=a*m+l,A=w,S=o*f+u,N=S,T=o*g+u,k=T;if(i!==0||s!==0){const R=i*h,O=i*m,U=s*f,H=s*g;b+=U,A+=U,w+=H,y+=H,S+=R,k+=R,T+=O,N+=O}n[0]=Math.min(n[0],b,w,y,A),n[1]=Math.min(n[1],S,T,N,k),n[2]=Math.max(n[2],b,w,y,A),n[3]=Math.max(n[3],S,T,N,k)}static inverseTransform(e){const r=e[0]*e[3]-e[1]*e[2];return[e[3]/r,-e[1]/r,-e[2]/r,e[0]/r,(e[2]*e[5]-e[4]*e[3])/r,(e[4]*e[1]-e[5]*e[0])/r]}static singularValueDecompose2dScale(e,r){const n=e[0],a=e[1],i=e[2],s=e[3],o=n**2+a**2,l=n*i+a*s,u=i**2+s**2,h=(o+u)/2,f=Math.sqrt(h**2-(o*u-l**2));r[0]=Math.sqrt(h+f||1),r[1]=Math.sqrt(h-f||1)}static normalizeRect(e){const r=e.slice(0);return e[0]>e[2]&&(r[0]=e[2],r[2]=e[0]),e[1]>e[3]&&(r[1]=e[3],r[3]=e[1]),r}static intersect(e,r){const n=Math.max(Math.min(e[0],e[2]),Math.min(r[0],r[2])),a=Math.min(Math.max(e[0],e[2]),Math.max(r[0],r[2]));if(n>a)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(r[1],r[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(r[1],r[3]));return i>s?null:[n,i,a,s]}static pointBoundingBox(e,r,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],r),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],r)}static rectBoundingBox(e,r,n,a,i){i[0]=Math.min(i[0],e,n),i[1]=Math.min(i[1],r,a),i[2]=Math.max(i[2],e,n),i[3]=Math.max(i[3],r,a)}static bezierBoundingBox(e,r,n,a,i,s,o,l,u){u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],r,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],r,l),ue(this,ym,wI).call(this,e,n,i,o,r,a,s,l,3*(-e+3*(n-i)+o),6*(e-2*n+i),3*(n-e),u),ue(this,ym,wI).call(this,e,n,i,o,r,a,s,l,3*(-r+3*(a-s)+l),6*(r-2*a+s),3*(a-r),u)}}ym=new WeakSet,h3=function(e,r,n,a,i,s,o,l,u,h){if(u<=0||u>=1)return;const f=1-u,m=u*u,g=m*u,b=f*(f*(f*e+3*u*r)+3*m*n)+g*a,y=f*(f*(f*i+3*u*s)+3*m*o)+g*l;h[0]=Math.min(h[0],b),h[1]=Math.min(h[1],y),h[2]=Math.max(h[2],b),h[3]=Math.max(h[3],y)},wI=function(e,r,n,a,i,s,o,l,u,h,f,m){if(Math.abs(u)<1e-12){Math.abs(h)>=1e-12&&ue(this,ym,h3).call(this,e,r,n,a,i,s,o,l,-f/h,m);return}const g=h**2-4*f*u;if(g<0)return;const b=Math.sqrt(g),y=2*u;ue(this,ym,h3).call(this,e,r,n,a,i,s,o,l,(-h+b)/y,m),ue(this,ym,h3).call(this,e,r,n,a,i,s,o,l,(-h-b)/y,m)},ie(wr,ym);function exe(t){return decodeURIComponent(escape(t))}let C6=null,lV=null;function txe(t){return C6||(C6=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,lV=new Map([["","t"]])),t.replaceAll(C6,(e,r,n)=>r?r.normalize("NFKC"):lV.get(n))}function XZ(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),YZ(t)}const e2="pdfjs_internal_id_";function rxe(t,e,r){if(!Array.isArray(r)||r.length<2)return!1;const[n,a,...i]=r;if(!t(n)&&!Number.isInteger(n)||!e(a))return!1;const s=i.length;let o=!0;switch(a.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return s===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(s!==4)return!1;o=!1;break;default:return!1}for(const l of i)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function jc(t,e,r){return Math.min(Math.max(t,e),r)}function JZ(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(YZ(t))}function nxe(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):SE(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(r=>{r(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,r)=>e+r,0)});class B_{static textContent(e){const r=[],n={items:r,styles:Object.create(null)};function a(i){var l;if(!i)return;let s=null;const o=i.name;if(o==="#text")s=i.value;else if(B_.shouldBuildText(o))(l=i==null?void 0:i.attributes)!=null&&l.textContent?s=i.attributes.textContent:i.value&&(s=i.value);else return;if(s!==null&&r.push({str:s}),!!i.children)for(const u of i.children)a(u)}return a(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class ZZ{static setupStorage(e,r,n,a,i){const s=a.getValue(r,{value:null});switch(n.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),i==="print")break;e.addEventListener("input",o=>{a.setValue(r,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(s.value===n.attributes.xfaOn?e.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&e.removeAttribute("checked"),i==="print")break;e.addEventListener("change",o=>{a.setValue(r,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),i==="print")break;e.addEventListener("input",o=>{a.setValue(r,{value:o.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const o of n.children)o.attributes.value===s.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;a.setValue(r,{value:u})});break}}static setAttributes({html:e,element:r,storage:n=null,intent:a,linkService:i}){const{attributes:s}=r,o=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${a}`);for(const[l,u]of Object.entries(s))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&i.addLinkAttributes(e,s.href,s.newWindow),n&&s.dataId&&this.setupStorage(e,s.dataId,r,n)}static render(e){var f,m;const r=e.annotationStorage,n=e.linkService,a=e.xfaHtml,i=e.intent||"display",s=document.createElement(a.name);a.attributes&&this.setAttributes({html:s,element:a,intent:i,linkService:n});const o=i!=="richText",l=e.div;if(l.append(s),e.viewport){const g=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=g}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(a.children.length===0){if(a.value){const g=document.createTextNode(a.value);s.append(g),o&&B_.shouldBuildText(a.name)&&u.push(g)}return{textDivs:u}}const h=[[a,-1,s]];for(;h.length>0;){const[g,b,y]=h.at(-1);if(b+1===g.children.length){h.pop();continue}const w=g.children[++h.at(-1)[1]];if(w===null)continue;const{name:A}=w;if(A==="#text"){const N=document.createTextNode(w.value);u.push(N),y.append(N);continue}const S=(f=w==null?void 0:w.attributes)!=null&&f.xmlns?document.createElementNS(w.attributes.xmlns,A):document.createElement(A);if(y.append(S),w.attributes&&this.setAttributes({html:S,element:w,storage:r,intent:i,linkService:n}),((m=w.children)==null?void 0:m.length)>0)h.push([w,-1,S]);else if(w.value){const N=document.createTextNode(w.value);o&&B_.shouldBuildText(A)&&u.push(N),S.append(N)}}for(const g of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const r=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=r,e.div.hidden=!1}}const bp="http://www.w3.org/2000/svg",Cv=class Cv{};tr(Cv,"CSS",96),tr(Cv,"PDF",72),tr(Cv,"PDF_TO_CSS_UNITS",Cv.CSS/Cv.PDF);let Fx=Cv;async function NE(t,e="text"){if(BA(t,document.baseURI)){const r=await fetch(t);if(!r.ok)throw new Error(r.statusText);switch(e){case"arraybuffer":return r.arrayBuffer();case"blob":return r.blob();case"json":return r.json()}return r.text()}return new Promise((r,n)=>{const a=new XMLHttpRequest;a.open("GET",t,!0),a.responseType=e,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(e){case"arraybuffer":case"blob":case"json":r(a.response);return}r(a.responseText);return}n(new Error(a.statusText))}},a.send(null)})}class EE{constructor({viewBox:e,userUnit:r,scale:n,rotation:a,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=r,this.scale=n,this.rotation=a,this.offsetX=i,this.offsetY=s,n*=r;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let h,f,m,g;switch(a%=360,a<0&&(a+=360),a){case 180:h=-1,f=0,m=0,g=1;break;case 90:h=0,f=1,m=1,g=0;break;case 270:h=0,f=-1,m=-1,g=0;break;case 0:h=1,f=0,m=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(m=-m,g=-g);let b,y,w,A;h===0?(b=Math.abs(u-e[1])*n+i,y=Math.abs(l-e[0])*n+s,w=(e[3]-e[1])*n,A=(e[2]-e[0])*n):(b=Math.abs(l-e[0])*n+i,y=Math.abs(u-e[1])*n+s,w=(e[2]-e[0])*n,A=(e[3]-e[1])*n),this.transform=[h*n,f*n,m*n,g*n,b-h*n*l-m*n*u,y-f*n*l-g*n*u],this.width=w,this.height=A}get rawDims(){const e=this.viewBox;return ln(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:r=this.rotation,offsetX:n=this.offsetX,offsetY:a=this.offsetY,dontFlip:i=!1}={}){return new EE({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:r,offsetX:n,offsetY:a,dontFlip:i})}convertToViewportPoint(e,r){const n=[e,r];return wr.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const r=[e[0],e[1]];wr.applyTransform(r,this.transform);const n=[e[2],e[3]];return wr.applyTransform(n,this.transform),[r[0],r[1],n[0],n[1]]}convertToPdfPoint(e,r){const n=[e,r];return wr.applyInverseTransform(n,this.transform),n}}class RF extends Ly{constructor(e,r=0){super(e,"RenderingCancelledException"),this.extraDelay=r}}function Ik(t){const e=t.length;let r=0;for(;r<e&&t[r].trim()==="";)r++;return t.substring(r,r+5).toLowerCase()==="data:"}function IF(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function axe(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function ixe(t,e="document.pdf"){if(typeof t!="string")return e;if(Ik(t))return on('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(t);if(!n)return e;const a=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},i=/\.pdf$/i,s=n.pathname.split("/").at(-1);if(i.test(s))return a(s);if(n.searchParams.size>0){const o=Array.from(n.searchParams.values()).reverse();for(const u of o)if(i.test(u))return a(u);const l=Array.from(n.searchParams.keys()).reverse();for(const u of l)if(i.test(u))return a(u)}if(n.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(l)return a(l[0])}return e}class cV{constructor(){tr(this,"started",Object.create(null));tr(this,"times",[])}time(e){e in this.started&&on(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||on(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let r=0;for(const{name:n}of this.times)r=Math.max(n.length,r);for(const{name:n,start:a,end:i}of this.times)e.push(`${n.padEnd(r)} ${i-a}ms
`);return e.join("")}}function BA(t,e){const r=e?URL.parse(t,e):URL.parse(t);return(r==null?void 0:r.protocol)==="http:"||(r==null?void 0:r.protocol)==="https:"}function dh(t){t.preventDefault()}function cs(t){t.preventDefault(),t.stopPropagation()}function sxe(t){console.log("Deprecated API usage: "+t)}var yS;class pj{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;v(this,yS)||J(this,yS,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const r=v(this,yS).exec(e);if(!r)return null;const n=parseInt(r[1],10);let a=parseInt(r[2],10);a=a>=1&&a<=12?a-1:0;let i=parseInt(r[3],10);i=i>=1&&i<=31?i:1;let s=parseInt(r[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(r[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(r[6],10);l=l>=0&&l<=59?l:0;const u=r[7]||"Z";let h=parseInt(r[8],10);h=h>=0&&h<=23?h:0;let f=parseInt(r[9],10)||0;return f=f>=0&&f<=59?f:0,u==="-"?(s+=h,o+=f):u==="+"&&(s-=h,o-=f),new Date(Date.UTC(n,a,i,s,o,l))}}yS=new WeakMap,ie(pj,yS);function oxe(t,{scale:e=1,rotation:r=0}){const{width:n,height:a}=t.attributes.style,i=[0,0,parseInt(n),parseInt(a)];return new EE({viewBox:i,userUnit:1,scale:e,rotation:r})}function TE(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(on(`Not a valid color format: "${t}"`),[0,0,0])}function lxe(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const r of t.keys()){e.style.color=r;const n=window.getComputedStyle(e).color;t.set(r,TE(n))}e.remove()}function zi(t){const{a:e,b:r,c:n,d:a,e:i,f:s}=t.getTransform();return[e,r,n,a,i,s]}function Jf(t){const{a:e,b:r,c:n,d:a,e:i,f:s}=t.getTransform().invertSelf();return[e,r,n,a,i,s]}function wy(t,e,r=!1,n=!0){if(e instanceof EE){const{pageWidth:a,pageHeight:i}=e.rawDims,{style:s}=t,o=bo.isCSSRoundSupported,l=`var(--total-scale-factor) * ${a}px`,u=`var(--total-scale-factor) * ${i}px`,h=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,f=o?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!r||e.rotation%180===0?(s.width=h,s.height=f):(s.width=f,s.height=h)}n&&t.setAttribute("data-main-rotation",e.rotation)}class U0{constructor(){const{pixelRatio:e}=U0;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,r,n,a,i=-1){let s=1/0,o=1/0,l=1/0;n=U0.capPixels(n,i),n>0&&(s=Math.sqrt(n/(e*r))),a!==-1&&(o=a/e,l=a/r);const u=Math.min(s,o,l);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,r){if(r>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+r/100));return e>0?Math.min(e,n):n}return e}}const AI=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class cxe{static get isDarkMode(){var e;return ln(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class uxe{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:r}=e;r.width=r.height="0",r.display="none",r.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),ln(this,"commentForegroundColor",TE(n))}}function dxe(t,e,r,n){n=Math.min(Math.max(n??1,0),1);const a=255*(1-n);return t=Math.round(t*n+a),e=Math.round(e*n+a),r=Math.round(r*n+a),[t,e,r]}function uV(t,e){const r=t[0]/255,n=t[1]/255,a=t[2]/255,i=Math.max(r,n,a),s=Math.min(r,n,a),o=(i+s)/2;if(i===s)e[0]=e[1]=0;else{const l=i-s;switch(e[1]=o<.5?l/(i+s):l/(2-i-s),i){case r:e[0]=((n-a)/l+(n<a?6:0))*60;break;case n:e[0]=((a-r)/l+2)*60;break;case a:e[0]=((r-n)/l+4)*60;break}}e[2]=o}function _I(t,e){const r=t[0],n=t[1],a=t[2],i=(1-Math.abs(2*a-1))*n,s=i*(1-Math.abs(r/60%2-1)),o=a-i/2;switch(Math.floor(r/60)){case 0:e[0]=i+o,e[1]=s+o,e[2]=o;break;case 1:e[0]=s+o,e[1]=i+o,e[2]=o;break;case 2:e[0]=o,e[1]=i+o,e[2]=s+o;break;case 3:e[0]=o,e[1]=s+o,e[2]=i+o;break;case 4:e[0]=s+o,e[1]=o,e[2]=i+o;break;case 5:case 6:e[0]=i+o,e[1]=o,e[2]=s+o;break}}function dV(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function hV(t,e,r){_I(t,r),r.map(dV);const n=.2126*r[0]+.7152*r[1]+.0722*r[2];_I(e,r),r.map(dV);const a=.2126*r[0]+.7152*r[1]+.0722*r[2];return n>a?(n+.05)/(a+.05):(a+.05)/(n+.05)}const fV=new Map;function hxe(t,e){const r=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let n=fV.get(r);if(n)return n;const a=new Float32Array(9),i=a.subarray(0,3),s=a.subarray(3,6);uV(t,s);const o=a.subarray(6,9);uV(e,o);const l=o[2]<.5,u=l?12:4.5;if(s[2]=l?Math.sqrt(s[2]):1-Math.sqrt(1-s[2]),hV(s,o,i)<u){let h,f;l?(h=s[2],f=1):(h=0,f=s[2]);const m=.005;for(;f-h>m;){const g=s[2]=(h+f)/2;l===hV(s,o,i)<u?h=g:f=g}s[2]=l?f:h}return _I(s,i),n=wr.makeHexColor(Math.round(i[0]*255),Math.round(i[1]*255),Math.round(i[2]*255)),fV.set(r,n),n}function QZ({html:t,dir:e,className:r},n){const a=document.createDocumentFragment();if(typeof t=="string"){const i=document.createElement("p");i.dir=e||"auto";const s=t.split(/(?:\r\n?|\n)/);for(let o=0,l=s.length;o<l;++o){const u=s[o];i.append(document.createTextNode(u)),o<l-1&&i.append(document.createElement("br"))}a.append(i)}else ZZ.render({xfaHtml:t,div:a,intent:"richText"});a.firstElementChild.classList.add("richText",r),n.append(a)}function eQ(t){const e=new Path2D;if(!t)return e;for(let r=0,n=t.length;r<n;)switch(t[r++]){case mA.moveTo:e.moveTo(t[r++],t[r++]);break;case mA.lineTo:e.lineTo(t[r++],t[r++]);break;case mA.curveTo:e.bezierCurveTo(t[r++],t[r++],t[r++],t[r++],t[r++],t[r++]);break;case mA.quadraticCurveTo:e.quadraticCurveTo(t[r++],t[r++],t[r++],t[r++]);break;case mA.closePath:e.closePath();break;default:on(`Unrecognized drawing path operator: ${t[r-1]}`);break}return e}var Ig,Lg,qd,Gd,bS,Mg,j2,C2,wS,qC,tQ,Nl,rQ,nQ,zb,UA;const _p=class _p{constructor(e){ie(this,Nl);ie(this,Ig,null);ie(this,Lg,null);ie(this,qd);ie(this,Gd,null);ie(this,bS,null);ie(this,Mg,null);ie(this,j2,null);ie(this,C2,null);J(this,qd,e),v(_p,wS)||J(_p,wS,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=J(this,Ig,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const r=v(this,qd)._uiManager._signal;r instanceof AbortSignal&&!r.aborted&&(e.addEventListener("contextmenu",dh,{signal:r}),e.addEventListener("pointerdown",ue(_p,qC,tQ),{signal:r}));const n=J(this,Gd,document.createElement("div"));n.className="buttons",e.append(n);const a=v(this,qd).toolbarPosition;if(a){const{style:i}=e,s=v(this,qd)._uiManager.direction==="ltr"?1-a[0]:a[0];i.insetInlineEnd=`${100*s}%`,i.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return v(this,Ig)}hide(){var e;v(this,Ig).classList.add("hidden"),(e=v(this,Lg))==null||e.hideDropdown()}show(){var e,r;v(this,Ig).classList.remove("hidden"),(e=v(this,bS))==null||e.shown(),(r=v(this,Mg))==null||r.shown()}addDeleteButton(){const{editorType:e,_uiManager:r}=v(this,qd),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",v(_p,wS)[e]),ue(this,Nl,zb).call(this,n)&&n.addEventListener("click",a=>{r.delete()},{signal:r._signal}),v(this,Gd).append(n)}async addAltText(e){const r=await e.render();ue(this,Nl,zb).call(this,r),v(this,Gd).append(r,v(this,Nl,UA)),J(this,bS,e)}addComment(e,r=null){if(v(this,Mg))return;const n=e.renderForToolbar();if(!n)return;ue(this,Nl,zb).call(this,n);const a=J(this,j2,v(this,Nl,UA));r?(v(this,Gd).insertBefore(n,r),v(this,Gd).insertBefore(a,r)):v(this,Gd).append(n,a),J(this,Mg,e),e.toolbar=this}addColorPicker(e){if(v(this,Lg))return;J(this,Lg,e);const r=e.renderButton();ue(this,Nl,zb).call(this,r),v(this,Gd).append(r,v(this,Nl,UA))}async addEditSignatureButton(e){const r=J(this,C2,await e.renderEditButton(v(this,qd)));ue(this,Nl,zb).call(this,r),v(this,Gd).append(r,v(this,Nl,UA))}removeButton(e){var r,n;switch(e){case"comment":(r=v(this,Mg))==null||r.removeToolbarCommentButton(),J(this,Mg,null),(n=v(this,j2))==null||n.remove(),J(this,j2,null);break}}async addButton(e,r){switch(e){case"colorPicker":r&&this.addColorPicker(r);break;case"altText":r&&await this.addAltText(r);break;case"editSignature":r&&await this.addEditSignatureButton(r);break;case"delete":this.addDeleteButton();break;case"comment":r&&this.addComment(r);break}}async addButtonBefore(e,r,n){if(!r&&e==="comment")return;const a=v(this,Gd).querySelector(n);a&&e==="comment"&&this.addComment(r,a)}updateEditSignatureButton(e){v(this,C2)&&(v(this,C2).title=e)}remove(){var e;v(this,Ig).remove(),(e=v(this,Lg))==null||e.destroy(),J(this,Lg,null)}};Ig=new WeakMap,Lg=new WeakMap,qd=new WeakMap,Gd=new WeakMap,bS=new WeakMap,Mg=new WeakMap,j2=new WeakMap,C2=new WeakMap,wS=new WeakMap,qC=new WeakSet,tQ=function(e){e.stopPropagation()},Nl=new WeakSet,rQ=function(e){v(this,qd)._focusEventsAllowed=!1,cs(e)},nQ=function(e){v(this,qd)._focusEventsAllowed=!0,cs(e)},zb=function(e){const r=v(this,qd)._uiManager._signal;return!(r instanceof AbortSignal)||r.aborted?!1:(e.addEventListener("focusin",ue(this,Nl,rQ).bind(this),{capture:!0,signal:r}),e.addEventListener("focusout",ue(this,Nl,nQ).bind(this),{capture:!0,signal:r}),e.addEventListener("contextmenu",dh,{signal:r}),!0)},UA=function(){const e=document.createElement("div");return e.className="divider",e},ie(_p,qC),ie(_p,wS,null);let SI=_p;var AS,Uv,Ep,Mm,aQ,iQ,NI;class fxe{constructor(e){ie(this,Mm);ie(this,AS,null);ie(this,Uv,null);ie(this,Ep);J(this,Ep,e)}show(e,r,n){const[a,i]=ue(this,Mm,iQ).call(this,r,n),{style:s}=v(this,Uv)||J(this,Uv,ue(this,Mm,aQ).call(this));e.append(v(this,Uv)),s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){v(this,Uv).remove()}}AS=new WeakMap,Uv=new WeakMap,Ep=new WeakMap,Mm=new WeakSet,aQ=function(){const e=J(this,Uv,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const r=v(this,Ep)._signal;r instanceof AbortSignal&&!r.aborted&&e.addEventListener("contextmenu",dh,{signal:r});const n=J(this,AS,document.createElement("div"));return n.className="buttons",e.append(n),v(this,Ep).hasCommentManager()&&ue(this,Mm,NI).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{v(this,Ep).commentSelection("floating_button")}),ue(this,Mm,NI).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{v(this,Ep).highlightSelection("floating_button")}),e},iQ=function(e,r){let n=0,a=0;for(const i of e){const s=i.y+i.height;if(s<n)continue;const o=i.x+(r?i.width:0);if(s>n){a=o,n=s;continue}r?o>a&&(a=o):o<a&&(a=o)}return[r?1-a:a,n]},NI=function(e,r,n,a){const i=document.createElement("button");i.classList.add("basic",e),i.tabIndex=0,i.setAttribute("data-l10n-id",r);const s=document.createElement("span");i.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id",n);const o=v(this,Ep)._signal;o instanceof AbortSignal&&!o.aborted&&(i.addEventListener("contextmenu",dh,{signal:o}),i.addEventListener("click",a,{signal:o})),v(this,AS).append(i)};function sQ(t,e,r){for(const n of r)e.addEventListener(n,t[n].bind(t))}var zv,$v,k2,Vv;const Pa=class Pa{static initializeAndAddPointerId(e){(v(Pa,$v)||J(Pa,$v,new Set)).add(e)}static setPointer(e,r){v(Pa,zv)||J(Pa,zv,r),v(Pa,Vv)??J(Pa,Vv,e)}static setTimeStamp(e){J(Pa,k2,e)}static isSamePointerId(e){return v(Pa,zv)===e}static isSamePointerIdOrRemove(e){var r;return v(Pa,zv)===e?!0:((r=v(Pa,$v))==null||r.delete(e),!1)}static isSamePointerType(e){return v(Pa,Vv)===e}static isInitializedAndDifferentPointerType(e){return v(Pa,Vv)!==null&&!Pa.isSamePointerType(e)}static isSameTimeStamp(e){return v(Pa,k2)===e}static isUsingMultiplePointers(){var e;return((e=v(Pa,$v))==null?void 0:e.size)>=1}static clearPointerType(){J(Pa,Vv,null)}static clearPointerIds(){J(Pa,zv,NaN),J(Pa,$v,null)}static clearTimeStamp(){J(Pa,k2,NaN)}};zv=new WeakMap,$v=new WeakMap,k2=new WeakMap,Vv=new WeakMap,ie(Pa,zv,NaN),ie(Pa,$v,null),ie(Pa,k2,NaN),ie(Pa,Vv,null);let Gl=Pa;var GC;class pxe{constructor(){ie(this,GC,0)}get id(){return`${M_}${so(this,GC)._++}`}}GC=new WeakMap;var P2,_S,Wl,O2,f3;const K9=class K9{constructor(){ie(this,O2);ie(this,P2,XZ());ie(this,_S,0);ie(this,Wl,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=e;const i=a.decode().then(()=>(n.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return ln(this,"_isSVGFittingCanvas",i)}async getFromFile(e){const{lastModified:r,name:n,size:a,type:i}=e;return ue(this,O2,f3).call(this,`${r}_${n}_${a}_${i}`,e)}async getFromUrl(e){return ue(this,O2,f3).call(this,e,e)}async getFromBlob(e,r){const n=await r;return ue(this,O2,f3).call(this,e,n)}async getFromId(e){v(this,Wl)||J(this,Wl,new Map);const r=v(this,Wl).get(e);if(!r)return null;if(r.bitmap)return r.refCounter+=1,r;if(r.file)return this.getFromFile(r.file);if(r.blobPromise){const{blobPromise:n}=r;return delete r.blobPromise,this.getFromBlob(r.id,n)}return this.getFromUrl(r.url)}getFromCanvas(e,r){v(this,Wl)||J(this,Wl,new Map);let n=v(this,Wl).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const a=new OffscreenCanvas(r.width,r.height);return a.getContext("2d").drawImage(r,0,0),n={bitmap:a.transferToImageBitmap(),id:`image_${v(this,P2)}_${so(this,_S)._++}`,refCounter:1,isSvg:!1},v(this,Wl).set(e,n),v(this,Wl).set(n.id,n),n}getSvgUrl(e){const r=v(this,Wl).get(e);return r!=null&&r.isSvg?r.svgUrl:null}deleteId(e){var a;v(this,Wl)||J(this,Wl,new Map);const r=v(this,Wl).get(e);if(!r||(r.refCounter-=1,r.refCounter!==0))return;const{bitmap:n}=r;if(!r.url&&!r.file){const i=new OffscreenCanvas(n.width,n.height);i.getContext("bitmaprenderer").transferFromImageBitmap(n),r.blobPromise=i.convertToBlob()}(a=n.close)==null||a.call(n),r.bitmap=null}isValidId(e){return e.startsWith(`image_${v(this,P2)}_`)}};P2=new WeakMap,_S=new WeakMap,Wl=new WeakMap,O2=new WeakSet,f3=async function(e,r){v(this,Wl)||J(this,Wl,new Map);let n=v(this,Wl).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${v(this,P2)}_${so(this,_S)._++}`,refCounter:0,isSvg:!1});let a;if(typeof r=="string"?(n.url=r,a=await NE(r,"blob")):r instanceof File?a=n.file=r:r instanceof Blob&&(a=r),a.type==="image/svg+xml"){const i=K9._isSVGFittingCanvas,s=new FileReader,o=new Image,l=new Promise((u,h)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,u()},s.onload=async()=>{const f=n.svgUrl=s.result;o.src=await i?`${f}#svgView(preserveAspectRatio(none))`:f},o.onerror=s.onerror=h});s.readAsDataURL(a),await l}else n.bitmap=await createImageBitmap(a);n.refCounter=1}catch(a){on(a),n=null}return v(this,Wl).set(e,n),n&&v(this,Wl).set(n.id,n),n};let EI=K9;var bs,Fg,SS,Ui;class mxe{constructor(e=128){ie(this,bs,[]);ie(this,Fg,!1);ie(this,SS);ie(this,Ui,-1);J(this,SS,e)}add({cmd:e,undo:r,post:n,mustExec:a,type:i=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}){if(a&&e(),v(this,Fg))return;const l={cmd:e,undo:r,post:n,type:i};if(v(this,Ui)===-1){v(this,bs).length>0&&(v(this,bs).length=0),J(this,Ui,0),v(this,bs).push(l);return}if(s&&v(this,bs)[v(this,Ui)].type===i){o&&(l.undo=v(this,bs)[v(this,Ui)].undo),v(this,bs)[v(this,Ui)]=l;return}const u=v(this,Ui)+1;u===v(this,SS)?v(this,bs).splice(0,1):(J(this,Ui,u),u<v(this,bs).length&&v(this,bs).splice(u)),v(this,bs).push(l)}undo(){if(v(this,Ui)===-1)return;J(this,Fg,!0);const{undo:e,post:r}=v(this,bs)[v(this,Ui)];e(),r==null||r(),J(this,Fg,!1),J(this,Ui,v(this,Ui)-1)}redo(){if(v(this,Ui)<v(this,bs).length-1){J(this,Ui,v(this,Ui)+1),J(this,Fg,!0);const{cmd:e,post:r}=v(this,bs)[v(this,Ui)];e(),r==null||r(),J(this,Fg,!1)}}hasSomethingToUndo(){return v(this,Ui)!==-1}hasSomethingToRedo(){return v(this,Ui)<v(this,bs).length-1}cleanType(e){if(v(this,Ui)!==-1){for(let r=v(this,Ui);r>=0;r--)if(v(this,bs)[r].type!==e){v(this,bs).splice(r+1,v(this,Ui)-r),J(this,Ui,r);return}v(this,bs).length=0,J(this,Ui,-1)}}destroy(){J(this,bs,null)}}bs=new WeakMap,Fg=new WeakMap,SS=new WeakMap,Ui=new WeakMap;var WC,oQ;class jE{constructor(e){ie(this,WC);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:r}=bo.platform;for(const[n,a,i={}]of e)for(const s of n){const o=s.startsWith("mac+");r&&o?(this.callbacks.set(s.slice(4),{callback:a,options:i}),this.allKeys.add(s.split("+").at(-1))):!r&&!o&&(this.callbacks.set(s,{callback:a,options:i}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,r){if(!this.allKeys.has(r.key))return;const n=this.callbacks.get(ue(this,WC,oQ).call(this,r));if(!n)return;const{callback:a,options:{bubbles:i=!1,args:s=[],checker:o=null}}=n;o&&!o(e,r)||(a.bind(e,...s,r)(),i||cs(r))}}WC=new WeakSet,oQ=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const r=this.buffer.join("+");return this.buffer.length=0,r};const KC=class KC{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return lxe(e),ln(this,"_colors",e)}convert(e){const r=TE(e);if(!window.matchMedia("(forced-colors: active)").matches)return r;for(const[n,a]of this._colors)if(a.every((i,s)=>i===r[s]))return KC._colorsMapping.get(n);return r}getHexCode(e){const r=this._colors.get(e);return r?wr.makeHexColor(...r):e}};tr(KC,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let TI=KC;var D2,zu,R2,es,fo,I2,Wd,L2,Kd,Kl,Bg,Ug,M2,zg,o0,Yd,Hv,NS,ES,F2,TS,l0,$g,B2,Vg,c0,YC,Hg,U2,jS,qg,qv,z2,Gg,CS,Fs,ga,Tp,Wg,Kg,kS,$2,PS,Yg,u0,jp,OS,DS,Xd,yr,p3,jI,lQ,cQ,zA,uQ,dQ,hQ,CI,fQ,pQ,mQ,gQ,Ac,wp,xQ,vQ,kI,yQ,$A,PI;const u2=class u2{constructor(e,r,n,a,i,s,o,l,u,h,f,m,g,b,y,w){ie(this,yr);ie(this,D2,new AbortController);ie(this,zu,null);ie(this,R2,null);ie(this,es,new Map);ie(this,fo,new Map);ie(this,I2,null);ie(this,Wd,null);ie(this,L2,null);ie(this,Kd,new mxe);ie(this,Kl,null);ie(this,Bg,null);ie(this,Ug,null);ie(this,M2,0);ie(this,zg,new Set);ie(this,o0,null);ie(this,Yd,null);ie(this,Hv,new Set);tr(this,"_editorUndoBar",null);ie(this,NS,!1);ie(this,ES,!1);ie(this,F2,!1);ie(this,TS,null);ie(this,l0,null);ie(this,$g,null);ie(this,B2,null);ie(this,Vg,!1);ie(this,c0,null);ie(this,YC,new pxe);ie(this,Hg,!1);ie(this,U2,!1);ie(this,jS,!1);ie(this,qg,null);ie(this,qv,null);ie(this,z2,null);ie(this,Gg,null);ie(this,CS,null);ie(this,Fs,dn.NONE);ie(this,ga,new Set);ie(this,Tp,null);ie(this,Wg,null);ie(this,Kg,null);ie(this,kS,null);ie(this,$2,null);ie(this,PS,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});ie(this,Yg,[0,0]);ie(this,u0,null);ie(this,jp,null);ie(this,OS,null);ie(this,DS,null);ie(this,Xd,null);const A=this._signal=v(this,D2).signal;J(this,jp,e),J(this,OS,r),J(this,DS,n),J(this,I2,a),J(this,Kl,i),J(this,Wg,s),J(this,$2,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:A}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),o._on("setpreference",this.onSetPreference.bind(this),{signal:A}),o._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:A}),window.addEventListener("pointerdown",()=>{J(this,U2,!0)},{capture:!0,signal:A}),window.addEventListener("pointerup",()=>{J(this,U2,!1)},{capture:!0,signal:A}),ue(this,yr,uQ).call(this),ue(this,yr,gQ).call(this),ue(this,yr,CI).call(this),J(this,Wd,l.annotationStorage),J(this,TS,l.filterFactory),J(this,Kg,u),J(this,B2,h||null),J(this,NS,f),J(this,ES,m),J(this,F2,g),J(this,CS,b||null),this.viewParameters={realScale:Fx.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=w!==!1,i==null||i.setSidebarUiManager(this)}static get _keyboardManager(){const e=u2.prototype,r=s=>v(s,jp).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),n=(s,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},a=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return ln(this,"_keyboardManager",new jE([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&v(s,jp).contains(o)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&v(s,jp).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:r}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:r}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:r}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:r}]]))}destroy(){var e,r,n,a,i,s,o,l,u;(e=v(this,Xd))==null||e.resolve(),J(this,Xd,null),(r=v(this,D2))==null||r.abort(),J(this,D2,null),this._signal=null;for(const h of v(this,fo).values())h.destroy();v(this,fo).clear(),v(this,es).clear(),v(this,Hv).clear(),(n=v(this,Gg))==null||n.clear(),J(this,zu,null),v(this,ga).clear(),v(this,Kd).destroy(),(a=v(this,I2))==null||a.destroy(),(i=v(this,Kl))==null||i.destroy(),(s=v(this,Wg))==null||s.destroy(),(o=v(this,c0))==null||o.hide(),J(this,c0,null),(l=v(this,z2))==null||l.destroy(),J(this,z2,null),J(this,R2,null),v(this,l0)&&(clearTimeout(v(this,l0)),J(this,l0,null)),v(this,u0)&&(clearTimeout(v(this,u0)),J(this,u0,null)),(u=this._editorUndoBar)==null||u.destroy(),J(this,$2,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return v(this,CS)}get useNewAltTextFlow(){return v(this,ES)}get useNewAltTextWhenAddingImage(){return v(this,F2)}get hcmFilter(){return ln(this,"hcmFilter",v(this,Kg)?v(this,TS).addHCMFilter(v(this,Kg).foreground,v(this,Kg).background):"none")}get direction(){return ln(this,"direction",getComputedStyle(v(this,jp)).direction)}get _highlightColors(){return ln(this,"_highlightColors",v(this,B2)?new Map(v(this,B2).split(",").map(e=>(e=e.split("=").map(r=>r.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return ln(this,"highlightColors",null);const r=new Map,n=!!v(this,Kg);for(const[a,i]of e){const s=a.endsWith("_HCM");if(n&&s){r.set(a.replace("_HCM",""),i);continue}!n&&!s&&r.set(a,i)}return ln(this,"highlightColors",r)}get highlightColorNames(){return ln(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const r=this.highlightColorNames.get(e);return this._highlightColors.get(r)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),J(this,Ug,e)}setMainHighlightColorPicker(e){J(this,z2,e)}editAltText(e,r=!1){var n;(n=v(this,I2))==null||n.editAltText(this,e,r)}hasCommentManager(){return!!v(this,Kl)}editComment(e,r,n,a){var i;(i=v(this,Kl))==null||i.showDialog(this,e,r,n,a)}selectComment(e,r){const n=v(this,fo).get(e),a=n==null?void 0:n.getEditorByUID(r);a==null||a.toggleComment(!0,!0)}updateComment(e){var r;(r=v(this,Kl))==null||r.updateComment(e.getData())}updatePopupColor(e){var r;(r=v(this,Kl))==null||r.updatePopupColor(e)}removeComment(e){var r;(r=v(this,Kl))==null||r.removeComments([e.uid])}toggleComment(e,r,n=void 0){var a;(a=v(this,Kl))==null||a.toggleCommentPopup(e,r,n)}makeCommentColor(e,r){var n;return e&&((n=v(this,Kl))==null?void 0:n.makeCommentColor(e,r))||null}getCommentDialogElement(){var e;return((e=v(this,Kl))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(v(this,fo).has(e-1))return;const{resolve:r,promise:n}=Promise.withResolvers(),a=i=>{i.pageNumber===e&&(this._eventBus._off("editorsrendered",a),r())};this._eventBus.on("editorsrendered",a),await n}getSignature(e){var r;(r=v(this,Wg))==null||r.getSignature({uiManager:this,editor:e})}get signatureManager(){return v(this,Wg)}switchToMode(e,r){this._eventBus.on("annotationeditormodechanged",r,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,r){this._eventBus.dispatch("setpreference",{source:this,name:e,value:r})}onSetPreference({name:e,value:r}){switch(e){case"enableNewAltTextWhenAddingImage":J(this,F2,r);break}}onPageChanging({pageNumber:e}){J(this,M2,e-1)}focusMainContainer(){v(this,jp).focus()}findParent(e,r){for(const n of v(this,fo).values()){const{x:a,y:i,width:s,height:o}=n.div.getBoundingClientRect();if(e>=a&&e<=a+s&&r>=i&&r<=i+o)return n}return null}disableUserSelect(e=!1){v(this,OS).classList.toggle("noUserSelect",e)}addShouldRescale(e){v(this,Hv).add(e)}removeShouldRescale(e){v(this,Hv).delete(e)}onScaleChanging({scale:e}){var r;this.commitOrRemove(),this.viewParameters.realScale=e*Fx.PDF_TO_CSS_UNITS;for(const n of v(this,Hv))n.onScaleChanging();(r=v(this,Ug))==null||r.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",r=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:a,anchorOffset:i,focusNode:s,focusOffset:o}=n,l=n.toString(),h=ue(this,yr,p3).call(this,n).closest(".textLayer"),f=this.getSelectionBoxes(h);if(!f)return;n.empty();const m=ue(this,yr,jI).call(this,h),g=v(this,Fs)===dn.NONE,b=()=>{const y=m==null?void 0:m.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:f,anchorNode:a,anchorOffset:i,focusNode:s,focusOffset:o,text:l});g&&this.showAllEditors("highlight",!0,!0),r&&(y==null||y.editComment())};if(g){this.switchToMode(dn.HIGHLIGHT,b);return}b()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!v(this,Wd))return null;const r=`${M_}${e}`,n=v(this,Wd).getRawValue(r);return n&&v(this,Wd).remove(r),n}addToAnnotationStorage(e){!e.isEmpty()&&v(this,Wd)&&!v(this,Wd).has(e.id)&&v(this,Wd).setValue(e.id,e)}a11yAlert(e,r=null){const n=v(this,DS);n&&(n.setAttribute("data-l10n-id",e),r?n.setAttribute("data-l10n-args",JSON.stringify(r)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,v(this,Vg)&&(J(this,Vg,!1),ue(this,yr,zA).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const r of v(this,ga))if(r.div.contains(e)){J(this,qv,[r,e]),r._focusEventsAllowed=!1;break}}focus(){if(!v(this,qv))return;const[e,r]=v(this,qv);J(this,qv,null),r.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),r.focus()}addEditListeners(){ue(this,yr,CI).call(this),this.setEditingState(!0)}removeEditListeners(){ue(this,yr,fQ).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:r}of e.dataTransfer.items)for(const n of v(this,Yd))if(n.isHandlingMimeForPasting(r)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const r of e.dataTransfer.items)for(const n of v(this,Yd))if(n.isHandlingMimeForPasting(r.type)){n.paste(r,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=v(this,zu))==null||n.commitOrRemove(),!this.hasSelection)return;const r=[];for(const a of v(this,ga)){const i=a.serialize(!0);i&&r.push(i)}r.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(r))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:r}=e;for(const i of r.items)for(const s of v(this,Yd))if(s.isHandlingMimeForPasting(i.type)){s.paste(i,this.currentLayer);return}let n=r.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(i){on(`paste: "${i.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const a=this.currentLayer;try{const i=[];for(const l of n){const u=await a.deserialize(l);if(!u)return;i.push(u)}const s=()=>{for(const l of i)ue(this,yr,kI).call(this,l);ue(this,yr,PI).call(this,i)},o=()=>{for(const l of i)l.remove()};this.addCommands({cmd:s,undo:o,mustExec:!0})}catch(i){on(`paste: "${i.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),v(this,Fs)!==dn.NONE&&!this.isEditorHandlingKeyboard&&u2._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,v(this,Vg)&&(J(this,Vg,!1),ue(this,yr,zA).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(ue(this,yr,dQ).call(this),ue(this,yr,pQ).call(this),ue(this,yr,Ac).call(this,{isEditing:v(this,Fs)!==dn.NONE,isEmpty:ue(this,yr,$A).call(this),hasSomethingToUndo:v(this,Kd).hasSomethingToUndo(),hasSomethingToRedo:v(this,Kd).hasSomethingToRedo(),hasSelectedEditor:!1})):(ue(this,yr,hQ).call(this),ue(this,yr,mQ).call(this),ue(this,yr,Ac).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!v(this,Yd)){J(this,Yd,e);for(const r of v(this,Yd))ue(this,yr,wp).call(this,r.defaultPropertiesToUpdate)}}getId(){return v(this,YC).id}get currentLayer(){return v(this,fo).get(v(this,M2))}getLayer(e){return v(this,fo).get(e)}get currentPageIndex(){return v(this,M2)}addLayer(e){v(this,fo).set(e.pageIndex,e),v(this,Hg)?e.enable():e.disable()}removeLayer(e){v(this,fo).delete(e.pageIndex)}async updateMode(e,r=null,n=!1,a=!1,i=!1,s=!1){var o,l,u,h,f,m;if(v(this,Fs)!==e&&!(v(this,Xd)&&(await v(this,Xd).promise,!v(this,Xd)))){if(J(this,Xd,Promise.withResolvers()),(o=v(this,Ug))==null||o.commitOrRemove(),v(this,Fs)===dn.POPUP&&((l=v(this,Kl))==null||l.hideSidebar()),(u=v(this,Kl))==null||u.destroyPopup(),J(this,Fs,e),e===dn.NONE){this.setEditingState(!1),ue(this,yr,vQ).call(this);for(const g of v(this,es).values())g.hideStandaloneCommentButton();(h=this._editorUndoBar)==null||h.hide(),this.toggleComment(null),v(this,Xd).resolve();return}for(const g of v(this,es).values())g.addStandaloneCommentButton();e===dn.SIGNATURE&&await((f=v(this,Wg))==null?void 0:f.loadSignatures()),n&&Gl.clearPointerType(),this.setEditingState(!0),await ue(this,yr,xQ).call(this),this.unselectAll();for(const g of v(this,fo).values())g.updateMode(e);if(e===dn.POPUP){v(this,R2)||J(this,R2,await v(this,$2).getAnnotationsByType(new Set(v(this,Yd).map(y=>y._editorType))));const g=new Set,b=[];for(const y of v(this,es).values()){const{annotationElementId:w,hasComment:A,deleted:S}=y;w&&g.add(w),A&&!S&&b.push(y.getData())}for(const y of v(this,R2)){const{id:w,popupRef:A,contentsObj:S}=y;A&&(S!=null&&S.str)&&!g.has(w)&&!v(this,zg).has(w)&&b.push(y)}(m=v(this,Kl))==null||m.showSidebar(b)}if(!r){a&&this.addNewEditorFromKeyboard(),v(this,Xd).resolve();return}for(const g of v(this,es).values())g.uid===r?(this.setSelected(g),s?g.editComment():i?g.enterInEditMode():g.focus()):g.unselect();v(this,Xd).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==v(this,Fs)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,r){if(v(this,Yd)){switch(e){case Un.CREATE:this.currentLayer.addNewEditor(r);return;case Un.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(v(this,kS)||J(this,kS,new Map)).set(e,r),this.showAllEditors("highlight",r);break}if(this.hasSelection)for(const n of v(this,ga))n.updateParams(e,r);else for(const n of v(this,Yd))n.updateDefaultParams(e,r)}}showAllEditors(e,r,n=!1){var i;for(const s of v(this,es).values())s.editorType===e&&s.show(r);(((i=v(this,kS))==null?void 0:i.get(Un.HIGHLIGHT_SHOW_ALL))??!0)!==r&&ue(this,yr,wp).call(this,[[Un.HIGHLIGHT_SHOW_ALL,r]])}enableWaiting(e=!1){if(v(this,jS)!==e){J(this,jS,e);for(const r of v(this,fo).values())e?r.disableClick():r.enableClick(),r.div.classList.toggle("waiting",e)}}*getEditors(e){for(const r of v(this,es).values())r.pageIndex===e&&(yield r)}getEditor(e){return v(this,es).get(e)}addEditor(e){v(this,es).set(e.id,e)}removeEditor(e){var r,n;e.div.contains(document.activeElement)&&(v(this,l0)&&clearTimeout(v(this,l0)),J(this,l0,setTimeout(()=>{this.focusMainContainer(),J(this,l0,null)},0))),v(this,es).delete(e.id),e.annotationElementId&&((r=v(this,Gg))==null||r.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!v(this,zg).has(e.annotationElementId))&&((n=v(this,Wd))==null||n.remove(e.id))}addDeletedAnnotationElement(e){v(this,zg).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return v(this,zg).has(e)}removeDeletedAnnotationElement(e){v(this,zg).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){v(this,zu)!==e&&(J(this,zu,e),e&&ue(this,yr,wp).call(this,e.propertiesToUpdate))}updateUI(e){v(this,yr,yQ)===e&&ue(this,yr,wp).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){ue(this,yr,wp).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(v(this,ga).has(e)){v(this,ga).delete(e),e.unselect(),ue(this,yr,Ac).call(this,{hasSelectedEditor:this.hasSelection});return}v(this,ga).add(e),e.select(),ue(this,yr,wp).call(this,e.propertiesToUpdate),ue(this,yr,Ac).call(this,{hasSelectedEditor:!0})}setSelected(e){var r;this.updateToolbar({mode:e.mode,editId:e.uid}),(r=v(this,Ug))==null||r.commitOrRemove();for(const n of v(this,ga))n!==e&&n.unselect();v(this,ga).clear(),v(this,ga).add(e),e.select(),ue(this,yr,wp).call(this,e.propertiesToUpdate),ue(this,yr,Ac).call(this,{hasSelectedEditor:!0})}isSelected(e){return v(this,ga).has(e)}get firstSelectedEditor(){return v(this,ga).values().next().value}unselect(e){e.unselect(),v(this,ga).delete(e),ue(this,yr,Ac).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return v(this,ga).size!==0}get isEnterHandled(){return v(this,ga).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;v(this,Kd).undo(),ue(this,yr,Ac).call(this,{hasSomethingToUndo:v(this,Kd).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ue(this,yr,$A).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){v(this,Kd).redo(),ue(this,yr,Ac).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:v(this,Kd).hasSomethingToRedo(),isEmpty:ue(this,yr,$A).call(this)})}addCommands(e){v(this,Kd).add(e),ue(this,yr,Ac).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ue(this,yr,$A).call(this)})}cleanUndoStack(e){v(this,Kd).cleanType(e)}delete(){var i;this.commitOrRemove();const e=(i=this.currentLayer)==null?void 0:i.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const r=e?[e]:[...v(this,ga)],n=()=>{var s;(s=this._editorUndoBar)==null||s.show(a,r.length===1?r[0].editorType:r.length);for(const o of r)o.remove()},a=()=>{for(const s of r)ue(this,yr,kI).call(this,s)};this.addCommands({cmd:n,undo:a,mustExec:!0})}commitOrRemove(){var e;(e=v(this,zu))==null||e.commitOrRemove()}hasSomethingToControl(){return v(this,zu)||this.hasSelection}selectAll(){for(const e of v(this,ga))e.commit();ue(this,yr,PI).call(this,v(this,es).values())}unselectAll(){var e;if(!(v(this,zu)&&(v(this,zu).commitOrRemove(),v(this,Fs)!==dn.NONE))&&!((e=v(this,Ug))!=null&&e.commitOrRemove())&&this.hasSelection){for(const r of v(this,ga))r.unselect();v(this,ga).clear(),ue(this,yr,Ac).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,r,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;v(this,Yg)[0]+=e,v(this,Yg)[1]+=r;const[a,i]=v(this,Yg),s=[...v(this,ga)],o=1e3;v(this,u0)&&clearTimeout(v(this,u0)),J(this,u0,setTimeout(()=>{J(this,u0,null),v(this,Yg)[0]=v(this,Yg)[1]=0,this.addCommands({cmd:()=>{for(const l of s)v(this,es).has(l.id)&&(l.translateInPage(a,i),l.translationDone())},undo:()=>{for(const l of s)v(this,es).has(l.id)&&(l.translateInPage(-a,-i),l.translationDone())},mustExec:!1})},o));for(const l of s)l.translateInPage(e,r),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),J(this,o0,new Map);for(const e of v(this,ga))v(this,o0).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!v(this,o0))return!1;this.disableUserSelect(!1);const e=v(this,o0);J(this,o0,null);let r=!1;for(const[{x:a,y:i,pageIndex:s},o]of e)o.newX=a,o.newY=i,o.newPageIndex=s,r||(r=a!==o.savedX||i!==o.savedY||s!==o.savedPageIndex);if(!r)return!1;const n=(a,i,s,o)=>{if(v(this,es).has(a.id)){const l=v(this,fo).get(o);l?a._setParentAndPosition(l,i,s):(a.pageIndex=o,a.x=i,a.y=s)}};return this.addCommands({cmd:()=>{for(const[a,{newX:i,newY:s,newPageIndex:o}]of e)n(a,i,s,o)},undo:()=>{for(const[a,{savedX:i,savedY:s,savedPageIndex:o}]of e)n(a,i,s,o)},mustExec:!0}),!0}dragSelectedEditors(e,r){if(v(this,o0))for(const n of v(this,o0).keys())n.drag(e,r)}rebuild(e){if(e.parent===null){const r=this.getLayer(e.pageIndex);r?(r.changeParent(e),r.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||v(this,ga).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return v(this,zu)===e}getActive(){return v(this,zu)}getMode(){return v(this,Fs)}isEditingMode(){return v(this,Fs)!==dn.NONE}get imageManager(){return ln(this,"imageManager",new EI)}getSelectionBoxes(e){if(!e)return null;const r=document.getSelection();for(let u=0,h=r.rangeCount;u<h;u++)if(!e.contains(r.getRangeAt(u).commonAncestorContainer))return null;const{x:n,y:a,width:i,height:s}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,h,f,m)=>({x:(h-a)/s,y:1-(u+f-n)/i,width:m/s,height:f/i});break;case"180":o=(u,h,f,m)=>({x:1-(u+f-n)/i,y:1-(h+m-a)/s,width:f/i,height:m/s});break;case"270":o=(u,h,f,m)=>({x:1-(h+m-a)/s,y:(u-n)/i,width:m/s,height:f/i});break;default:o=(u,h,f,m)=>({x:(u-n)/i,y:(h-a)/s,width:f/i,height:m/s});break}const l=[];for(let u=0,h=r.rangeCount;u<h;u++){const f=r.getRangeAt(u);if(!f.collapsed)for(const{x:m,y:g,width:b,height:y}of f.getClientRects())b===0||y===0||l.push(o(m,g,b,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:r}){(v(this,L2)||J(this,L2,new Map)).set(e,r)}removeChangedExistingAnnotation({annotationElementId:e}){var r;(r=v(this,L2))==null||r.delete(e)}renderAnnotationElement(e){var a;const r=(a=v(this,L2))==null?void 0:a.get(e.data.id);if(!r)return;const n=v(this,Wd).getRawValue(r);n&&(v(this,Fs)===dn.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}setMissingCanvas(e,r,n){var i;const a=(i=v(this,Gg))==null?void 0:i.get(e);a&&(a.setCanvas(r,n),v(this,Gg).delete(e))}addMissingCanvas(e,r){(v(this,Gg)||J(this,Gg,new Map)).set(e,r)}};D2=new WeakMap,zu=new WeakMap,R2=new WeakMap,es=new WeakMap,fo=new WeakMap,I2=new WeakMap,Wd=new WeakMap,L2=new WeakMap,Kd=new WeakMap,Kl=new WeakMap,Bg=new WeakMap,Ug=new WeakMap,M2=new WeakMap,zg=new WeakMap,o0=new WeakMap,Yd=new WeakMap,Hv=new WeakMap,NS=new WeakMap,ES=new WeakMap,F2=new WeakMap,TS=new WeakMap,l0=new WeakMap,$g=new WeakMap,B2=new WeakMap,Vg=new WeakMap,c0=new WeakMap,YC=new WeakMap,Hg=new WeakMap,U2=new WeakMap,jS=new WeakMap,qg=new WeakMap,qv=new WeakMap,z2=new WeakMap,Gg=new WeakMap,CS=new WeakMap,Fs=new WeakMap,ga=new WeakMap,Tp=new WeakMap,Wg=new WeakMap,Kg=new WeakMap,kS=new WeakMap,$2=new WeakMap,PS=new WeakMap,Yg=new WeakMap,u0=new WeakMap,jp=new WeakMap,OS=new WeakMap,DS=new WeakMap,Xd=new WeakMap,yr=new WeakSet,p3=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},jI=function(e){const{currentLayer:r}=this;if(r.hasTextLayer(e))return r;for(const n of v(this,fo).values())if(n.hasTextLayer(e))return n;return null},lQ=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=ue(this,yr,p3).call(this,e).closest(".textLayer"),a=this.getSelectionBoxes(n);a&&(v(this,c0)||J(this,c0,new fxe(this)),v(this,c0).show(n,a,this.direction==="ltr"))},cQ=function(){var i,s,o;const e=document.getSelection();if(!e||e.isCollapsed){v(this,Tp)&&((i=v(this,c0))==null||i.hide(),J(this,Tp,null),ue(this,yr,Ac).call(this,{hasSelectedText:!1}));return}const{anchorNode:r}=e;if(r===v(this,Tp))return;const a=ue(this,yr,p3).call(this,e).closest(".textLayer");if(!a){v(this,Tp)&&((s=v(this,c0))==null||s.hide(),J(this,Tp,null),ue(this,yr,Ac).call(this,{hasSelectedText:!1}));return}if((o=v(this,c0))==null||o.hide(),J(this,Tp,r),ue(this,yr,Ac).call(this,{hasSelectedText:!0}),!(v(this,Fs)!==dn.HIGHLIGHT&&v(this,Fs)!==dn.NONE)&&(v(this,Fs)===dn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),J(this,Vg,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=v(this,Fs)===dn.HIGHLIGHT?ue(this,yr,jI).call(this,a):null;if(l==null||l.toggleDrawing(),v(this,U2)){const u=new AbortController,h=this.combinedSignal(u),f=m=>{m.type==="pointerup"&&m.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),m.type==="pointerup"&&ue(this,yr,zA).call(this,"main_toolbar"))};window.addEventListener("pointerup",f,{signal:h}),window.addEventListener("blur",f,{signal:h})}else l==null||l.toggleDrawing(!0),ue(this,yr,zA).call(this,"main_toolbar")}},zA=function(e=""){v(this,Fs)===dn.HIGHLIGHT?this.highlightSelection(e):v(this,NS)&&ue(this,yr,lQ).call(this)},uQ=function(){document.addEventListener("selectionchange",ue(this,yr,cQ).bind(this),{signal:this._signal})},dQ=function(){if(v(this,$g))return;J(this,$g,new AbortController);const e=this.combinedSignal(v(this,$g));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},hQ=function(){var e;(e=v(this,$g))==null||e.abort(),J(this,$g,null)},CI=function(){if(v(this,qg))return;J(this,qg,new AbortController);const e=this.combinedSignal(v(this,qg));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},fQ=function(){var e;(e=v(this,qg))==null||e.abort(),J(this,qg,null)},pQ=function(){if(v(this,Bg))return;J(this,Bg,new AbortController);const e=this.combinedSignal(v(this,Bg));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},mQ=function(){var e;(e=v(this,Bg))==null||e.abort(),J(this,Bg,null)},gQ=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Ac=function(e){Object.entries(e).some(([n,a])=>v(this,PS)[n]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(v(this,PS),e)}),v(this,Fs)===dn.HIGHLIGHT&&e.hasSelectedEditor===!1&&ue(this,yr,wp).call(this,[[Un.HIGHLIGHT_FREE,!0]]))},wp=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},xQ=async function(){if(!v(this,Hg)){J(this,Hg,!0);const e=[];for(const r of v(this,fo).values())e.push(r.enable());await Promise.all(e);for(const r of v(this,es).values())r.enable()}},vQ=function(){if(this.unselectAll(),v(this,Hg)){J(this,Hg,!1);for(const e of v(this,fo).values())e.disable();for(const e of v(this,es).values())e.disable()}},kI=function(e){const r=v(this,fo).get(e.pageIndex);r?r.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},yQ=function(){let e=null;for(e of v(this,ga));return e},$A=function(){if(v(this,es).size===0)return!0;if(v(this,es).size===1)for(const e of v(this,es).values())return e.isEmpty();return!1},PI=function(e){for(const r of v(this,ga))r.unselect();v(this,ga).clear();for(const r of e)r.isEmpty()||(v(this,ga).add(r),r.select());ue(this,yr,Ac).call(this,{hasSelectedEditor:this.hasSelection})},tr(u2,"TRANSLATE_SMALL",1),tr(u2,"TRANSLATE_BIG",10);let Ay=u2;var Mo,d0,Yh,V2,h0,$u,H2,f0,lu,Cp,Gv,p0,Xg,pf,VA,m3;const _c=class _c{constructor(e){ie(this,pf);ie(this,Mo,null);ie(this,d0,!1);ie(this,Yh,null);ie(this,V2,null);ie(this,h0,null);ie(this,$u,null);ie(this,H2,!1);ie(this,f0,null);ie(this,lu,null);ie(this,Cp,null);ie(this,Gv,null);ie(this,p0,!1);J(this,lu,e),J(this,p0,e._uiManager.useNewAltTextFlow),v(_c,Xg)||J(_c,Xg,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){_c._l10n??(_c._l10n=e)}async render(){const e=J(this,Yh,document.createElement("button"));e.className="altText",e.tabIndex="0";const r=J(this,V2,document.createElement("span"));e.append(r),v(this,p0)?(e.classList.add("new"),e.setAttribute("data-l10n-id",v(_c,Xg).missing),r.setAttribute("data-l10n-id",v(_c,Xg)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=v(this,lu)._uiManager._signal;e.addEventListener("contextmenu",dh,{signal:n}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:n});const a=i=>{i.preventDefault(),v(this,lu)._uiManager.editAltText(v(this,lu)),v(this,p0)&&v(this,lu)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:v(this,pf,VA)}})};return e.addEventListener("click",a,{capture:!0,signal:n}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(J(this,H2,!0),a(i))},{signal:n}),await ue(this,pf,m3).call(this),e}finish(){v(this,Yh)&&(v(this,Yh).focus({focusVisible:v(this,H2)}),J(this,H2,!1))}isEmpty(){return v(this,p0)?v(this,Mo)===null:!v(this,Mo)&&!v(this,d0)}hasData(){return v(this,p0)?v(this,Mo)!==null||!!v(this,Cp):this.isEmpty()}get guessedText(){return v(this,Cp)}async setGuessedText(e){v(this,Mo)===null&&(J(this,Cp,e),J(this,Gv,await _c._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),ue(this,pf,m3).call(this))}toggleAltTextBadge(e=!1){var r;if(!v(this,p0)||v(this,Mo)){(r=v(this,f0))==null||r.remove(),J(this,f0,null);return}if(!v(this,f0)){const n=J(this,f0,document.createElement("div"));n.className="noAltTextBadge",v(this,lu).div.append(n)}v(this,f0).classList.toggle("hidden",!e)}serialize(e){let r=v(this,Mo);return!e&&v(this,Cp)===r&&(r=v(this,Gv)),{altText:r,decorative:v(this,d0),guessedText:v(this,Cp),textWithDisclaimer:v(this,Gv)}}get data(){return{altText:v(this,Mo),decorative:v(this,d0)}}set data({altText:e,decorative:r,guessedText:n,textWithDisclaimer:a,cancel:i=!1}){n&&(J(this,Cp,n),J(this,Gv,a)),!(v(this,Mo)===e&&v(this,d0)===r)&&(i||(J(this,Mo,e),J(this,d0,r)),ue(this,pf,m3).call(this))}toggle(e=!1){v(this,Yh)&&(!e&&v(this,$u)&&(clearTimeout(v(this,$u)),J(this,$u,null)),v(this,Yh).disabled=!e)}shown(){v(this,lu)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:v(this,pf,VA)}})}destroy(){var e,r;(e=v(this,Yh))==null||e.remove(),J(this,Yh,null),J(this,V2,null),J(this,h0,null),(r=v(this,f0))==null||r.remove(),J(this,f0,null)}};Mo=new WeakMap,d0=new WeakMap,Yh=new WeakMap,V2=new WeakMap,h0=new WeakMap,$u=new WeakMap,H2=new WeakMap,f0=new WeakMap,lu=new WeakMap,Cp=new WeakMap,Gv=new WeakMap,p0=new WeakMap,Xg=new WeakMap,pf=new WeakSet,VA=function(){return v(this,Mo)&&"added"||v(this,Mo)===null&&this.guessedText&&"review"||"missing"},m3=async function(){var a,i,s;const e=v(this,Yh);if(!e)return;if(v(this,p0)){if(e.classList.toggle("done",!!v(this,Mo)),e.setAttribute("data-l10n-id",v(_c,Xg)[v(this,pf,VA)]),(a=v(this,V2))==null||a.setAttribute("data-l10n-id",v(_c,Xg)[`${v(this,pf,VA)}-label`]),!v(this,Mo)){(i=v(this,h0))==null||i.remove();return}}else{if(!v(this,Mo)&&!v(this,d0)){e.classList.remove("done"),(s=v(this,h0))==null||s.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let r=v(this,h0);if(!r){J(this,h0,r=document.createElement("span")),r.className="tooltip",r.setAttribute("role","tooltip"),r.id=`alt-text-tooltip-${v(this,lu).id}`;const o=100,l=v(this,lu)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(v(this,$u)),J(this,$u,null)},{once:!0}),e.addEventListener("mouseenter",()=>{J(this,$u,setTimeout(()=>{J(this,$u,null),v(this,h0).classList.add("show"),v(this,lu)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;v(this,$u)&&(clearTimeout(v(this,$u)),J(this,$u,null)),(u=v(this,h0))==null||u.classList.remove("show")},{signal:l})}v(this,d0)?r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(r.removeAttribute("data-l10n-id"),r.textContent=v(this,Mo)),r.parentNode||e.append(r);const n=v(this,lu).getElementForAltText();n==null||n.setAttribute("aria-describedby",r.id)},ie(_c,Xg,null),tr(_c,"_l10n",null);let mj=_c;var dl,Jd,Wv,Qa,RS,Kv,Xh,Yv,Xv,Jv,IS,OI;class uT{constructor(e){ie(this,IS);ie(this,dl,null);ie(this,Jd,null);ie(this,Wv,!1);ie(this,Qa,null);ie(this,RS,null);ie(this,Kv,null);ie(this,Xh,null);ie(this,Yv,null);ie(this,Xv,!1);ie(this,Jv,null);J(this,Qa,e)}renderForToolbar(){const e=J(this,Jd,document.createElement("button"));return e.className="comment",ue(this,IS,OI).call(this,e,!1)}renderForStandalone(){const e=J(this,dl,document.createElement("button"));e.className="annotationCommentButton";const r=v(this,Qa).commentButtonPosition;if(r){const{style:n}=e;n.insetInlineEnd=`calc(${100*(v(this,Qa)._uiManager.direction==="ltr"?1-r[0]:r[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*r[1]}% - var(--comment-button-dim))`;const a=v(this,Qa).commentButtonColor;a&&(n.backgroundColor=a)}return ue(this,IS,OI).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=v(this,dl)??v(this,Jd))==null||e.focus()},0)}onUpdatedColor(){if(!v(this,dl))return;const e=v(this,Qa).commentButtonColor;e&&(v(this,dl).style.backgroundColor=e),v(this,Qa)._uiManager.updatePopupColor(v(this,Qa))}get commentButtonWidth(){var e;return(((e=v(this,dl))==null?void 0:e.getBoundingClientRect().width)??0)/v(this,Qa).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(v(this,Jv))return v(this,Jv);if(!v(this,dl))return null;const{x:e,y:r,height:n}=v(this,dl).getBoundingClientRect(),{x:a,y:i,width:s,height:o}=v(this,Qa).parent.boundingClientRect;return[(e-a)/s,(r+n-i)/o]}set commentPopupPositionInLayer(e){J(this,Jv,e)}hasDefaultPopupPosition(){return v(this,Jv)===null}removeStandaloneCommentButton(){var e;(e=v(this,dl))==null||e.remove(),J(this,dl,null)}removeToolbarCommentButton(){var e;(e=v(this,Jd))==null||e.remove(),J(this,Jd,null)}setCommentButtonStates({selected:e,hasPopup:r}){v(this,dl)&&(v(this,dl).classList.toggle("selected",e),v(this,dl).ariaExpanded=r)}edit(e){const r=this.commentPopupPositionInLayer;let n,a;if(r)[n,a]=r;else{[n,a]=v(this,Qa).commentButtonPosition;const{width:h,height:f,x:m,y:g}=v(this,Qa);n=m+n*h,a=g+a*f}const i=v(this,Qa).parent.boundingClientRect,{x:s,y:o,width:l,height:u}=i;v(this,Qa)._uiManager.editComment(v(this,Qa),s+n*l,o+a*u,{...e,parentDimensions:i})}finish(){v(this,Jd)&&(v(this,Jd).focus({focusVisible:v(this,Wv)}),J(this,Wv,!1))}isDeleted(){return v(this,Xv)||v(this,Xh)===""}isEmpty(){return v(this,Xh)===null}hasBeenEdited(){return this.isDeleted()||v(this,Xh)!==v(this,RS)}serialize(){return this.data}get data(){return{text:v(this,Xh),richText:v(this,Kv),date:v(this,Yv),deleted:this.isDeleted()}}set data(e){if(e!==v(this,Xh)&&J(this,Kv,null),e===null){J(this,Xh,""),J(this,Xv,!0);return}J(this,Xh,e),J(this,Yv,new Date),J(this,Xv,!1)}setInitialText(e,r=null){J(this,RS,e),this.data=e,J(this,Yv,null),J(this,Kv,r)}shown(){}destroy(){var e,r;(e=v(this,Jd))==null||e.remove(),J(this,Jd,null),(r=v(this,dl))==null||r.remove(),J(this,dl,null),J(this,Xh,""),J(this,Kv,null),J(this,Yv,null),J(this,Qa,null),J(this,Wv,!1),J(this,Xv,!1)}}dl=new WeakMap,Jd=new WeakMap,Wv=new WeakMap,Qa=new WeakMap,RS=new WeakMap,Kv=new WeakMap,Xh=new WeakMap,Yv=new WeakMap,Xv=new WeakMap,Jv=new WeakMap,IS=new WeakSet,OI=function(e,r){if(!v(this,Qa)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",r?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[v(this,Qa)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const n=v(this,Qa)._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",dh,{signal:n}),r&&(e.addEventListener("focusin",i=>{v(this,Qa)._focusEventsAllowed=!1,cs(i)},{capture:!0,signal:n}),e.addEventListener("focusout",i=>{v(this,Qa)._focusEventsAllowed=!0,cs(i)},{capture:!0,signal:n})),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:n});const a=i=>{i.preventDefault(),e===v(this,Jd)?this.edit():v(this,Qa).toggleComment(!0)};return e.addEventListener("click",a,{capture:!0,signal:n}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(J(this,Wv,!0),a(i))},{signal:n}),e.addEventListener("pointerenter",()=>{v(this,Qa).toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{v(this,Qa).toggleComment(!1,!1)},{signal:n}),e};var q2,Zv,LS,MS,FS,BS,US,kp,Qv,Pp,e1,Op,Yx,bQ,wQ,AQ;const Y9=class Y9{constructor({container:e,isPinchingDisabled:r=null,isPinchingStopped:n=null,onPinchStart:a=null,onPinching:i=null,onPinchEnd:s=null,signal:o}){ie(this,Yx);ie(this,q2);ie(this,Zv,!1);ie(this,LS,null);ie(this,MS);ie(this,FS);ie(this,BS);ie(this,US);ie(this,kp,null);ie(this,Qv);ie(this,Pp,null);ie(this,e1);ie(this,Op,null);J(this,q2,e),J(this,LS,n),J(this,MS,r),J(this,FS,a),J(this,BS,i),J(this,US,s),J(this,e1,new AbortController),J(this,Qv,AbortSignal.any([o,v(this,e1).signal])),e.addEventListener("touchstart",ue(this,Yx,bQ).bind(this),{passive:!1,signal:v(this,Qv)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/U0.pixelRatio}destroy(){var e,r;(e=v(this,e1))==null||e.abort(),J(this,e1,null),(r=v(this,kp))==null||r.abort(),J(this,kp,null)}};q2=new WeakMap,Zv=new WeakMap,LS=new WeakMap,MS=new WeakMap,FS=new WeakMap,BS=new WeakMap,US=new WeakMap,kp=new WeakMap,Qv=new WeakMap,Pp=new WeakMap,e1=new WeakMap,Op=new WeakMap,Yx=new WeakSet,bQ=function(e){var a,i,s;if((a=v(this,MS))!=null&&a.call(this))return;if(e.touches.length===1){if(v(this,kp))return;const o=J(this,kp,new AbortController),l=AbortSignal.any([v(this,Qv),o.signal]),u=v(this,q2),h={capture:!0,signal:l,passive:!1},f=m=>{var g;m.pointerType==="touch"&&((g=v(this,kp))==null||g.abort(),J(this,kp,null))};u.addEventListener("pointerdown",m=>{m.pointerType==="touch"&&(cs(m),f(m))},h),u.addEventListener("pointerup",f,h),u.addEventListener("pointercancel",f,h);return}if(!v(this,Op)){J(this,Op,new AbortController);const o=AbortSignal.any([v(this,Qv),v(this,Op).signal]),l=v(this,q2),u={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",ue(this,Yx,wQ).bind(this),u);const h=ue(this,Yx,AQ).bind(this);l.addEventListener("touchend",h,u),l.addEventListener("touchcancel",h,u),u.capture=!0,l.addEventListener("pointerdown",cs,u),l.addEventListener("pointermove",cs,u),l.addEventListener("pointercancel",cs,u),l.addEventListener("pointerup",cs,u),(i=v(this,FS))==null||i.call(this)}if(cs(e),e.touches.length!==2||(s=v(this,LS))!=null&&s.call(this)){J(this,Pp,null);return}let[r,n]=e.touches;r.identifier>n.identifier&&([r,n]=[n,r]),J(this,Pp,{touch0X:r.screenX,touch0Y:r.screenY,touch1X:n.screenX,touch1Y:n.screenY})},wQ=function(e){var T;if(!v(this,Pp)||e.touches.length!==2)return;cs(e);let[r,n]=e.touches;r.identifier>n.identifier&&([r,n]=[n,r]);const{screenX:a,screenY:i}=r,{screenX:s,screenY:o}=n,l=v(this,Pp),{touch0X:u,touch0Y:h,touch1X:f,touch1Y:m}=l,g=f-u,b=m-h,y=s-a,w=o-i,A=Math.hypot(y,w)||1,S=Math.hypot(g,b)||1;if(!v(this,Zv)&&Math.abs(S-A)<=Y9.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=a,l.touch0Y=i,l.touch1X=s,l.touch1Y=o,!v(this,Zv)){J(this,Zv,!0);return}const N=[(a+s)/2,(i+o)/2];(T=v(this,BS))==null||T.call(this,N,S,A)},AQ=function(e){var r;e.touches.length>=2||(v(this,Op)&&(v(this,Op).abort(),J(this,Op,null),(r=v(this,US))==null||r.call(this)),v(this,Pp)&&(cs(e),J(this,Pp,null),J(this,Zv,!1)))};let gj=Y9;var t1,Jh,Ni,Va,Dp,G2,Jg,zS,hl,r1,Rp,Zd,Zg,$S,n1,Vu,VS,a1,Ip,m0,W2,K2,Qd,i1,HS,XC,Zr,DI,qS,RI,g3,_Q,SQ,II,x3,LI,NQ,EQ,TQ,MI,jQ,FI,CQ,kQ,PQ,BI,HA;const un=class un{constructor(e){ie(this,Zr);ie(this,t1,null);ie(this,Jh,null);ie(this,Ni,null);ie(this,Va,null);ie(this,Dp,null);ie(this,G2,!1);ie(this,Jg,null);ie(this,zS,"");ie(this,hl,null);ie(this,r1,null);ie(this,Rp,null);ie(this,Zd,null);ie(this,Zg,null);ie(this,$S,"");ie(this,n1,!1);ie(this,Vu,null);ie(this,VS,!1);ie(this,a1,!1);ie(this,Ip,!1);ie(this,m0,null);ie(this,W2,0);ie(this,K2,0);ie(this,Qd,null);ie(this,i1,null);tr(this,"isSelected",!1);tr(this,"_isCopy",!1);tr(this,"_editToolbar",null);tr(this,"_initialOptions",Object.create(null));tr(this,"_initialData",null);tr(this,"_isVisible",!0);tr(this,"_uiManager",null);tr(this,"_focusEventsAllowed",!0);ie(this,HS,!1);ie(this,XC,un._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:r,rawDims:{pageWidth:n,pageHeight:a,pageX:i,pageY:s}}=this.parent.viewport;this.rotation=r,this.pageRotation=(360+r-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,a],this.pageTranslation=[i,s];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=un.prototype._resizeWithKeyboard,r=Ay.TRANSLATE_SMALL,n=Ay.TRANSLATE_BIG;return ln(this,"_resizerKeyboardManager",new jE([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-r,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[r,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-r]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,r]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],un.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return ln(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const r=new gxe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});r.annotationElementId=e.annotationElementId,r.deleted=!0,r._uiManager.addToAnnotationStorage(r)}static initialize(e,r){if(un._l10n??(un._l10n=e),un._l10nResizer||(un._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),un._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);un._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,r){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,r){Ka("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return v(this,HS)}set _isDraggable(e){var r;J(this,HS,e),(r=this.div)==null||r.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,r]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*r/(e*2),this.y+=this.width*e/(r*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*r/(e*2),this.y-=this.width*e/(r*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=v(this,XC)}setParent(e){var r;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(ue(this,Zr,HA).call(this),(r=v(this,Zd))==null||r.remove(),J(this,Zd,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(v(this,n1)?J(this,n1,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const r=e.relatedTarget;r!=null&&r.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,r,n,a){const[i,s]=this.parentDimensions;[n,a]=this.screenToPageTranslation(n,a),this.x=(e+n)/i,this.y=(r+a)/s,this.fixAndSetPosition()}_moveAfterPaste(e,r){const[n,a]=this.parentDimensions;this.setAt(e*n,r*a,this.width*n,this.height*a),this._onTranslated()}translate(e,r){ue(this,Zr,DI).call(this,this.parentDimensions,e,r)}translateInPage(e,r){v(this,Vu)||J(this,Vu,[this.x,this.y,this.width,this.height]),ue(this,Zr,DI).call(this,this.pageDimensions,e,r),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,r){v(this,Vu)||J(this,Vu,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[a,i]}=this;if(this.x+=e/a,this.y+=r/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:f,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,f,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[l,u]=this.getBaseTranslation();s+=l,o+=u;const{style:h}=n;h.left=`${(100*s).toFixed(2)}%`,h.top=`${(100*o).toFixed(2)}%`,this._onTranslating(s,o),n.scrollIntoView({block:"nearest"})}_onTranslating(e,r){}_onTranslated(e,r){}get _hasBeenMoved(){return!!v(this,Vu)&&(v(this,Vu)[0]!==this.x||v(this,Vu)[1]!==this.y)}get _hasBeenResized(){return!!v(this,Vu)&&(v(this,Vu)[2]!==this.width||v(this,Vu)[3]!==this.height)}getBaseTranslation(){const[e,r]=this.parentDimensions,{_borderLineWidth:n}=un,a=n/e,i=n/r;switch(this.rotation){case 90:return[-a,i];case 180:return[a,i];case 270:return[a,-i];default:return[-a,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:r},pageDimensions:[n,a]}=this;let{x:i,y:s,width:o,height:l}=this;if(o*=n,l*=a,i*=n,s*=a,this._mustFixPosition)switch(e){case 0:i=jc(i,0,n-o),s=jc(s,0,a-l);break;case 90:i=jc(i,0,n-l),s=jc(s,o,a);break;case 180:i=jc(i,o,n),s=jc(s,l,a);break;case 270:i=jc(i,l,n),s=jc(s,0,a-o);break}this.x=i/=n,this.y=s/=a;const[u,h]=this.getBaseTranslation();i+=u,s+=h,r.left=`${(100*i).toFixed(2)}%`,r.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,r){var n;return ue(n=un,qS,RI).call(n,e,r,this.parentRotation)}pageTranslationToScreen(e,r){var n;return ue(n=un,qS,RI).call(n,e,r,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[r,n]}=this;return[r*e,n*e]}setDims(){const{div:{style:e},width:r,height:n}=this;e.width=`${(100*r).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=v(this,Ni))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||v(this,a1))return this._editToolbar;this._editToolbar=new SI(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[r,n]of e)await this._editToolbar.addButton(r,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,r;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(r=v(this,Ni))==null||r.destroy()}addContainer(e){var n;const r=(n=this._editToolbar)==null?void 0:n.div;r?r.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return v(this,Ni)||(mj.initialize(un._l10n),J(this,Ni,new mj(this)),v(this,t1)&&(v(this,Ni).data=v(this,t1),J(this,t1,null))),v(this,Ni)}get altTextData(){var e;return(e=v(this,Ni))==null?void 0:e.data}set altTextData(e){v(this,Ni)&&(v(this,Ni).data=e)}get guessedAltText(){var e;return(e=v(this,Ni))==null?void 0:e.guessedText}async setGuessedAltText(e){var r;await((r=v(this,Ni))==null?void 0:r.setGuessedText(e))}serializeAltText(e){var r;return(r=v(this,Ni))==null?void 0:r.serialize(e)}hasAltText(){return!!v(this,Ni)&&!v(this,Ni).isEmpty()}hasAltTextData(){var e;return((e=v(this,Ni))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=v(this,Va))==null||e.focusButton()}addCommentButton(){return this.canAddComment?v(this,Va)||J(this,Va,new uT(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(v(this,Dp)){this._uiManager.isEditingMode()&&v(this,Dp).classList.remove("hidden");return}this.hasComment&&(J(this,Dp,v(this,Va).renderForStandalone()),this.div.append(v(this,Dp)))}}removeStandaloneCommentButton(){v(this,Va).removeStandaloneCommentButton(),J(this,Dp,null)}hideStandaloneCommentButton(){var e;(e=v(this,Dp))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:r,date:n,deleted:a}}=v(this,Va);return{text:r,richText:e,date:n,deleted:a,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){v(this,Va)||J(this,Va,new uT(this)),v(this,Va).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:r,richText:n}){if(!r||(v(this,Va)||J(this,Va,new uT(this)),v(this,Va).setInitialText(e,n),!this.annotationElementId))return;const a=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);a&&this.updateFromAnnotationLayer(a)}get hasEditedComment(){var e;return(e=v(this,Va))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=v(this,Va))==null?void 0:e.isDeleted()}get hasComment(){return!!v(this,Va)&&!v(this,Va).isEmpty()&&!v(this,Va).isDeleted()}async editComment(e){v(this,Va)||J(this,Va,new uT(this)),v(this,Va).edit(e)}toggleComment(e,r=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,r)}setSelectedCommentButton(e){v(this,Va).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,a]=e.rect,[i]=this.pageDimensions,[s]=this.pageTranslation,o=s+i+1,l=a-100,u=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,u,a]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:r}}){v(this,Va).data=r?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var s;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=v(this,G2)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),ue(this,Zr,FI).call(this);const[r,n]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*n/r).toFixed(2)}%`,e.style.maxHeight=`${(100*r/n).toFixed(2)}%`);const[a,i]=this.getInitialTranslation();return this.translate(a,i),sQ(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(v(this,i1)||J(this,i1,new gj({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:ue(this,Zr,NQ).bind(this),onPinching:ue(this,Zr,EQ).bind(this),onPinchEnd:ue(this,Zr,TQ).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(s=this._uiManager._editorUndoBar)==null||s.hide(),e}pointerdown(e){const{isMac:r}=bo.platform;if(e.button!==0||e.ctrlKey&&r){e.preventDefault();return}if(J(this,n1,!0),this._isDraggable){ue(this,Zr,jQ).call(this,e);return}ue(this,Zr,MI).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){v(this,m0)&&clearTimeout(v(this,m0)),J(this,m0,setTimeout(()=>{var e;J(this,m0,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,r,n){e.changeParent(this),this.x=r,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,r,n=this.rotation){const a=this.parentScale,[i,s]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/a,h=r/a,f=this.x*i,m=this.y*s,g=this.width*i,b=this.height*s;switch(n){case 0:return[f+u+o,s-m-h-b+l,f+u+g+o,s-m-h+l];case 90:return[f+h+o,s-m+u+l,f+h+b+o,s-m+u+g+l];case 180:return[f-u-g+o,s-m+h+l,f-u+o,s-m+h+b+l];case 270:return[f-h-b+o,s-m-u-g+l,f-h+o,s-m-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,r){const[n,a,i,s]=e,o=i-n,l=s-a;switch(this.rotation){case 0:return[n,r-s,o,l];case 90:return[n,r-a,l,o];case 180:return[i,r-a,o,l];case 270:return[i,r-s,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&un._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=v(this,Va))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:r,date:n,opacity:a,deleted:i,richText:s},uid:o,pageIndex:l,creationDate:u,modificationDate:h}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:s,contentsObj:{str:e},creationDate:u,modificationDate:n||h,popupRef:!i,color:r,opacity:a}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),J(this,a1,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),J(this,a1,!1),!0):!1}isInEditMode(){return v(this,a1)}shouldGetKeyboardEvents(){return v(this,Ip)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:r,bottom:n,right:a}=this.getClientDimensions(),{innerHeight:i,innerWidth:s}=window;return r<s&&a>0&&e<i&&n>0}rebuild(){ue(this,Zr,FI).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,r=null){var n;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((n=this._initialData)==null?void 0:n.popupRef)||""}}static async deserialize(e,r,n){const a=new this.prototype.constructor({parent:r,id:r.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});a.rotation=e.rotation,J(a,t1,e.accessibilityData),a._isCopy=e.isCopy||!1;const[i,s]=a.pageDimensions,[o,l,u,h]=a.getRectInCurrentCoords(e.rect,s);return a.x=o/i,a.y=l/s,a.width=u/i,a.height=h/s,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,r,n;if((e=v(this,Zg))==null||e.abort(),J(this,Zg,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),v(this,m0)&&(clearTimeout(v(this,m0)),J(this,m0,null)),ue(this,Zr,HA).call(this),this.removeEditToolbar(),v(this,Qd)){for(const a of v(this,Qd).values())clearTimeout(a);J(this,Qd,null)}this.parent=null,(r=v(this,i1))==null||r.destroy(),J(this,i1,null),(n=v(this,Zd))==null||n.remove(),J(this,Zd,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ue(this,Zr,_Q).call(this),v(this,hl).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,r]}=this,[n,a,i,s]=this.getPDFRect();return[un._round(n+(i-n)*e),un._round(a+(s-a)*(1-r))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return v(this,Va).commentPopupPositionInLayer}set commentPopupPosition(e){v(this,Va).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return v(this,Va).hasDefaultPopupPosition()}get commentButtonWidth(){return v(this,Va).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var r;(r=v(this,Va))==null||r.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),J(this,Rp,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const r=v(this,hl).children;if(!v(this,Jh)){J(this,Jh,Array.from(r));const s=ue(this,Zr,CQ).bind(this),o=ue(this,Zr,kQ).bind(this),l=this._uiManager._signal;for(const u of v(this,Jh)){const h=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",s,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",ue(this,Zr,PQ).bind(this,h),{signal:l}),u.setAttribute("data-l10n-id",un._l10nResizer[h])}}const n=v(this,Jh)[0];let a=0;for(const s of r){if(s===n)break;a++}const i=(360-this.rotation+this.parentRotation)%360/90*(v(this,Jh).length/4);if(i!==a){if(i<a)for(let o=0;o<a-i;o++)v(this,hl).append(v(this,hl).firstElementChild);else if(i>a)for(let o=0;o<i-a;o++)v(this,hl).firstElementChild.before(v(this,hl).lastElementChild);let s=0;for(const o of r){const u=v(this,Jh)[s++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",un._l10nResizer[u])}}ue(this,Zr,BI).call(this,0),J(this,Ip,!0),v(this,hl).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,r){v(this,Ip)&&ue(this,Zr,LI).call(this,v(this,$S),{deltaX:e,deltaY:r,fromKeyboard:!0})}_stopResizingWithKeyboard(){ue(this,Zr,HA).call(this),this.div.focus()}select(){var e,r,n;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var a,i;(a=this.div)!=null&&a.classList.contains("selectedEditor")&&((i=this._editToolbar)==null||i.show())});return}(r=this._editToolbar)==null||r.show(),(n=v(this,Ni))==null||n.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,r,n,a,i;this.isSelected&&(this.isSelected=!1,(e=v(this,hl))==null||e.classList.add("hidden"),(r=this.div)==null||r.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(a=this._editToolbar)==null||a.hide(),(i=v(this,Ni))==null||i.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,r){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return v(this,VS)}set isEditing(e){J(this,VS,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,r=!1){if(r){v(this,Qd)||J(this,Qd,new Map);const{action:n}=e;let a=v(this,Qd).get(n);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(e),v(this,Qd).delete(n),v(this,Qd).size===0&&J(this,Qd,null)},un._telemetryTimeout),v(this,Qd).set(n,a);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),J(this,G2,!1)}disable(){this.div&&(this.div.tabIndex=-1),J(this,G2,!0)}updateFakeAnnotationElement(e){if(!v(this,Zd)&&!this.deleted){J(this,Zd,e.addFakeAnnotation(this));return}if(this.deleted){v(this,Zd).remove(),J(this,Zd,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&v(this,Zd).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let r=e.container.querySelector(".annotationContent");if(!r)r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),e.container.prepend(r);else if(r.nodeName==="CANVAS"){const n=r;r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),n.before(r)}return r}resetAnnotationElement(e){const{firstElementChild:r}=e.container;(r==null?void 0:r.nodeName)==="DIV"&&r.classList.contains("annotationContent")&&r.remove()}};t1=new WeakMap,Jh=new WeakMap,Ni=new WeakMap,Va=new WeakMap,Dp=new WeakMap,G2=new WeakMap,Jg=new WeakMap,zS=new WeakMap,hl=new WeakMap,r1=new WeakMap,Rp=new WeakMap,Zd=new WeakMap,Zg=new WeakMap,$S=new WeakMap,n1=new WeakMap,Vu=new WeakMap,VS=new WeakMap,a1=new WeakMap,Ip=new WeakMap,m0=new WeakMap,W2=new WeakMap,K2=new WeakMap,Qd=new WeakMap,i1=new WeakMap,HS=new WeakMap,XC=new WeakMap,Zr=new WeakSet,DI=function([e,r],n,a){[n,a]=this.screenToPageTranslation(n,a),this.x+=n/e,this.y+=a/r,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},qS=new WeakSet,RI=function(e,r,n){switch(n){case 90:return[r,-e];case 180:return[-e,-r];case 270:return[-r,e];default:return[e,r]}},g3=function(e){switch(e){case 90:{const[r,n]=this.pageDimensions;return[0,-r/n,n/r,0]}case 180:return[-1,0,0,-1];case 270:{const[r,n]=this.pageDimensions;return[0,r/n,-n/r,0]}default:return[1,0,0,1]}},_Q=function(){if(v(this,hl))return;J(this,hl,document.createElement("div")),v(this,hl).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],r=this._uiManager._signal;for(const n of e){const a=document.createElement("div");v(this,hl).append(a),a.classList.add("resizer",n),a.setAttribute("data-resizer-name",n),a.addEventListener("pointerdown",ue(this,Zr,SQ).bind(this,n),{signal:r}),a.addEventListener("contextmenu",dh,{signal:r}),a.tabIndex=-1}this.div.prepend(v(this,hl))},SQ=function(e,r){var h;r.preventDefault();const{isMac:n}=bo.platform;if(r.button!==0||r.ctrlKey&&n)return;(h=v(this,Ni))==null||h.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,J(this,r1,[r.screenX,r.screenY]);const i=new AbortController,s=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",ue(this,Zr,LI).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",cs,{passive:!1,signal:s}),window.addEventListener("contextmenu",dh,{signal:s}),J(this,Rp,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(r.target).cursor;const u=()=>{var f;i.abort(),this.parent.togglePointerEvents(!0),(f=v(this,Ni))==null||f.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=o,this.div.style.cursor=l,ue(this,Zr,x3).call(this)};window.addEventListener("pointerup",u,{signal:s}),window.addEventListener("blur",u,{signal:s})},II=function(e,r,n,a){this.width=n,this.height=a,this.x=e,this.y=r,this.setDims(),this.fixAndSetPosition(),this._onResized()},x3=function(){if(!v(this,Rp))return;const{savedX:e,savedY:r,savedWidth:n,savedHeight:a}=v(this,Rp);J(this,Rp,null);const i=this.x,s=this.y,o=this.width,l=this.height;i===e&&s===r&&o===n&&l===a||this.addCommands({cmd:ue(this,Zr,II).bind(this,i,s,o,l),undo:ue(this,Zr,II).bind(this,e,r,n,a),mustExec:!0})},LI=function(e,r){const[n,a]=this.parentDimensions,i=this.x,s=this.y,o=this.width,l=this.height,u=un.MIN_SIZE/n,h=un.MIN_SIZE/a,f=ue(this,Zr,g3).call(this,this.rotation),m=(Q,X)=>[f[0]*Q+f[2]*X,f[1]*Q+f[3]*X],g=ue(this,Zr,g3).call(this,360-this.rotation),b=(Q,X)=>[g[0]*Q+g[2]*X,g[1]*Q+g[3]*X];let y,w,A=!1,S=!1;switch(e){case"topLeft":A=!0,y=(Q,X)=>[0,0],w=(Q,X)=>[Q,X];break;case"topMiddle":y=(Q,X)=>[Q/2,0],w=(Q,X)=>[Q/2,X];break;case"topRight":A=!0,y=(Q,X)=>[Q,0],w=(Q,X)=>[0,X];break;case"middleRight":S=!0,y=(Q,X)=>[Q,X/2],w=(Q,X)=>[0,X/2];break;case"bottomRight":A=!0,y=(Q,X)=>[Q,X],w=(Q,X)=>[0,0];break;case"bottomMiddle":y=(Q,X)=>[Q/2,X],w=(Q,X)=>[Q/2,0];break;case"bottomLeft":A=!0,y=(Q,X)=>[0,X],w=(Q,X)=>[Q,0];break;case"middleLeft":S=!0,y=(Q,X)=>[0,X/2],w=(Q,X)=>[Q,X/2];break}const N=y(o,l),T=w(o,l);let k=m(...T);const R=un._round(i+k[0]),O=un._round(s+k[1]);let U=1,H=1,G,F;if(r.fromKeyboard)({deltaX:G,deltaY:F}=r);else{const{screenX:Q,screenY:X}=r,[oe,ce]=v(this,r1);[G,F]=this.screenToPageTranslation(Q-oe,X-ce),v(this,r1)[0]=Q,v(this,r1)[1]=X}if([G,F]=b(G/n,F/a),A){const Q=Math.hypot(o,l);U=H=Math.max(Math.min(Math.hypot(T[0]-N[0]-G,T[1]-N[1]-F)/Q,1/o,1/l),u/o,h/l)}else S?U=jc(Math.abs(T[0]-N[0]-G),u,1)/o:H=jc(Math.abs(T[1]-N[1]-F),h,1)/l;const L=un._round(o*U),re=un._round(l*H);k=m(...w(L,re));const Z=R-k[0],pe=O-k[1];v(this,Vu)||J(this,Vu,[this.x,this.y,this.width,this.height]),this.width=L,this.height=re,this.x=Z,this.y=pe,this.setDims(),this.fixAndSetPosition(),this._onResizing()},NQ=function(){var e;J(this,Rp,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=v(this,Ni))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},EQ=function(e,r,n){let i=.7*(n/r)+1-.7;if(i===1)return;const s=ue(this,Zr,g3).call(this,this.rotation),o=(R,O)=>[s[0]*R+s[2]*O,s[1]*R+s[3]*O],[l,u]=this.parentDimensions,h=this.x,f=this.y,m=this.width,g=this.height,b=un.MIN_SIZE/l,y=un.MIN_SIZE/u;i=Math.max(Math.min(i,1/m,1/g),b/m,y/g);const w=un._round(m*i),A=un._round(g*i);if(w===m&&A===g)return;v(this,Vu)||J(this,Vu,[h,f,m,g]);const S=o(m/2,g/2),N=un._round(h+S[0]),T=un._round(f+S[1]),k=o(w/2,A/2);this.x=N-k[0],this.y=T-k[1],this.width=w,this.height=A,this.setDims(),this.fixAndSetPosition(),this._onResizing()},TQ=function(){var e;(e=v(this,Ni))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),ue(this,Zr,x3).call(this)},MI=function(e){const{isMac:r}=bo.platform;e.ctrlKey&&!r||e.shiftKey||e.metaKey&&r?this.parent.toggleSelected(this):this.parent.setSelected(this)},jQ=function(e){const{isSelected:r}=this;this._uiManager.setUpDragSession();let n=!1;const a=new AbortController,i=this._uiManager.combinedSignal(a),s={capture:!0,passive:!1,signal:i},o=u=>{a.abort(),J(this,Jg,null),J(this,n1,!1),this._uiManager.endDragSession()||ue(this,Zr,MI).call(this,u),n&&this._onStopDragging()};r&&(J(this,W2,e.clientX),J(this,K2,e.clientY),J(this,Jg,e.pointerId),J(this,zS,e.pointerType),window.addEventListener("pointermove",u=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:h,clientY:f,pointerId:m}=u;if(m!==v(this,Jg)){cs(u);return}const[g,b]=this.screenToPageTranslation(h-v(this,W2),f-v(this,K2));J(this,W2,h),J(this,K2,f),this._uiManager.dragSelectedEditors(g,b)},s),window.addEventListener("touchmove",cs,s),window.addEventListener("pointerdown",u=>{u.pointerType===v(this,zS)&&(v(this,i1)||u.isPrimary)&&o(u),cs(u)},s));const l=u=>{if(!v(this,Jg)||v(this,Jg)===u.pointerId){o(u);return}cs(u)};window.addEventListener("pointerup",l,{signal:i}),window.addEventListener("blur",l,{signal:i})},FI=function(){if(v(this,Zg)||!this.div)return;J(this,Zg,new AbortController);const e=this._uiManager.combinedSignal(v(this,Zg));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},CQ=function(e){un._resizerKeyboardManager.exec(this,e)},kQ=function(e){var r;v(this,Ip)&&((r=e.relatedTarget)==null?void 0:r.parentNode)!==v(this,hl)&&ue(this,Zr,HA).call(this)},PQ=function(e){J(this,$S,v(this,Ip)?e:"")},BI=function(e){if(v(this,Jh))for(const r of v(this,Jh))r.tabIndex=e},HA=function(){J(this,Ip,!1),ue(this,Zr,BI).call(this,-1),ue(this,Zr,x3).call(this)},ie(un,qS),tr(un,"_l10n",null),tr(un,"_l10nResizer",null),tr(un,"_borderLineWidth",-1),tr(un,"_colorManager",new TI),tr(un,"_zIndex",1),tr(un,"_telemetryTimeout",1e3);let ti=un;class gxe extends ti{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const pV=3285377520,Fd=4294901760,Zf=65535;class OQ{constructor(e){this.h1=e?e&4294967295:pV,this.h2=e?e&4294967295:pV}update(e){let r,n;if(typeof e=="string"){r=new Uint8Array(e.length*2),n=0;for(let y=0,w=e.length;y<w;y++){const A=e.charCodeAt(y);A<=255?r[n++]=A:(r[n++]=A>>>8,r[n++]=A&255)}}else if(ArrayBuffer.isView(e))r=e.slice(),n=r.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=n>>2,i=n-a*4,s=new Uint32Array(r.buffer,0,a);let o=0,l=0,u=this.h1,h=this.h2;const f=3432918353,m=461845907,g=f&Zf,b=m&Zf;for(let y=0;y<a;y++)y&1?(o=s[y],o=o*f&Fd|o*g&Zf,o=o<<15|o>>>17,o=o*m&Fd|o*b&Zf,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=s[y],l=l*f&Fd|l*g&Zf,l=l<<15|l>>>17,l=l*m&Fd|l*b&Zf,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(o=0,i){case 3:o^=r[a*4+2]<<16;case 2:o^=r[a*4+1]<<8;case 1:o^=r[a*4],o=o*f&Fd|o*g&Zf,o=o<<15|o>>>17,o=o*m&Fd|o*b&Zf,a&1?u^=o:h^=o}this.h1=u,this.h2=h}hexdigest(){let e=this.h1,r=this.h2;return e^=r>>>1,e=e*3981806797&Fd|e*36045&Zf,r=r*4283543511&Fd|((r<<16|e>>>16)*2950163797&Fd)>>>16,e^=r>>>1,e=e*444984403&Fd|e*60499&Zf,r=r*3301882366&Fd|((r<<16|e>>>16)*3120437893&Fd)>>>16,e^=r>>>1,(e>>>0).toString(16).padStart(8,"0")+(r>>>0).toString(16).padStart(8,"0")}}const UI=Object.freeze({map:null,hash:"",transfer:void 0});var s1,o1,Lp,fl,JC,DQ;class LF{constructor(){ie(this,JC);ie(this,s1,!1);ie(this,o1,null);ie(this,Lp,null);ie(this,fl,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,r){const n=v(this,fl).get(e);return n===void 0?r:Object.assign(r,n)}getRawValue(e){return v(this,fl).get(e)}remove(e){const r=v(this,fl).get(e);if(r!==void 0&&(r instanceof ti&&v(this,Lp).delete(r.annotationElementId),v(this,fl).delete(e),v(this,fl).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of v(this,fl).values())if(n instanceof ti)return;this.onAnnotationEditor(null)}}setValue(e,r){const n=v(this,fl).get(e);let a=!1;if(n!==void 0)for(const[i,s]of Object.entries(r))n[i]!==s&&(a=!0,n[i]=s);else a=!0,v(this,fl).set(e,r);a&&ue(this,JC,DQ).call(this),r instanceof ti&&((v(this,Lp)||J(this,Lp,new Map)).set(r.annotationElementId,r),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(r.constructor._type))}has(e){return v(this,fl).has(e)}get size(){return v(this,fl).size}resetModified(){v(this,s1)&&(J(this,s1,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new RQ(this)}get serializable(){if(v(this,fl).size===0)return UI;const e=new Map,r=new OQ,n=[],a=Object.create(null);let i=!1;for(const[s,o]of v(this,fl)){const l=o instanceof ti?o.serialize(!1,a):o;l&&(e.set(s,l),r.update(`${s}:${JSON.stringify(l)}`),i||(i=!!l.bitmap))}if(i)for(const s of e.values())s.bitmap&&n.push(s.bitmap);return e.size>0?{map:e,hash:r.hexdigest(),transfer:n}:UI}get editorStats(){let e=null;const r=new Map;let n=0,a=0;for(const i of v(this,fl).values()){if(!(i instanceof ti)){i.popup&&(i.popup.deleted?a+=1:n+=1);continue}i.isCommentDeleted?a+=1:i.hasEditedComment&&(n+=1);const s=i.telemetryFinalData;if(!s)continue;const{type:o}=s;r.has(o)||r.set(o,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[u,h]of Object.entries(s)){if(u==="type")continue;let f=l.get(u);f||(f=new Map,l.set(u,f));const m=f.get(h)??0;f.set(h,m+1)}}if((a>0||n>0)&&(e||(e=Object.create(null)),e.comments={deleted:a,edited:n}),!e)return null;for(const[i,s]of r)e[i]=s.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){J(this,o1,null)}updateEditor(e,r){var a;const n=(a=v(this,Lp))==null?void 0:a.get(e);return n?(n.updateFromAnnotationLayer(r),!0):!1}getEditor(e){var r;return((r=v(this,Lp))==null?void 0:r.get(e))||null}get modifiedIds(){if(v(this,o1))return v(this,o1);const e=[];if(v(this,Lp))for(const r of v(this,Lp).values())r.serialize()&&e.push(r.annotationElementId);return J(this,o1,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return v(this,fl).entries()}}s1=new WeakMap,o1=new WeakMap,Lp=new WeakMap,fl=new WeakMap,JC=new WeakSet,DQ=function(){v(this,s1)||(J(this,s1,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var GS;class RQ extends LF{constructor(r){super();ie(this,GS);const{map:n,hash:a,transfer:i}=r.serializable,s=structuredClone(n,i?{transfer:i}:null);J(this,GS,{map:s,hash:a,transfer:i})}get print(){Ka("Should not call PrintAnnotationStorage.print")}get serializable(){return v(this,GS)}get modifiedIds(){return ln(this,"modifiedIds",{ids:new Set,hash:""})}}GS=new WeakMap;var Y2;class xxe{constructor({ownerDocument:e=globalThis.document,styleElement:r=null}){ie(this,Y2,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const r=this.styleElement.sheet;r.insertRule(e,r.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),v(this,Y2).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:r,_inspectFont:n}){if(!(!e||v(this,Y2).has(e.loadedName))){if(zn(!r,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:i,style:s}=e,o=new FontFace(a,i,s);this.addNativeFontFace(o);try{await o.load(),v(this,Y2).add(a),n==null||n(e)}catch{on(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Ka("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(a){throw on(`Failed to load font '${n.family}': '${a}'.`),e.disableFontFace=!0,a}}return}const r=e.createFontFaceRule();if(r){if(this.insertRule(r),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const a=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,a)})}}get isFontLoadingAPISupported(){var r;const e=!!((r=this._document)!=null&&r.fonts);return ln(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return ln(this,"isSyncFontLoadingSupported",Tc||bo.platform.isFirefox)}_queueLoadingCallback(e){function r(){for(zn(!a.done,"completeRequest() cannot be called twice."),a.done=!0;n.length>0&&n[0].done;){const i=n.shift();setTimeout(i.callback,0)}}const{loadingRequests:n}=this,a={done:!1,complete:r,callback:e};return n.push(a),a}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ln(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,r){function n(T,k){return T.charCodeAt(k)<<24|T.charCodeAt(k+1)<<16|T.charCodeAt(k+2)<<8|T.charCodeAt(k+3)&255}function a(T,k,R,O){const U=T.substring(0,k),H=T.substring(k+R);return U+O+H}let i,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function h(T,k){if(++u>30){on("Load test font never loaded."),k();return}if(l.font="30px "+T,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(h.bind(null,T,k))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=a(m,976,f.length,f);const b=16,y=1482184792;let w=n(m,b);for(i=0,s=f.length-3;i<s;i+=4)w=w-y+n(f,i)|0;i<f.length&&(w=w-y+n(f+"XXX",i)|0),m=a(m,b,4,Jge(w));const A=`url(data:font/opentype;base64,${btoa(m)});`,S=`@font-face {font-family:"${f}";src:${A}}`;this.insertRule(S);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const T of[e.loadedName,f]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=T,N.append(k)}this._document.body.append(N),h(f,()=>{N.remove(),r.complete()})}}Y2=new WeakMap;var Oa;class vxe{constructor(e,r=null,n,a){ie(this,Oa);this.compiledGlyphs=Object.create(null),J(this,Oa,e),this._inspectFont=r,n&&Object.assign(this,n),a&&(this.charProcOperatorList=a)}createNativeFontFace(){var r;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(r=this._inspectFont)==null||r.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${JZ(this.data)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let a=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(a+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${a}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),r}getPathGenerator(e,r){if(this.compiledGlyphs[r]!==void 0)return this.compiledGlyphs[r];const n=this.loadedName+"_path_"+r;let a;try{a=e.get(n)}catch(s){on(`getPathGenerator - ignoring character: "${s}".`)}const i=eQ(a==null?void 0:a.path);return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[r]=i}get black(){return v(this,Oa).black}get bold(){return v(this,Oa).bold}get disableFontFace(){return v(this,Oa).disableFontFace??!1}set disableFontFace(e){ln(this,"disableFontFace",!!e)}get fontExtraProperties(){return v(this,Oa).fontExtraProperties??!1}get isInvalidPDFjsFont(){return v(this,Oa).isInvalidPDFjsFont}get isType3Font(){return v(this,Oa).isType3Font}get italic(){return v(this,Oa).italic}get missingFile(){return v(this,Oa).missingFile}get remeasure(){return v(this,Oa).remeasure}get vertical(){return v(this,Oa).vertical}get ascent(){return v(this,Oa).ascent}get defaultWidth(){return v(this,Oa).defaultWidth}get descent(){return v(this,Oa).descent}get bbox(){return v(this,Oa).bbox}set bbox(e){ln(this,"bbox",e)}get fontMatrix(){return v(this,Oa).fontMatrix}get fallbackName(){return v(this,Oa).fallbackName}get loadedName(){return v(this,Oa).loadedName}get mimetype(){return v(this,Oa).mimetype}get name(){return v(this,Oa).name}get data(){return v(this,Oa).data}clearData(){v(this,Oa).clearData()}get cssFontInfo(){return v(this,Oa).cssFontInfo}get systemFontInfo(){return v(this,Oa).systemFontInfo}get defaultVMetrics(){return v(this,Oa).defaultVMetrics}}Oa=new WeakMap;var X2,J2,WS,Z2,v3;const d2=class d2{constructor(e){ie(this,Z2);ie(this,X2);ie(this,J2);ie(this,WS);J(this,X2,e),J(this,J2,new DataView(v(this,X2))),J(this,WS,new TextDecoder)}static write(e){const r=new TextEncoder,n={};let a=0;for(const u of d2.strings){const h=r.encode(e[u]);n[u]=h,a+=4+h.length}const i=new ArrayBuffer(a),s=new Uint8Array(i),o=new DataView(i);let l=0;for(const u of d2.strings){const h=n[u],f=h.length;o.setUint32(l,f),s.set(h,l+4),l+=4+f}return zn(l===i.byteLength,"CssFontInfo.write: Buffer overflow"),i}get fontFamily(){return ue(this,Z2,v3).call(this,0)}get fontWeight(){return ue(this,Z2,v3).call(this,1)}get italicAngle(){return ue(this,Z2,v3).call(this,2)}};X2=new WeakMap,J2=new WeakMap,WS=new WeakMap,Z2=new WeakSet,v3=function(e){zn(e<d2.strings.length,"Invalid string index");let r=0;for(let a=0;a<e;a++)r+=v(this,J2).getUint32(r)+4;const n=v(this,J2).getUint32(r);return v(this,WS).decode(new Uint8Array(v(this,X2),r+4,n))},tr(d2,"strings",["fontFamily","fontWeight","italicAngle"]);let xj=d2;var Qg,g0,l1,c1,qA;const h2=class h2{constructor(e){ie(this,c1);ie(this,Qg);ie(this,g0);ie(this,l1);J(this,Qg,e),J(this,g0,new DataView(v(this,Qg))),J(this,l1,new TextDecoder)}static write(e){const r=new TextEncoder,n={};let a=0;for(const m of h2.strings){const g=r.encode(e[m]);n[m]=g,a+=4+g.length}a+=4;let i,s,o=1+a;e.style&&(i=r.encode(e.style.style),s=r.encode(e.style.weight),o+=4+i.length+4+s.length);const l=new ArrayBuffer(o),u=new Uint8Array(l),h=new DataView(l);let f=0;h.setUint8(f++,e.guessFallback?1:0),h.setUint32(f,0),f+=4,a=0;for(const m of h2.strings){const g=n[m],b=g.length;a+=4+b,h.setUint32(f,b),u.set(g,f+4),f+=4+b}return h.setUint32(f-a-4,a),e.style&&(h.setUint32(f,i.length),u.set(i,f+4),f+=4+i.length,h.setUint32(f,s.length),u.set(s,f+4),f+=4+s.length),zn(f<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(f)}get guessFallback(){return v(this,g0).getUint8(0)!==0}get css(){return ue(this,c1,qA).call(this,0)}get loadedName(){return ue(this,c1,qA).call(this,1)}get baseFontName(){return ue(this,c1,qA).call(this,2)}get src(){return ue(this,c1,qA).call(this,3)}get style(){let e=1;e+=4+v(this,g0).getUint32(e);const r=v(this,g0).getUint32(e),n=v(this,l1).decode(new Uint8Array(v(this,Qg),e+4,r));e+=4+r;const a=v(this,g0).getUint32(e),i=v(this,l1).decode(new Uint8Array(v(this,Qg),e+4,a));return{style:n,weight:i}}};Qg=new WeakMap,g0=new WeakMap,l1=new WeakMap,c1=new WeakSet,qA=function(e){zn(e<h2.strings.length,"Invalid string index");let r=5;for(let a=0;a<e;a++)r+=v(this,g0).getUint32(r)+4;const n=v(this,g0).getUint32(r);return v(this,l1).decode(new Uint8Array(v(this,Qg),r+4,n))},tr(h2,"strings",["css","loadedName","baseFontName","src"]);let vj=h2;var Q2,ew,tw,rw,Hu,x0,KS,Da,ls,Vh,y3,GA;const gn=class gn{constructor({data:e,extra:r}){ie(this,ls);ie(this,x0);ie(this,KS);ie(this,Da);J(this,x0,e),J(this,KS,new TextDecoder),J(this,Da,new DataView(v(this,x0))),r&&Object.assign(this,r)}get black(){return ue(this,ls,Vh).call(this,0)}get bold(){return ue(this,ls,Vh).call(this,1)}get disableFontFace(){return ue(this,ls,Vh).call(this,2)}get fontExtraProperties(){return ue(this,ls,Vh).call(this,3)}get isInvalidPDFjsFont(){return ue(this,ls,Vh).call(this,4)}get isType3Font(){return ue(this,ls,Vh).call(this,5)}get italic(){return ue(this,ls,Vh).call(this,6)}get missingFile(){return ue(this,ls,Vh).call(this,7)}get remeasure(){return ue(this,ls,Vh).call(this,8)}get vertical(){return ue(this,ls,Vh).call(this,9)}get ascent(){return ue(this,ls,y3).call(this,0)}get defaultWidth(){return ue(this,ls,y3).call(this,1)}get descent(){return ue(this,ls,y3).call(this,2)}get bbox(){let e=v(gn,ew);if(v(this,Da).getUint8(e)===0)return;e+=1;const n=[];for(let a=0;a<4;a++)n.push(v(this,Da).getInt16(e,!0)),e+=2;return n}get fontMatrix(){let e=v(gn,tw);if(v(this,Da).getUint8(e)===0)return;e+=1;const n=[];for(let a=0;a<6;a++)n.push(v(this,Da).getFloat64(e,!0)),e+=8;return n}get defaultVMetrics(){let e=v(gn,rw);if(v(this,Da).getUint8(e)===0)return;e+=1;const n=[];for(let a=0;a<3;a++)n.push(v(this,Da).getInt16(e,!0)),e+=2;return n}get fallbackName(){return ue(this,ls,GA).call(this,0)}get loadedName(){return ue(this,ls,GA).call(this,1)}get mimetype(){return ue(this,ls,GA).call(this,2)}get name(){return ue(this,ls,GA).call(this,3)}get data(){let e=v(gn,Hu);const r=v(this,Da).getUint32(e);e+=4+r;const n=v(this,Da).getUint32(e);e+=4+n;const a=v(this,Da).getUint32(e);e+=4+a;const i=v(this,Da).getUint32(e);if(i!==0)return new Uint8Array(v(this,x0),e+4,i)}clearData(){let e=v(gn,Hu);const r=v(this,Da).getUint32(e);e+=4+r;const n=v(this,Da).getUint32(e);e+=4+n;const a=v(this,Da).getUint32(e);e+=4+a;const i=v(this,Da).getUint32(e);new Uint8Array(v(this,x0),e+4,i).fill(0),v(this,Da).setUint32(e,0)}get cssFontInfo(){let e=v(gn,Hu);const r=v(this,Da).getUint32(e);e+=4+r;const n=v(this,Da).getUint32(e);e+=4+n;const a=v(this,Da).getUint32(e);if(a===0)return null;const i=new Uint8Array(a);return i.set(new Uint8Array(v(this,x0),e+4,a)),new xj(i.buffer)}get systemFontInfo(){let e=v(gn,Hu);const r=v(this,Da).getUint32(e);e+=4+r;const n=v(this,Da).getUint32(e);if(n===0)return null;const a=new Uint8Array(n);return a.set(new Uint8Array(v(this,x0),e+4,n)),new vj(a.buffer)}static write(e){const r=e.systemFontInfo?vj.write(e.systemFontInfo):null,n=e.cssFontInfo?xj.write(e.cssFontInfo):null,a=new TextEncoder,i={};let s=0;for(const y of gn.strings)i[y]=a.encode(e[y]),s+=4+i[y].length;const o=v(gn,Hu)+4+s+4+(r?r.byteLength:0)+4+(n?n.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),u=new Uint8Array(l),h=new DataView(l);let f=0;const m=gn.bools.length;let g=0,b=0;for(let y=0;y<m;y++){const w=e[gn.bools[y]];g|=(w===void 0?0:w?2:1)<<b,b+=2,(b===8||y===m-1)&&(h.setUint8(f++,g),g=0,b=0)}zn(f===v(gn,Q2),"FontInfo.write: Boolean properties offset mismatch");for(const y of gn.numbers)h.setFloat64(f,e[y]),f+=8;if(zn(f===v(gn,ew),"FontInfo.write: Number properties offset mismatch"),e.bbox){h.setUint8(f++,4);for(const y of e.bbox)h.setInt16(f,y,!0),f+=2}else h.setUint8(f++,0),f+=8;if(zn(f===v(gn,tw),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){h.setUint8(f++,6);for(const y of e.fontMatrix)h.setFloat64(f,y,!0),f+=8}else h.setUint8(f++,0),f+=48;if(zn(f===v(gn,rw),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){h.setUint8(f++,1);for(const y of e.defaultVMetrics)h.setInt16(f,y,!0),f+=2}else h.setUint8(f++,0),f+=6;zn(f===v(gn,Hu),"FontInfo.write: DefaultVMetrics properties offset mismatch"),h.setUint32(v(gn,Hu),0),f+=4;for(const y of gn.strings){const w=i[y],A=w.length;h.setUint32(f,A),u.set(w,f+4),f+=4+A}if(h.setUint32(v(gn,Hu),f-v(gn,Hu)-4),!r)h.setUint32(f,0),f+=4;else{const y=r.byteLength;h.setUint32(f,y),zn(f+4+y<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(r),f+4),f+=4+y}if(!n)h.setUint32(f,0),f+=4;else{const y=n.byteLength;h.setUint32(f,y),zn(f+4+y<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(n),f+4),f+=4+y}return e.data===void 0?(h.setUint32(f,0),f+=4):(h.setUint32(f,e.data.length),u.set(e.data,f+4),f+=4+e.data.length),zn(f<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(f)}};Q2=new WeakMap,ew=new WeakMap,tw=new WeakMap,rw=new WeakMap,Hu=new WeakMap,x0=new WeakMap,KS=new WeakMap,Da=new WeakMap,ls=new WeakSet,Vh=function(e){zn(e<gn.bools.length,"Invalid boolean index");const r=Math.floor(e/4),n=e*2%8,a=v(this,Da).getUint8(r)>>n&3;return a===0?void 0:a===2},y3=function(e){return zn(e<gn.numbers.length,"Invalid number index"),v(this,Da).getFloat64(v(gn,Q2)+e*8)},GA=function(e){zn(e<gn.strings.length,"Invalid string index");let r=v(gn,Hu)+4;for(let i=0;i<e;i++)r+=v(this,Da).getUint32(r)+4;const n=v(this,Da).getUint32(r),a=new Uint8Array(n);return a.set(new Uint8Array(v(this,x0),r+4,n)),v(this,KS).decode(a)},tr(gn,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),tr(gn,"numbers",["ascent","defaultWidth","descent"]),tr(gn,"strings",["fallbackName","loadedName","mimetype","name"]),ie(gn,Q2,Math.ceil(gn.bools.length*2/8)),ie(gn,ew,v(gn,Q2)+gn.numbers.length*8),ie(gn,tw,v(gn,ew)+1+8),ie(gn,rw,v(gn,tw)+1+48),ie(gn,Hu,v(gn,rw)+1+6);let zI=gn;var YS,XS,JS,ZS,QS,eN,tN,rN;const Za=class Za{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let r,n=null,a=[],i=[],s=[],o=[],l=null,u=null;switch(e[0]){case"RadialAxial":r=e[1]==="axial"?1:2,n=e[2],s=e[3],r===1?a.push(...e[4],...e[5]):a.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":r=3,l=e[1],a=e[2],i=e[3],o=e[4]||[],n=e[6],u=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const h=Math.floor(a.length/2),f=Math.floor(i.length/3),m=s.length,g=o.length;let b=0;for(const k of o)b+=1,b=Math.ceil(b/4)*4,b+=4+k.coords.length*4,b+=4+k.colors.length*4,k.verticesPerRow!==void 0&&(b+=4);const y=20+h*8+f*3+m*8+(n?16:0)+(u?3:0)+b,w=new ArrayBuffer(y),A=new DataView(w),S=new Uint8Array(w);A.setUint8(v(Za,YS),r),A.setUint8(v(Za,XS),n?1:0),A.setUint8(v(Za,JS),u?1:0),A.setUint8(v(Za,ZS),l),A.setUint32(v(Za,QS),h,!0),A.setUint32(v(Za,eN),f,!0),A.setUint32(v(Za,tN),m,!0),A.setUint32(v(Za,rN),g,!0);let N=20;new Float32Array(w,N,h*2).set(a),N+=h*8,S.set(i,N),N+=f*3;for(const[k,R]of s)A.setFloat32(N,k,!0),N+=4,A.setUint32(N,parseInt(R.slice(1),16),!0),N+=4;if(n)for(const k of n)A.setFloat32(N,k,!0),N+=4;u&&(S.set(u,N),N+=3);for(let k=0;k<o.length;k++){const R=o[k];A.setUint8(N,R.type),N+=1,N=Math.ceil(N/4)*4,A.setUint32(N,R.coords.length,!0),N+=4,new Int32Array(w,N,R.coords.length).set(R.coords),N+=R.coords.length*4,A.setUint32(N,R.colors.length,!0),N+=4,new Int32Array(w,N,R.colors.length).set(R.colors),N+=R.colors.length*4,R.verticesPerRow!==void 0&&(A.setUint32(N,R.verticesPerRow,!0),N+=4)}return w}getIR(){const e=this.view,r=this.data[v(Za,YS)],n=!!this.data[v(Za,XS)],a=!!this.data[v(Za,JS)],i=e.getUint32(v(Za,QS),!0),s=e.getUint32(v(Za,eN),!0),o=e.getUint32(v(Za,tN),!0),l=e.getUint32(v(Za,rN),!0);let u=20;const h=new Float32Array(this.buffer,u,i*2);u+=i*8;const f=new Uint8Array(this.buffer,u,s*3);u+=s*3;const m=[];for(let w=0;w<o;++w){const A=e.getFloat32(u,!0);u+=4;const S=e.getUint32(u,!0);u+=4,m.push([A,`#${S.toString(16).padStart(6,"0")}`])}let g=null;if(n){g=[];for(let w=0;w<4;++w)g.push(e.getFloat32(u,!0)),u+=4}let b=null;a&&(b=new Uint8Array(this.buffer,u,3),u+=3);const y=[];for(let w=0;w<l;++w){const A=e.getUint8(u);u+=1,u=Math.ceil(u/4)*4;const S=e.getUint32(u,!0);u+=4;const N=new Int32Array(this.buffer,u,S);u+=S*4;const T=e.getUint32(u,!0);u+=4;const k=new Int32Array(this.buffer,u,T);u+=T*4;const R={type:A,coords:N,colors:k};A===yI.LATTICE&&(R.verticesPerRow=e.getUint32(u,!0),u+=4),y.push(R)}if(r===1)return["RadialAxial","axial",g,m,Array.from(h.slice(0,2)),Array.from(h.slice(2,4)),null,null];if(r===2)return["RadialAxial","radial",g,m,[h[0],h[1]],[h[3],h[4]],h[2],h[5]];if(r===3){const w=this.data[v(Za,ZS)];let A=null;if(h.length>0){let S=h[0],N=h[0],T=h[1],k=h[1];for(let R=0;R<h.length;R+=2){const O=h[R],U=h[R+1];S=S>O?O:S,T=T>U?U:T,N=N<O?O:N,k=k<U?U:k}A=[S,T,N,k]}return["Mesh",w,h,f,y,A,g,b]}throw new Error(`Unsupported pattern kind: ${r}`)}};YS=new WeakMap,XS=new WeakMap,JS=new WeakMap,ZS=new WeakMap,QS=new WeakMap,eN=new WeakMap,tN=new WeakMap,rN=new WeakMap,ie(Za,YS,0),ie(Za,XS,1),ie(Za,JS,2),ie(Za,ZS,3),ie(Za,QS,4),ie(Za,eN,8),ie(Za,tN,12),ie(Za,rN,16);let $I=Za;var nw;class yxe{constructor(e){ie(this,nw);J(this,nw,e)}static write(e){let r,n;return bo.isFloat16ArraySupported?(n=new ArrayBuffer(e.length*2),r=new Float16Array(n)):(n=new ArrayBuffer(e.length*4),r=new Float32Array(n)),r.set(e),n}get path(){return bo.isFloat16ArraySupported?new Float16Array(v(this,nw)):new Float32Array(v(this,nw))}}nw=new WeakMap;function bxe(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(Tc)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function wxe(t){if(Tc&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return SE(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function dT(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const VI=t=>typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0,Axe=t=>typeof t=="object"&&typeof(t==null?void 0:t.name)=="string",_xe=rxe.bind(null,VI,Axe);var Mp,ZC;class Sxe{constructor(){ie(this,Mp,new Map);ie(this,ZC,Promise.resolve())}postMessage(e,r){const n={data:structuredClone(e,r?{transfer:r}:null)};v(this,ZC).then(()=>{for(const[a]of v(this,Mp))a.call(this,n)})}addEventListener(e,r,n=null){let a=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:i}=n;if(i.aborted){on("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,r);a=()=>i.removeEventListener("abort",s),i.addEventListener("abort",s)}v(this,Mp).set(r,a)}removeEventListener(e,r){const n=v(this,Mp).get(r);n==null||n(),v(this,Mp).delete(r)}terminate(){for(const[,e]of v(this,Mp))e==null||e();v(this,Mp).clear()}}Mp=new WeakMap,ZC=new WeakMap;const hT={DATA:1,ERROR:2},Is={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function mV(){}function su(t){if(t instanceof Mx||t instanceof bI||t instanceof oV||t instanceof fj||t instanceof T6)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||Ka('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Mx(t.message);case"InvalidPDFException":return new bI(t.message);case"PasswordException":return new oV(t.message,t.code);case"ResponseException":return new fj(t.message,t.status,t.missing);case"UnknownErrorException":return new T6(t.message,t.details)}return new T6(t.message,t.toString())}var aw,ch,IQ,LQ,MQ,b3;class WA{constructor(e,r,n){ie(this,ch);ie(this,aw,new AbortController);this.sourceName=e,this.targetName=r,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",ue(this,ch,IQ).bind(this),{signal:v(this,aw).signal})}on(e,r){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=r}send(e,r,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:r},n)}sendWithPromise(e,r,n){const a=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[a]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:a,data:r},n)}catch(s){i.reject(s)}return i.promise}sendWithStream(e,r,n,a){const i=this.streamId++,s=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const h=Promise.withResolvers();return this.streamControllers[i]={controller:u,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:o,action:e,streamId:i,data:r,desiredSize:u.desiredSize},a),h.promise},pull:u=>{const h=Promise.withResolvers();return this.streamControllers[i].pullCall=h,l.postMessage({sourceName:s,targetName:o,stream:Is.PULL,streamId:i,desiredSize:u.desiredSize}),h.promise},cancel:u=>{zn(u instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[i].cancelCall=h,this.streamControllers[i].isClosed=!0,l.postMessage({sourceName:s,targetName:o,stream:Is.CANCEL,streamId:i,reason:su(u)}),h.promise}},n)}destroy(){var e;(e=v(this,aw))==null||e.abort(),J(this,aw,null)}}aw=new WeakMap,ch=new WeakSet,IQ=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){ue(this,ch,MQ).call(this,e);return}if(e.callback){const n=e.callbackId,a=this.callbackCapabilities[n];if(!a)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===hT.DATA)a.resolve(e.data);else if(e.callback===hT.ERROR)a.reject(su(e.reason));else throw new Error("Unexpected callback case");return}const r=this.actionHandler[e.action];if(!r)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,a=e.sourceName,i=this.comObj;Promise.try(r,e.data).then(function(s){i.postMessage({sourceName:n,targetName:a,callback:hT.DATA,callbackId:e.callbackId,data:s})},function(s){i.postMessage({sourceName:n,targetName:a,callback:hT.ERROR,callbackId:e.callbackId,reason:su(s)})});return}if(e.streamId){ue(this,ch,LQ).call(this,e);return}r(e.data)},LQ=function(e){const r=e.streamId,n=this.sourceName,a=e.sourceName,i=this.comObj,s=this,o=this.actionHandler[e.action],l={enqueue(u,h=1,f){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=h,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:n,targetName:a,stream:Is.ENQUEUE,streamId:r,chunk:u},f)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:a,stream:Is.CLOSE,streamId:r}),delete s.streamSinks[r])},error(u){zn(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:a,stream:Is.ERROR,streamId:r,reason:su(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[r]=l,Promise.try(o,e.data,l).then(function(){i.postMessage({sourceName:n,targetName:a,stream:Is.START_COMPLETE,streamId:r,success:!0})},function(u){i.postMessage({sourceName:n,targetName:a,stream:Is.START_COMPLETE,streamId:r,reason:su(u)})})},MQ=function(e){const r=e.streamId,n=this.sourceName,a=e.sourceName,i=this.comObj,s=this.streamControllers[r],o=this.streamSinks[r];switch(e.stream){case Is.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(su(e.reason));break;case Is.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(su(e.reason));break;case Is.PULL:if(!o){i.postMessage({sourceName:n,targetName:a,stream:Is.PULL_COMPLETE,streamId:r,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||mV).then(function(){i.postMessage({sourceName:n,targetName:a,stream:Is.PULL_COMPLETE,streamId:r,success:!0})},function(u){i.postMessage({sourceName:n,targetName:a,stream:Is.PULL_COMPLETE,streamId:r,reason:su(u)})});break;case Is.ENQUEUE:if(zn(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case Is.CLOSE:if(zn(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),ue(this,ch,b3).call(this,s,r);break;case Is.ERROR:zn(s,"error should have stream controller"),s.controller.error(su(e.reason)),ue(this,ch,b3).call(this,s,r);break;case Is.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(su(e.reason)),ue(this,ch,b3).call(this,s,r);break;case Is.CANCEL:if(!o)break;const l=su(e.reason);Promise.try(o.onCancel||mV,l).then(function(){i.postMessage({sourceName:n,targetName:a,stream:Is.CANCEL_COMPLETE,streamId:r,success:!0})},function(u){i.postMessage({sourceName:n,targetName:a,stream:Is.CANCEL_COMPLETE,streamId:r,reason:su(u)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[r];break;default:throw new Error("Unexpected stream case")}},b3=async function(e,r){var n,a,i;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(a=e.pullCall)==null?void 0:a.promise,(i=e.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[r]};var nN;class FQ{constructor({enableHWA:e=!1}){ie(this,nN,!1);J(this,nN,e)}create(e,r){if(e<=0||r<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,r);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!v(this,nN)})}}reset(e,r,n){if(!e.canvas)throw new Error("Canvas is not specified");if(r<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=r,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,r){Ka("Abstract method `_createCanvas` called.")}}nN=new WeakMap;class Nxe extends FQ{constructor({ownerDocument:e=globalThis.document,enableHWA:r=!1}){super({enableHWA:r}),this._document=e}_createCanvas(e,r){const n=this._document.createElement("canvas");return n.width=e,n.height=r,n}}class BQ{constructor({baseUrl:e=null,isCompressed:r=!0}){this.baseUrl=e,this.isCompressed=r}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const r=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(r).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${r}`)})}async _fetch(e){Ka("Abstract method `_fetch` called.")}}class gV extends BQ{async _fetch(e){const r=await NE(e,this.isCompressed?"arraybuffer":"text");return r instanceof ArrayBuffer?new Uint8Array(r):SE(r)}}class UQ{addFilter(e){return"none"}addHCMFilter(e,r){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,r,n,a,i){return"none"}destroy(e=!1){}}var u1,iw,Fp,Bp,Yl,d1,h1,_r,Hl,KA,$b,w3,Vb,zQ,HI,Hb,YA,XA,qI,JA;class Exe extends UQ{constructor({docId:r,ownerDocument:n=globalThis.document}){super();ie(this,_r);ie(this,u1);ie(this,iw);ie(this,Fp);ie(this,Bp);ie(this,Yl);ie(this,d1);ie(this,h1,0);J(this,Bp,r),J(this,Yl,n)}addFilter(r){if(!r)return"none";let n=v(this,_r,Hl).get(r);if(n)return n;const[a,i,s]=ue(this,_r,w3).call(this,r),o=r.length===1?a:`${a}${i}${s}`;if(n=v(this,_r,Hl).get(o),n)return v(this,_r,Hl).set(r,n),n;const l=`g_${v(this,Bp)}_transfer_map_${so(this,h1)._++}`,u=ue(this,_r,Vb).call(this,l);v(this,_r,Hl).set(r,u),v(this,_r,Hl).set(o,u);const h=ue(this,_r,Hb).call(this,l);return ue(this,_r,XA).call(this,a,i,s,h),u}addHCMFilter(r,n){var b;const a=`${r}-${n}`,i="base";let s=v(this,_r,KA).get(i);if((s==null?void 0:s.key)===a||(s?((b=s.filter)==null||b.remove(),s.key=a,s.url="none",s.filter=null):(s={key:a,url:"none",filter:null},v(this,_r,KA).set(i,s)),!r||!n))return s.url;const o=ue(this,_r,JA).call(this,r);r=wr.makeHexColor(...o);const l=ue(this,_r,JA).call(this,n);if(n=wr.makeHexColor(...l),v(this,_r,$b).style.color="",r==="#000000"&&n==="#ffffff"||r===n)return s.url;const u=new Array(256);for(let y=0;y<=255;y++){const w=y/255;u[y]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const h=u.join(","),f=`g_${v(this,Bp)}_hcm_filter`,m=s.filter=ue(this,_r,Hb).call(this,f);ue(this,_r,XA).call(this,h,h,h,m),ue(this,_r,HI).call(this,m);const g=(y,w)=>{const A=o[y]/255,S=l[y]/255,N=new Array(w+1);for(let T=0;T<=w;T++)N[T]=A+T/w*(S-A);return N.join(",")};return ue(this,_r,XA).call(this,g(0,5),g(1,5),g(2,5),m),s.url=ue(this,_r,Vb).call(this,f),s.url}addAlphaFilter(r){let n=v(this,_r,Hl).get(r);if(n)return n;const[a]=ue(this,_r,w3).call(this,[r]),i=`alpha_${a}`;if(n=v(this,_r,Hl).get(i),n)return v(this,_r,Hl).set(r,n),n;const s=`g_${v(this,Bp)}_alpha_map_${so(this,h1)._++}`,o=ue(this,_r,Vb).call(this,s);v(this,_r,Hl).set(r,o),v(this,_r,Hl).set(i,o);const l=ue(this,_r,Hb).call(this,s);return ue(this,_r,qI).call(this,a,l),o}addLuminosityFilter(r){let n=v(this,_r,Hl).get(r||"luminosity");if(n)return n;let a,i;if(r?([a]=ue(this,_r,w3).call(this,[r]),i=`luminosity_${a}`):i="luminosity",n=v(this,_r,Hl).get(i),n)return v(this,_r,Hl).set(r,n),n;const s=`g_${v(this,Bp)}_luminosity_map_${so(this,h1)._++}`,o=ue(this,_r,Vb).call(this,s);v(this,_r,Hl).set(r,o),v(this,_r,Hl).set(i,o);const l=ue(this,_r,Hb).call(this,s);return ue(this,_r,zQ).call(this,l),r&&ue(this,_r,qI).call(this,a,l),o}addHighlightHCMFilter(r,n,a,i,s){var S;const o=`${n}-${a}-${i}-${s}`;let l=v(this,_r,KA).get(r);if((l==null?void 0:l.key)===o||(l?((S=l.filter)==null||S.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},v(this,_r,KA).set(r,l)),!n||!a))return l.url;const[u,h]=[n,a].map(ue(this,_r,JA).bind(this));let f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),m=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[g,b]=[i,s].map(ue(this,_r,JA).bind(this));m<f&&([f,m,g,b]=[m,f,b,g]),v(this,_r,$b).style.color="";const y=(N,T,k)=>{const R=new Array(256),O=(m-f)/k,U=N/255,H=(T-N)/(255*k);let G=0;for(let F=0;F<=k;F++){const L=Math.round(f+F*O),re=U+F*H;for(let Z=G;Z<=L;Z++)R[Z]=re;G=L+1}for(let F=G;F<256;F++)R[F]=R[G-1];return R.join(",")},w=`g_${v(this,Bp)}_hcm_${r}_filter`,A=l.filter=ue(this,_r,Hb).call(this,w);return ue(this,_r,HI).call(this,A),ue(this,_r,XA).call(this,y(g[0],b[0],5),y(g[1],b[1],5),y(g[2],b[2],5),A),l.url=ue(this,_r,Vb).call(this,w),l.url}destroy(r=!1){var n,a,i,s;r&&((n=v(this,d1))!=null&&n.size)||((a=v(this,Fp))==null||a.parentNode.parentNode.remove(),J(this,Fp,null),(i=v(this,iw))==null||i.clear(),J(this,iw,null),(s=v(this,d1))==null||s.clear(),J(this,d1,null),J(this,h1,0))}}u1=new WeakMap,iw=new WeakMap,Fp=new WeakMap,Bp=new WeakMap,Yl=new WeakMap,d1=new WeakMap,h1=new WeakMap,_r=new WeakSet,Hl=function(){return v(this,iw)||J(this,iw,new Map)},KA=function(){return v(this,d1)||J(this,d1,new Map)},$b=function(){if(!v(this,Fp)){const r=v(this,Yl).createElement("div"),{style:n}=r;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const a=v(this,Yl).createElementNS(bp,"svg");a.setAttribute("width",0),a.setAttribute("height",0),J(this,Fp,v(this,Yl).createElementNS(bp,"defs")),r.append(a),a.append(v(this,Fp)),v(this,Yl).body.append(r)}return v(this,Fp)},w3=function(r){if(r.length===1){const u=r[0],h=new Array(256);for(let m=0;m<256;m++)h[m]=u[m]/255;const f=h.join(",");return[f,f,f]}const[n,a,i]=r,s=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)s[u]=n[u]/255,o[u]=a[u]/255,l[u]=i[u]/255;return[s.join(","),o.join(","),l.join(",")]},Vb=function(r){if(v(this,u1)===void 0){J(this,u1,"");const n=v(this,Yl).URL;n!==v(this,Yl).baseURI&&(Ik(n)?on('#createUrl: ignore "data:"-URL for performance reasons.'):J(this,u1,KZ(n,"")))}return`url(${v(this,u1)}#${r})`},zQ=function(r){const n=v(this,Yl).createElementNS(bp,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),r.append(n)},HI=function(r){const n=v(this,Yl).createElementNS(bp,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),r.append(n)},Hb=function(r){const n=v(this,Yl).createElementNS(bp,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",r),v(this,_r,$b).append(n),n},YA=function(r,n,a){const i=v(this,Yl).createElementNS(bp,n);i.setAttribute("type","discrete"),i.setAttribute("tableValues",a),r.append(i)},XA=function(r,n,a,i){const s=v(this,Yl).createElementNS(bp,"feComponentTransfer");i.append(s),ue(this,_r,YA).call(this,s,"feFuncR",r),ue(this,_r,YA).call(this,s,"feFuncG",n),ue(this,_r,YA).call(this,s,"feFuncB",a)},qI=function(r,n){const a=v(this,Yl).createElementNS(bp,"feComponentTransfer");n.append(a),ue(this,_r,YA).call(this,a,"feFuncA",r)},JA=function(r){return v(this,_r,$b).style.color=r,TE(getComputedStyle(v(this,_r,$b)).getPropertyValue("color"))};class $Q{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const r=`${this.baseUrl}${e}`;return this._fetch(r).catch(n=>{throw new Error(`Unable to load font data at: ${r}`)})}async _fetch(e){Ka("Abstract method `_fetch` called.")}}class xV extends $Q{async _fetch(e){const r=await NE(e,"arraybuffer");return new Uint8Array(r)}}class VQ{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const r=`${this.baseUrl}${e}`;return this._fetch(r).catch(n=>{throw new Error(`Unable to load wasm data at: ${r}`)})}async _fetch(e){Ka("Abstract method `_fetch` called.")}}class vV extends VQ{async _fetch(e){const r=await NE(e,"arraybuffer");return new Uint8Array(r)}}Tc&&on("Please use the `legacy` build in Node.js environments.");async function MF(t){const r=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(r)}class Txe extends UQ{}class jxe extends FQ{_createCanvas(e,r){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,r)}}class Cxe extends BQ{async _fetch(e){return MF(e)}}class kxe extends $Q{async _fetch(e){return MF(e)}}class Pxe extends VQ{async _fetch(e){return MF(e)}}const Tb="__forcedDependency",{floor:yV,ceil:bV}=Math;function fT(t,e,r,n,a,i){t[e*4+0]=Math.min(t[e*4+0],r),t[e*4+1]=Math.min(t[e*4+1],n),t[e*4+2]=Math.max(t[e*4+2],a),t[e*4+3]=Math.max(t[e*4+3],i)}const GI=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var sw,ex;class Oxe{constructor(e,r){ie(this,sw);ie(this,ex);J(this,sw,e),J(this,ex,r)}get length(){return v(this,sw).length}isEmpty(e){return v(this,sw)[e]===GI}minX(e){return v(this,ex)[e*4+0]/256}minY(e){return v(this,ex)[e*4+1]/256}maxX(e){return(v(this,ex)[e*4+2]+1)/256}maxY(e){return(v(this,ex)[e*4+3]+1)/256}}sw=new WeakMap,ex=new WeakMap;const pT=(t,e)=>{if(!t)return;let r=t.get(e);return r||(r={dependencies:new Set,isRenderingOperation:!1},t.set(e,r)),r};var cu,uu,f1,Zh,p1,Up,xa,Ra,zp,du,aN,ow,m1,g1,$p,Xl,v0,iN,WI;class Dxe{constructor(e,r,n=!1){ie(this,iN);ie(this,cu,{__proto__:null});ie(this,uu,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Tb]:[]});ie(this,f1,new Map);ie(this,Zh,[]);ie(this,p1,[]);ie(this,Up,[[1,0,0,1,0,0]]);ie(this,xa,[-1/0,-1/0,1/0,1/0]);ie(this,Ra,new Float64Array([1/0,1/0,-1/0,-1/0]));ie(this,zp,-1);ie(this,du,new Set);ie(this,aN,new Map);ie(this,ow,new Map);ie(this,m1);ie(this,g1);ie(this,$p);ie(this,Xl);ie(this,v0);J(this,m1,e.width),J(this,g1,e.height),ue(this,iN,WI).call(this,r),n&&J(this,v0,new Map)}growOperationsCount(e){e>=v(this,Xl).length&&ue(this,iN,WI).call(this,e,v(this,Xl))}save(e){return J(this,cu,{__proto__:v(this,cu)}),J(this,uu,{__proto__:v(this,uu),transform:{__proto__:v(this,uu).transform},moveText:{__proto__:v(this,uu).moveText},sameLineText:{__proto__:v(this,uu).sameLineText},[Tb]:{__proto__:v(this,uu)[Tb]}}),J(this,xa,{__proto__:v(this,xa)}),v(this,Zh).push(e),this}restore(e){var a;const r=Object.getPrototypeOf(v(this,cu));if(r===null)return this;J(this,cu,r),J(this,uu,Object.getPrototypeOf(v(this,uu))),J(this,xa,Object.getPrototypeOf(v(this,xa)));const n=v(this,Zh).pop();return n!==void 0&&((a=pT(v(this,v0),e))==null||a.dependencies.add(n),v(this,Xl)[e]=v(this,Xl)[n]),this}recordOpenMarker(e){return v(this,Zh).push(e),this}getOpenMarker(){return v(this,Zh).length===0?null:v(this,Zh).at(-1)}recordCloseMarker(e){var n;const r=v(this,Zh).pop();return r!==void 0&&((n=pT(v(this,v0),e))==null||n.dependencies.add(r),v(this,Xl)[e]=v(this,Xl)[r]),this}beginMarkedContent(e){return v(this,p1).push(e),this}endMarkedContent(e){var n;const r=v(this,p1).pop();return r!==void 0&&((n=pT(v(this,v0),e))==null||n.dependencies.add(r),v(this,Xl)[e]=v(this,Xl)[r]),this}pushBaseTransform(e){return v(this,Up).push(wr.multiplyByDOMMatrix(v(this,Up).at(-1),e.getTransform())),this}popBaseTransform(){return v(this,Up).length>1&&v(this,Up).pop(),this}recordSimpleData(e,r){return v(this,cu)[e]=r,this}recordIncrementalData(e,r){return v(this,uu)[e].push(r),this}resetIncrementalData(e,r){return v(this,uu)[e].length=0,this}recordNamedData(e,r){return v(this,f1).set(e,r),this}recordSimpleDataFromNamed(e,r,n){v(this,cu)[e]=v(this,f1).get(r)??n}recordFutureForcedDependency(e,r){return this.recordIncrementalData(Tb,r),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const r of e)r in v(this,cu)&&this.recordFutureForcedDependency(r,v(this,cu)[r]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of v(this,du))this.recordFutureForcedDependency(Tb,e);return this}resetBBox(e){return v(this,zp)!==e&&(J(this,zp,e),v(this,Ra)[0]=1/0,v(this,Ra)[1]=1/0,v(this,Ra)[2]=-1/0,v(this,Ra)[3]=-1/0),this}recordClipBox(e,r,n,a,i,s){const o=wr.multiplyByDOMMatrix(v(this,Up).at(-1),r.getTransform()),l=[1/0,1/0,-1/0,-1/0];wr.axialAlignedBoundingBox([n,i,a,s],o,l);const u=wr.intersect(v(this,xa),l);return u?(v(this,xa)[0]=u[0],v(this,xa)[1]=u[1],v(this,xa)[2]=u[2],v(this,xa)[3]=u[3]):(v(this,xa)[0]=v(this,xa)[1]=1/0,v(this,xa)[2]=v(this,xa)[3]=-1/0),this}recordBBox(e,r,n,a,i,s){const o=v(this,xa);if(o[0]===1/0)return this;const l=wr.multiplyByDOMMatrix(v(this,Up).at(-1),r.getTransform());if(o[0]===-1/0)return wr.axialAlignedBoundingBox([n,i,a,s],l,v(this,Ra)),this;const u=[1/0,1/0,-1/0,-1/0];return wr.axialAlignedBoundingBox([n,i,a,s],l,u),v(this,Ra)[0]=Math.min(v(this,Ra)[0],Math.max(u[0],o[0])),v(this,Ra)[1]=Math.min(v(this,Ra)[1],Math.max(u[1],o[1])),v(this,Ra)[2]=Math.max(v(this,Ra)[2],Math.min(u[2],o[2])),v(this,Ra)[3]=Math.max(v(this,Ra)[3],Math.min(u[3],o[3])),this}recordCharacterBBox(e,r,n,a=1,i=0,s=0,o){const l=n.bbox;let u,h;if(l&&(u=l[2]!==l[0]&&l[3]!==l[1]&&v(this,ow).get(n),u!==!1&&(h=[0,0,0,0],wr.axialAlignedBoundingBox(l,n.fontMatrix,h),(a!==1||i!==0||s!==0)&&wr.scaleMinMax([a,0,0,-a,i,s],h),u)))return this.recordBBox(e,r,h[0],h[2],h[1],h[3]);if(!o)return this.recordFullPageBBox(e);const f=o();return l&&h&&u===void 0&&(u=h[0]<=i-f.actualBoundingBoxLeft&&h[2]>=i+f.actualBoundingBoxRight&&h[1]<=s-f.actualBoundingBoxAscent&&h[3]>=s+f.actualBoundingBoxDescent,v(this,ow).set(n,u),u)?this.recordBBox(e,r,h[0],h[2],h[1],h[3]):this.recordBBox(e,r,i-f.actualBoundingBoxLeft,i+f.actualBoundingBoxRight,s-f.actualBoundingBoxAscent,s+f.actualBoundingBoxDescent)}recordFullPageBBox(e){return v(this,Ra)[0]=Math.max(0,v(this,xa)[0]),v(this,Ra)[1]=Math.max(0,v(this,xa)[1]),v(this,Ra)[2]=Math.min(v(this,m1),v(this,xa)[2]),v(this,Ra)[3]=Math.min(v(this,g1),v(this,xa)[3]),this}getSimpleIndex(e){return v(this,cu)[e]}recordDependencies(e,r){const n=v(this,du),a=v(this,cu),i=v(this,uu);for(const s of r)s in v(this,cu)?n.add(a[s]):s in i&&i[s].forEach(n.add,n);return this}recordNamedDependency(e,r){return v(this,f1).has(r)&&v(this,du).add(v(this,f1).get(r)),this}recordOperation(e,r=!1){if(this.recordDependencies(e,[Tb]),v(this,v0)){const n=pT(v(this,v0),e),{dependencies:a}=n;v(this,du).forEach(a.add,a),v(this,Zh).forEach(a.add,a),v(this,p1).forEach(a.add,a),a.delete(e),n.isRenderingOperation=!0}if(v(this,zp)===e){const n=yV(v(this,Ra)[0]*256/v(this,m1)),a=yV(v(this,Ra)[1]*256/v(this,g1)),i=bV(v(this,Ra)[2]*256/v(this,m1)),s=bV(v(this,Ra)[3]*256/v(this,g1));fT(v(this,$p),e,n,a,i,s);for(const o of v(this,du))o!==e&&fT(v(this,$p),o,n,a,i,s);for(const o of v(this,Zh))o!==e&&fT(v(this,$p),o,n,a,i,s);for(const o of v(this,p1))o!==e&&fT(v(this,$p),o,n,a,i,s);r||(v(this,du).clear(),J(this,zp,-1))}return this}recordShowTextOperation(e,r=!1){const n=Array.from(v(this,du));this.recordOperation(e,r),this.recordIncrementalData("sameLineText",e);for(const a of n)this.recordIncrementalData("sameLineText",a);return this}bboxToClipBoxDropOperation(e,r=!1){return v(this,zp)===e&&(J(this,zp,-1),v(this,xa)[0]=Math.max(v(this,xa)[0],v(this,Ra)[0]),v(this,xa)[1]=Math.max(v(this,xa)[1],v(this,Ra)[1]),v(this,xa)[2]=Math.min(v(this,xa)[2],v(this,Ra)[2]),v(this,xa)[3]=Math.min(v(this,xa)[3],v(this,Ra)[3]),r||v(this,du).clear()),this}_takePendingDependencies(){const e=v(this,du);return J(this,du,new Set),e}_extractOperation(e){const r=v(this,aN).get(e);return v(this,aN).delete(e),r}_pushPendingDependencies(e){for(const r of e)v(this,du).add(r)}take(){return v(this,ow).clear(),new Oxe(v(this,Xl),v(this,$p))}takeDebugMetadata(){return v(this,v0)}}cu=new WeakMap,uu=new WeakMap,f1=new WeakMap,Zh=new WeakMap,p1=new WeakMap,Up=new WeakMap,xa=new WeakMap,Ra=new WeakMap,zp=new WeakMap,du=new WeakMap,aN=new WeakMap,ow=new WeakMap,m1=new WeakMap,g1=new WeakMap,$p=new WeakMap,Xl=new WeakMap,v0=new WeakMap,iN=new WeakSet,WI=function(e,r){const n=new ArrayBuffer(e*4);J(this,$p,new Uint8ClampedArray(n)),J(this,Xl,new Uint32Array(n)),r&&r.length>0?(v(this,Xl).set(r),v(this,Xl).fill(GI,r.length)):v(this,Xl).fill(GI)};var Ha,ts,Qh,lw,cw;const X9=class X9{constructor(e,r,n){ie(this,Ha);ie(this,ts);ie(this,Qh);ie(this,lw,0);ie(this,cw,0);if(e instanceof X9&&v(e,Qh)===!!n)return e;J(this,Ha,e),J(this,ts,r),J(this,Qh,!!n)}growOperationsCount(){throw new Error("Unreachable")}save(e){return so(this,cw)._++,v(this,Ha).save(v(this,ts)),this}restore(e){return v(this,cw)>0&&(v(this,Ha).restore(v(this,ts)),so(this,cw)._--),this}recordOpenMarker(e){return so(this,lw)._++,this}getOpenMarker(){return v(this,lw)>0?v(this,ts):v(this,Ha).getOpenMarker()}recordCloseMarker(e){return so(this,lw)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return v(this,Ha).pushBaseTransform(e),this}popBaseTransform(){return v(this,Ha).popBaseTransform(),this}recordSimpleData(e,r){return v(this,Ha).recordSimpleData(e,v(this,ts)),this}recordIncrementalData(e,r){return v(this,Ha).recordIncrementalData(e,v(this,ts)),this}resetIncrementalData(e,r){return v(this,Ha).resetIncrementalData(e,v(this,ts)),this}recordNamedData(e,r){return this}recordSimpleDataFromNamed(e,r,n){return v(this,Ha).recordSimpleDataFromNamed(e,r,v(this,ts)),this}recordFutureForcedDependency(e,r){return v(this,Ha).recordFutureForcedDependency(e,v(this,ts)),this}inheritSimpleDataAsFutureForcedDependencies(e){return v(this,Ha).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return v(this,Ha).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return v(this,Qh)||v(this,Ha).resetBBox(v(this,ts)),this}recordClipBox(e,r,n,a,i,s){return v(this,Qh)||v(this,Ha).recordClipBox(v(this,ts),r,n,a,i,s),this}recordBBox(e,r,n,a,i,s){return v(this,Qh)||v(this,Ha).recordBBox(v(this,ts),r,n,a,i,s),this}recordCharacterBBox(e,r,n,a,i,s,o){return v(this,Qh)||v(this,Ha).recordCharacterBBox(v(this,ts),r,n,a,i,s,o),this}recordFullPageBBox(e){return v(this,Qh)||v(this,Ha).recordFullPageBBox(v(this,ts)),this}getSimpleIndex(e){return v(this,Ha).getSimpleIndex(e)}recordDependencies(e,r){return v(this,Ha).recordDependencies(v(this,ts),r),this}recordNamedDependency(e,r){return v(this,Ha).recordNamedDependency(v(this,ts),r),this}recordOperation(e){return v(this,Ha).recordOperation(v(this,ts),!0),this}recordShowTextOperation(e){return v(this,Ha).recordShowTextOperation(v(this,ts),!0),this}bboxToClipBoxDropOperation(e){return v(this,Qh)||v(this,Ha).bboxToClipBoxDropOperation(v(this,ts),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};Ha=new WeakMap,ts=new WeakMap,Qh=new WeakMap,lw=new WeakMap,cw=new WeakMap;let yj=X9;const Bd={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},wl={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function KI(t,e){if(!e)return;const r=e[2]-e[0],n=e[3]-e[1],a=new Path2D;a.rect(e[0],e[1],r,n),t.clip(a)}class FF{isModifyingCurrentTransform(){return!1}getPattern(){Ka("Abstract method `getPattern` called.")}}class Rxe extends FF{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(e,r=null){let n,a=this._p0,i=this._p1;if(r&&(a=a.slice(),i=i.slice(),wr.applyTransform(a,r),wr.applyTransform(i,r)),this._type==="axial")n=e.createLinearGradient(a[0],a[1],i[0],i[1]);else if(this._type==="radial"){let s=this._r0,o=this._r1;if(r){const l=new Float32Array(2);wr.singularValueDecompose2dScale(r,l),s*=l[0],o*=l[0]}n=e.createRadialGradient(a[0],a[1],s,i[0],i[1],o)}for(const s of this._colorStops)n.addColorStop(s[0],s[1]);return n}getPattern(e,r,n,a){let i;if(a===wl.STROKE||a===wl.FILL){if(this.isOriginBased()){let m=wr.transform(n,r.baseTransform);this.matrix&&(m=wr.transform(m,this.matrix));const g=.001,b=Math.hypot(m[0],m[1]),y=Math.hypot(m[2],m[3]),w=(m[0]*m[2]+m[1]*m[3])/(b*y);if(Math.abs(w)<g)if(this.isRadial()){if(Math.abs(b-y)<g)return this._createGradient(e,m)}else return this._createGradient(e,m)}const s=r.current.getClippedPathBoundingBox(a,zi(e))||[0,0,0,0],o=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,u=r.cachedCanvases.getCanvas("pattern",o,l),h=u.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-s[0],-s[1]),n=wr.transform(n,[1,0,0,1,s[0],s[1]]),h.transform(...r.baseTransform),this.matrix&&h.transform(...this.matrix),KI(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),i=e.createPattern(u.canvas,"no-repeat");const f=new DOMMatrix(n);i.setTransform(f)}else KI(e,this._bbox),i=this._createGradient(e);return i}}function k6(t,e,r,n,a,i,s,o){const l=e.coords,u=e.colors,h=t.data,f=t.width*4;let m;l[r+1]>l[n+1]&&(m=r,r=n,n=m,m=i,i=s,s=m),l[n+1]>l[a+1]&&(m=n,n=a,a=m,m=s,s=o,o=m),l[r+1]>l[n+1]&&(m=r,r=n,n=m,m=i,i=s,s=m);const g=(l[r]+e.offsetX)*e.scaleX,b=(l[r+1]+e.offsetY)*e.scaleY,y=(l[n]+e.offsetX)*e.scaleX,w=(l[n+1]+e.offsetY)*e.scaleY,A=(l[a]+e.offsetX)*e.scaleX,S=(l[a+1]+e.offsetY)*e.scaleY;if(b>=S)return;const N=u[i],T=u[i+1],k=u[i+2],R=u[s],O=u[s+1],U=u[s+2],H=u[o],G=u[o+1],F=u[o+2],L=Math.round(b),re=Math.round(S);let Z,pe,Q,X,oe,ce,Ne,ne;for(let B=L;B<=re;B++){if(B<w){const Ae=B<b?0:(b-B)/(b-w);Z=g-(g-y)*Ae,pe=N-(N-R)*Ae,Q=T-(T-O)*Ae,X=k-(k-U)*Ae}else{let Ae;B>S?Ae=1:w===S?Ae=0:Ae=(w-B)/(w-S),Z=y-(y-A)*Ae,pe=R-(R-H)*Ae,Q=O-(O-G)*Ae,X=U-(U-F)*Ae}let V;B<b?V=0:B>S?V=1:V=(b-B)/(b-S),oe=g-(g-A)*V,ce=N-(N-H)*V,Ne=T-(T-G)*V,ne=k-(k-F)*V;const Y=Math.round(Math.min(Z,oe)),K=Math.round(Math.max(Z,oe));let le=f*B+Y*4;for(let Ae=Y;Ae<=K;Ae++)V=(Z-Ae)/(Z-oe),V<0?V=0:V>1&&(V=1),h[le++]=pe-(pe-ce)*V|0,h[le++]=Q-(Q-Ne)*V|0,h[le++]=X-(X-ne)*V|0,h[le++]=255}}function Ixe(t,e,r){const n=e.coords,a=e.colors;let i,s;switch(e.type){case yI.LATTICE:const o=e.verticesPerRow,l=Math.floor(n.length/o)-1,u=o-1;for(i=0;i<l;i++){let h=i*o;for(let f=0;f<u;f++,h++)k6(t,r,n[h],n[h+1],n[h+o],a[h],a[h+1],a[h+o]),k6(t,r,n[h+o+1],n[h+1],n[h+o],a[h+o+1],a[h+1],a[h+o])}break;case yI.TRIANGLES:for(i=0,s=n.length;i<s;i+=3)k6(t,r,n[i],n[i+1],n[i+2],a[i],a[i+1],a[i+2]);break;default:throw new Error("illegal figure")}}class Lxe extends FF{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,r,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,h=Math.ceil(this._bounds[3])-l,f=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),g=u/f,b=h/m,y={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/g,scaleY:1/b},w=f+4,A=m+4,S=n.getCanvas("mesh",w,A),N=S.context,T=N.createImageData(f,m);if(r){const R=T.data;for(let O=0,U=R.length;O<U;O+=4)R[O]=r[0],R[O+1]=r[1],R[O+2]=r[2],R[O+3]=255}for(const R of this._figures)Ixe(T,R,y);return N.putImageData(T,2,2),{canvas:S.canvas,offsetX:o-2*g,offsetY:l-2*b,scaleX:g,scaleY:b}}isModifyingCurrentTransform(){return!0}getPattern(e,r,n,a){KI(e,this._bbox);const i=new Float32Array(2);if(a===wl.SHADING)wr.singularValueDecompose2dScale(zi(e),i);else if(this.matrix){wr.singularValueDecompose2dScale(this.matrix,i);const[o,l]=i;wr.singularValueDecompose2dScale(r.baseTransform,i),i[0]*=o,i[1]*=l}else wr.singularValueDecompose2dScale(r.baseTransform,i);const s=this._createMeshCanvas(i,a===wl.SHADING?null:this._background,r.cachedCanvases);return a!==wl.SHADING&&(e.setTransform(...r.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class Mxe extends FF{getPattern(){return"hotpink"}}function Fxe(t){switch(t[0]){case"RadialAxial":return new Rxe(t);case"Mesh":return new Lxe(t);case"Dummy":return new Mxe}throw new Error(`Unknown IR type: ${t[0]}`)}const wV={COLORED:1,UNCOLORED:2},QC=class QC{constructor(e,r,n,a){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=r,this.canvasGraphicsFactory=n,this.baseTransform=a}createPatternCanvas(e,r){var ce,Ne;const{bbox:n,operatorList:a,paintType:i,tilingType:s,color:o,canvasGraphicsFactory:l}=this;let{xstep:u,ystep:h}=this;u=Math.abs(u),h=Math.abs(h),Rk("TilingType: "+s);const f=n[0],m=n[1],g=n[2],b=n[3],y=g-f,w=b-m,A=new Float32Array(2);wr.singularValueDecompose2dScale(this.matrix,A);const[S,N]=A;wr.singularValueDecompose2dScale(this.baseTransform,A);const T=S*A[0],k=N*A[1];let R=y,O=w,U=!1,H=!1;const G=Math.ceil(u*T),F=Math.ceil(h*k),L=Math.ceil(y*T),re=Math.ceil(w*k);G>=L?R=u:U=!0,F>=re?O=h:H=!0;const Z=this.getSizeAndScale(R,this.ctx.canvas.width,T),pe=this.getSizeAndScale(O,this.ctx.canvas.height,k),Q=e.cachedCanvases.getCanvas("pattern",Z.size,pe.size),X=Q.context,oe=l.createCanvasGraphics(X,r);if(oe.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(oe,i,o),X.translate(-Z.scale*f,-pe.scale*m),oe.transform(0,Z.scale,0,0,pe.scale,0,0),X.save(),(ce=oe.dependencyTracker)==null||ce.save(),this.clipBbox(oe,f,m,g,b),oe.baseTransform=zi(oe.ctx),oe.executeOperatorList(a),oe.endDrawing(),(Ne=oe.dependencyTracker)==null||Ne.restore(),X.restore(),U||H){const ne=Q.canvas;U&&(R=u),H&&(O=h);const B=this.getSizeAndScale(R,this.ctx.canvas.width,T),V=this.getSizeAndScale(O,this.ctx.canvas.height,k),Y=B.size,K=V.size,le=e.cachedCanvases.getCanvas("pattern-workaround",Y,K),Ae=le.context,De=U?Math.floor(y/u):0,de=H?Math.floor(w/h):0;for(let Le=0;Le<=De;Le++)for(let Ge=0;Ge<=de;Ge++)Ae.drawImage(ne,Y*Le,K*Ge,Y,K,0,0,Y,K);return{canvas:le.canvas,scaleX:B.scale,scaleY:V.scale,offsetX:f,offsetY:m}}return{canvas:Q.canvas,scaleX:Z.scale,scaleY:pe.scale,offsetX:f,offsetY:m}}getSizeAndScale(e,r,n){const a=Math.max(QC.MAX_PATTERN_SIZE,r);let i=Math.ceil(e*n);return i>=a?i=a:n=i/e,{scale:n,size:i}}clipBbox(e,r,n,a,i){const s=a-r,o=i-n;e.ctx.rect(r,n,s,o),wr.axialAlignedBoundingBox([r,n,a,i],zi(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,r,n){const a=e.ctx,i=e.current;switch(r){case wV.COLORED:const{fillStyle:s,strokeStyle:o}=this.ctx;a.fillStyle=i.fillColor=s,a.strokeStyle=i.strokeColor=o;break;case wV.UNCOLORED:a.fillStyle=a.strokeStyle=n,i.fillColor=i.strokeColor=n;break;default:throw new Xge(`Unsupported paint type: ${r}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,r,n,a,i){let s=n;a!==wl.SHADING&&(s=wr.transform(s,r.baseTransform),this.matrix&&(s=wr.transform(s,this.matrix)));const o=this.createPatternCanvas(r,i);let l=new DOMMatrix(s);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const u=e.createPattern(o.canvas,"repeat");return u.setTransform(l),u}};tr(QC,"MAX_PATTERN_SIZE",3e3);let YI=QC;function Bxe({src:t,srcPos:e=0,dest:r,width:n,height:a,nonBlackColor:i=4294967295,inverseDecode:s=!1}){const o=bo.isLittleEndian?4278190080:255,[l,u]=s?[i,o]:[o,i],h=n>>3,f=n&7,m=t.length;r=new Uint32Array(r.buffer);let g=0;for(let b=0;b<a;b++){for(const w=e+h;e<w;e++){const A=e<m?t[e]:255;r[g++]=A&128?u:l,r[g++]=A&64?u:l,r[g++]=A&32?u:l,r[g++]=A&16?u:l,r[g++]=A&8?u:l,r[g++]=A&4?u:l,r[g++]=A&2?u:l,r[g++]=A&1?u:l}if(f===0)continue;const y=e<m?t[e++]:255;for(let w=0;w<f;w++)r[g++]=y&1<<7-w?u:l}return{srcPos:e,destPos:g}}const AV=16,_V=100,Uxe=15,SV=10,pu=16,P6=new DOMMatrix,ld=new Float32Array(2),t2=new Float32Array([1/0,1/0,-1/0,-1/0]);function zxe(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(r,n){e.translate(r,n),this.__originalTranslate(r,n)},t.scale=function(r,n){e.scale(r,n),this.__originalScale(r,n)},t.transform=function(r,n,a,i,s,o){e.transform(r,n,a,i,s,o),this.__originalTransform(r,n,a,i,s,o)},t.setTransform=function(r,n,a,i,s,o){e.setTransform(r,n,a,i,s,o),this.__originalSetTransform(r,n,a,i,s,o)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(r){e.rotate(r),this.__originalRotate(r)},t.clip=function(r){e.clip(r),this.__originalClip(r)},t.moveTo=function(r,n){e.moveTo(r,n),this.__originalMoveTo(r,n)},t.lineTo=function(r,n){e.lineTo(r,n),this.__originalLineTo(r,n)},t.bezierCurveTo=function(r,n,a,i,s,o){e.bezierCurveTo(r,n,a,i,s,o),this.__originalBezierCurveTo(r,n,a,i,s,o)},t.rect=function(r,n,a,i){e.rect(r,n,a,i),this.__originalRect(r,n,a,i)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class $xe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,r,n){let a;return this.cache[e]!==void 0?(a=this.cache[e],this.canvasFactory.reset(a,r,n)):(a=this.canvasFactory.create(r,n),this.cache[e]=a),a}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const r=this.cache[e];this.canvasFactory.destroy(r),delete this.cache[e]}}}function mT(t,e,r,n,a,i,s,o,l,u){const[h,f,m,g,b,y]=zi(t);if(f===0&&m===0){const S=s*h+b,N=Math.round(S),T=o*g+y,k=Math.round(T),R=(s+l)*h+b,O=Math.abs(Math.round(R)-N)||1,U=(o+u)*g+y,H=Math.abs(Math.round(U)-k)||1;return t.setTransform(Math.sign(h),0,0,Math.sign(g),N,k),t.drawImage(e,r,n,a,i,0,0,O,H),t.setTransform(h,f,m,g,b,y),[O,H]}if(h===0&&g===0){const S=o*m+b,N=Math.round(S),T=s*f+y,k=Math.round(T),R=(o+u)*m+b,O=Math.abs(Math.round(R)-N)||1,U=(s+l)*f+y,H=Math.abs(Math.round(U)-k)||1;return t.setTransform(0,Math.sign(f),Math.sign(m),0,N,k),t.drawImage(e,r,n,a,i,0,0,H,O),t.setTransform(h,f,m,g,b,y),[H,O]}t.drawImage(e,r,n,a,i,s,o,l,u);const w=Math.hypot(h,f),A=Math.hypot(m,g);return[w*l,A*u]}class NV{constructor(e,r,n){tr(this,"alphaIsShape",!1);tr(this,"fontSize",0);tr(this,"fontSizeScale",1);tr(this,"textMatrix",null);tr(this,"textMatrixScale",1);tr(this,"fontMatrix",vI);tr(this,"leading",0);tr(this,"x",0);tr(this,"y",0);tr(this,"lineX",0);tr(this,"lineY",0);tr(this,"charSpacing",0);tr(this,"wordSpacing",0);tr(this,"textHScale",1);tr(this,"textRenderingMode",lo.FILL);tr(this,"textRise",0);tr(this,"fillColor","#000000");tr(this,"strokeColor","#000000");tr(this,"patternFill",!1);tr(this,"patternStroke",!1);tr(this,"fillAlpha",1);tr(this,"strokeAlpha",1);tr(this,"lineWidth",1);tr(this,"activeSMask",null);tr(this,"transferMaps","none");n==null||n(this),this.clipBox=new Float32Array([0,0,e,r]),this.minMax=t2.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=wl.FILL,r=null){const n=this.minMax.slice();if(e===wl.STROKE){r||Ka("Stroke bounding box must include transform."),wr.singularValueDecompose2dScale(r,ld);const a=ld[0]*this.lineWidth/2,i=ld[1]*this.lineWidth/2;n[0]-=a,n[1]-=i,n[2]+=a,n[3]+=i}return n}updateClipFromPath(){const e=wr.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(t2,0)}getClippedPathBoundingBox(e=wl.FILL,r=null){return wr.intersect(this.clipBox,this.getPathBoundingBox(e,r))}}function EV(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const r=e.height,n=e.width,a=r%pu,i=(r-a)/pu,s=a===0?i:i+1,o=t.createImageData(n,pu);let l=0,u;const h=e.data,f=o.data;let m,g,b,y;if(e.kind===d3.GRAYSCALE_1BPP){const w=h.byteLength,A=new Uint32Array(f.buffer,0,f.byteLength>>2),S=A.length,N=n+7>>3,T=4294967295,k=bo.isLittleEndian?4278190080:255;for(m=0;m<s;m++){for(b=m<i?pu:a,u=0,g=0;g<b;g++){const R=w-l;let O=0;const U=R>N?n:R*8-7,H=U&-8;let G=0,F=0;for(;O<H;O+=8)F=h[l++],A[u++]=F&128?T:k,A[u++]=F&64?T:k,A[u++]=F&32?T:k,A[u++]=F&16?T:k,A[u++]=F&8?T:k,A[u++]=F&4?T:k,A[u++]=F&2?T:k,A[u++]=F&1?T:k;for(;O<U;O++)G===0&&(F=h[l++],G=128),A[u++]=F&G?T:k,G>>=1}for(;u<S;)A[u++]=0;t.putImageData(o,0,m*pu)}}else if(e.kind===d3.RGBA_32BPP){for(g=0,y=n*pu*4,m=0;m<i;m++)f.set(h.subarray(l,l+y)),l+=y,t.putImageData(o,0,g),g+=pu;m<s&&(y=n*a*4,f.set(h.subarray(l,l+y)),t.putImageData(o,0,g))}else if(e.kind===d3.RGB_24BPP)for(b=pu,y=n*b,m=0;m<s;m++){for(m>=i&&(b=a,y=n*b),u=0,g=y;g--;)f[u++]=h[l++],f[u++]=h[l++],f[u++]=h[l++],f[u++]=255;t.putImageData(o,0,m*pu)}else throw new Error(`bad image kind: ${e.kind}`)}function TV(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const r=e.height,n=e.width,a=r%pu,i=(r-a)/pu,s=a===0?i:i+1,o=t.createImageData(n,pu);let l=0;const u=e.data,h=o.data;for(let f=0;f<s;f++){const m=f<i?pu:a;({srcPos:l}=Bxe({src:u,srcPos:l,dest:h,width:n,height:m,nonBlackColor:0})),t.putImageData(o,0,f*pu)}}function gA(t,e){const r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of r)t[n]!==void 0&&(e[n]=t[n]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function gT(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function jV(t,e){if(e)return!0;wr.singularValueDecompose2dScale(t,ld);const r=Math.fround(U0.pixelRatio*Fx.PDF_TO_CSS_UNITS);return ld[0]<=r&&ld[1]<=r}const Vxe=["butt","round","square"],Hxe=["miter","round","bevel"],qxe={},CV={};var wf,XI,JI,ZI;const J9=class J9{constructor(e,r,n,a,i,{optionalContentConfig:s,markedContentStack:o=null},l,u,h){ie(this,wf);this.ctx=e,this.current=new NV(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=r,this.objs=n,this.canvasFactory=a,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=s,this.cachedCanvases=new $xe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=h??null}getObject(e,r,n=null){var a;return typeof r=="string"?((a=this.dependencyTracker)==null||a.recordNamedDependency(e,r),r.startsWith("g_")?this.commonObjs.get(r):this.objs.get(r)):n}beginDrawing({transform:e,viewport:r,transparency:n=!1,background:a=null}){const i=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,i,s),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",i,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...zi(this.compositeCtx))}this.ctx.save(),gT(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...r.transform),this.viewportScale=r.scale,this.baseTransform=zi(this.ctx)}executeOperatorList(e,r,n,a,i){var A;const s=e.argsArray,o=e.fnArray;let l=r||0;const u=s.length;if(u===l)return l;const h=u-l>SV&&typeof n=="function",f=h?Date.now()+Uxe:0;let m=0;const g=this.commonObjs,b=this.objs;let y,w;for(;;){if(a!==void 0&&l===a.nextBreakPoint)return a.breakIt(l,n),l;if(!i||i(l))if(y=o[l],w=s[l]??null,y!==F_.dependency)w===null?this[y](l):this[y](l,...w);else for(const S of w){(A=this.dependencyTracker)==null||A.recordNamedData(S,l);const N=S.startsWith("g_")?g:b;if(!N.has(S))return N.get(S,n),l}if(l++,l===u)return l;if(h&&++m>SV){if(Date.now()>f)return n(),l;m=0}}}endDrawing(){ue(this,wf,XI).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const r of e.values())typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&(r.width=r.height=0);e.clear()}this._cachedBitmapsMap.clear(),ue(this,wf,JI).call(this)}_scaleImage(e,r){const n=e.width??e.displayWidth,a=e.height??e.displayHeight;let i=Math.max(Math.hypot(r[0],r[1]),1),s=Math.max(Math.hypot(r[2],r[3]),1),o=n,l=a,u="prescale1",h,f;for(;i>2&&o>1||s>2&&l>1;){let m=o,g=l;i>2&&o>1&&(m=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),i/=o/m),s>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/g),h=this.cachedCanvases.getCanvas(u,m,g),f=h.context,f.clearRect(0,0,m,g),f.drawImage(e,0,0,o,l,0,0,m,g),e=h.canvas,o=m,l=g,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,r){var G,F;const n=this.ctx,{width:a,height:i}=r,s=this.current.fillColor,o=this.current.patternFill,l=zi(n);let u,h,f,m;if((r.bitmap||r.data)&&r.count>1){const L=r.bitmap||r.data.buffer;h=JSON.stringify(o?l:[l.slice(0,4),s]),u=this._cachedBitmapsMap.get(L),u||(u=new Map,this._cachedBitmapsMap.set(L,u));const re=u.get(h);if(re&&!o){const Z=Math.round(Math.min(l[0],l[2])+l[4]),pe=Math.round(Math.min(l[1],l[3])+l[5]);return(G=this.dependencyTracker)==null||G.recordDependencies(e,Bd.transformAndFill),{canvas:re,offsetX:Z,offsetY:pe}}f=re}f||(m=this.cachedCanvases.getCanvas("maskCanvas",a,i),TV(m.context,r));let g=wr.transform(l,[1/a,0,0,-1/i,0,0]);g=wr.transform(g,[1,0,0,1,0,-i]);const b=t2.slice();wr.axialAlignedBoundingBox([0,0,a,i],g,b);const[y,w,A,S]=b,N=Math.round(A-y)||1,T=Math.round(S-w)||1,k=this.cachedCanvases.getCanvas("fillCanvas",N,T),R=k.context,O=y,U=w;R.translate(-O,-U),R.transform(...g),f||(f=this._scaleImage(m.canvas,Jf(R)),f=f.img,u&&o&&u.set(h,f)),R.imageSmoothingEnabled=jV(zi(R),r.interpolate),mT(R,f,0,0,f.width,f.height,0,0,a,i),R.globalCompositeOperation="source-in";const H=wr.transform(Jf(R),[1,0,0,1,-O,-U]);return R.fillStyle=o?s.getPattern(n,this,H,wl.FILL,e):s,R.fillRect(0,0,a,i),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(h,k.canvas)),(F=this.dependencyTracker)==null||F.recordDependencies(e,Bd.transformAndFill),{canvas:k.canvas,offsetX:Math.round(O),offsetY:Math.round(U)}}setLineWidth(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineWidth",e),r!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=r,this.ctx.lineWidth=r}setLineCap(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineCap",e),this.ctx.lineCap=Vxe[r]}setLineJoin(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Hxe[r]}setMiterLimit(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("miterLimit",e),this.ctx.miterLimit=r}setDash(e,r,n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("dash",e);const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(r),a.lineDashOffset=n)}setRenderingIntent(e,r){}setFlatness(e,r){}setGState(e,r){var n,a,i,s,o;for(const[l,u]of r)switch(l){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(n=this.dependencyTracker)==null||n.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(a=this.dependencyTracker)==null||a.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(i=this.dependencyTracker)==null||i.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(s=this.dependencyTracker)==null||s.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const r=this.ctx.canvas.width,n=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(a,r,n);this.suspendedCtx=this.ctx;const s=this.ctx=i.context;s.setTransform(this.suspendedCtx.getTransform()),gA(this.suspendedCtx,s),zxe(s,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),gA(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const r=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,r,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,r,n,a){const i=a[0],s=a[1],o=a[2]-i,l=a[3]-s;o===0||l===0||(this.genericComposeSMask(r.context,n,o,l,r.subtype,r.backdrop,r.transferMap,i,s,r.offsetX,r.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,r,n,a,i,s,o,l,u,h,f){let m=e.canvas,g=l-h,b=u-f;if(s)if(g<0||b<0||g+n>m.width||b+a>m.height){const w=this.cachedCanvases.getCanvas("maskExtension",n,a),A=w.context;A.drawImage(m,-g,-b),A.globalCompositeOperation="destination-atop",A.fillStyle=s,A.fillRect(0,0,n,a),A.globalCompositeOperation="source-over",m=w.canvas,g=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const w=new Path2D;w.rect(g,b,n,a),e.clip(w),e.globalCompositeOperation="destination-atop",e.fillStyle=s,e.fillRect(g,b,n,a),e.restore()}r.save(),r.globalAlpha=1,r.setTransform(1,0,0,1,0,0),i==="Alpha"&&o?r.filter=this.filterFactory.addAlphaFilter(o):i==="Luminosity"&&(r.filter=this.filterFactory.addLuminosityFilter(o));const y=new Path2D;y.rect(l,u,n,a),r.clip(y),r.globalCompositeOperation="destination-in",r.drawImage(m,g,b,n,a,l,u,n,a),r.restore()}save(e){var n;this.inSMaskMode&&gA(this.ctx,this.suspendedCtx),this.ctx.save();const r=this.current;this.stateStack.push(r),this.current=r.clone(),(n=this.dependencyTracker)==null||n.save(e)}restore(e){var r;if((r=this.dependencyTracker)==null||r.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&gA(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,r,n,a,i,s,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(r,n,a,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,r,n,a){let[i]=n;if(!a){i||(i=n[0]=new Path2D),this[r](e,i);return}if(this.dependencyTracker!==null){const s=r===F_.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,a[0]-s,a[2]+s,a[1]-s,a[3]+s).recordDependencies(e,["transform"])}i instanceof Path2D||(i=n[0]=eQ(i)),wr.axialAlignedBoundingBox(a,zi(this.ctx),this.current.minMax),this[r](e,i),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,r,n=!0){var s;const a=this.ctx,i=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&(i!=null&&i.getPattern)){const o=i.isModifyingCurrentTransform()?a.getTransform():null;if(a.save(),a.strokeStyle=i.getPattern(a,this,Jf(a),wl.STROKE,e),o){const l=new Path2D;l.addPath(r,a.getTransform().invertSelf().multiplySelf(o)),r=l}this.rescaleAndStroke(r,!1),a.restore()}else this.rescaleAndStroke(r,!0);(s=this.dependencyTracker)==null||s.recordDependencies(e,Bd.stroke),n&&this.consumePath(e,r,this.current.getClippedPathBoundingBox(wl.STROKE,zi(this.ctx))),a.globalAlpha=this.current.fillAlpha}closeStroke(e,r){this.stroke(e,r)}fill(e,r,n=!0){var u,h,f;const a=this.ctx,i=this.current.fillColor,s=this.current.patternFill;let o=!1;if(s){const m=i.isModifyingCurrentTransform()?a.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),a.save(),a.fillStyle=i.getPattern(a,this,Jf(a),wl.FILL,e),m){const g=new Path2D;g.addPath(r,a.getTransform().invertSelf().multiplySelf(m)),r=g}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(a.fill(r,"evenodd"),this.pendingEOFill=!1):a.fill(r)),(h=this.dependencyTracker)==null||h.recordDependencies(e,Bd.fill),o&&(a.restore(),(f=this.dependencyTracker)==null||f.restore(e)),n&&this.consumePath(e,r,l)}eoFill(e,r){this.pendingEOFill=!0,this.fill(e,r)}fillStroke(e,r){this.fill(e,r,!1),this.stroke(e,r,!1),this.consumePath(e,r)}eoFillStroke(e,r){this.pendingEOFill=!0,this.fillStroke(e,r)}closeFillStroke(e,r){this.fillStroke(e,r)}closeEOFillStroke(e,r){this.pendingEOFill=!0,this.fillStroke(e,r)}endPath(e,r){this.consumePath(e,r)}rawFillPath(e,r){var n;this.ctx.fill(r),(n=this.dependencyTracker)==null||n.recordDependencies(e,Bd.rawFillPath).recordOperation(e)}clip(e){var r;(r=this.dependencyTracker)==null||r.recordFutureForcedDependency("clipMode",e),this.pendingClip=qxe}eoClip(e){var r;(r=this.dependencyTracker)==null||r.recordFutureForcedDependency("clipMode",e),this.pendingClip=CV}beginText(e){var r;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(r=this.dependencyTracker)==null||r.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const r=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:a}=this;r!==void 0&&a.recordFutureForcedDependency("textClip",a.getOpenMarker()).recordFutureForcedDependency("textClip",e),a.recordCloseMarker(e)}if(r!==void 0){const a=new Path2D,i=n.getTransform().invertSelf();for(const{transform:s,x:o,y:l,fontSize:u,path:h}of r)h&&a.addPath(h,new DOMMatrix(s).preMultiplySelf(i).translate(o,l).scale(u,-u));n.clip(a)}delete this.pendingTextPaths}setCharSpacing(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("charSpacing",e),this.current.charSpacing=r}setWordSpacing(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("wordSpacing",e),this.current.wordSpacing=r}setHScale(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("hScale",e),this.current.textHScale=r/100}setLeading(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("leading",e),this.current.leading=-r}setFont(e,r,n){var f,m;(f=this.dependencyTracker)==null||f.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",r,e);const a=this.commonObjs.get(r),i=this.current;if(!a)throw new Error(`Can't find font for ${r}`);if(i.fontMatrix=a.fontMatrix||vI,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&on("Invalid font matrix for font "+r),n<0?(n=-n,i.fontDirection=-1):i.fontDirection=1,this.current.font=a,this.current.fontSize=n,a.isType3Font)return;const s=a.loadedName||"sans-serif",o=((m=a.systemFontInfo)==null?void 0:m.css)||`"${s}", ${a.fallbackName}`;let l="normal";a.black?l="900":a.bold&&(l="bold");const u=a.italic?"italic":"normal";let h=n;n<AV?h=AV:n>_V&&(h=_V),this.current.fontSizeScale=n/h,this.ctx.font=`${u} ${l} ${h}px ${o}`}setTextRenderingMode(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=r}setTextRise(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("textRise",e),this.current.textRise=r}moveText(e,r,n){var a;(a=this.dependencyTracker)==null||a.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=r,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,r,n){this.setLeading(e,-n),this.moveText(e,r,n)}setTextMatrix(e,r){var a;(a=this.dependencyTracker)==null||a.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=r,n.textMatrixScale=Math.hypot(r[0],r[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){var r;this.moveText(e,0,this.current.leading),(r=this.dependencyTracker)==null||r.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,r,n,a,i,s){var A,S,N,T;const o=this.ctx,l=this.current,u=l.font,h=l.textRenderingMode,f=l.fontSize/l.fontSizeScale,m=h&lo.FILL_STROKE_MASK,g=!!(h&lo.ADD_TO_PATH_FLAG),b=l.patternFill&&!u.missingFile,y=l.patternStroke&&!u.missingFile;let w;if((u.disableFontFace||g||b||y)&&!u.missingFile&&(w=u.getPathGenerator(this.commonObjs,r)),w&&(u.disableFontFace||b||y)){o.save(),o.translate(n,a),o.scale(f,-f),(A=this.dependencyTracker)==null||A.recordCharacterBBox(e,o,u);let k;if(m===lo.FILL||m===lo.FILL_STROKE)if(i){k=o.getTransform(),o.setTransform(...i);const R=ue(this,wf,ZI).call(this,w,k,i);o.fill(R)}else o.fill(w);if(m===lo.STROKE||m===lo.FILL_STROKE)if(s){k||(k=o.getTransform()),o.setTransform(...s);const{a:R,b:O,c:U,d:H}=k,G=wr.inverseTransform(s),F=wr.transform([R,O,U,H,0,0],G);wr.singularValueDecompose2dScale(F,ld),o.lineWidth*=Math.max(ld[0],ld[1])/f,o.stroke(ue(this,wf,ZI).call(this,w,k,s))}else o.lineWidth/=f,o.stroke(w);o.restore()}else(m===lo.FILL||m===lo.FILL_STROKE)&&(o.fillText(r,n,a),(S=this.dependencyTracker)==null||S.recordCharacterBBox(e,o,u,f,n,a,()=>o.measureText(r))),(m===lo.STROKE||m===lo.FILL_STROKE)&&(this.dependencyTracker&&((N=this.dependencyTracker)==null||N.recordCharacterBBox(e,o,u,f,n,a,()=>o.measureText(r)).recordDependencies(e,Bd.stroke)),o.strokeText(r,n,a));g&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:zi(o),x:n,y:a,fontSize:f,path:w}),(T=this.dependencyTracker)==null||T.recordCharacterBBox(e,o,u,f,n,a))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const r=e.getImageData(0,0,10,10).data;let n=!1;for(let a=3;a<r.length;a+=4)if(r[a]>0&&r[a]<255){n=!0;break}return ln(this,"isFontSubpixelAAEnabled",n)}showText(e,r){var F,L,re,Z;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Bd.showText).resetBBox(e),this.current.textRenderingMode&lo.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,a=n.font;if(a.isType3Font){this.showType3Text(e,r),(F=this.dependencyTracker)==null||F.recordShowTextOperation(e);return}const i=n.fontSize;if(i===0){(L=this.dependencyTracker)==null||L.recordOperation(e);return}const s=this.ctx,o=n.fontSizeScale,l=n.charSpacing,u=n.wordSpacing,h=n.fontDirection,f=n.textHScale*h,m=r.length,g=a.vertical,b=g?1:-1,y=a.defaultVMetrics,w=i*n.fontMatrix[0],A=n.textRenderingMode===lo.FILL&&!a.disableFontFace&&!n.patternFill;s.save(),n.textMatrix&&s.transform(...n.textMatrix),s.translate(n.x,n.y+n.textRise),h>0?s.scale(f,-1):s.scale(f,1);let S,N;const T=n.textRenderingMode&lo.FILL_STROKE_MASK,k=T===lo.FILL||T===lo.FILL_STROKE,R=T===lo.STROKE||T===lo.FILL_STROKE;if(k&&n.patternFill){s.save();const pe=n.fillColor.getPattern(s,this,Jf(s),wl.FILL,e);S=zi(s),s.restore(),s.fillStyle=pe}if(R&&n.patternStroke){s.save();const pe=n.strokeColor.getPattern(s,this,Jf(s),wl.STROKE,e);N=zi(s),s.restore(),s.strokeStyle=pe}let O=n.lineWidth;const U=n.textMatrixScale;if(U===0||O===0?R&&(O=this.getSinglePixelWidth()):O/=U,o!==1&&(s.scale(o,o),O/=o),s.lineWidth=O,a.isInvalidPDFjsFont){const pe=[];let Q=0;for(const oe of r)pe.push(oe.unicode),Q+=oe.width;const X=pe.join("");if(s.fillText(X,0,0),this.dependencyTracker!==null){const oe=s.measureText(X);this.dependencyTracker.recordBBox(e,this.ctx,-oe.actualBoundingBoxLeft,oe.actualBoundingBoxRight,-oe.actualBoundingBoxAscent,oe.actualBoundingBoxDescent).recordShowTextOperation(e)}n.x+=Q*w*f,s.restore(),this.compose();return}let H=0,G;for(G=0;G<m;++G){const pe=r[G];if(typeof pe=="number"){H+=b*pe*i/1e3;continue}let Q=!1;const X=(pe.isSpace?u:0)+l,oe=pe.fontChar,ce=pe.accent;let Ne,ne,B=pe.width;if(g){const K=pe.vmetric||y,le=-(pe.vmetric?K[1]:B*.5)*w,Ae=K[2]*w;B=K?-K[0]:B,Ne=le/o,ne=(H+Ae)/o}else Ne=H/o,ne=0;let V;if(a.remeasure&&B>0){V=s.measureText(oe);const K=V.width*1e3/i*o;if(B<K&&this.isFontSubpixelAAEnabled){const le=B/K;Q=!0,s.save(),s.scale(le,1),Ne/=le}else B!==K&&(Ne+=(B-K)/2e3*i/o)}if(this.contentVisible&&(pe.isInFont||a.missingFile)){if(A&&!ce)s.fillText(oe,Ne,ne),(re=this.dependencyTracker)==null||re.recordCharacterBBox(e,s,V?{bbox:null}:a,i/o,Ne,ne,()=>V??s.measureText(oe));else if(this.paintChar(e,oe,Ne,ne,S,N),ce){const K=Ne+i*ce.offset.x/o,le=ne-i*ce.offset.y/o;this.paintChar(e,ce.fontChar,K,le,S,N)}}const Y=g?B*w-X*h:B*w+X*h;H+=Y,Q&&s.restore()}g?n.y-=H:n.x+=H*f,s.restore(),this.compose(),(Z=this.dependencyTracker)==null||Z.recordShowTextOperation(e)}showType3Text(e,r){const n=this.ctx,a=this.current,i=a.font,s=a.fontSize,o=a.fontDirection,l=i.vertical?1:-1,u=a.charSpacing,h=a.wordSpacing,f=a.textHScale*o,m=a.fontMatrix||vI,g=r.length,b=a.textRenderingMode===lo.INVISIBLE;let y,w,A,S;if(b||s===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),a.textMatrix&&n.transform(...a.textMatrix),n.translate(a.x,a.y+a.textRise),n.scale(f,o);const N=this.dependencyTracker;for(this.dependencyTracker=N?new yj(N,e):null,y=0;y<g;++y){if(w=r[y],typeof w=="number"){S=l*w*s/1e3,this.ctx.translate(S,0),a.x+=S*f;continue}const T=(w.isSpace?h:0)+u,k=i.charProcOperatorList[w.operatorListId];k?this.contentVisible&&(this.save(),n.scale(s,s),n.transform(...m),this.executeOperatorList(k),this.restore()):on(`Type3 character "${w.operatorListId}" is not available.`);const R=[w.width,0];wr.applyTransform(R,m),A=R[0]*s+T,n.translate(A,0),a.x+=A*f}n.restore(),N&&(this.dependencyTracker=N)}setCharWidth(e,r,n){}setCharWidthAndBounds(e,r,n,a,i,s,o){var u;const l=new Path2D;l.rect(a,i,s-a,o-i),this.ctx.clip(l),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,a,s,i,o).recordClipBox(e,this.ctx,a,s,i,o),this.endPath(e)}getColorN_Pattern(e,r){let n;if(r[0]==="TilingPattern"){const a=this.baseTransform||zi(this.ctx),i={createCanvasGraphics:(s,o)=>new J9(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new yj(this.dependencyTracker,o,!0):null)};n=new YI(r,this.ctx,i,a)}else n=this._getPattern(e,r[1],r[2]);return n}setStrokeColorN(e,...r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,r),this.current.patternStroke=!0}setFillColorN(e,...r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,r),this.current.patternFill=!0}setStrokeRGBColor(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=r,this.current.patternStroke=!1}setStrokeTransparent(e){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,r){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=r,this.current.patternFill=!1}setFillTransparent(e){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,r,n=null){let a;return this.cachedPatterns.has(r)?a=this.cachedPatterns.get(r):(a=Fxe(this.getObject(e,r)),this.cachedPatterns.set(r,a)),n&&(a.matrix=n),a}shadingFill(e,r){var s;if(!this.contentVisible)return;const n=this.ctx;this.save(e);const a=this._getPattern(e,r);n.fillStyle=a.getPattern(n,this,Jf(n),wl.SHADING,e);const i=Jf(n);if(i){const{width:o,height:l}=n.canvas,u=t2.slice();wr.axialAlignedBoundingBox([0,0,o,l],i,u);const[h,f,m,g]=u;this.ctx.fillRect(h,f,m-h,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(s=this.dependencyTracker)==null||s.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Bd.transform).recordDependencies(e,Bd.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Ka("Should not call beginInlineImage")}beginImageData(){Ka("Should not call beginImageData")}paintFormXObjectBegin(e,r,n){var a;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),r&&this.transform(e,...r),this.baseTransform=zi(this.ctx),n)){wr.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[i,s,o,l]=n,u=new Path2D;u.rect(i,s,o-i,l-s),this.ctx.clip(u),(a=this.dependencyTracker)==null||a.recordClipBox(e,this.ctx,i,o,s,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,r){var N;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;r.isolated||Rk("TODO: Support non-isolated groups."),r.knockout&&on("Knockout groups not supported.");const a=zi(n);if(r.matrix&&n.transform(...r.matrix),!r.bbox)throw new Error("Bounding box is required.");let i=t2.slice();wr.axialAlignedBoundingBox(r.bbox,zi(n),i);const s=[0,0,n.canvas.width,n.canvas.height];i=wr.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),l=Math.floor(i[1]),u=Math.max(Math.ceil(i[2])-o,1),h=Math.max(Math.ceil(i[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,h]);let f="groupAt"+this.groupLevel;r.smask&&(f+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(f,u,h),g=m.context;g.translate(-o,-l),g.transform(...a);let b=new Path2D;const[y,w,A,S]=r.bbox;if(b.rect(y,w,A-y,S-w),r.matrix){const T=new Path2D;T.addPath(b,new DOMMatrix(r.matrix)),b=T}g.clip(b),r.smask&&this.smaskStack.push({canvas:m.canvas,context:g,offsetX:o,offsetY:l,subtype:r.smask.subtype,backdrop:r.smask.backdrop,transferMap:r.smask.transferMap||null,startTransformInverse:null}),(!r.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(o,l),n.save()),gA(n,g),this.ctx=g,(N=this.dependencyTracker)==null||N.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,r){var i;if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,(i=this.dependencyTracker)==null||i.popBaseTransform(),r.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=zi(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const o=t2.slice();wr.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],s,o),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,r,n,a,i,s){if(ue(this,wf,XI).call(this),gT(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const o=n[2]-n[0],l=n[3]-n[1];if(s&&this.annotationCanvasMap){a=a.slice(),a[4]-=n[0],a[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=o,n[3]=l,wr.singularValueDecompose2dScale(zi(this.ctx),ld);const{viewportScale:u}=this,h=Math.ceil(o*this.outputScaleX*u),f=Math.ceil(l*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:m,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(r,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(ld[0],0,0,-ld[1],0,l*ld[1]),gT(this.ctx)}else{gT(this.ctx),this.endPath(e);const u=new Path2D;u.rect(n[0],n[1],o,l),this.ctx.clip(u)}}this.current=new NV(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...a),this.transform(e,...i)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),ue(this,wf,JI).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,r){var o;if(!this.contentVisible)return;const n=r.count;r=this.getObject(e,r.data,r),r.count=n;const a=this.ctx,i=this._createMaskCanvas(e,r),s=i.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(s,i.offsetX,i.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,i.offsetX,i.offsetX+s.width,i.offsetY,i.offsetY+s.height).recordOperation(e),a.restore(),this.compose()}paintImageMaskXObjectRepeat(e,r,n,a=0,i=0,s,o){var f,m,g;if(!this.contentVisible)return;r=this.getObject(e,r.data,r);const l=this.ctx;l.save();const u=zi(l);l.transform(n,a,i,s,0,0);const h=this._createMaskCanvas(e,r);l.setTransform(1,0,0,1,h.offsetX-u[4],h.offsetY-u[5]),(f=this.dependencyTracker)==null||f.resetBBox(e);for(let b=0,y=o.length;b<y;b+=2){const w=wr.transform(u,[n,a,i,s,o[b],o[b+1]]);l.drawImage(h.canvas,w[4],w[5]),(m=this.dependencyTracker)==null||m.recordBBox(e,this.ctx,w[4],w[4]+h.canvas.width,w[5],w[5]+h.canvas.height)}l.restore(),this.compose(),(g=this.dependencyTracker)==null||g.recordOperation(e)}paintImageMaskXObjectGroup(e,r){var s,o,l;if(!this.contentVisible)return;const n=this.ctx,a=this.current.fillColor,i=this.current.patternFill;(s=this.dependencyTracker)==null||s.resetBBox(e).recordDependencies(e,Bd.transformAndFill);for(const u of r){const{data:h,width:f,height:m,transform:g}=u,b=this.cachedCanvases.getCanvas("maskCanvas",f,m),y=b.context;y.save();const w=this.getObject(e,h,u);TV(y,w),y.globalCompositeOperation="source-in",y.fillStyle=i?a.getPattern(y,this,Jf(n),wl.FILL,e):a,y.fillRect(0,0,f,m),y.restore(),n.save(),n.transform(...g),n.scale(1,-1),mT(n,b.canvas,0,0,f,m,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,n,0,f,0,m),n.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,r){if(!this.contentVisible)return;const n=this.getObject(e,r);if(!n){on("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,r,n,a,i){if(!this.contentVisible)return;const s=this.getObject(e,r);if(!s){on("Dependent image isn't ready yet");return}const o=s.width,l=s.height,u=[];for(let h=0,f=i.length;h<f;h+=2)u.push({transform:[n,0,0,a,i[h],i[h+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,s,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:r,width:n,height:a}=e,i=this.cachedCanvases.getCanvas("inlineImage",n,a),s=i.context;return s.filter=this.current.transferMaps,s.drawImage(r,0,0),s.filter="none",i.canvas}paintInlineImageXObject(e,r){var u;if(!this.contentVisible)return;const n=r.width,a=r.height,i=this.ctx;this.save(e);const{filter:s}=i;s!=="none"&&s!==""&&(i.filter="none"),i.scale(1/n,-1/a);let o;if(r.bitmap)o=this.applyTransferMapsToBitmap(r);else if(typeof HTMLElement=="function"&&r instanceof HTMLElement||!r.data)o=r;else{const f=this.cachedCanvases.getCanvas("inlineImage",n,a).context;EV(f,r),o=this.applyTransferMapsToCanvas(f)}const l=this._scaleImage(o,Jf(i));i.imageSmoothingEnabled=jV(zi(i),r.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,i,0,n,-a,0).recordDependencies(e,Bd.imageXObject).recordOperation(e),mT(i,l.img,0,0,l.paintWidth,l.paintHeight,0,-a,n,a),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,r,n){var s,o,l;if(!this.contentVisible)return;const a=this.ctx;let i;if(r.bitmap)i=r.bitmap;else{const u=r.width,h=r.height,m=this.cachedCanvases.getCanvas("inlineImage",u,h).context;EV(m,r),i=this.applyTransferMapsToCanvas(m)}(s=this.dependencyTracker)==null||s.resetBBox(e);for(const u of n)a.save(),a.transform(...u.transform),a.scale(1,-1),mT(a,i,u.x,u.y,u.w,u.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,a,0,1,-1,0),a.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var r;this.contentVisible&&((r=this.dependencyTracker)==null||r.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Bd.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,r){}markPointProps(e,r,n){}beginMarkedContent(e,r){var n;(n=this.dependencyTracker)==null||n.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,r,n){var a;(a=this.dependencyTracker)==null||a.beginMarkedContent(e),r==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var r;(r=this.dependencyTracker)==null||r.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,r,n){var s,o;const a=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const i=this.ctx;this.pendingClip?(a||(this.pendingClip===CV?i.clip(r,"evenodd"):i.clip(r)),this.pendingClip=null,(s=this.dependencyTracker)==null||s.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=zi(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const r=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),a=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,a)/r}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:r,b:n,c:a,d:i}=this.ctx.getTransform();let s,o;if(n===0&&a===0){const l=Math.abs(r),u=Math.abs(i);if(l===u)if(e===0)s=o=1/l;else{const h=l*e;s=o=h<1?1/h:1}else if(e===0)s=1/l,o=1/u;else{const h=l*e,f=u*e;s=h<1?1/h:1,o=f<1?1/f:1}}else{const l=Math.abs(r*i-n*a),u=Math.hypot(r,n),h=Math.hypot(a,i);if(e===0)s=h/l,o=u/l;else{const f=e*l;s=h>f?h/f:1,o=u>f?u/f:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,r){const{ctx:n,current:{lineWidth:a}}=this,[i,s]=this.getScaleForStroking();if(i===s){n.lineWidth=(a||1)*i,n.stroke(e);return}const o=n.getLineDash();r&&n.save(),n.scale(i,s),P6.a=1/i,P6.d=1/s;const l=new Path2D;if(l.addPath(e,P6),o.length>0){const u=Math.max(i,s);n.setLineDash(o.map(h=>h/u)),n.lineDashOffset/=u}n.lineWidth=a||1,n.stroke(l),r&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};wf=new WeakSet,XI=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},JI=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const r=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=r}}},ZI=function(e,r,n){const a=new Path2D;return a.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(r)),a};let v2=J9;for(const t in F_)v2.prototype[t]!==void 0&&(v2.prototype[F_[t]]=v2.prototype[t]);var sN,oN;class k0{static get workerPort(){return v(this,sN)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");J(this,sN,e)}static get workerSrc(){return v(this,oN)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");J(this,oN,e)}}sN=new WeakMap,oN=new WeakMap,ie(k0,sN,null),ie(k0,oN,"");var uw,lN;class Gxe{constructor({parsedData:e,rawData:r}){ie(this,uw);ie(this,lN);J(this,uw,e),J(this,lN,r)}getRaw(){return v(this,lN)}get(e){return v(this,uw).get(e)??null}[Symbol.iterator](){return v(this,uw).entries()}}uw=new WeakMap,lN=new WeakMap;const qb=Symbol("INTERNAL");var cN,uN,dN,dw;class Wxe{constructor(e,{name:r,intent:n,usage:a,rbGroups:i}){ie(this,cN,!1);ie(this,uN,!1);ie(this,dN,!1);ie(this,dw,!0);J(this,cN,!!(e&sd.DISPLAY)),J(this,uN,!!(e&sd.PRINT)),this.name=r,this.intent=n,this.usage=a,this.rbGroups=i}get visible(){if(v(this,dN))return v(this,dw);if(!v(this,dw))return!1;const{print:e,view:r}=this.usage;return v(this,cN)?(r==null?void 0:r.viewState)!=="OFF":v(this,uN)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,r,n=!1){e!==qb&&Ka("Internal method `_setVisible` called."),J(this,dN,n),J(this,dw,r)}}cN=new WeakMap,uN=new WeakMap,dN=new WeakMap,dw=new WeakMap;var tx,Ia,hw,fw,hN,QI;class Kxe{constructor(e,r=sd.DISPLAY){ie(this,hN);ie(this,tx,null);ie(this,Ia,new Map);ie(this,hw,null);ie(this,fw,null);if(this.renderingIntent=r,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,J(this,fw,e.order);for(const n of e.groups)v(this,Ia).set(n.id,new Wxe(r,n));if(e.baseState==="OFF")for(const n of v(this,Ia).values())n._setVisible(qb,!1);for(const n of e.on)v(this,Ia).get(n)._setVisible(qb,!0);for(const n of e.off)v(this,Ia).get(n)._setVisible(qb,!1);J(this,hw,this.getHash())}}isVisible(e){if(v(this,Ia).size===0)return!0;if(!e)return Rk("Optional content group not defined."),!0;if(e.type==="OCG")return v(this,Ia).has(e.id)?v(this,Ia).get(e.id).visible:(on(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return ue(this,hN,QI).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const r of e.ids){if(!v(this,Ia).has(r))return on(`Optional content group not found: ${r}`),!0;if(v(this,Ia).get(r).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const r of e.ids){if(!v(this,Ia).has(r))return on(`Optional content group not found: ${r}`),!0;if(!v(this,Ia).get(r).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const r of e.ids){if(!v(this,Ia).has(r))return on(`Optional content group not found: ${r}`),!0;if(!v(this,Ia).get(r).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const r of e.ids){if(!v(this,Ia).has(r))return on(`Optional content group not found: ${r}`),!0;if(v(this,Ia).get(r).visible)return!1}return!0}return on(`Unknown optional content policy ${e.policy}.`),!0}return on(`Unknown group type ${e.type}.`),!0}setVisibility(e,r=!0,n=!0){var i;const a=v(this,Ia).get(e);if(!a){on(`Optional content group not found: ${e}`);return}if(n&&r&&a.rbGroups.length)for(const s of a.rbGroups)for(const o of s)o!==e&&((i=v(this,Ia).get(o))==null||i._setVisible(qb,!1,!0));a._setVisible(qb,!!r,!0),J(this,tx,null)}setOCGState({state:e,preserveRB:r}){let n;for(const a of e){switch(a){case"ON":case"OFF":case"Toggle":n=a;continue}const i=v(this,Ia).get(a);if(i)switch(n){case"ON":this.setVisibility(a,!0,r);break;case"OFF":this.setVisibility(a,!1,r);break;case"Toggle":this.setVisibility(a,!i.visible,r);break}}J(this,tx,null)}get hasInitialVisibility(){return v(this,hw)===null||this.getHash()===v(this,hw)}getOrder(){return v(this,Ia).size?v(this,fw)?v(this,fw).slice():[...v(this,Ia).keys()]:null}getGroup(e){return v(this,Ia).get(e)||null}getHash(){if(v(this,tx)!==null)return v(this,tx);const e=new OQ;for(const[r,n]of v(this,Ia))e.update(`${r}:${n.visible}`);return J(this,tx,e.hexdigest())}[Symbol.iterator](){return v(this,Ia).entries()}}tx=new WeakMap,Ia=new WeakMap,hw=new WeakMap,fw=new WeakMap,hN=new WeakSet,QI=function(e){const r=e.length;if(r<2)return!0;const n=e[0];for(let a=1;a<r;a++){const i=e[a];let s;if(Array.isArray(i))s=ue(this,hN,QI).call(this,i);else if(v(this,Ia).has(i))s=v(this,Ia).get(i).visible;else return on(`Optional content group not found: ${i}`),!0;switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return n==="And"};class Yxe{constructor(e,{disableRange:r=!1,disableStream:n=!1}){zn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:i,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,(i==null?void 0:i.length)>0){const l=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!r,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:r}){const n=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const a=this._rangeReaders.some(function(i){return i._begin!==e?!1:(i._enqueue(n),!0)});zn(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var r,n,a,i;e.total===void 0?(n=(r=this._rangeReaders[0])==null?void 0:r.onProgress)==null||n.call(r,{loaded:e.loaded}):(i=(a=this._fullRequestReader)==null?void 0:a.onProgress)==null||i.call(a,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const r=this._rangeReaders.indexOf(e);r>=0&&this._rangeReaders.splice(r,1)}getFullReader(){zn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Xxe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new Jxe(this,e,r);return this._pdfDataRangeTransport.requestDataRange(e,r),this._rangeReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class Xxe{constructor(e,r,n=!1,a=null){this._stream=e,this._done=n||!1,this._filename=IF(a)?a:null,this._queuedChunks=r||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Jxe{constructor(e,r,n){this._stream=e,this._begin=r,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Zxe(t){let e=!0,r=n("filename\\*","i").exec(t);if(r){r=r[1];let h=o(r);return h=unescape(h),h=l(h),h=u(h),i(h)}if(r=s(t),r){const h=u(r);return i(h)}if(r=n("filename","i").exec(t),r){r=r[1];let h=o(r);return h=u(h),i(h)}function n(h,f){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function a(h,f){if(h){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const m=new TextDecoder(h,{fatal:!0}),g=SE(f);f=m.decode(g),e=!1}catch{}}return f}function i(h){return e&&/[\x80-\xff]/.test(h)&&(h=a("utf-8",h),e&&(h=a("iso-8859-1",h))),h}function s(h){const f=[];let m;const g=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=g.exec(h))!==null;){let[,y,w,A]=m;if(y=parseInt(y,10),y in f){if(y===0)break;continue}f[y]=[w,A]}const b=[];for(let y=0;y<f.length&&y in f;++y){let[w,A]=f[y];A=o(A),w&&(A=unescape(A),y===0&&(A=l(A))),b.push(A)}return b.join("")}function o(h){if(h.startsWith('"')){const f=h.slice(1).split('\\"');for(let m=0;m<f.length;++m){const g=f[m].indexOf('"');g!==-1&&(f[m]=f[m].slice(0,g),f.length=m+1),f[m]=f[m].replaceAll(/\\(.)/g,"$1")}h=f.join('"')}return h}function l(h){const f=h.indexOf("'");if(f===-1)return h;const m=h.slice(0,f),b=h.slice(f+1).replace(/^[^']*'/,"");return a(m,b)}function u(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,m,g,b){if(g==="q"||g==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,w){return String.fromCharCode(parseInt(w,16))}),a(m,b);try{b=atob(b)}catch{}return a(m,b)})}return""}function HQ(t,e){const r=new Headers;if(!t||!e||typeof e!="object")return r;for(const n in e){const a=e[n];a!==void 0&&r.append(n,a)}return r}function Lk(t){var e;return((e=URL.parse(t))==null?void 0:e.origin)??null}function qQ({responseHeaders:t,isHttp:e,rangeChunkSize:r,disableRange:n}){const a={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(t.get("Content-Length"),10);return!Number.isInteger(i)||(a.suggestedLength=i,i<=2*r)||n||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function GQ(t){const e=t.get("Content-Disposition");if(e){let r=Zxe(e);if(r.includes("%"))try{r=decodeURIComponent(r)}catch{}if(IF(r))return r}return null}function CE(t,e){return new fj(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function WQ(t){return t===200||t===206}function KQ(t,e,r){return{method:"GET",headers:t,signal:r.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function YQ(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(on(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class Qxe{constructor(e){tr(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=HQ(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return zn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new eve(this),this._fullRequestReader}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new tve(this,e,r);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class eve{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const r=e.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange;const n=new Headers(e.headers),a=r.url;fetch(a,KQ(n,this._withCredentials,this._abortController)).then(i=>{if(e._responseOrigin=Lk(i.url),!WQ(i.status))throw CE(i.status,a);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=i.headers,{allowRangeRequests:o,suggestedLength:l}=qQ({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=GQ(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Mx("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:r}=await this._reader.read();return r?{value:e,done:r}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:YQ(e),done:!1})}cancel(e){var r;(r=this._reader)==null||r.cancel(e),this._abortController.abort()}}class tve{constructor(e,r,n){this._stream=e,this._reader=null,this._loaded=0;const a=e.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range",`bytes=${r}-${n-1}`);const s=a.url;fetch(s,KQ(i,this._withCredentials,this._abortController)).then(o=>{const l=Lk(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!WQ(o.status))throw CE(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:r}=await this._reader.read();return r?{value:e,done:r}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:YQ(e),done:!1})}cancel(e){var r;(r=this._reader)==null||r.cancel(e),this._abortController.abort()}}const O6=200,D6=206;function rve(t){const e=t.response;return typeof e!="string"?e:SE(e).buffer}class nve{constructor({url:e,httpHeaders:r,withCredentials:n}){tr(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=HQ(this.isHttp,r),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const r=new XMLHttpRequest,n=this.currXhrId++,a=this.pendingRequests[n]={xhr:r};r.open("GET",this.url),r.withCredentials=this.withCredentials;for(const[i,s]of this.headers)r.setRequestHeader(i,s);return this.isHttp&&"begin"in e&&"end"in e?(r.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),a.expectedStatus=D6):a.expectedStatus=O6,r.responseType="arraybuffer",zn(e.onError,"Expected `onError` callback to be provided."),r.onerror=()=>{e.onError(r.status)},r.onreadystatechange=this.onStateChange.bind(this,n),r.onprogress=this.onProgress.bind(this,n),a.onHeadersReceived=e.onHeadersReceived,a.onDone=e.onDone,a.onError=e.onError,a.onProgress=e.onProgress,r.send(null),n}onProgress(e,r){var a;const n=this.pendingRequests[e];n&&((a=n.onProgress)==null||a.call(n,r))}onStateChange(e,r){const n=this.pendingRequests[e];if(!n)return;const a=n.xhr;if(a.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),a.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],a.status===0&&this.isHttp){n.onError(a.status);return}const i=a.status||O6;if(!(i===O6&&n.expectedStatus===D6)&&i!==n.expectedStatus){n.onError(a.status);return}const o=rve(a);if(i===D6){const l=a.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?n.onDone({begin:parseInt(u[1],10),chunk:o}):(on('Missing or invalid "Content-Range" header.'),n.onError(0))}else o?n.onDone({begin:0,chunk:o}):n.onError(a.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const r=this.pendingRequests[e].xhr;delete this.pendingRequests[e],r.abort()}}class ave{constructor(e){this._source=e,this._manager=new nve(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const r=this._rangeRequestReaders.indexOf(e);r>=0&&this._rangeRequestReaders.splice(r,1)}getFullReader(){return zn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ive(this._manager,this._source),this._fullRequestReader}getRangeReader(e,r){const n=new sve(this._manager,e,r);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class ive{constructor(e,r){this._manager=e,this._url=r.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._contentLength=r.length,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,r=this._manager.getRequestXhr(e);this._manager._responseOrigin=Lk(r.responseURL);const n=r.getAllResponseHeaders(),a=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...u]=o.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:s}=qQ({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=GQ(a),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=CE(e,this._url),this._headersCapability.reject(this._storedError);for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var r;(r=this.onProgress)==null||r.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class sve{constructor(e,r,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:r,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var r;const e=Lk((r=this._manager.getRequestXhr(this._requestId))==null?void 0:r.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const r=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunk=r,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=CE(e,this._url));for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var r;this.isStreamingSupported||(r=this.onProgress)==null||r.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ove=/^[a-z][a-z0-9\-+.]+:/i;function lve(t){if(ove.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class cve{constructor(e){this.source=e,this.url=lve(e.url),zn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return zn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new uve(this),this._fullRequestReader}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new dve(this,e,r);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class uve{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const r=e.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=CE(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",r=>{this._error(r)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Mx("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class dve{constructor(e,r,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=e.source;this._isStreamingSupported=!a.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:r,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",r=>{this._error(r)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const xA=Symbol("INITIAL_DATA");var qu,fN,eL;class XQ{constructor(){ie(this,fN);ie(this,qu,Object.create(null))}get(e,r=null){if(r){const a=ue(this,fN,eL).call(this,e);return a.promise.then(()=>r(a.data)),null}const n=v(this,qu)[e];if(!n||n.data===xA)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const r=v(this,qu)[e];return!!r&&r.data!==xA}delete(e){const r=v(this,qu)[e];return!r||r.data===xA?!1:(delete v(this,qu)[e],!0)}resolve(e,r=null){const n=ue(this,fN,eL).call(this,e);n.data=r,n.resolve()}clear(){var e;for(const r in v(this,qu)){const{data:n}=v(this,qu)[r];(e=n==null?void 0:n.bitmap)==null||e.close()}J(this,qu,Object.create(null))}*[Symbol.iterator](){for(const e in v(this,qu)){const{data:r}=v(this,qu)[e];r!==xA&&(yield[e,r])}}}qu=new WeakMap,fN=new WeakSet,eL=function(e){var r;return(r=v(this,qu))[e]||(r[e]={...Promise.withResolvers(),data:xA})};const hve=1e5,kV=30;var KX,rx,Gu,pN,mN,x1,Vp,gN,xN,v1,vN,pw,nx,mw,yN,gw,y1,bN,wN,xw,b1,AN,vw,yw,Fm,JQ,ZQ,tL,yd,A3,rL,QQ,eee;const ul=class ul{constructor({textContentSource:e,container:r,viewport:n}){ie(this,Fm);ie(this,rx,Promise.withResolvers());ie(this,Gu,null);ie(this,pN,!1);ie(this,mN,!!((KX=globalThis.FontInspector)!=null&&KX.enabled));ie(this,x1,null);ie(this,Vp,null);ie(this,gN,0);ie(this,xN,0);ie(this,v1,null);ie(this,vN,null);ie(this,pw,0);ie(this,nx,0);ie(this,mw,Object.create(null));ie(this,yN,[]);ie(this,gw,null);ie(this,y1,[]);ie(this,bN,new WeakMap);ie(this,wN,null);var l;if(e instanceof ReadableStream)J(this,gw,e);else if(typeof e=="object")J(this,gw,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');J(this,Gu,J(this,vN,r)),J(this,nx,n.scale*U0.pixelRatio),J(this,pw,n.rotation),J(this,Vp,{div:null,properties:null,ctx:null});const{pageWidth:a,pageHeight:i,pageX:s,pageY:o}=n.rawDims;J(this,wN,[1,0,0,-1,-s,o+i]),J(this,xN,a),J(this,gN,i),ue(l=ul,yd,QQ).call(l),r.style.setProperty("--min-font-size",v(ul,vw)),wy(r,n),v(this,rx).promise.finally(()=>{v(ul,yw).delete(this),J(this,Vp,null),J(this,mw,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:r}=bo.platform;return ln(this,"fontFamilyMap",new Map([["sans-serif",`${e&&r?"Calibri, ":""}sans-serif`],["monospace",`${e&&r?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{v(this,v1).read().then(({value:r,done:n})=>{if(n){v(this,rx).resolve();return}v(this,x1)??J(this,x1,r.lang),Object.assign(v(this,mw),r.styles),ue(this,Fm,JQ).call(this,r.items),e()},v(this,rx).reject)};return J(this,v1,v(this,gw).getReader()),v(ul,yw).add(this),e(),v(this,rx).promise}update({viewport:e,onBefore:r=null}){var i;const n=e.scale*U0.pixelRatio,a=e.rotation;if(a!==v(this,pw)&&(r==null||r(),J(this,pw,a),wy(v(this,vN),{rotation:a})),n!==v(this,nx)){r==null||r(),J(this,nx,n);const s={div:null,properties:null,ctx:ue(i=ul,yd,A3).call(i,v(this,x1))};for(const o of v(this,y1))s.properties=v(this,bN).get(o),s.div=o,ue(this,Fm,tL).call(this,s)}}cancel(){var r;const e=new Mx("TextLayer task cancelled.");(r=v(this,v1))==null||r.cancel(e).catch(()=>{}),J(this,v1,null),v(this,rx).reject(e)}get textDivs(){return v(this,y1)}get textContentItemsStr(){return v(this,yN)}static cleanup(){if(!(v(this,yw).size>0)){v(this,xw).clear();for(const{canvas:e}of v(this,b1).values())e.remove();v(this,b1).clear()}}};rx=new WeakMap,Gu=new WeakMap,pN=new WeakMap,mN=new WeakMap,x1=new WeakMap,Vp=new WeakMap,gN=new WeakMap,xN=new WeakMap,v1=new WeakMap,vN=new WeakMap,pw=new WeakMap,nx=new WeakMap,mw=new WeakMap,yN=new WeakMap,gw=new WeakMap,y1=new WeakMap,bN=new WeakMap,wN=new WeakMap,xw=new WeakMap,b1=new WeakMap,AN=new WeakMap,vw=new WeakMap,yw=new WeakMap,Fm=new WeakSet,JQ=function(e){var a,i;if(v(this,pN))return;(i=v(this,Vp)).ctx??(i.ctx=ue(a=ul,yd,A3).call(a,v(this,x1)));const r=v(this,y1),n=v(this,yN);for(const s of e){if(r.length>hve){on("Ignoring additional textDivs for performance reasons."),J(this,pN,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=v(this,Gu);J(this,Gu,document.createElement("span")),v(this,Gu).classList.add("markedContent"),s.id&&v(this,Gu).setAttribute("id",`${s.id}`),o.append(v(this,Gu))}else s.type==="endMarkedContent"&&J(this,Gu,v(this,Gu).parentNode);continue}n.push(s.str),ue(this,Fm,ZQ).call(this,s)}},ZQ=function(e){var b;const r=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};v(this,y1).push(r);const a=wr.transform(v(this,wN),e.transform);let i=Math.atan2(a[1],a[0]);const s=v(this,mw)[e.fontName];s.vertical&&(i+=Math.PI/2);let o=v(this,mN)&&s.fontSubstitution||s.fontFamily;o=ul.fontFamilyMap.get(o)||o;const l=Math.hypot(a[2],a[3]),u=l*ue(b=ul,yd,eee).call(b,o,s,v(this,x1));let h,f;i===0?(h=a[4],f=a[5]-u):(h=a[4]+u*Math.sin(i),f=a[5]-u*Math.cos(i));const m=r.style;m.left=`${(100*h/v(this,xN)).toFixed(2)}%`,m.top=`${(100*f/v(this,gN)).toFixed(2)}%`,m.setProperty("--font-height",`${l.toFixed(2)}px`),m.fontFamily=o,n.fontSize=l,r.setAttribute("role","presentation"),r.textContent=e.str,r.dir=e.dir,v(this,mN)&&(r.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),i!==0&&(n.angle=i*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const y=Math.abs(e.transform[0]),w=Math.abs(e.transform[3]);y!==w&&Math.max(y,w)/Math.min(y,w)>1.5&&(g=!0)}if(g&&(n.canvasWidth=s.vertical?e.height:e.width),v(this,bN).set(r,n),v(this,Vp).div=r,v(this,Vp).properties=n,ue(this,Fm,tL).call(this,v(this,Vp)),n.hasText&&v(this,Gu).append(r),n.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),v(this,Gu).append(y)}},tL=function(e){var s;const{div:r,properties:n,ctx:a}=e,{style:i}=r;if(n.canvasWidth!==0&&n.hasText){const{fontFamily:o}=i,{canvasWidth:l,fontSize:u}=n;ue(s=ul,yd,rL).call(s,a,u*v(this,nx),o);const{width:h}=a.measureText(r.textContent);h>0&&i.setProperty("--scale-x",l*v(this,nx)/h)}n.angle!==0&&i.setProperty("--rotate",`${n.angle}deg`)},yd=new WeakSet,A3=function(e=null){let r=v(this,b1).get(e||(e=""));if(!r){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),r=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),v(this,b1).set(e,r),v(this,AN).set(r,{size:0,family:""})}return r},rL=function(e,r,n){const a=v(this,AN).get(e);r===a.size&&n===a.family||(e.font=`${r}px ${n}`,a.size=r,a.family=n)},QQ=function(){if(v(this,vw)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),J(this,vw,e.getBoundingClientRect().height),e.remove()},eee=function(e,r,n){const a=v(this,xw).get(e);if(a)return a;const i=ue(this,yd,A3).call(this,n);i.canvas.width=i.canvas.height=kV,ue(this,yd,rL).call(this,i,kV,e);const s=i.measureText(""),o=s.fontBoundingBoxAscent,l=Math.abs(s.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let u=.8;return o?u=o/(o+l):(bo.platform.isFirefox&&on("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),r.ascent?u=r.ascent:r.descent&&(u=1+r.descent)),v(this,xw).set(e,u),u},ie(ul,yd),ie(ul,xw,new Map),ie(ul,b1,new Map),ie(ul,AN,new WeakMap),ie(ul,vw,null),ie(ul,yw,new Set);let U_=ul;const fve=100;function tee(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new nL,{docId:r}=e,n=t.url?bxe(t.url):null,a=t.data?wxe(t.data):null,i=t.httpHeaders||null,s=t.withCredentials===!0,o=t.password??null,l=t.range instanceof ree?t.range:null,u=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let h=t.worker instanceof z_?t.worker:null;const f=t.verbosity,m=typeof t.docBaseUrl=="string"&&!Ik(t.docBaseUrl)?t.docBaseUrl:null,g=dT(t.cMapUrl),b=t.cMapPacked!==!1,y=t.CMapReaderFactory||(Tc?Cxe:gV),w=dT(t.iccUrl),A=dT(t.standardFontDataUrl),S=t.StandardFontDataFactory||(Tc?kxe:xV),N=dT(t.wasmUrl),T=t.WasmFactory||(Tc?Pxe:vV),k=t.stopAtErrors!==!0,R=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,O=t.isEvalSupported!==!1,U=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Tc,H=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!Tc&&(bo.platform.isFirefox||!globalThis.chrome),G=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,F=typeof t.disableFontFace=="boolean"?t.disableFontFace:Tc,L=t.fontExtraProperties===!0,re=t.enableXfa===!0,Z=t.ownerDocument||globalThis.document,pe=t.disableRange===!0,Q=t.disableStream===!0,X=t.disableAutoFetch===!0,oe=t.pdfBug===!0,ce=t.CanvasFactory||(Tc?jxe:Nxe),Ne=t.FilterFactory||(Tc?Txe:Exe),ne=t.enableHWA===!0,B=t.useWasm!==!1,V=l?l.length:t.length??NaN,Y=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Tc&&!F,K=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(y===gV&&S===xV&&T===vV&&g&&A&&N&&BA(g,document.baseURI)&&BA(A,document.baseURI)&&BA(N,document.baseURI)),le=null;Wge(f);const Ae={canvasFactory:new ce({ownerDocument:Z,enableHWA:ne}),filterFactory:new Ne({docId:r,ownerDocument:Z}),cMapReaderFactory:K?null:new y({baseUrl:g,isCompressed:b}),standardFontDataFactory:K?null:new S({baseUrl:A}),wasmFactory:K?null:new T({baseUrl:N})};h||(h=z_.create({verbosity:f,port:k0.workerPort}),e._worker=h);const De={docId:r,apiVersion:"5.4.530",data:a,password:o,disableAutoFetch:X,rangeChunkSize:u,length:V,docBaseUrl:m,enableXfa:re,evaluatorOptions:{maxImageSize:R,disableFontFace:F,ignoreErrors:k,isEvalSupported:O,isOffscreenCanvasSupported:U,isImageDecoderSupported:H,canvasMaxAreaInBytes:G,fontExtraProperties:L,useSystemFonts:Y,useWasm:B,useWorkerFetch:K,cMapUrl:g,iccUrl:w,standardFontDataUrl:A,wasmUrl:N}},de={ownerDocument:Z,pdfBug:oe,styleElement:le,loadingParams:{disableAutoFetch:X,enableXfa:re}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Le=h.messageHandler.sendWithPromise("GetDocRequest",De,a?[a.buffer]:null);let Ge;if(l)Ge=new Yxe(l,{disableRange:pe,disableStream:Q});else if(!a){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Re=BA(n)?Qxe:Tc?cve:ave;Ge=new Re({url:n,length:V,httpHeaders:i,withCredentials:s,rangeChunkSize:u,disableRange:pe,disableStream:Q})}return Le.then(Re=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const wt=new WA(r,Re,h.port),St=new gve(wt,e,Ge,de,Ae,ne);e._transport=St,wt.send("Ready",null)})}).catch(e._capability.reject),e}var ek;const tk=class tk{constructor(){tr(this,"_capability",Promise.withResolvers());tr(this,"_transport",null);tr(this,"_worker",null);tr(this,"docId",`d${so(tk,ek)._++}`);tr(this,"destroyed",!1);tr(this,"onPassword",null);tr(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,r,n,a;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((r=this._transport)==null?void 0:r.destroy())}catch(i){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,i}this._transport=null,(a=this._worker)==null||a.destroy(),this._worker=null}async getData(){return this._transport.getData()}};ek=new WeakMap,ie(tk,ek,0);let nL=tk;var w1,_N,SN,NN,EN;class ree{constructor(e,r,n=!1,a=null){ie(this,w1,Promise.withResolvers());ie(this,_N,[]);ie(this,SN,[]);ie(this,NN,[]);ie(this,EN,[]);this.length=e,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=a}addRangeListener(e){v(this,EN).push(e)}addProgressListener(e){v(this,NN).push(e)}addProgressiveReadListener(e){v(this,SN).push(e)}addProgressiveDoneListener(e){v(this,_N).push(e)}onDataRange(e,r){for(const n of v(this,EN))n(e,r)}onDataProgress(e,r){v(this,w1).promise.then(()=>{for(const n of v(this,NN))n(e,r)})}onDataProgressiveRead(e){v(this,w1).promise.then(()=>{for(const r of v(this,SN))r(e)})}onDataProgressiveDone(){v(this,w1).promise.then(()=>{for(const e of v(this,_N))e()})}transportReady(){v(this,w1).resolve()}requestDataRange(e,r){Ka("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}w1=new WeakMap,_N=new WeakMap,SN=new WeakMap,NN=new WeakMap,EN=new WeakMap;class pve{constructor(e,r){this._pdfInfo=e,this._transport=r}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ln(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,r){return this._transport.getAnnotationsByType(e,r)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(r)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Hp,A1,ZA;class mve{constructor(e,r,n,a=!1){ie(this,A1);ie(this,Hp,!1);this._pageIndex=e,this._pageInfo=r,this._transport=n,this._stats=a?new cV:null,this._pdfBug=a,this.commonObjs=n.commonObjs,this.objs=new XQ,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:r=this.rotate,offsetX:n=0,offsetY:a=0,dontFlip:i=!1}={}){return new EE({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:r,offsetX:n,offsetY:a,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,r)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ln(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:r=e.canvas,viewport:n,intent:a="display",annotationMode:i=kg.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:h=null,printAnnotationStorage:f=null,isEditing:m=!1,recordOperations:g=!1,operationsFilter:b=null}){var H,G,F;(H=this._stats)==null||H.time("Overall");const y=this._transport.getRenderingIntent(a,i,f,m),{renderingIntent:w,cacheKey:A}=y;J(this,Hp,!1),l||(l=this._transport.getOptionalContentConfig(w));let S=this._intentStates.get(A);S||(S=Object.create(null),this._intentStates.set(A,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const N=!!(w&sd.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(G=this._stats)==null||G.time("Page Request"),this._pumpOperatorList(y));const T=!!(this._pdfBug&&((F=globalThis.StepperManager)!=null&&F.enabled)),k=!this.recordedBBoxes&&(g||T),R=L=>{var re,Z;if(S.renderTasks.delete(O),k){const pe=(re=O.gfx)==null?void 0:re.dependencyTracker.take();pe&&(O.stepper&&O.stepper.setOperatorBBoxes(pe,O.gfx.dependencyTracker.takeDebugMetadata()),g&&(this.recordedBBoxes=pe))}N&&J(this,Hp,!0),ue(this,A1,ZA).call(this),L?(O.capability.reject(L),this._abortOperatorList({intentState:S,reason:L instanceof Error?L:new Error(L)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Z=globalThis.Stats)!=null&&Z.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new aL({callback:R,params:{canvas:r,canvasContext:e,dependencyTracker:k?new Dxe(r,S.operatorList.length,T):null,viewport:n,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!N,pdfBug:this._pdfBug,pageColors:h,enableHWA:this._transport.enableHWA,operationsFilter:b});(S.renderTasks||(S.renderTasks=new Set)).add(O);const U=O.task;return Promise.all([S.displayReadyCapability.promise,l]).then(([L,re])=>{var Z;if(this.destroyed){R();return}if((Z=this._stats)==null||Z.time("Rendering"),!(re.renderingIntent&w))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:L,optionalContentConfig:re}),O.operatorListChanged()}).catch(R),U}getOperatorList({intent:e="display",annotationMode:r=kg.ENABLE,printAnnotationStorage:n=null,isEditing:a=!1}={}){var u;function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const s=this._transport.getRenderingIntent(e,r,n,a,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=i,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:r===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>B_.textContent(n));const r=this.streamTextContent(e);return new Promise(function(n,a){function i(){s.read().then(function({value:l,done:u}){if(u){n(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),i()},a)}const s=r.getReader(),o={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(const n of r.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),J(this,Hp,!1),Promise.all(e)}cleanup(e=!1){J(this,Hp,!0);const r=ue(this,A1,ZA).call(this);return e&&r&&this._stats&&(this._stats=new cV),r}_startRenderPage(e,r){var a,i;const n=this._intentStates.get(r);n&&((a=this._stats)==null||a.timeEnd("Page Request"),(i=n.displayReadyCapability)==null||i.resolve(e))}_renderPageChunk(e,r){for(let n=0,a=e.length;n<a;n++)r.operatorList.fnArray.push(e.fnArray[n]),r.operatorList.argsArray.push(e.argsArray[n]);r.operatorList.lastChunk=e.lastChunk,r.operatorList.separateAnnots=e.separateAnnots;for(const n of r.renderTasks)n.operatorListChanged();e.lastChunk&&ue(this,A1,ZA).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:r,annotationStorageSerializable:n,modifiedIds:a}){const{map:i,transfer:s}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:r,annotationStorage:i,modifiedIds:a},s).getReader(),u=this._intentStates.get(r);u.streamReader=l;const h=()=>{l.read().then(({value:f,done:m})=>{if(m){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,u),h())},f=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const m of u.renderTasks)m.operatorListChanged();ue(this,A1,ZA).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(f);else if(u.opListReadCapability)u.opListReadCapability.reject(f);else throw f}})};h()}_abortOperatorList({intentState:e,reason:r,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(r instanceof RF){let a=fve;r.extraDelay>0&&r.extraDelay<1e3&&(a+=r.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:r,force:!0})},a);return}}if(e.streamReader.cancel(new Mx(r.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[a,i]of this._intentStates)if(i===e){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}Hp=new WeakMap,A1=new WeakSet,ZA=function(){if(!v(this,Hp)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:r}of this._intentStates.values())if(e.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),J(this,Hp,!1),!0};var ax,ef,qp,_1,rk,S1,N1,Ic,_3,nee,aee,QA,bw,S3;const Si=class Si{constructor({name:e=null,port:r=null,verbosity:n=Kge()}={}){ie(this,Ic);ie(this,ax,Promise.withResolvers());ie(this,ef,null);ie(this,qp,null);ie(this,_1,null);if(this.name=e,this.destroyed=!1,this.verbosity=n,r){if(v(Si,N1).has(r))throw new Error("Cannot use more than one PDFWorker per port.");v(Si,N1).set(r,this),ue(this,Ic,nee).call(this,r)}else ue(this,Ic,aee).call(this)}get promise(){return v(this,ax).promise}get port(){return v(this,qp)}get messageHandler(){return v(this,ef)}destroy(){var e,r;this.destroyed=!0,(e=v(this,_1))==null||e.terminate(),J(this,_1,null),v(Si,N1).delete(v(this,qp)),J(this,qp,null),(r=v(this,ef))==null||r.destroy(),J(this,ef,null)}static create(e){const r=v(this,N1).get(e==null?void 0:e.port);if(r){if(r._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return r}return new Si(e)}static get workerSrc(){if(k0.workerSrc)return k0.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ln(this,"_setupFakeWorkerGlobal",(async()=>v(this,bw,S3)?v(this,bw,S3):(await import(this.workerSrc)).WorkerMessageHandler)())}};ax=new WeakMap,ef=new WeakMap,qp=new WeakMap,_1=new WeakMap,rk=new WeakMap,S1=new WeakMap,N1=new WeakMap,Ic=new WeakSet,_3=function(){v(this,ax).resolve(),v(this,ef).send("configure",{verbosity:this.verbosity})},nee=function(e){J(this,qp,e),J(this,ef,new WA("main","worker",e)),v(this,ef).on("ready",()=>{}),ue(this,Ic,_3).call(this)},aee=function(){if(v(Si,S1)||v(Si,bw,S3)){ue(this,Ic,QA).call(this);return}let{workerSrc:e}=Si;try{Si._isSameOrigin(window.location,e)||(e=Si._createCDNWrapper(new URL(e,window.location).href));const r=new Worker(e,{type:"module"}),n=new WA("main","worker",r),a=()=>{i.abort(),n.destroy(),r.terminate(),this.destroyed?v(this,ax).reject(new Error("Worker was destroyed")):ue(this,Ic,QA).call(this)},i=new AbortController;r.addEventListener("error",()=>{v(this,_1)||a()},{signal:i.signal}),n.on("test",o=>{if(i.abort(),this.destroyed||!o){a();return}J(this,ef,n),J(this,qp,r),J(this,_1,r),ue(this,Ic,_3).call(this)}),n.on("ready",o=>{if(i.abort(),this.destroyed){a();return}try{s()}catch{ue(this,Ic,QA).call(this)}});const s=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};s();return}catch{Rk("The worker has been disabled.")}ue(this,Ic,QA).call(this)},QA=function(){v(Si,S1)||(on("Setting up fake worker."),J(Si,S1,!0)),Si._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){v(this,ax).reject(new Error("Worker was destroyed"));return}const r=new Sxe;J(this,qp,r);const n=`fake${so(Si,rk)._++}`,a=new WA(n+"_worker",n,r);e.setup(a,r),J(this,ef,new WA(n,n+"_worker",r)),ue(this,Ic,_3).call(this)}).catch(e=>{v(this,ax).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},bw=new WeakSet,S3=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},ie(Si,bw),ie(Si,rk,0),ie(Si,S1,!1),ie(Si,N1,new WeakMap),Tc&&(J(Si,S1,!0),k0.workerSrc||(k0.workerSrc="./pdf.worker.mjs")),Si._isSameOrigin=(e,r)=>{const n=URL.parse(e);if(!(n!=null&&n.origin)||n.origin==="null")return!1;const a=new URL(r,n);return n.origin===a.origin},Si._createCDNWrapper=e=>{const r=`await import("${e}");`;return URL.createObjectURL(new Blob([r],{type:"text/javascript"}))},Si.fromPort=e=>{if(sxe("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Si.create(e)};let z_=Si;var Gp,y0,ww,Aw,Wp,E1,e_;class gve{constructor(e,r,n,a,i,s){ie(this,E1);ie(this,Gp,new Map);ie(this,y0,new Map);ie(this,ww,new Map);ie(this,Aw,new Map);ie(this,Wp,null);this.messageHandler=e,this.loadingTask=r,this.commonObjs=new XQ,this.fontLoader=new xxe({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=s,this.setupMessageHandler()}get annotationStorage(){return ln(this,"annotationStorage",new LF)}getRenderingIntent(e,r=kg.ENABLE,n=null,a=!1,i=!1){let s=sd.DISPLAY,o=UI;switch(e){case"any":s=sd.ANY;break;case"display":break;case"print":s=sd.PRINT;break;default:on(`getRenderingIntent - invalid intent: ${e}`)}const l=s&sd.PRINT&&n instanceof RQ?n:this.annotationStorage;switch(r){case kg.DISABLE:s+=sd.ANNOTATIONS_DISABLE;break;case kg.ENABLE:break;case kg.ENABLE_FORMS:s+=sd.ANNOTATIONS_FORMS;break;case kg.ENABLE_STORAGE:s+=sd.ANNOTATIONS_STORAGE,o=l.serializable;break;default:on(`getRenderingIntent - invalid annotationMode: ${r}`)}a&&(s+=sd.IS_EDITING),i&&(s+=sd.OPLIST);const{ids:u,hash:h}=l.modifiedIds,f=[s,o.hash,h];return{renderingIntent:s,cacheKey:f.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=v(this,Wp))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const a of v(this,y0).values())e.push(a._destroy());v(this,y0).clear(),v(this,ww).clear(),v(this,Aw).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return e.push(r),Promise.all(e).then(()=>{var a,i;this.commonObjs.clear(),this.fontLoader.clear(),v(this,Gp).clear(),this.filterFactory.destroy(),U_.cleanup(),(a=this._networkStream)==null||a.cancelAllRequests(new Mx("Worker was terminated.")),(i=this.messageHandler)==null||i.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:r}=this;e.on("GetReader",(n,a)=>{zn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},a.onPull=()=>{this._fullReader.read().then(function({value:i,done:s}){if(s){a.close();return}zn(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{a.error(i)})},a.onCancel=i=>{this._fullReader.cancel(i),a.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async n=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:i,contentLength:s}=this._fullReader;return(!a||!i)&&(this._lastProgress&&((o=r.onProgress)==null||o.call(r,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=r.onProgress)==null||u.call(r,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:a,isRangeSupported:i,contentLength:s}}),e.on("GetRangeReader",(n,a)=>{zn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(n.begin,n.end);if(!i){a.close();return}a.onPull=()=>{i.read().then(function({value:s,done:o}){if(o){a.close();return}zn(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{a.error(s)})},a.onCancel=s=>{i.cancel(s),a.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,r._capability.resolve(new pve(n,this))}),e.on("DocException",n=>{r._capability.reject(su(n))}),e.on("PasswordRequest",n=>{J(this,Wp,Promise.withResolvers());try{if(!r.onPassword)throw su(n);const a=i=>{i instanceof Error?v(this,Wp).reject(i):v(this,Wp).resolve({password:i})};r.onPassword(a,n.code)}catch(a){v(this,Wp).reject(a)}return v(this,Wp).promise}),e.on("DataLoaded",n=>{var a;(a=r.onProgress)==null||a.call(r,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;v(this,y0).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,a,i])=>{var s;if(this.destroyed||this.commonObjs.has(n))return null;switch(a){case"Font":if("error"in i){const m=i.error;on(`Error during font loading: ${m}`),this.commonObjs.resolve(n,m);break}const o=new zI(i),l=this._params.pdfBug&&((s=globalThis.FontInspector)!=null&&s.enabled)?(m,g)=>globalThis.FontInspector.fontAdded(m,g):null,u=new vxe(o,l,i.extra,i.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(n,u)});break;case"CopyLocalImage":const{imageRef:h}=i;zn(h,"The imageRef must be defined.");for(const m of v(this,y0).values())for(const[,g]of m.objs)if((g==null?void 0:g.ref)===h)return g.dataLen?(this.commonObjs.resolve(n,structuredClone(g)),g.dataLen):null;break;case"FontPath":this.commonObjs.resolve(n,new yxe(i));break;case"Image":this.commonObjs.resolve(n,i);break;case"Pattern":const f=new $I(i);this.commonObjs.resolve(n,f.getIR());break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),e.on("obj",([n,a,i,s])=>{var l;if(this.destroyed)return;const o=v(this,y0).get(a);if(!o.objs.has(n)){if(o._intentStates.size===0){(l=s==null?void 0:s.bitmap)==null||l.close();return}switch(i){case"Image":case"Pattern":o.objs.resolve(n,s);break;default:throw new Error(`Got unknown object type ${i}`)}}}),e.on("DocProgress",n=>{var a;this.destroyed||(a=r.onProgress)==null||a.call(r,{loaded:n.loaded,total:n.total})}),e.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[n.type];if(!a)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&on("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},r).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const r=e-1,n=v(this,ww).get(r);if(n)return n;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&v(this,Aw).set(i.refStr,e);const s=new mve(r,i,this,this._params.pdfBug);return v(this,y0).set(r,s),s});return v(this,ww).set(r,a),a}getPageIndex(e){return VI(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:r})}getFieldObjects(){return ue(this,E1,e_).call(this,"GetFieldObjects")}hasJSActions(){return ue(this,E1,e_).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,r){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:r})}getDocJSActions(){return ue(this,E1,e_).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return ue(this,E1,e_).call(this,"GetOptionalContentConfig").then(r=>new Kxe(r,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",r=v(this,Gp).get(e);if(r)return r;const n=this.messageHandler.sendWithPromise(e,null).then(a=>{var i,s;return{info:a[0],metadata:a[1]?new Gxe(a[1]):null,contentDispositionFilename:((i=this._fullReader)==null?void 0:i.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null,hasStructTree:a[2]}});return v(this,Gp).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const r of v(this,y0).values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),v(this,Gp).clear(),this.filterFactory.destroy(!0),U_.cleanup()}}cachedPageNumber(e){if(!VI(e))return null;const r=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return v(this,Aw).get(r)??null}}Gp=new WeakMap,y0=new WeakMap,ww=new WeakMap,Aw=new WeakMap,Wp=new WeakMap,E1=new WeakSet,e_=function(e,r=null){const n=v(this,Gp).get(e);if(n)return n;const a=this.messageHandler.sendWithPromise(e,r);return v(this,Gp).set(e,a),a};var ix;class xve{constructor(e){ie(this,ix,null);tr(this,"onContinue",null);tr(this,"onError",null);J(this,ix,e)}get promise(){return v(this,ix).capability.promise}cancel(e=0){v(this,ix).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=v(this,ix).operatorList;if(!e)return!1;const{annotationCanvasMap:r}=v(this,ix);return e.form||e.canvas&&(r==null?void 0:r.size)>0}}ix=new WeakMap;var sx,T1;const kv=class kv{constructor({callback:e,params:r,objs:n,commonObjs:a,annotationCanvasMap:i,operatorList:s,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:h=!1,pdfBug:f=!1,pageColors:m=null,enableHWA:g=!1,operationsFilter:b=null}){ie(this,sx,null);this.callback=e,this.params=r,this.objs=n,this.commonObjs=a,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=f,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new xve(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvas,this._canvasContext=r.canvas?null:r.canvasContext,this._enableHWA=g,this._dependencyTracker=r.dependencyTracker,this._operationsFilter=b}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:r}){var l,u;if(this.cancelled)return;if(this._canvas){if(v(kv,T1).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");v(kv,T1).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:a,background:i,dependencyTracker:s}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new v2(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:r},this.annotationCanvasMap,this.pageColors,s),this.gfx.beginDrawing({transform:a,viewport:n,transparency:e,background:i}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,r=0){var n,a,i;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),v(this,sx)&&(window.cancelAnimationFrame(v(this,sx)),J(this,sx,null)),v(kv,T1).delete(this._canvas),e||(e=new RF(`Rendering cancelled, page ${this._pageIndex+1}`,r)),this.callback(e),(i=(a=this.task).onError)==null||i.call(a,e)}operatorListChanged(){var e,r;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(r=this.stepper)==null||r.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?J(this,sx,window.requestAnimationFrame(()=>{J(this,sx,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),v(kv,T1).delete(this._canvas),this.callback())))}};sx=new WeakMap,T1=new WeakMap,ie(kv,T1,new WeakSet);let aL=kv;const vve="5.4.530",yve="50cc4adac";var Wu,j1,_w,po,TN,Sw,Kp,jN,ox,tf,CN,Ma,iL,sL,oL,yv,iee,Eg;const ou=class ou{constructor({editor:e=null,uiManager:r=null}){ie(this,Ma);ie(this,Wu,null);ie(this,j1,null);ie(this,_w);ie(this,po,null);ie(this,TN,!1);ie(this,Sw,!1);ie(this,Kp,null);ie(this,jN);ie(this,ox,null);ie(this,tf,null);var n,a;e?(J(this,Sw,!1),J(this,Kp,e)):J(this,Sw,!0),J(this,tf,(e==null?void 0:e._uiManager)||r),J(this,jN,v(this,tf)._eventBus),J(this,_w,((n=e==null?void 0:e.color)==null?void 0:n.toUpperCase())||((a=v(this,tf))==null?void 0:a.highlightColors.values().next().value)||"#FFFF98"),v(ou,CN)||J(ou,CN,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ln(this,"_keyboardManager",new jE([[["Escape","mac+Escape"],ou.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ou.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ou.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ou.prototype._moveToPrevious],[["Home","mac+Home"],ou.prototype._moveToBeginning],[["End","mac+End"],ou.prototype._moveToEnd]]))}renderButton(){const e=J(this,Wu,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",v(this,Kp)&&(e.ariaControls=`${v(this,Kp).id}_colorpicker_dropdown`);const r=v(this,tf)._signal;e.addEventListener("click",ue(this,Ma,yv).bind(this),{signal:r}),e.addEventListener("keydown",ue(this,Ma,oL).bind(this),{signal:r});const n=J(this,j1,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=v(this,_w),e.append(n),e}renderMainDropdown(){const e=J(this,po,ue(this,Ma,iL).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===v(this,Wu)){ue(this,Ma,yv).call(this,e);return}const r=e.target.getAttribute("data-color");r&&ue(this,Ma,sL).call(this,r,e)}_moveToNext(e){var r,n;if(!v(this,Ma,Eg)){ue(this,Ma,yv).call(this,e);return}if(e.target===v(this,Wu)){(r=v(this,po).firstElementChild)==null||r.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var r,n;if(e.target===((r=v(this,po))==null?void 0:r.firstElementChild)||e.target===v(this,Wu)){v(this,Ma,Eg)&&this._hideDropdownFromKeyboard();return}v(this,Ma,Eg)||ue(this,Ma,yv).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var r;if(!v(this,Ma,Eg)){ue(this,Ma,yv).call(this,e);return}(r=v(this,po).firstElementChild)==null||r.focus()}_moveToEnd(e){var r;if(!v(this,Ma,Eg)){ue(this,Ma,yv).call(this,e);return}(r=v(this,po).lastElementChild)==null||r.focus()}hideDropdown(){var e,r;(e=v(this,po))==null||e.classList.add("hidden"),v(this,Wu).ariaExpanded="false",(r=v(this,ox))==null||r.abort(),J(this,ox,null)}_hideDropdownFromKeyboard(){var e;if(!v(this,Sw)){if(!v(this,Ma,Eg)){(e=v(this,Kp))==null||e.unselect();return}this.hideDropdown(),v(this,Wu).focus({preventScroll:!0,focusVisible:v(this,TN)})}}updateColor(e){if(v(this,j1)&&(v(this,j1).style.backgroundColor=e),!v(this,po))return;const r=v(this,tf).highlightColors.values();for(const n of v(this,po).children)n.ariaSelected=r.next().value===e.toUpperCase()}destroy(){var e,r;(e=v(this,Wu))==null||e.remove(),J(this,Wu,null),J(this,j1,null),(r=v(this,po))==null||r.remove(),J(this,po,null)}};Wu=new WeakMap,j1=new WeakMap,_w=new WeakMap,po=new WeakMap,TN=new WeakMap,Sw=new WeakMap,Kp=new WeakMap,jN=new WeakMap,ox=new WeakMap,tf=new WeakMap,CN=new WeakMap,Ma=new WeakSet,iL=function(){const e=document.createElement("div"),r=v(this,tf)._signal;e.addEventListener("contextmenu",dh,{signal:r}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),v(this,Kp)&&(e.id=`${v(this,Kp).id}_colorpicker_dropdown`);for(const[n,a]of v(this,tf).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",a),i.title=n,i.setAttribute("data-l10n-id",v(ou,CN)[n]);const s=document.createElement("span");i.append(s),s.className="swatch",s.style.backgroundColor=a,i.ariaSelected=a===v(this,_w),i.addEventListener("click",ue(this,Ma,sL).bind(this,a),{signal:r}),e.append(i)}return e.addEventListener("keydown",ue(this,Ma,oL).bind(this),{signal:r}),e},sL=function(e,r){r.stopPropagation(),v(this,jN).dispatch("switchannotationeditorparams",{source:this,type:Un.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},oL=function(e){ou._keyboardManager.exec(this,e)},yv=function(e){if(v(this,Ma,Eg)){this.hideDropdown();return}if(J(this,TN,e.detail===0),v(this,ox)||(J(this,ox,new AbortController),window.addEventListener("pointerdown",ue(this,Ma,iee).bind(this),{signal:v(this,tf).combinedSignal(v(this,ox))})),v(this,Wu).ariaExpanded="true",v(this,po)){v(this,po).classList.remove("hidden");return}const r=J(this,po,ue(this,Ma,iL).call(this));v(this,Wu).append(r)},iee=function(e){var r;(r=v(this,po))!=null&&r.contains(e.target)||this.hideDropdown()},Eg=function(){return v(this,po)&&!v(this,po).classList.contains("hidden")},ie(ou,CN,null);let bj=ou;var b0,kN,Nw,PN;const Pv=class Pv{constructor(e){ie(this,b0,null);ie(this,kN,null);ie(this,Nw,null);J(this,kN,e),J(this,Nw,e._uiManager),v(Pv,PN)||J(Pv,PN,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(v(this,b0))return v(this,b0);const{editorType:e,colorType:r,color:n}=v(this,kN),a=J(this,b0,document.createElement("input"));return a.type="color",a.value=n||"#000000",a.className="basicColorPicker",a.tabIndex=0,a.setAttribute("data-l10n-id",v(Pv,PN)[e]),a.addEventListener("input",()=>{v(this,Nw).updateParams(r,a.value)},{signal:v(this,Nw)._signal}),a}update(e){v(this,b0)&&(v(this,b0).value=e)}destroy(){var e;(e=v(this,b0))==null||e.remove(),J(this,b0,null)}hideDropdown(){}};b0=new WeakMap,kN=new WeakMap,Nw=new WeakMap,PN=new WeakMap,ie(Pv,PN,null);let wj=Pv;function PV(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function vA(t){return Math.max(0,Math.min(255,255*t))}class OV{static CMYK_G([e,r,n,a]){return["G",1-Math.min(1,.3*e+.59*n+.11*r+a)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=vA(e),[e,e,e]}static G_HTML([e]){const r=PV(e);return`#${r}${r}${r}`}static RGB_G([e,r,n]){return["G",.3*e+.59*r+.11*n]}static RGB_rgb(e){return e.map(vA)}static RGB_HTML(e){return`#${e.map(PV).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,r,n,a]){return["RGB",1-Math.min(1,e+a),1-Math.min(1,n+a),1-Math.min(1,r+a)]}static CMYK_rgb([e,r,n,a]){return[vA(1-Math.min(1,e+a)),vA(1-Math.min(1,n+a)),vA(1-Math.min(1,r+a))]}static CMYK_HTML(e){const r=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(r)}static RGB_CMYK([e,r,n]){const a=1-e,i=1-r,s=1-n,o=Math.min(a,i,s);return["CMYK",a,i,s,o]}}class bve{create(e,r,n=!1){if(e<=0||r<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),n||(a.setAttribute("width",`${e}px`),a.setAttribute("height",`${r}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${e} ${r}`),a}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ka("Abstract method `_createSVG` called.")}}class Aj extends bve{_createSVG(e){return document.createElementNS(bp,e)}}const wve=9,_y=new WeakSet,Ave=new Date().getTimezoneOffset()*60*1e3;class R6{static create(e){switch(e.data.annotationType){case Ms.LINK:return new BF(e);case Ms.TEXT:return new Sve(e);case Ms.WIDGET:switch(e.data.fieldType){case"Tx":return new Nve(e);case"Btn":return e.data.radioButton?new lee(e):e.data.checkBox?new Tve(e):new jve(e);case"Ch":return new Cve(e);case"Sig":return new Eve(e)}return new My(e);case Ms.POPUP:return new cL(e);case Ms.FREETEXT:return new fee(e);case Ms.LINE:return new Pve(e);case Ms.SQUARE:return new Ove(e);case Ms.CIRCLE:return new Dve(e);case Ms.POLYLINE:return new pee(e);case Ms.CARET:return new Ive(e);case Ms.INK:return new UF(e);case Ms.POLYGON:return new Rve(e);case Ms.HIGHLIGHT:return new mee(e);case Ms.UNDERLINE:return new Lve(e);case Ms.SQUIGGLY:return new Mve(e);case Ms.STRIKEOUT:return new Fve(e);case Ms.STAMP:return new gee(e);case Ms.FILEATTACHMENT:return new Bve(e);default:return new Vi(e)}}}var C1,Ew,eh,ON,lL;const Z9=class Z9{constructor(e,{isRenderable:r=!1,ignoreBorder:n=!1,createQuadrilaterals:a=!1}={}){ie(this,ON);ie(this,C1,null);ie(this,Ew,!1);ie(this,eh,null);this.isRenderable=r,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,r&&(this.contentElement=this.container=this._createContainer(n)),a&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:r}){return!!(e!=null&&e.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Z9._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var n;const{data:e}=this,r=(n=this.annotationStorage)==null?void 0:n.getEditor(e.id);return r?r.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:r,inkLists:n,rect:a}=this.data;let i=-1/0,s=-1/0;if((r==null?void 0:r.length)>=8){for(let l=0;l<r.length;l+=8)r[l+1]>s?(s=r[l+1],i=r[l+2]):r[l+1]===s&&(i=Math.max(i,r[l+2]));return[i,s]}if((n==null?void 0:n.length)>=1){for(const l of n)for(let u=0,h=l.length;u<h;u+=2)l[u+1]>s?(s=l[u+1],i=l[u]):l[u+1]===s&&(i=Math.max(i,l[u]));if(i!==1/0)return[i,s]}return a?[a[2],a[3]]:null}_normalizePoint(e){const{page:{view:r},viewport:{rawDims:{pageWidth:n,pageHeight:a,pageX:i,pageY:s}}}=this.parent;return e[1]=r[3]-e[1]+r[1],e[0]=100*(e[0]-i)/n,e[1]=100*(e[1]-s)/a,e}get commentText(){var r,n,a;const{data:e}=this;return((n=(r=this.annotationStorage.getRawValue(`${M_}${e.id}`))==null?void 0:r.popup)==null?void 0:n.contents)||((a=e.contentsObj)==null?void 0:a.str)||""}set commentText(e){const{data:r}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(r.id,{popup:n})||this.annotationStorage.setValue(`${M_}${r.id}`,{id:r.id,annotationType:r.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:r.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,r;(r=((e=v(this,eh))==null?void 0:e.popup)||this.popup)==null||r.remove(),J(this,eh,this.popup=null)}updateEdited(e){var i;if(!this.container)return;e.rect&&(v(this,C1)||J(this,C1,{rect:this.data.rect.slice(0)}));const{rect:r,popup:n}=e;r&&ue(this,ON,lL).call(this,r);let a=((i=v(this,eh))==null?void 0:i.popup)||this.popup;!a&&(n!=null&&n.text)&&(this._createPopup(n),a=v(this,eh).popup),a&&(a.updateEdited(e),n!=null&&n.deleted&&(a.remove(),J(this,eh,null),this.popup=null))}resetEdited(){var e;v(this,C1)&&(ue(this,ON,lL).call(this,v(this,C1).rect),(e=v(this,eh))==null||e.popup.resetEdited(),J(this,C1,null))}_createContainer(e){const{data:r,parent:{page:n,viewport:a}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",r.id),!(this instanceof My)&&!(this instanceof BF)&&(i.tabIndex=0);const{style:s}=i;if(s.zIndex=this.parent.zIndex,this.parent.zIndex+=2,r.alternativeText&&(i.title=r.alternativeText),r.noRotate&&i.classList.add("norotate"),!r.rect||this instanceof cL){const{rotation:y}=r;return!r.hasOwnCanvas&&y!==0&&this.setRotation(y,i),i}const{width:o,height:l}=this;if(!e&&r.borderStyle.width>0){s.borderWidth=`${r.borderStyle.width}px`;const y=r.borderStyle.horizontalCornerRadius,w=r.borderStyle.verticalCornerRadius;if(y>0||w>0){const S=`calc(${y}px * var(--total-scale-factor)) / calc(${w}px * var(--total-scale-factor))`;s.borderRadius=S}else if(this instanceof lee){const S=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;s.borderRadius=S}switch(r.borderStyle.style){case Ub.SOLID:s.borderStyle="solid";break;case Ub.DASHED:s.borderStyle="dashed";break;case Ub.BEVELED:on("Unimplemented border style: beveled");break;case Ub.INSET:on("Unimplemented border style: inset");break;case Ub.UNDERLINE:s.borderBottomStyle="solid";break}const A=r.borderColor||null;A?(J(this,Ew,!0),s.borderColor=wr.makeHexColor(A[0]|0,A[1]|0,A[2]|0)):s.borderWidth=0}const u=wr.normalizeRect([r.rect[0],n.view[3]-r.rect[1]+n.view[1],r.rect[2],n.view[3]-r.rect[3]+n.view[1]]),{pageWidth:h,pageHeight:f,pageX:m,pageY:g}=a.rawDims;s.left=`${100*(u[0]-m)/h}%`,s.top=`${100*(u[1]-g)/f}%`;const{rotation:b}=r;return r.hasOwnCanvas||b===0?(s.width=`${100*o/h}%`,s.height=`${100*l/f}%`):this.setRotation(b,i),i}setRotation(e,r=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:a}=this.parent.viewport.rawDims;let{width:i,height:s}=this;e%180!==0&&([i,s]=[s,i]),r.style.width=`${100*i/n}%`,r.style.height=`${100*s/a}%`,r.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(r,n,a)=>{const i=a.detail[r],s=i[0],o=i.slice(1);a.target.style[n]=OV[`${s}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:OV[`${s}_rgb`](o)})};return ln(this,"_commonActions",{display:r=>{const{display:n}=r.detail,a=n%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:n===1||n===2})},print:r=>{this.annotationStorage.setValue(this.data.id,{noPrint:!r.detail.print})},hidden:r=>{const{hidden:n}=r.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:r=>{setTimeout(()=>r.target.focus({preventScroll:!1}),0)},userName:r=>{r.target.title=r.detail.userName},readonly:r=>{r.target.disabled=r.detail.readonly},required:r=>{this._setRequired(r.target,r.detail.required)},bgColor:r=>{e("bgColor","backgroundColor",r)},fillColor:r=>{e("fillColor","backgroundColor",r)},fgColor:r=>{e("fgColor","color",r)},textColor:r=>{e("textColor","color",r)},borderColor:r=>{e("borderColor","borderColor",r)},strokeColor:r=>{e("strokeColor","borderColor",r)},rotation:r=>{const n=r.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,r){const n=this._commonActions;for(const a of Object.keys(r.detail)){const i=e[a]||n[a];i==null||i(r)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const r=this.annotationStorage.getRawValue(this.data.id);if(!r)return;const n=this._commonActions;for(const[a,i]of Object.entries(r)){const s=n[a];if(s){const o={detail:{[a]:i},target:e};s(o),delete r[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[r,n,a,i]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,w,A,S]=e.subarray(2,6);if(a===y&&i===w&&r===A&&n===S)return}const{style:s}=this.container;let o;if(v(this,Ew)){const{borderColor:y,borderWidth:w}=s;s.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${w}">`],this.container.classList.add("hasBorder")}const l=a-r,u=i-n,{svgFactory:h}=this,f=h.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0),f.role="none";const m=h.createElement("defs");f.append(m);const g=h.createElement("clipPath"),b=`clippath_${this.data.id}`;g.setAttribute("id",b),g.setAttribute("clipPathUnits","objectBoundingBox"),m.append(g);for(let y=2,w=e.length;y<w;y+=8){const A=e[y],S=e[y+1],N=e[y+2],T=e[y+3],k=h.createElement("rect"),R=(N-r)/l,O=(i-S)/u,U=(A-N)/l,H=(S-T)/u;k.setAttribute("x",R),k.setAttribute("y",O),k.setAttribute("width",U),k.setAttribute("height",H),g.append(k),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${O}" width="${U}" height="${H}"/>`)}v(this,Ew)&&(o.push("</g></svg>')"),s.backgroundImage=o.join("")),this.container.append(f),this.container.style.clipPath=`url(#${b})`}_createPopup(e=null){const{data:r}=this;let n,a;e?(n={str:e.text},a=e.date):(n=r.contentsObj,a=r.modificationDate),J(this,eh,new cL({data:{color:r.color,titleObj:r.titleObj,modificationDate:a,contentsObj:n,richText:r.richText,parentRect:r.rect,borderStyle:0,id:`popup_${r.id}`,rotation:r.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(v(this,eh)||this.popup||this.data.popupRef)}get extraPopupElement(){return v(this,eh)}render(){Ka("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,r=null){const n=[];if(this._fieldObjects){const a=this._fieldObjects[e];if(a)for(const{page:i,id:s,exportValues:o}of a){if(i===-1||s===r)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${s}"]`);if(u&&!_y.has(u)){on(`_getElementsByName - element not allowed: ${s}`);continue}n.push({id:s,exportValue:l,domElement:u})}return n}for(const a of document.getElementsByName(e)){const{exportValue:i}=a,s=a.getAttribute("data-element-id");s!==r&&_y.has(a)&&n.push({id:s,exportValue:i,domElement:a})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const r of e)r.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:r}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:r,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};C1=new WeakMap,Ew=new WeakMap,eh=new WeakMap,ON=new WeakSet,lL=function(e){const{container:{style:r},data:{rect:n,rotation:a},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:s,pageX:o,pageY:l}}}}=this;n==null||n.splice(0,4,...e),r.left=`${100*(e[0]-o)/i}%`,r.top=`${100*(s-e[3]+l)/s}%`,a===0?(r.width=`${100*(e[2]-e[0])/i}%`,r.height=`${100*(e[3]-e[1])/s}%`):this.setRotation(a)};let Vi=Z9;class _ve extends Vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var fd,bv,see,oee;class BF extends Vi{constructor(r,n=null){super(r,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});ie(this,fd);this.isTooltipOnly=r.data.isTooltipOnly}render(){const{data:r,linkService:n}=this,a=document.createElement("a");a.setAttribute("data-element-id",r.id);let i=!1;return r.url?(n.addLinkAttributes(a,r.url,r.newWindow),i=!0):r.action?(this._bindNamedAction(a,r.action,r.overlaidText),i=!0):r.attachment?(ue(this,fd,see).call(this,a,r.attachment,r.overlaidText,r.attachmentDest),i=!0):r.setOCGState?(ue(this,fd,oee).call(this,a,r.setOCGState,r.overlaidText),i=!0):r.dest?(this._bindLink(a,r.dest,r.overlaidText),i=!0):(r.actions&&(r.actions.Action||r.actions["Mouse Up"]||r.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(a,r),i=!0),r.resetForm?(this._bindResetFormAction(a,r.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(a,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&(this.contentElement=a,this.container.append(a)),this.container}_bindLink(r,n,a=""){r.href=this.linkService.getDestinationHash(n),r.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&ue(this,fd,bv).call(this),a&&(r.title=a)}_bindNamedAction(r,n,a=""){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeNamedAction(n),!1),a&&(r.title=a),ue(this,fd,bv).call(this)}_bindJSAction(r,n){r.href=this.linkService.getAnchorUrl("");const a=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(n.actions)){const s=a.get(i);s&&(r[s]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:i}}),!1})}n.overlaidText&&(r.title=n.overlaidText),r.onclick||(r.onclick=()=>!1),ue(this,fd,bv).call(this)}_bindResetFormAction(r,n){const a=r.onclick;if(a||(r.href=this.linkService.getAnchorUrl("")),ue(this,fd,bv).call(this),!this._fieldObjects){on('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),a||(r.onclick=()=>!1);return}r.onclick=()=>{var f;a==null||a();const{fields:i,refs:s,include:o}=n,l=[];if(i.length!==0||s.length!==0){const m=new Set(s);for(const g of i){const b=this._fieldObjects[g]||[];for(const{id:y}of b)m.add(y)}for(const g of Object.values(this._fieldObjects))for(const b of g)m.has(b.id)===o&&l.push(b)}else for(const m of Object.values(this._fieldObjects))l.push(...m);const u=this.annotationStorage,h=[];for(const m of l){const{id:g}=m;switch(h.push(g),m.type){case"text":{const y=m.defaultValue||"";u.setValue(g,{value:y});break}case"checkbox":case"radiobutton":{const y=m.defaultValue===m.exportValues;u.setValue(g,{value:y});break}case"combobox":case"listbox":{const y=m.defaultValue||"";u.setValue(g,{value:y});break}default:continue}const b=document.querySelector(`[data-element-id="${g}"]`);if(b){if(!_y.has(b)){on(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}fd=new WeakSet,bv=function(){this.container.setAttribute("data-internal-link","")},see=function(r,n,a="",i=null){r.href=this.linkService.getAnchorUrl(""),n.description?r.title=n.description:a&&(r.title=a),r.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(n.content,n.filename,i),!1},ue(this,fd,bv).call(this)},oee=function(r,n,a=""){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeSetOCGState(n),!1),a&&(r.title=a),ue(this,fd,bv).call(this)};class Sve extends Vi{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class My extends Vi{render(){return this.container}showElementAndHideCanvas(e){var r;this.data.hasOwnCanvas&&(((r=e.previousSibling)==null?void 0:r.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return bo.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,r,n,a,i){n.includes("mouse")?e.addEventListener(n,s=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:i(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(n,s=>{var o;if(n==="blur"){if(!r.focused||!s.relatedTarget)return;r.focused=!1}else if(n==="focus"){if(r.focused)return;r.focused=!0}i&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:i(s)}}))})}_setEventListeners(e,r,n,a){var i,s,o;for(const[l,u]of n)(u==="Action"||(i=this.data.actions)!=null&&i[u])&&((u==="Focus"||u==="Blur")&&(r||(r={focused:!1})),this._setEventListener(e,r,l,u,a),u==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,r,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,r,"focus","Focus",null))}_setBackgroundColor(e){const r=this.data.backgroundColor||null;e.style.backgroundColor=r===null?"transparent":wr.makeHexColor(r[0],r[1],r[2])}_setTextStyle(e){const r=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||wve,i=e.style;let s;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),h=Math.round(u/(E6*a))||1,f=u/h;s=Math.min(a,l(f/E6))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);s=Math.min(a,l(u/E6))}i.fontSize=`calc(${s}px * var(--total-scale-factor))`,i.color=wr.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(i.textAlign=r[this.data.textAlignment])}_setRequired(e,r){r?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",r)}}class Nve extends My{constructor(e){const r=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:r})}setPropertyOnSiblings(e,r,n,a){const i=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[r]=n),i.setValue(s.id,{[a]:n})}render(){var a,i;const e=this.annotationStorage,r=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const s=e.getValue(r,{value:this.data.fieldValue});let o=s.value||"";const l=e.getValue(r,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=s.formattedValue||((a=this.data.textContent)==null?void 0:a.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=u??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",u??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),_y.add(n),this.contentElement=n,n.setAttribute("data-element-id",r),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:f,datetimeType:m,timeStep:g}=this.data,b=!!m&&this.enableScripting;f&&(n.title=f),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",w=>{e.setValue(r,{value:w.target.value}),this.setPropertyOnSiblings(n,"value",w.target.value,"value"),h.formattedValue=null}),n.addEventListener("resetform",w=>{const A=this.data.defaultFieldValue??"";n.value=h.userValue=A,h.formattedValue=null});let y=w=>{const{formattedValue:A}=h;A!=null&&(w.target.value=A),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",A=>{var N;if(h.focused)return;const{target:S}=A;if(b&&(S.type=m,g&&(S.step=g)),h.userValue){const T=h.userValue;if(b)if(m==="time"){const k=new Date(T),R=[k.getHours(),k.getMinutes(),k.getSeconds()];S.value=R.map(O=>O.toString().padStart(2,"0")).join(":")}else S.value=new Date(T-Ave).toISOString().split(m==="date"?"T":".",1)[0];else S.value=T}h.lastCommittedValue=S.value,h.commitKey=1,(N=this.data.actions)!=null&&N.Focus||(h.focused=!0)}),n.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const S={value(N){h.userValue=N.detail.value??"",b||e.setValue(r,{value:h.userValue.toString()}),N.target.value=h.userValue},formattedValue(N){const{formattedValue:T}=N.detail;h.formattedValue=T,T!=null&&N.target!==document.activeElement&&(N.target.value=T);const k={formattedValue:T};b&&(k.value=T),e.setValue(r,k)},selRange(N){N.target.setSelectionRange(...N.detail.selRange)},charLimit:N=>{var O;const{charLimit:T}=N.detail,{target:k}=N;if(T===0){k.removeAttribute("maxLength");return}k.setAttribute("maxLength",T);let R=h.userValue;!R||R.length<=T||(R=R.slice(0,T),k.value=h.userValue=R,e.setValue(r,{value:R}),(O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:R,willCommit:!0,commitKey:1,selStart:k.selectionStart,selEnd:k.selectionEnd}}))}};this._dispatchEventFromSandbox(S,A)}),n.addEventListener("keydown",A=>{var T;h.commitKey=1;let S=-1;if(A.key==="Escape"?S=0:A.key==="Enter"&&!this.data.multiLine?S=2:A.key==="Tab"&&(h.commitKey=3),S===-1)return;const{value:N}=A.target;h.lastCommittedValue!==N&&(h.lastCommittedValue=N,h.userValue=N,(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:N,willCommit:!0,commitKey:S,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const w=y;y=null,n.addEventListener("blur",A=>{var T,k;if(!h.focused||!A.relatedTarget)return;(T=this.data.actions)!=null&&T.Blur||(h.focused=!1);const{target:S}=A;let{value:N}=S;if(b){if(N&&m==="time"){const R=N.split(":").map(O=>parseInt(O,10));N=new Date(2e3,0,1,R[0],R[1],R[2]||0).valueOf(),S.step=""}else N.includes("T")||(N=`${N}T00:00`),N=new Date(N).valueOf();S.type="text"}h.userValue=N,h.lastCommittedValue!==N&&((k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:N,willCommit:!0,commitKey:h.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),w(A)}),(i=this.data.actions)!=null&&i.Keystroke&&n.addEventListener("beforeinput",A=>{var H;h.lastCommittedValue=null;const{data:S,target:N}=A,{value:T,selectionStart:k,selectionEnd:R}=N;let O=k,U=R;switch(A.inputType){case"deleteWordBackward":{const G=T.substring(0,k).match(/\w*[^\w]*$/);G&&(O-=G[0].length);break}case"deleteWordForward":{const G=T.substring(k).match(/^[^\w]*\w*/);G&&(U+=G[0].length);break}case"deleteContentBackward":k===R&&(O-=1);break;case"deleteContentForward":k===R&&(U+=1);break}A.preventDefault(),(H=this.linkService.eventBus)==null||H.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:T,change:S||"",willCommit:!1,selStart:O,selEnd:U}})}),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(y&&n.addEventListener("blur",y),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${A}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Eve extends My{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Tve extends My{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,r=this.data,n=r.id;let a=e.getValue(n,{value:r.exportValue===r.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",e.setValue(n,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return _y.add(i),i.setAttribute("data-element-id",n),i.disabled=r.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=r.fieldName,a&&i.setAttribute("checked",!0),i.setAttribute("exportValue",r.exportValue),i.tabIndex=0,i.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const u of this._getElementsByName(o,n)){const h=l&&u.exportValue===r.exportValue;u.domElement&&(u.domElement.checked=h),e.setValue(u.id,{value:h})}e.setValue(n,{value:l})}),i.addEventListener("resetform",s=>{const o=r.defaultFieldValue||"Off";s.target.checked=o===r.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",s=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,s)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class lee extends My{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,r=this.data,n=r.id;let a=e.getValue(n,{value:r.fieldValue===r.buttonValue}).value;if(typeof a=="string"&&(a=a!==r.buttonValue,e.setValue(n,{value:a})),a)for(const s of this._getElementsByName(r.fieldName,n))e.setValue(s.id,{value:!1});const i=document.createElement("input");if(_y.add(i),i.setAttribute("data-element-id",n),i.disabled=r.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=r.fieldName,a&&i.setAttribute("checked",!0),i.tabIndex=0,i.addEventListener("change",s=>{const{name:o,checked:l}=s.target;for(const u of this._getElementsByName(o,n))e.setValue(u.id,{value:!1});e.setValue(n,{value:l})}),i.addEventListener("resetform",s=>{const o=r.defaultFieldValue;s.target.checked=o!=null&&o===r.buttonValue}),this.enableScripting&&this.hasJSActions){const s=r.buttonValue;i.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const h=s===u.detail.value;for(const f of this._getElementsByName(u.target.name)){const m=h&&f.id===n;f.domElement&&(f.domElement.checked=m),e.setValue(f.id,{value:m})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class jve extends BF{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const r=e.lastChild;return this.enableScripting&&this.hasJSActions&&r&&(this._setDefaultPropertiesFromJS(r),r.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class Cve extends My{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,r=this.data.id,n=e.getValue(r,{value:this.data.fieldValue}),a=document.createElement("select");_y.add(a),a.setAttribute("data-element-id",r),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=0;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",h=>{const f=this.data.defaultFieldValue;for(const m of a.options)m.selected=m.value===f});for(const h of this.data.options){const f=document.createElement("option");f.textContent=h.displayValue,f.value=h.exportValue,n.value.includes(h.exportValue)&&(f.setAttribute("selected",!0),i=!1),a.append(f)}let s=null;if(i){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),a.prepend(h),s=()=>{h.remove(),a.removeEventListener("input",s),s=null},a.addEventListener("input",s)}const o=h=>{const f=h?"value":"textContent",{options:m,multiple:g}=a;return g?Array.prototype.filter.call(m,b=>b.selected).map(b=>b[f]):m.selectedIndex===-1?null:m[m.selectedIndex][f]};let l=o(!1);const u=h=>{const f=h.target.options;return Array.prototype.map.call(f,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",h=>{const f={value(m){s==null||s();const g=m.detail.value,b=new Set(Array.isArray(g)?g:[g]);for(const y of a.options)y.selected=b.has(y.value);e.setValue(r,{value:o(!0)}),l=o(!1)},multipleSelection(m){a.multiple=!0},remove(m){const g=a.options,b=m.detail.remove;g[b].selected=!1,a.remove(b),g.length>0&&Array.prototype.findIndex.call(g,w=>w.selected)===-1&&(g[0].selected=!0),e.setValue(r,{value:o(!0),items:u(m)}),l=o(!1)},clear(m){for(;a.length!==0;)a.remove(0);e.setValue(r,{value:null,items:[]}),l=o(!1)},insert(m){const{index:g,displayValue:b,exportValue:y}=m.detail.insert,w=a.children[g],A=document.createElement("option");A.textContent=b,A.value=y,w?w.before(A):a.append(A),e.setValue(r,{value:o(!0),items:u(m)}),l=o(!1)},items(m){const{items:g}=m.detail;for(;a.length!==0;)a.remove(0);for(const b of g){const{displayValue:y,exportValue:w}=b,A=document.createElement("option");A.textContent=y,A.value=w,a.append(A)}a.options.length>0&&(a.options[0].selected=!0),e.setValue(r,{value:o(!0),items:u(m)}),l=o(!1)},indices(m){const g=new Set(m.detail.indices);for(const b of m.target.options)b.selected=g.has(b.index);e.setValue(r,{value:o(!0)}),l=o(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(f,h)}),a.addEventListener("input",h=>{var g;const f=o(!0),m=o(!1);e.setValue(r,{value:f}),h.preventDefault(),(g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:l,change:m,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):a.addEventListener("input",function(h){e.setValue(r,{value:o(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}var DN,uL;class cL extends Vi{constructor(r){const{data:n,elements:a,parent:i}=r,s=!!i._commentManager;super(r,{isRenderable:!s&&Vi._hasPopupData(n)});ie(this,DN);if(this.elements=a,s&&Vi._hasPopupData(n)){const o=this.popup=ue(this,DN,uL).call(this);for(const l of a)l.popup=o}else this.popup=null}render(){const{container:r}=this;r.classList.add("popupAnnotation"),r.role="comment";const n=this.popup=ue(this,DN,uL).call(this),a=[];for(const i of this.elements)i.popup=n,i.container.ariaHasPopup="dialog",a.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",a.map(i=>`${e2}${i}`).join(",")),this.container}}DN=new WeakSet,uL=function(){return new kve({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Ku,lx,nk,ak,Tw,jw,rs,w0,cx,k1,Cw,kw,A0,Yu,Yp,Xp,ns,Jp,ux,RN,Zp,Pw,P1,dx,Fo,hx,yn,N3,dL,hL,fL,E3,pL,cee,uee,dee,hee,T3,j3,mL;class kve{constructor({container:e,color:r,elements:n,titleObj:a,modificationDate:i,contentsObj:s,richText:o,parent:l,rect:u,parentRect:h,open:f,commentManager:m=null}){ie(this,yn);ie(this,Ku,null);ie(this,lx,ue(this,yn,dee).bind(this));ie(this,nk,ue(this,yn,mL).bind(this));ie(this,ak,ue(this,yn,j3).bind(this));ie(this,Tw,ue(this,yn,T3).bind(this));ie(this,jw,null);ie(this,rs,null);ie(this,w0,null);ie(this,cx,null);ie(this,k1,null);ie(this,Cw,null);ie(this,kw,null);ie(this,A0,!1);ie(this,Yu,null);ie(this,Yp,null);ie(this,Xp,null);ie(this,ns,null);ie(this,Jp,null);ie(this,ux,null);ie(this,RN,null);ie(this,Zp,null);ie(this,Pw,null);ie(this,P1,null);ie(this,dx,!1);ie(this,Fo,null);ie(this,hx,null);J(this,rs,e),J(this,Pw,a),J(this,w0,s),J(this,Zp,o),J(this,Cw,l),J(this,jw,r),J(this,RN,u),J(this,kw,h),J(this,k1,n),J(this,Ku,m),J(this,Fo,n[0]),J(this,cx,pj.toDateObject(i)),this.trigger=n.flatMap(g=>g.getElementsToTriggerPopup()),m||(ue(this,yn,N3).call(this),v(this,rs).hidden=!0,f&&ue(this,yn,T3).call(this))}renderCommentButton(){if(v(this,ns)){v(this,ns).parentNode||v(this,Fo).container.after(v(this,ns));return}if(v(this,Jp)||ue(this,yn,dL).call(this),!v(this,Jp))return;const{signal:e}=J(this,Yp,new AbortController),r=v(this,Fo).hasOwnCommentButton,n=()=>{v(this,Ku).toggleCommentPopup(this,!0,void 0,!r)},a=()=>{v(this,Ku).toggleCommentPopup(this,!1,!0,!r)},i=()=>{v(this,Ku).toggleCommentPopup(this,!1,!1)};if(r){J(this,ns,v(this,Fo).container);for(const s of this.trigger)s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.addEventListener("keydown",v(this,lx),{signal:e}),s.addEventListener("click",n,{signal:e}),s.addEventListener("pointerenter",a,{signal:e}),s.addEventListener("pointerleave",i,{signal:e}),s.classList.add("popupTriggerArea")}else{const s=J(this,ns,document.createElement("button"));s.className="annotationCommentButton";const o=v(this,Fo).container;s.style.zIndex=o.style.zIndex+1,s.tabIndex=0,s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.setAttribute("data-l10n-id","pdfjs-show-comment-button"),ue(this,yn,fL).call(this),ue(this,yn,hL).call(this),s.addEventListener("keydown",v(this,lx),{signal:e}),s.addEventListener("click",n,{signal:e}),s.addEventListener("pointerenter",a,{signal:e}),s.addEventListener("pointerleave",i,{signal:e}),o.after(s)}}get commentButtonColor(){const{color:e,opacity:r}=v(this,Fo).commentData;return e?v(this,Cw)._commentManager.makeCommentColor(e,r):null}focusCommentButton(){setTimeout(()=>{var e;(e=v(this,ns))==null||e.focus()},0)}getData(){const{richText:e,color:r,opacity:n,creationDate:a,modificationDate:i}=v(this,Fo).commentData;return{contentsObj:{str:this.comment},richText:e,color:r,opacity:n,creationDate:a,modificationDate:i}}get elementBeforePopup(){return v(this,ns)}get comment(){return v(this,hx)||J(this,hx,v(this,Fo).commentText),v(this,hx)}set comment(e){e!==this.comment&&(v(this,Fo).commentText=J(this,hx,e))}focus(){var e;(e=v(this,Fo).container)==null||e.focus()}get parentBoundingClientRect(){return v(this,Fo).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:r}){v(this,ns)&&(v(this,ns).classList.toggle("selected",e),v(this,ns).ariaExpanded=r)}setSelectedCommentButton(e){v(this,ns).classList.toggle("selected",e)}get commentPopupPosition(){if(v(this,ux))return v(this,ux);const{x:e,y:r,height:n}=v(this,ns).getBoundingClientRect(),{x:a,y:i,width:s,height:o}=v(this,Fo).layer.getBoundingClientRect();return[(e-a)/s,(r+n-i)/o]}set commentPopupPosition(e){J(this,ux,e)}hasDefaultPopupPosition(){return v(this,ux)===null}get commentButtonPosition(){return v(this,Jp)}get commentButtonWidth(){return v(this,ns).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[r,n]=v(this,ux)||this.commentButtonPosition.map(u=>u/100),a=this.parentBoundingClientRect,{x:i,y:s,width:o,height:l}=a;v(this,Ku).showDialog(null,this,i+r*o,s+n*l,{...e,parentDimensions:a})}render(){var n,a;if(v(this,Yu))return;const e=J(this,Yu,document.createElement("div"));if(e.className="popup",v(this,jw)){const i=e.style.outlineColor=wr.makeHexColor(...v(this,jw));e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const r=document.createElement("span");if(r.className="header",(n=v(this,Pw))!=null&&n.str){const i=document.createElement("span");i.className="title",r.append(i),{dir:i.dir,str:i.textContent}=v(this,Pw)}if(e.append(r),v(this,cx)){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:v(this,cx).valueOf()})),i.dateTime=v(this,cx).toISOString(),r.append(i)}QZ({html:v(this,yn,E3)||v(this,w0).str,dir:(a=v(this,w0))==null?void 0:a.dir,className:"popupContent"},e),v(this,rs).append(e)}updateEdited({rect:e,popup:r,deleted:n}){var a;if(v(this,Ku)){n?(this.remove(),J(this,hx,null)):r&&(r.deleted?this.remove():(ue(this,yn,fL).call(this),J(this,hx,r.text))),e&&(J(this,Jp,null),ue(this,yn,dL).call(this),ue(this,yn,hL).call(this));return}if(n||r!=null&&r.deleted){this.remove();return}ue(this,yn,N3).call(this),v(this,P1)||J(this,P1,{contentsObj:v(this,w0),richText:v(this,Zp)}),e&&J(this,Xp,null),r&&r.text&&(J(this,Zp,ue(this,yn,uee).call(this,r.text)),J(this,cx,pj.toDateObject(r.date)),J(this,w0,null)),(a=v(this,Yu))==null||a.remove(),J(this,Yu,null)}resetEdited(){var e;v(this,P1)&&({contentsObj:so(this,w0)._,richText:so(this,Zp)._}=v(this,P1),J(this,P1,null),(e=v(this,Yu))==null||e.remove(),J(this,Yu,null),J(this,Xp,null))}remove(){var e,r,n;if((e=v(this,Yp))==null||e.abort(),J(this,Yp,null),(r=v(this,Yu))==null||r.remove(),J(this,Yu,null),J(this,dx,!1),J(this,A0,!1),(n=v(this,ns))==null||n.remove(),J(this,ns,null),this.trigger)for(const a of this.trigger)a.classList.remove("popupTriggerArea")}forceHide(){J(this,dx,this.isVisible),v(this,dx)&&(v(this,rs).hidden=!0)}maybeShow(){v(this,Ku)||(ue(this,yn,N3).call(this),v(this,dx)&&(v(this,Yu)||ue(this,yn,j3).call(this),J(this,dx,!1),v(this,rs).hidden=!1))}get isVisible(){return v(this,Ku)?!1:v(this,rs).hidden===!1}}Ku=new WeakMap,lx=new WeakMap,nk=new WeakMap,ak=new WeakMap,Tw=new WeakMap,jw=new WeakMap,rs=new WeakMap,w0=new WeakMap,cx=new WeakMap,k1=new WeakMap,Cw=new WeakMap,kw=new WeakMap,A0=new WeakMap,Yu=new WeakMap,Yp=new WeakMap,Xp=new WeakMap,ns=new WeakMap,Jp=new WeakMap,ux=new WeakMap,RN=new WeakMap,Zp=new WeakMap,Pw=new WeakMap,P1=new WeakMap,dx=new WeakMap,Fo=new WeakMap,hx=new WeakMap,yn=new WeakSet,N3=function(){var r;if(v(this,Yp))return;J(this,Yp,new AbortController);const{signal:e}=v(this,Yp);for(const n of this.trigger)n.addEventListener("click",v(this,Tw),{signal:e}),n.addEventListener("pointerenter",v(this,ak),{signal:e}),n.addEventListener("pointerleave",v(this,nk),{signal:e}),n.classList.add("popupTriggerArea");for(const n of v(this,k1))(r=n.container)==null||r.addEventListener("keydown",v(this,lx),{signal:e})},dL=function(){const e=v(this,k1).find(r=>r.hasCommentButton);e&&J(this,Jp,e._normalizePoint(e.commentButtonPosition))},hL=function(){if(v(this,Fo).extraPopupElement&&!v(this,Fo).editor)return;v(this,ns)||this.renderCommentButton();const[e,r]=v(this,Jp),{style:n}=v(this,ns);n.left=`calc(${e}%)`,n.top=`calc(${r}% - var(--comment-button-dim))`},fL=function(){v(this,Fo).extraPopupElement||(v(this,ns)||this.renderCommentButton(),v(this,ns).style.backgroundColor=this.commentButtonColor||"")},E3=function(){const e=v(this,Zp),r=v(this,w0);return e!=null&&e.str&&(!(r!=null&&r.str)||r.str===e.str)&&v(this,Zp).html||null},pL=function(){var e,r,n;return((n=(r=(e=v(this,yn,E3))==null?void 0:e.attributes)==null?void 0:r.style)==null?void 0:n.fontSize)||0},cee=function(){var e,r,n;return((n=(r=(e=v(this,yn,E3))==null?void 0:e.attributes)==null?void 0:r.style)==null?void 0:n.color)||null},uee=function(e){const r=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:r}]}},a={style:{color:v(this,yn,cee),fontSize:v(this,yn,pL)?`calc(${v(this,yn,pL)}px * var(--total-scale-factor))`:""}};for(const i of e.split(`
`))r.push({name:"span",value:i,attributes:a});return n},dee=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&v(this,A0))&&ue(this,yn,T3).call(this)},hee=function(){if(v(this,Xp)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:r,pageHeight:n,pageX:a,pageY:i}}}=v(this,Cw);let s=!!v(this,kw),o=s?v(this,kw):v(this,RN);for(const b of v(this,k1))if(!o||wr.intersect(b.data.rect,o)!==null){o=b.data.rect,s=!0;break}const l=wr.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),h=s?o[2]-o[0]+5:0,f=l[0]+h,m=l[1];J(this,Xp,[100*(f-a)/r,100*(m-i)/n]);const{style:g}=v(this,rs);g.left=`${v(this,Xp)[0]}%`,g.top=`${v(this,Xp)[1]}%`},T3=function(){if(v(this,Ku)){v(this,Ku).toggleCommentPopup(this,!1);return}J(this,A0,!v(this,A0)),v(this,A0)?(ue(this,yn,j3).call(this),v(this,rs).addEventListener("click",v(this,Tw)),v(this,rs).addEventListener("keydown",v(this,lx))):(ue(this,yn,mL).call(this),v(this,rs).removeEventListener("click",v(this,Tw)),v(this,rs).removeEventListener("keydown",v(this,lx)))},j3=function(){v(this,Yu)||this.render(),this.isVisible?v(this,A0)&&v(this,rs).classList.add("focused"):(ue(this,yn,hee).call(this),v(this,rs).hidden=!1,v(this,rs).style.zIndex=parseInt(v(this,rs).style.zIndex)+1e3)},mL=function(){v(this,rs).classList.remove("focused"),!(v(this,A0)||!this.isVisible)&&(v(this,rs).hidden=!0,v(this,rs).style.zIndex=parseInt(v(this,rs).style.zIndex)-1e3)};class fee extends Vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=dn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const r of this.textContent){const n=document.createElement("span");n.textContent=r,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var IN;class Pve extends Vi{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});ie(this,IN,null)}render(){this.container.classList.add("lineAnnotation");const{data:r,width:n,height:a}=this,i=this.svgFactory.create(n,a,!0),s=J(this,IN,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",r.rect[2]-r.lineCoordinates[0]),s.setAttribute("y1",r.rect[3]-r.lineCoordinates[1]),s.setAttribute("x2",r.rect[2]-r.lineCoordinates[2]),s.setAttribute("y2",r.rect[3]-r.lineCoordinates[3]),s.setAttribute("stroke-width",r.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!r.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return v(this,IN)}addHighlightArea(){this.container.classList.add("highlightArea")}}IN=new WeakMap;var LN;class Ove extends Vi{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});ie(this,LN,null)}render(){this.container.classList.add("squareAnnotation");const{data:r,width:n,height:a}=this,i=this.svgFactory.create(n,a,!0),s=r.borderStyle.width,o=J(this,LN,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",n-s),o.setAttribute("height",a-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!r.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return v(this,LN)}addHighlightArea(){this.container.classList.add("highlightArea")}}LN=new WeakMap;var MN;class Dve extends Vi{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});ie(this,MN,null)}render(){this.container.classList.add("circleAnnotation");const{data:r,width:n,height:a}=this,i=this.svgFactory.create(n,a,!0),s=r.borderStyle.width,o=J(this,MN,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",a/2),o.setAttribute("rx",n/2-s/2),o.setAttribute("ry",a/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!r.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return v(this,MN)}addHighlightArea(){this.container.classList.add("highlightArea")}}MN=new WeakMap;var FN;class pee extends Vi{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});ie(this,FN,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,vertices:n,borderStyle:a,popupRef:i},width:s,height:o}=this;if(!n)return this.container;const l=this.svgFactory.create(s,o,!0);let u=[];for(let f=0,m=n.length;f<m;f+=2){const g=n[f]-r[0],b=r[3]-n[f+1];u.push(`${g},${b}`)}u=u.join(" ");const h=J(this,FN,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",u),h.setAttribute("stroke-width",a.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!i&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return v(this,FN)}addHighlightArea(){this.container.classList.add("highlightArea")}}FN=new WeakMap;class Rve extends pee{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ive extends Vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var BN,O1,UN,gL;class UF extends Vi{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});ie(this,UN);ie(this,BN,null);ie(this,O1,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?dn.HIGHLIGHT:dn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,rotation:n,inkLists:a,borderStyle:i,popupRef:s}}=this,{transform:o,width:l,height:u}=ue(this,UN,gL).call(this,n,r),h=this.svgFactory.create(l,u,!0),f=J(this,BN,this.svgFactory.createElement("svg:g"));h.append(f),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",o);for(let m=0,g=a.length;m<g;m++){const b=this.svgFactory.createElement(this.svgElementName);v(this,O1).push(b),b.setAttribute("points",a[m].join(",")),f.append(b)}return!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(r){super.updateEdited(r);const{thickness:n,points:a,rect:i}=r,s=v(this,BN);if(n>=0&&s.setAttribute("stroke-width",n||1),a)for(let o=0,l=v(this,O1).length;o<l;o++)v(this,O1)[o].setAttribute("points",a[o].join(","));if(i){const{transform:o,width:l,height:u}=ue(this,UN,gL).call(this,this.data.rotation,i);s.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),s.setAttribute("transform",o)}}getElementsToTriggerPopup(){return v(this,O1)}addHighlightArea(){this.container.classList.add("highlightArea")}}BN=new WeakMap,O1=new WeakMap,UN=new WeakSet,gL=function(r,n){switch(r){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class mee extends Vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=dn.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:r}}=this;if(!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class Lve extends Vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:r}}=this;if(!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class Mve extends Vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:r}}=this;if(!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class Fve extends Vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:r}}=this;if(!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=e,this.container.append(n)}return this.container}}class gee extends Vi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=dn.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var zN,$N,xL;class Bve extends Vi{constructor(r){var a;super(r,{isRenderable:!0});ie(this,$N);ie(this,zN,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(a=this.linkService.eventBus)==null||a.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:r,data:n}=this;let a;n.hasAppearance||n.fillAlpha===0?a=document.createElement("div"):(a=document.createElement("img"),a.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(a.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),a.addEventListener("dblclick",ue(this,$N,xL).bind(this)),J(this,zN,a);const{isMac:i}=bo.platform;return r.addEventListener("keydown",s=>{s.key==="Enter"&&(i?s.metaKey:s.ctrlKey)&&ue(this,$N,xL).call(this)}),!n.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):a.classList.add("popupTriggerArea"),r.append(a),r}getElementsToTriggerPopup(){return v(this,zN)}addHighlightArea(){this.container.classList.add("highlightArea")}}zN=new WeakMap,$N=new WeakSet,xL=function(){var r;(r=this.downloadManager)==null||r.openOrDownloadData(this.content,this.filename)};var D1,R1,Ow,fx,VN,I1,Xu,HN,bm,C3,yL;const Q9=class Q9{constructor({div:e,accessibilityManager:r,annotationCanvasMap:n,annotationEditorUIManager:a,page:i,viewport:s,structTreeLayer:o,commentManager:l,linkService:u,annotationStorage:h}){ie(this,bm);ie(this,D1,null);ie(this,R1,null);ie(this,Ow,null);ie(this,fx,new Map);ie(this,VN,null);ie(this,I1,null);ie(this,Xu,[]);ie(this,HN,!1);this.div=e,J(this,D1,r),J(this,R1,n),J(this,VN,o||null),J(this,I1,u||null),J(this,Ow,h||new LF),this.page=i,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=a,this._commentManager=l||null}hasEditableAnnotations(){return v(this,fx).size>0}async render(e){var o;const{annotations:r}=e,n=this.div;wy(n,this.viewport);const a=new Map,i=[],s={data:null,layer:n,linkService:v(this,I1),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Aj,annotationStorage:v(this,Ow),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of r){if(l.noHTML)continue;const u=l.annotationType===Ms.POPUP;if(u){const m=a.get(l.id);if(!m)continue;if(!this._commentManager){i.push(l);continue}s.elements=m}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;s.data=l;const h=R6.create(s);if(!h.isRenderable)continue;if(!u&&(v(this,Xu).push(h),l.popupRef)){const m=a.get(l.popupRef);m?m.push(h):a.set(l.popupRef,[h])}const f=h.render();l.hidden&&(f.style.visibility="hidden"),h._isEditable&&(v(this,fx).set(h.data.id,h),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(h))}await ue(this,bm,C3).call(this);for(const l of i){const u=s.elements=a.get(l.id);s.data=l;const h=R6.create(s);if(!h.isRenderable)continue;const f=h.render();h.contentElement.id=`${e2}${l.id}`,l.hidden&&(f.style.visibility="hidden"),u.at(-1).container.after(f)}ue(this,bm,yL).call(this)}async addLinkAnnotations(e){const r={data:null,layer:this.div,linkService:v(this,I1),svgFactory:new Aj,parent:this};for(const n of e){n.borderStyle||(n.borderStyle=Q9._defaultBorderStyle),r.data=n;const a=R6.create(r);a.isRenderable&&(a.render(),a.contentElement.id=`${e2}${n.id}`,v(this,Xu).push(a))}await ue(this,bm,C3).call(this)}update({viewport:e}){const r=this.div;this.viewport=e,wy(r,{rotation:e.rotation}),ue(this,bm,yL).call(this),r.hidden=!1}getEditableAnnotations(){return Array.from(v(this,fx).values())}getEditableAnnotation(e){return v(this,fx).get(e)}addFakeAnnotation(e){const{div:r}=this,{id:n,rotation:a}=e,i=new _ve({data:{id:n,rect:e.getPDFRect(),rotation:a},editor:e,layer:r,parent:this,enableComment:!!this._commentManager,linkService:v(this,I1),annotationStorage:v(this,Ow)});return i.render(),i.contentElement.id=`${e2}${n}`,i.createOrUpdatePopup(),v(this,Xu).push(i),i}removeAnnotation(e){var a;const r=v(this,Xu).findIndex(i=>i.data.id===e);if(r<0)return;const[n]=v(this,Xu).splice(r,1);(a=v(this,D1))==null||a.removePointerInTextLayer(n.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const r of e)r.updateFakeAnnotationElement(this);ue(this,bm,C3).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return ln(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Ub.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};D1=new WeakMap,R1=new WeakMap,Ow=new WeakMap,fx=new WeakMap,VN=new WeakMap,I1=new WeakMap,Xu=new WeakMap,HN=new WeakMap,bm=new WeakSet,C3=async function(){var n,a,i;if(v(this,Xu).length===0)return;this.div.replaceChildren();const e=[];if(!v(this,HN)){J(this,HN,!0);for(const{contentElement:s,data:{id:o}}of v(this,Xu)){const l=s.id=`${e2}${o}`;e.push((n=v(this,VN))==null?void 0:n.getAriaAttributes(l).then(u=>{if(u)for(const[h,f]of u)s.setAttribute(h,f)}))}}v(this,Xu).sort(({data:{rect:[s,o,l,u]}},{data:{rect:[h,f,m,g]}})=>{if(s===l&&o===u)return 1;if(h===m&&f===g)return-1;const b=u,y=o,w=(o+u)/2,A=g,S=f,N=(f+g)/2;if(w>=A&&N<=y)return-1;if(N>=b&&w<=S)return 1;const T=(s+l)/2,k=(h+m)/2;return T-k});const r=document.createDocumentFragment();for(const s of v(this,Xu))r.append(s.container),this._commentManager?(i=((a=s.extraPopupElement)==null?void 0:a.popup)||s.popup)==null||i.renderCommentButton():s.extraPopupElement&&r.append(s.extraPopupElement.render());if(this.div.append(r),await Promise.all(e),v(this,D1))for(const s of v(this,Xu))v(this,D1).addPointerInTextLayer(s.contentElement,!1)},yL=function(){var r;if(!v(this,R1))return;const e=this.div;for(const[n,a]of v(this,R1)){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;a.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(a):s.classList.contains("annotationContent")?s.after(a):s.before(a):i.append(a);const o=v(this,fx).get(n);o&&(o._hasNoCanvas?((r=this._annotationEditorUIManager)==null||r.setMissingCanvas(n,i.id,a),o._hasNoCanvas=!1):o.canvas=a)}v(this,R1).clear()};let vL=Q9;const xT=/\r\n?|\n/g;var Ju,qN,L1,Zu,Ks,xee,vee,yee,k3,wm,P3,O3,bee,wL,wee;const ui=class ui extends ti{constructor(r){super({...r,name:"freeTextEditor"});ie(this,Ks);ie(this,Ju,"");ie(this,qN,`${this.id}-editor`);ie(this,L1,null);ie(this,Zu);tr(this,"_colorPicker",null);this.color=r.color||ui._defaultColor||ti._defaultLineColor,J(this,Zu,r.fontSize||ui._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const r=ui.prototype,n=s=>s.isEmpty(),a=Ay.TRANSLATE_SMALL,i=Ay.TRANSLATE_BIG;return ln(this,"_keyboardManager",new jE([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],r.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],r.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],r._translateEmpty,{args:[-a,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],r._translateEmpty,{args:[-i,0],checker:n}],[["ArrowRight","mac+ArrowRight"],r._translateEmpty,{args:[a,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],r._translateEmpty,{args:[i,0],checker:n}],[["ArrowUp","mac+ArrowUp"],r._translateEmpty,{args:[0,-a],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],r._translateEmpty,{args:[0,-i],checker:n}],[["ArrowDown","mac+ArrowDown"],r._translateEmpty,{args:[0,a],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],r._translateEmpty,{args:[0,i],checker:n}]]))}static initialize(r,n){ti.initialize(r,n);const a=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(a.getPropertyValue("--freetext-padding"))}static updateDefaultParams(r,n){switch(r){case Un.FREETEXT_SIZE:ui._defaultFontSize=n;break;case Un.FREETEXT_COLOR:ui._defaultColor=n;break}}updateParams(r,n){switch(r){case Un.FREETEXT_SIZE:ue(this,Ks,xee).call(this,n);break;case Un.FREETEXT_COLOR:ue(this,Ks,vee).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Un.FREETEXT_SIZE,ui._defaultFontSize],[Un.FREETEXT_COLOR,ui._defaultColor||ti._defaultLineColor]]}get propertiesToUpdate(){return[[Un.FREETEXT_SIZE,v(this,Zu)],[Un.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new wj(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Un.FREETEXT_COLOR}onUpdatedColor(){var r;this.editorDiv.style.color=this.color,(r=this._colorPicker)==null||r.update(this.color),super.onUpdatedColor()}_translateEmpty(r,n){this._uiManager.translateSelectedEditors(r,n,!0)}getInitialTranslation(){const r=this.parentScale;return[-ui._internalPadding*r,-(ui._internalPadding+v(this,Zu))*r]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),J(this,L1,new AbortController);const r=this._uiManager.combinedSignal(v(this,L1));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:r}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:r}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:r}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:r}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:r}),!0}disableEditMode(){var r;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",v(this,qN)),this._isDraggable=!0,(r=v(this,L1))==null||r.abort(),J(this,L1,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(r){this._focusEventsAllowed&&(super.focusin(r),r.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(r){var n;this.width||(this.enableEditMode(),r&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const r=v(this,Ju),n=J(this,Ju,ue(this,Ks,yee).call(this).trimEnd());if(r===n)return;const a=i=>{if(J(this,Ju,i),!i){this.remove();return}ue(this,Ks,O3).call(this),this._uiManager.rebuild(this),ue(this,Ks,k3).call(this)};this.addCommands({cmd:()=>{a(n)},undo:()=>{a(r)},mustExec:!1}),ue(this,Ks,k3).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(r){r.target===this.div&&r.key==="Enter"&&(this.enterInEditMode(),r.preventDefault())}editorDivKeydown(r){ui._keyboardManager.exec(this,r)}editorDivFocus(r){this.isEditing=!0}editorDivBlur(r){this.isEditing=!1}editorDivInput(r){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let r,n;(this._isCopy||this.annotationElementId)&&(r=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",v(this,qN)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:a}=this.editorDiv;if(a.fontSize=`calc(${v(this,Zu)}px * var(--total-scale-factor))`,a.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[h,f]=this.pageDimensions,[m,g]=this.pageTranslation;let b,y;switch(this.rotation){case 0:b=r+(o[0]-m)/h,y=n+this.height-(o[1]-g)/f;break;case 90:b=r+(o[0]-m)/h,y=n-(o[1]-g)/f,[l,u]=[u,-l];break;case 180:b=r-this.width+(o[0]-m)/h,y=n-(o[1]-g)/f,[l,u]=[-l,-u];break;case 270:b=r+(o[0]-m-this.height*f)/h,y=n+(o[1]-g-this.width*h)/f,[l,u]=[-u,l];break}this.setAt(b*i,y*s,l,u)}else this._moveAfterPaste(r,n);ue(this,Ks,O3).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(r){var b,y,w;const n=r.clipboardData||window.clipboardData,{types:a}=n;if(a.length===1&&a[0]==="text/plain")return;r.preventDefault();const i=ue(b=ui,wm,wL).call(b,n.getData("text")||"").replaceAll(xT,`
`);if(!i)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!i.includes(`
`)){o.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:l,startOffset:u}=o,h=[],f=[];if(l.nodeType===Node.TEXT_NODE){const A=l.parentElement;if(f.push(l.nodeValue.slice(u).replaceAll(xT,"")),A!==this.editorDiv){let S=h;for(const N of this.editorDiv.childNodes){if(N===A){S=f;continue}S.push(ue(y=ui,wm,P3).call(y,N))}}h.push(l.nodeValue.slice(0,u).replaceAll(xT,""))}else if(l===this.editorDiv){let A=h,S=0;for(const N of this.editorDiv.childNodes)S++===u&&(A=f),A.push(ue(w=ui,wm,P3).call(w,N))}J(this,Ju,`${h.join(`
`)}${i}${f.join(`
`)}`),ue(this,Ks,O3).call(this);const m=new Range;let g=Math.sumPrecise(h.map(A=>A.length));for(const{firstChild:A}of this.editorDiv.childNodes)if(A.nodeType===Node.TEXT_NODE){const S=A.nodeValue.length;if(g<=S){m.setStart(A,g),m.setEnd(A,g);break}g-=S}s.removeAllRanges(),s.addRange(m)}get contentDiv(){return this.editorDiv}getPDFRect(){const r=ui._internalPadding*this.parentScale;return this.getRect(r,r)}static async deserialize(r,n,a){var o;let i=null;if(r instanceof fee){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:h,rotation:f,id:m,popupRef:g,richText:b,contentsObj:y,creationDate:w,modificationDate:A},textContent:S,textPosition:N,parent:{page:{pageNumber:T}}}=r;if(!S||S.length===0)return null;i=r={annotationType:dn.FREETEXT,color:Array.from(u),fontSize:l,value:S.join(`
`),position:N,pageIndex:T-1,rect:h.slice(0),rotation:f,annotationElementId:m,id:m,deleted:!1,popupRef:g,comment:(y==null?void 0:y.str)||null,richText:b,creationDate:w,modificationDate:A}}const s=await super.deserialize(r,n,a);return J(s,Zu,r.fontSize),s.color=wr.makeHexColor(...r.color),J(s,Ju,ue(o=ui,wm,wL).call(o,r.value)),s._initialData=i,r.comment&&s.setCommentData(r),s}serialize(r=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=ti._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),a=Object.assign(super.serialize(r),{color:n,fontSize:v(this,Zu),value:ue(this,Ks,bee).call(this)});return this.addComment(a),r?(a.isCopy=!0,a):this.annotationElementId&&!ue(this,Ks,wee).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(r){const n=super.renderAnnotationElement(r);if(!n)return null;const{style:a}=n;a.fontSize=`calc(${v(this,Zu)}px * var(--total-scale-factor))`,a.color=this.color,n.replaceChildren();for(const i of v(this,Ju).split(`
`)){const s=document.createElement("div");s.append(i?document.createTextNode(i):document.createElement("br")),n.append(s)}return r.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:v(this,Ju)}}),n}resetAnnotationElement(r){super.resetAnnotationElement(r),r.resetEdited()}};Ju=new WeakMap,qN=new WeakMap,L1=new WeakMap,Zu=new WeakMap,Ks=new WeakSet,xee=function(r){const n=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-v(this,Zu))*this.parentScale),J(this,Zu,i),ue(this,Ks,k3).call(this)},a=v(this,Zu);this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Un.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},vee=function(r){const n=i=>{this.color=i,this.onUpdatedColor()},a=this.color;this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Un.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},yee=function(){var a;const r=[];this.editorDiv.normalize();let n=null;for(const i of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&i.nodeName==="BR"||(r.push(ue(a=ui,wm,P3).call(a,i)),n=i);return r.join(`
`)},k3=function(){const[r,n]=this.parentDimensions;let a;if(this.isAttachedToDOM)a=this.div.getBoundingClientRect();else{const{currentLayer:i,div:s}=this,o=s.style.display,l=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",i.div.append(this.div),a=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=a.width/r,this.height=a.height/n):(this.width=a.height/r,this.height=a.width/n),this.fixAndSetPosition()},wm=new WeakSet,P3=function(r){return(r.nodeType===Node.TEXT_NODE?r.nodeValue:r.innerText).replaceAll(xT,"")},O3=function(){if(this.editorDiv.replaceChildren(),!!v(this,Ju))for(const r of v(this,Ju).split(`
`)){const n=document.createElement("div");n.append(r?document.createTextNode(r):document.createElement("br")),this.editorDiv.append(n)}},bee=function(){return v(this,Ju).replaceAll(""," ")},wL=function(r){return r.replaceAll(" ","")},wee=function(r){const{value:n,fontSize:a,color:i,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||r.value!==n||r.fontSize!==a||r.color.some((o,l)=>o!==i[l])||r.pageIndex!==s},ie(ui,wm),tr(ui,"_freeTextDefaultContent",""),tr(ui,"_internalPadding",0),tr(ui,"_defaultColor",null),tr(ui,"_defaultFontSize",10),tr(ui,"_type","freetext"),tr(ui,"_editorType",dn.FREETEXT);let bL=ui;class Er{toSVGPath(){Ka("Abstract method `toSVGPath` must be implemented.")}get box(){Ka("Abstract getter `box` must be implemented.")}serialize(e,r){Ka("Abstract method `serialize` must be implemented.")}static _rescale(e,r,n,a,i,s){s||(s=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)s[o]=r+e[o]*a,s[o+1]=n+e[o+1]*i;return s}static _rescaleAndSwap(e,r,n,a,i,s){s||(s=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)s[o]=r+e[o+1]*a,s[o+1]=n+e[o]*i;return s}static _translate(e,r,n,a){a||(a=new Float32Array(e.length));for(let i=0,s=e.length;i<s;i+=2)a[i]=r+e[i],a[i+1]=n+e[i+1];return a}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,r,n,a,i){switch(i){case 90:return[1-r/n,e/a];case 180:return[1-e/n,1-r/a];case 270:return[r/n,1-e/a];default:return[e/n,r/a]}}static _normalizePagePoint(e,r,n){switch(n){case 90:return[1-r,e];case 180:return[1-e,1-r];case 270:return[r,1-e];default:return[e,r]}}static createBezierPoints(e,r,n,a,i,s){return[(e+5*n)/6,(r+5*a)/6,(5*n+i)/6,(5*a+s)/6,(n+i)/2,(a+s)/2]}}tr(Er,"PRECISION",1e-4);var Qu,rf,Dw,Rw,_0,jn,M1,F1,GN,WN,Iw,Lw,px,KN,ik,sk,vo,t_,Aee,_ee,See,Nee,Eee,Tee;const Sp=class Sp{constructor({x:e,y:r},n,a,i,s,o=0){ie(this,vo);ie(this,Qu);ie(this,rf,[]);ie(this,Dw);ie(this,Rw);ie(this,_0,[]);ie(this,jn,new Float32Array(18));ie(this,M1);ie(this,F1);ie(this,GN);ie(this,WN);ie(this,Iw);ie(this,Lw);ie(this,px,[]);J(this,Qu,n),J(this,Lw,i*a),J(this,Rw,s),v(this,jn).set([NaN,NaN,NaN,NaN,e,r],6),J(this,Dw,o),J(this,WN,v(Sp,KN)*a),J(this,GN,v(Sp,sk)*a),J(this,Iw,a),v(this,px).push(e,r)}isEmpty(){return isNaN(v(this,jn)[8])}add({x:e,y:r}){var H;J(this,M1,e),J(this,F1,r);const[n,a,i,s]=v(this,Qu);let[o,l,u,h]=v(this,jn).subarray(8,12);const f=e-u,m=r-h,g=Math.hypot(f,m);if(g<v(this,GN))return!1;const b=g-v(this,WN),y=b/g,w=y*f,A=y*m;let S=o,N=l;o=u,l=h,u+=w,h+=A,(H=v(this,px))==null||H.push(e,r);const T=-A/b,k=w/b,R=T*v(this,Lw),O=k*v(this,Lw);return v(this,jn).set(v(this,jn).subarray(2,8),0),v(this,jn).set([u+R,h+O],4),v(this,jn).set(v(this,jn).subarray(14,18),12),v(this,jn).set([u-R,h-O],16),isNaN(v(this,jn)[6])?(v(this,_0).length===0&&(v(this,jn).set([o+R,l+O],2),v(this,_0).push(NaN,NaN,NaN,NaN,(o+R-n)/i,(l+O-a)/s),v(this,jn).set([o-R,l-O],14),v(this,rf).push(NaN,NaN,NaN,NaN,(o-R-n)/i,(l-O-a)/s)),v(this,jn).set([S,N,o,l,u,h],6),!this.isEmpty()):(v(this,jn).set([S,N,o,l,u,h],6),Math.abs(Math.atan2(N-l,S-o)-Math.atan2(A,w))<Math.PI/2?([o,l,u,h]=v(this,jn).subarray(2,6),v(this,_0).push(NaN,NaN,NaN,NaN,((o+u)/2-n)/i,((l+h)/2-a)/s),[o,l,S,N]=v(this,jn).subarray(14,18),v(this,rf).push(NaN,NaN,NaN,NaN,((S+o)/2-n)/i,((N+l)/2-a)/s),!0):([S,N,o,l,u,h]=v(this,jn).subarray(0,6),v(this,_0).push(((S+5*o)/6-n)/i,((N+5*l)/6-a)/s,((5*o+u)/6-n)/i,((5*l+h)/6-a)/s,((o+u)/2-n)/i,((l+h)/2-a)/s),[u,h,o,l,S,N]=v(this,jn).subarray(12,18),v(this,rf).push(((S+5*o)/6-n)/i,((N+5*l)/6-a)/s,((5*o+u)/6-n)/i,((5*l+h)/6-a)/s,((o+u)/2-n)/i,((l+h)/2-a)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=v(this,_0),r=v(this,rf);if(isNaN(v(this,jn)[6])&&!this.isEmpty())return ue(this,vo,Aee).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let a=6;a<e.length;a+=6)isNaN(e[a])?n.push(`L${e[a+4]} ${e[a+5]}`):n.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);ue(this,vo,See).call(this,n);for(let a=r.length-6;a>=6;a-=6)isNaN(r[a])?n.push(`L${r[a+4]} ${r[a+5]}`):n.push(`C${r[a]} ${r[a+1]} ${r[a+2]} ${r[a+3]} ${r[a+4]} ${r[a+5]}`);return ue(this,vo,_ee).call(this,n),n.join(" ")}newFreeDrawOutline(e,r,n,a,i,s){return new jee(e,r,n,a,i,s)}getOutlines(){var f;const e=v(this,_0),r=v(this,rf),n=v(this,jn),[a,i,s,o]=v(this,Qu),l=new Float32Array((((f=v(this,px))==null?void 0:f.length)??0)+2);for(let m=0,g=l.length-2;m<g;m+=2)l[m]=(v(this,px)[m]-a)/s,l[m+1]=(v(this,px)[m+1]-i)/o;if(l[l.length-2]=(v(this,M1)-a)/s,l[l.length-1]=(v(this,F1)-i)/o,isNaN(n[6])&&!this.isEmpty())return ue(this,vo,Nee).call(this,l);const u=new Float32Array(v(this,_0).length+24+v(this,rf).length);let h=e.length;for(let m=0;m<h;m+=2){if(isNaN(e[m])){u[m]=u[m+1]=NaN;continue}u[m]=e[m],u[m+1]=e[m+1]}h=ue(this,vo,Tee).call(this,u,h);for(let m=r.length-6;m>=6;m-=6)for(let g=0;g<6;g+=2){if(isNaN(r[m+g])){u[h]=u[h+1]=NaN,h+=2;continue}u[h]=r[m+g],u[h+1]=r[m+g+1],h+=2}return ue(this,vo,Eee).call(this,u,h),this.newFreeDrawOutline(u,l,v(this,Qu),v(this,Iw),v(this,Dw),v(this,Rw))}};Qu=new WeakMap,rf=new WeakMap,Dw=new WeakMap,Rw=new WeakMap,_0=new WeakMap,jn=new WeakMap,M1=new WeakMap,F1=new WeakMap,GN=new WeakMap,WN=new WeakMap,Iw=new WeakMap,Lw=new WeakMap,px=new WeakMap,KN=new WeakMap,ik=new WeakMap,sk=new WeakMap,vo=new WeakSet,t_=function(){const e=v(this,jn).subarray(4,6),r=v(this,jn).subarray(16,18),[n,a,i,s]=v(this,Qu);return[(v(this,M1)+(e[0]-r[0])/2-n)/i,(v(this,F1)+(e[1]-r[1])/2-a)/s,(v(this,M1)+(r[0]-e[0])/2-n)/i,(v(this,F1)+(r[1]-e[1])/2-a)/s]},Aee=function(){const[e,r,n,a]=v(this,Qu),[i,s,o,l]=ue(this,vo,t_).call(this);return`M${(v(this,jn)[2]-e)/n} ${(v(this,jn)[3]-r)/a} L${(v(this,jn)[4]-e)/n} ${(v(this,jn)[5]-r)/a} L${i} ${s} L${o} ${l} L${(v(this,jn)[16]-e)/n} ${(v(this,jn)[17]-r)/a} L${(v(this,jn)[14]-e)/n} ${(v(this,jn)[15]-r)/a} Z`},_ee=function(e){const r=v(this,rf);e.push(`L${r[4]} ${r[5]} Z`)},See=function(e){const[r,n,a,i]=v(this,Qu),s=v(this,jn).subarray(4,6),o=v(this,jn).subarray(16,18),[l,u,h,f]=ue(this,vo,t_).call(this);e.push(`L${(s[0]-r)/a} ${(s[1]-n)/i} L${l} ${u} L${h} ${f} L${(o[0]-r)/a} ${(o[1]-n)/i}`)},Nee=function(e){const r=v(this,jn),[n,a,i,s]=v(this,Qu),[o,l,u,h]=ue(this,vo,t_).call(this),f=new Float32Array(36);return f.set([NaN,NaN,NaN,NaN,(r[2]-n)/i,(r[3]-a)/s,NaN,NaN,NaN,NaN,(r[4]-n)/i,(r[5]-a)/s,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,(r[16]-n)/i,(r[17]-a)/s,NaN,NaN,NaN,NaN,(r[14]-n)/i,(r[15]-a)/s],0),this.newFreeDrawOutline(f,e,v(this,Qu),v(this,Iw),v(this,Dw),v(this,Rw))},Eee=function(e,r){const n=v(this,rf);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],r),r+=6},Tee=function(e,r){const n=v(this,jn).subarray(4,6),a=v(this,jn).subarray(16,18),[i,s,o,l]=v(this,Qu),[u,h,f,m]=ue(this,vo,t_).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-i)/o,(n[1]-s)/l,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,f,m,NaN,NaN,NaN,NaN,(a[0]-i)/o,(a[1]-s)/l],r),r+=24},ie(Sp,KN,8),ie(Sp,ik,2),ie(Sp,sk,v(Sp,KN)+v(Sp,ik));let _j=Sp;var Mw,B1,Qp,YN,ed,XN,ws,ok,Cee;class jee extends Er{constructor(r,n,a,i,s,o){super();ie(this,ok);ie(this,Mw);ie(this,B1,new Float32Array(4));ie(this,Qp);ie(this,YN);ie(this,ed);ie(this,XN);ie(this,ws);J(this,ws,r),J(this,ed,n),J(this,Mw,a),J(this,XN,i),J(this,Qp,s),J(this,YN,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],ue(this,ok,Cee).call(this,o);const[l,u,h,f]=v(this,B1);for(let m=0,g=r.length;m<g;m+=2)r[m]=(r[m]-l)/h,r[m+1]=(r[m+1]-u)/f;for(let m=0,g=n.length;m<g;m+=2)n[m]=(n[m]-l)/h,n[m+1]=(n[m+1]-u)/f}toSVGPath(){const r=[`M${v(this,ws)[4]} ${v(this,ws)[5]}`];for(let n=6,a=v(this,ws).length;n<a;n+=6){if(isNaN(v(this,ws)[n])){r.push(`L${v(this,ws)[n+4]} ${v(this,ws)[n+5]}`);continue}r.push(`C${v(this,ws)[n]} ${v(this,ws)[n+1]} ${v(this,ws)[n+2]} ${v(this,ws)[n+3]} ${v(this,ws)[n+4]} ${v(this,ws)[n+5]}`)}return r.push("Z"),r.join(" ")}serialize([r,n,a,i],s){const o=a-r,l=i-n;let u,h;switch(s){case 0:u=Er._rescale(v(this,ws),r,i,o,-l),h=Er._rescale(v(this,ed),r,i,o,-l);break;case 90:u=Er._rescaleAndSwap(v(this,ws),r,n,o,l),h=Er._rescaleAndSwap(v(this,ed),r,n,o,l);break;case 180:u=Er._rescale(v(this,ws),a,n,-o,l),h=Er._rescale(v(this,ed),a,n,-o,l);break;case 270:u=Er._rescaleAndSwap(v(this,ws),a,i,-o,-l),h=Er._rescaleAndSwap(v(this,ed),a,i,-o,-l);break}return{outline:Array.from(u),points:[Array.from(h)]}}get box(){return v(this,B1)}newOutliner(r,n,a,i,s,o=0){return new _j(r,n,a,i,s,o)}getNewOutline(r,n){const[a,i,s,o]=v(this,B1),[l,u,h,f]=v(this,Mw),m=s*h,g=o*f,b=a*h+l,y=i*f+u,w=this.newOutliner({x:v(this,ed)[0]*m+b,y:v(this,ed)[1]*g+y},v(this,Mw),v(this,XN),r,v(this,YN),n??v(this,Qp));for(let A=2;A<v(this,ed).length;A+=2)w.add({x:v(this,ed)[A]*m+b,y:v(this,ed)[A+1]*g+y});return w.getOutlines()}}Mw=new WeakMap,B1=new WeakMap,Qp=new WeakMap,YN=new WeakMap,ed=new WeakMap,XN=new WeakMap,ws=new WeakMap,ok=new WeakSet,Cee=function(r){const n=v(this,ws);let a=n[4],i=n[5];const s=[a,i,a,i];let o=a,l=i,u=a,h=i;const f=r?Math.max:Math.min,m=new Float32Array(4);for(let b=6,y=n.length;b<y;b+=6){const w=n[b+4],A=n[b+5];isNaN(n[b])?(wr.pointBoundingBox(w,A,s),l>A?(o=w,l=A):l===A&&(o=f(o,w)),h<A?(u=w,h=A):h===A&&(u=f(u,w))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,wr.bezierBoundingBox(a,i,...n.slice(b,b+6),m),wr.rectBoundingBox(m[0],m[1],m[2],m[3],s),l>m[1]?(o=m[0],l=m[1]):l===m[1]&&(o=f(o,m[0])),h<m[3]?(u=m[2],h=m[3]):h===m[3]&&(u=f(u,m[2]))),a=w,i=A}const g=v(this,B1);g[0]=s[0]-v(this,Qp),g[1]=s[1]-v(this,Qp),g[2]=s[2]-s[0]+2*v(this,Qp),g[3]=s[3]-s[1]+2*v(this,Qp),this.firstPoint=[o,l],this.lastPoint=[u,h]};var JN,ZN,QN,mx,nf,Mc,kee,D3,Pee,Oee,_L;class AL{constructor(e,r=0,n=0,a=!0){ie(this,Mc);ie(this,JN);ie(this,ZN);ie(this,QN);ie(this,mx,[]);ie(this,nf,[]);const i=[1/0,1/0,-1/0,-1/0],s=10**-4;for(const{x:y,y:w,width:A,height:S}of e){const N=Math.floor((y-r)/s)*s,T=Math.ceil((y+A+r)/s)*s,k=Math.floor((w-r)/s)*s,R=Math.ceil((w+S+r)/s)*s,O=[N,k,R,!0],U=[T,k,R,!1];v(this,mx).push(O,U),wr.rectBoundingBox(N,k,T,R,i)}const o=i[2]-i[0]+2*n,l=i[3]-i[1]+2*n,u=i[0]-n,h=i[1]-n;let f=a?-1/0:1/0,m=1/0;const g=v(this,mx).at(a?-1:-2),b=[g[0],g[2]];for(const y of v(this,mx)){const[w,A,S,N]=y;!N&&a?A<m?(m=A,f=w):A===m&&(f=Math.max(f,w)):N&&!a&&(A<m?(m=A,f=w):A===m&&(f=Math.min(f,w))),y[0]=(w-u)/o,y[1]=(A-h)/l,y[2]=(S-h)/l}J(this,JN,new Float32Array([u,h,o,l])),J(this,ZN,[f,m]),J(this,QN,b)}getOutlines(){v(this,mx).sort((r,n)=>r[0]-n[0]||r[1]-n[1]||r[2]-n[2]);const e=[];for(const r of v(this,mx))r[3]?(e.push(...ue(this,Mc,_L).call(this,r)),ue(this,Mc,Pee).call(this,r)):(ue(this,Mc,Oee).call(this,r),e.push(...ue(this,Mc,_L).call(this,r)));return ue(this,Mc,kee).call(this,e)}}JN=new WeakMap,ZN=new WeakMap,QN=new WeakMap,mx=new WeakMap,nf=new WeakMap,Mc=new WeakSet,kee=function(e){const r=[],n=new Set;for(const s of e){const[o,l,u]=s;r.push([o,l,s],[o,u,s])}r.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=r.length;s<o;s+=2){const l=r[s][2],u=r[s+1][2];l.push(u),u.push(l),n.add(l),n.add(u)}const a=[];let i;for(;n.size>0;){const s=n.values().next().value;let[o,l,u,h,f]=s;n.delete(s);let m=o,g=l;for(i=[o,u],a.push(i);;){let b;if(n.has(h))b=h;else if(n.has(f))b=f;else break;n.delete(b),[o,l,u,h,f]=b,m!==o&&(i.push(m,g,o,g===l?l:u),m=o),g=g===l?u:l}i.push(m,g)}return new Uve(a,v(this,JN),v(this,ZN),v(this,QN))},D3=function(e){const r=v(this,nf);let n=0,a=r.length-1;for(;n<=a;){const i=n+a>>1,s=r[i][0];if(s===e)return i;s<e?n=i+1:a=i-1}return a+1},Pee=function([,e,r]){const n=ue(this,Mc,D3).call(this,e);v(this,nf).splice(n,0,[e,r])},Oee=function([,e,r]){const n=ue(this,Mc,D3).call(this,e);for(let a=n;a<v(this,nf).length;a++){const[i,s]=v(this,nf)[a];if(i!==e)break;if(i===e&&s===r){v(this,nf).splice(a,1);return}}for(let a=n-1;a>=0;a--){const[i,s]=v(this,nf)[a];if(i!==e)break;if(i===e&&s===r){v(this,nf).splice(a,1);return}}},_L=function(e){const[r,n,a]=e,i=[[r,n,a]],s=ue(this,Mc,D3).call(this,a);for(let o=0;o<s;o++){const[l,u]=v(this,nf)[o];for(let h=0,f=i.length;h<f;h++){const[,m,g]=i[h];if(!(u<=m||g<=l)){if(m>=l){if(g>u)i[h][1]=u;else{if(f===1)return[];i.splice(h,1),h--,f--}continue}i[h][2]=l,g>u&&i.push([r,u,g])}}}return i};var eE,Fw;class Uve extends Er{constructor(r,n,a,i){super();ie(this,eE);ie(this,Fw);J(this,Fw,r),J(this,eE,n),this.firstPoint=a,this.lastPoint=i}toSVGPath(){const r=[];for(const n of v(this,Fw)){let[a,i]=n;r.push(`M${a} ${i}`);for(let s=2;s<n.length;s+=2){const o=n[s],l=n[s+1];o===a?(r.push(`V${l}`),i=l):l===i&&(r.push(`H${o}`),a=o)}r.push("Z")}return r.join(" ")}serialize([r,n,a,i],s){const o=[],l=a-r,u=i-n;for(const h of v(this,Fw)){const f=new Array(h.length);for(let m=0;m<h.length;m+=2)f[m]=r+h[m]*l,f[m+1]=i-h[m+1]*u;o.push(f)}return o}get box(){return v(this,eE)}get classNamesForOutlining(){return["highlightOutline"]}}eE=new WeakMap,Fw=new WeakMap;class SL extends _j{newFreeDrawOutline(e,r,n,a,i,s){return new zve(e,r,n,a,i,s)}}class zve extends jee{newOutliner(e,r,n,a,i,s=0){return new SL(e,r,n,a,i,s)}}var Bw,tE,em,U1,rE,hu,nE,aE,z1,td,rd,pl,Uw,zw,Jl,$w,th,iE,vn,NL,R3,Dee,Ree,Iee,EL,wv,ah,Gb,Lee,I3,L3,Mee,Fee,Bee,Uee,zee;const na=class na extends ti{constructor(r){super({...r,name:"highlightEditor"});ie(this,vn);ie(this,Bw,null);ie(this,tE,0);ie(this,em);ie(this,U1,null);ie(this,rE,null);ie(this,hu,null);ie(this,nE,null);ie(this,aE,0);ie(this,z1,null);ie(this,td,null);ie(this,rd,null);ie(this,pl,!1);ie(this,Uw,null);ie(this,zw,null);ie(this,Jl,null);ie(this,$w,"");ie(this,th);ie(this,iE,"");this.color=r.color||na._defaultColor,J(this,th,r.thickness||na._defaultThickness),this.opacity=r.opacity||na._defaultOpacity,J(this,em,r.boxes||null),J(this,iE,r.methodOfCreation||""),J(this,$w,r.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",r.highlightId>-1?(J(this,pl,!0),ue(this,vn,R3).call(this,r),ue(this,vn,wv).call(this)):v(this,em)&&(J(this,Bw,r.anchorNode),J(this,tE,r.anchorOffset),J(this,nE,r.focusNode),J(this,aE,r.focusOffset),ue(this,vn,NL).call(this),ue(this,vn,wv).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const r=na.prototype;return ln(this,"_keyboardManager",new jE([[["ArrowLeft","mac+ArrowLeft"],r._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],r._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],r._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],r._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:v(this,pl)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:v(this,th),methodOfCreation:v(this,iE)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(r){return{numberOfColors:r.get("color").size}}static initialize(r,n){var a;ti.initialize(r,n),na._defaultColor||(na._defaultColor=((a=n.highlightColors)==null?void 0:a.values().next().value)||"#fff066")}static updateDefaultParams(r,n){switch(r){case Un.HIGHLIGHT_COLOR:na._defaultColor=n;break;case Un.HIGHLIGHT_THICKNESS:na._defaultThickness=n;break}}translateInPage(r,n){}get toolbarPosition(){return v(this,zw)}get commentButtonPosition(){return v(this,Uw)}updateParams(r,n){switch(r){case Un.HIGHLIGHT_COLOR:ue(this,vn,Dee).call(this,n);break;case Un.HIGHLIGHT_THICKNESS:ue(this,vn,Ree).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Un.HIGHLIGHT_COLOR,na._defaultColor],[Un.HIGHLIGHT_THICKNESS,na._defaultThickness]]}get propertiesToUpdate(){return[[Un.HIGHLIGHT_COLOR,this.color||na._defaultColor],[Un.HIGHLIGHT_THICKNESS,v(this,th)||na._defaultThickness],[Un.HIGHLIGHT_FREE,v(this,pl)]]}onUpdatedColor(){var r,n;(r=this.parent)==null||r.drawLayer.updateProperties(v(this,rd),{root:{fill:this.color,"fill-opacity":this.opacity}}),(n=v(this,rE))==null||n.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",J(this,rE,new bj({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(ue(this,vn,L3).call(this))}getBaseTranslation(){return[0,0]}getRect(r,n){return super.getRect(r,n,ue(this,vn,L3).call(this))}onceAdded(r){this.annotationElementId||this.parent.addUndoableEditor(this),r&&this.div.focus()}remove(){ue(this,vn,EL).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ue(this,vn,wv).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(r){var a;let n=!1;this.parent&&!r?ue(this,vn,EL).call(this):r&&(ue(this,vn,wv).call(this,r),n=!this.parent&&((a=this.div)==null?void 0:a.classList.contains("selectedEditor"))),super.setParent(r),this.show(this._isVisible),n&&this.select()}rotate(r){var i,s,o;const{drawLayer:n}=this.parent;let a;v(this,pl)?(r=(r-this.rotation+360)%360,a=ue(i=na,ah,Gb).call(i,v(this,td).box,r)):a=ue(s=na,ah,Gb).call(s,[this.x,this.y,this.width,this.height],r),n.updateProperties(v(this,rd),{bbox:a,root:{"data-main-rotation":r}}),n.updateProperties(v(this,Jl),{bbox:ue(o=na,ah,Gb).call(o,v(this,hu).box,r),root:{"data-main-rotation":r}})}render(){if(this.div)return this.div;const r=super.render();v(this,$w)&&(r.setAttribute("aria-label",v(this,$w)),r.setAttribute("role","mark")),v(this,pl)?r.classList.add("free"):this.div.addEventListener("keydown",ue(this,vn,Lee).bind(this),{signal:this._uiManager._signal});const n=J(this,z1,document.createElement("div"));return r.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=v(this,U1),this.setDims(),sQ(this,v(this,z1),["pointerover","pointerleave"]),this.enableEditing(),r}pointerover(){var r;this.isSelected||(r=this.parent)==null||r.drawLayer.updateProperties(v(this,Jl),{rootClass:{hovered:!0}})}pointerleave(){var r;this.isSelected||(r=this.parent)==null||r.drawLayer.updateProperties(v(this,Jl),{rootClass:{hovered:!1}})}_moveCaret(r){switch(this.parent.unselect(this),r){case 0:case 2:ue(this,vn,I3).call(this,!0);break;case 1:case 3:ue(this,vn,I3).call(this,!1);break}}select(){var r;super.select(),v(this,Jl)&&((r=this.parent)==null||r.drawLayer.updateProperties(v(this,Jl),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var r;super.unselect(),v(this,Jl)&&((r=this.parent)==null||r.drawLayer.updateProperties(v(this,Jl),{rootClass:{selected:!1}}),v(this,pl)||ue(this,vn,I3).call(this,!1))}get _mustFixPosition(){return!v(this,pl)}show(r=this._isVisible){super.show(r),this.parent&&(this.parent.drawLayer.updateProperties(v(this,rd),{rootClass:{hidden:!r}}),this.parent.drawLayer.updateProperties(v(this,Jl),{rootClass:{hidden:!r}}))}static startHighlighting(r,n,{target:a,x:i,y:s}){const{x:o,y:l,width:u,height:h}=a.getBoundingClientRect(),f=new AbortController,m=r.combinedSignal(f),g=b=>{f.abort(),ue(this,ah,Uee).call(this,r,b)};window.addEventListener("blur",g,{signal:m}),window.addEventListener("pointerup",g,{signal:m}),window.addEventListener("pointerdown",cs,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",dh,{signal:m}),a.addEventListener("pointermove",ue(this,ah,Bee).bind(this,r),{signal:m}),this._freeHighlight=new SL({x:i,y:s},[o,l,u,h],r.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(r,n,a){var y,w,A,S;let i=null;if(r instanceof mee){const{data:{quadPoints:N,rect:T,rotation:k,id:R,color:O,opacity:U,popupRef:H,richText:G,contentsObj:F,creationDate:L,modificationDate:re},parent:{page:{pageNumber:Z}}}=r;i=r={annotationType:dn.HIGHLIGHT,color:Array.from(O),opacity:U,quadPoints:N,boxes:null,pageIndex:Z-1,rect:T.slice(0),rotation:k,annotationElementId:R,id:R,deleted:!1,popupRef:H,richText:G,comment:(F==null?void 0:F.str)||null,creationDate:L,modificationDate:re}}else if(r instanceof UF){const{data:{inkLists:N,rect:T,rotation:k,id:R,color:O,borderStyle:{rawWidth:U},popupRef:H,richText:G,contentsObj:F,creationDate:L,modificationDate:re},parent:{page:{pageNumber:Z}}}=r;i=r={annotationType:dn.HIGHLIGHT,color:Array.from(O),thickness:U,inkLists:N,boxes:null,pageIndex:Z-1,rect:T.slice(0),rotation:k,annotationElementId:R,id:R,deleted:!1,popupRef:H,richText:G,comment:(F==null?void 0:F.str)||null,creationDate:L,modificationDate:re}}const{color:s,quadPoints:o,inkLists:l,opacity:u}=r,h=await super.deserialize(r,n,a);h.color=wr.makeHexColor(...s),h.opacity=u||1,l&&J(h,th,r.thickness),h._initialData=i,r.comment&&h.setCommentData(r);const[f,m]=h.pageDimensions,[g,b]=h.pageTranslation;if(o){const N=J(h,em,[]);for(let T=0;T<o.length;T+=8)N.push({x:(o[T]-g)/f,y:1-(o[T+1]-b)/m,width:(o[T+2]-o[T])/f,height:(o[T+1]-o[T+5])/m});ue(y=h,vn,NL).call(y),ue(w=h,vn,wv).call(w),h.rotate(h.rotation)}else if(l){J(h,pl,!0);const N=l[0],T={x:N[0]-g,y:m-(N[1]-b)},k=new SL(T,[0,0,f,m],1,v(h,th)/2,!0,.001);for(let U=0,H=N.length;U<H;U+=2)T.x=N[U]-g,T.y=m-(N[U+1]-b),k.add(T);const{id:R,clipPathId:O}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:k.toSVGPath()}},!0,!0);ue(A=h,vn,R3).call(A,{highlightOutlines:k.getOutlines(),highlightId:R,clipPathId:O}),ue(S=h,vn,wv).call(S),h.rotate(h.parentRotation)}return h}serialize(r=!1){if(this.isEmpty()||r)return null;if(this.deleted)return this.serializeDeleted();const n=ti._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),a=super.serialize(r);return Object.assign(a,{color:n,opacity:this.opacity,thickness:v(this,th),quadPoints:ue(this,vn,Mee).call(this),outlines:ue(this,vn,Fee).call(this,a.rect)}),this.addComment(a),this.annotationElementId&&!ue(this,vn,zee).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(r){return this.deleted?(r.hide(),null):(r.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Bw=new WeakMap,tE=new WeakMap,em=new WeakMap,U1=new WeakMap,rE=new WeakMap,hu=new WeakMap,nE=new WeakMap,aE=new WeakMap,z1=new WeakMap,td=new WeakMap,rd=new WeakMap,pl=new WeakMap,Uw=new WeakMap,zw=new WeakMap,Jl=new WeakMap,$w=new WeakMap,th=new WeakMap,iE=new WeakMap,vn=new WeakSet,NL=function(){const r=new AL(v(this,em),.001);J(this,td,r.getOutlines()),[this.x,this.y,this.width,this.height]=v(this,td).box;const n=new AL(v(this,em),.0025,.001,this._uiManager.direction==="ltr");J(this,hu,n.getOutlines());const{firstPoint:a}=v(this,td);J(this,Uw,[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height]);const{lastPoint:i}=v(this,hu);J(this,zw,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},R3=function({highlightOutlines:r,highlightId:n,clipPathId:a}){var m,g;if(J(this,td,r),J(this,hu,r.getNewOutline(v(this,th)/2+1.5,.0025)),n>=0)J(this,rd,n),J(this,U1,a),this.parent.drawLayer.finalizeDraw(n,{bbox:r.box,path:{d:r.toSVGPath()}}),J(this,Jl,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:v(this,hu).box,path:{d:v(this,hu).toSVGPath()}},!0));else if(this.parent){const b=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(v(this,rd),{bbox:ue(m=na,ah,Gb).call(m,v(this,td).box,(b-this.rotation+360)%360),path:{d:r.toSVGPath()}}),this.parent.drawLayer.updateProperties(v(this,Jl),{bbox:ue(g=na,ah,Gb).call(g,v(this,hu).box,b),path:{d:v(this,hu).toSVGPath()}})}const[s,o,l,u]=r.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=l,this.height=u;break;case 90:{const[b,y]=this.parentDimensions;this.x=o,this.y=1-s,this.width=l*y/b,this.height=u*b/y;break}case 180:this.x=1-s,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[b,y]=this.parentDimensions;this.x=1-o,this.y=s,this.width=l*y/b,this.height=u*b/y;break}}const{firstPoint:h}=r;J(this,Uw,[(h[0]-s)/l,(h[1]-o)/u]);const{lastPoint:f}=v(this,hu);J(this,zw,[(f[0]-s)/l,(f[1]-o)/u])},Dee=function(r){const n=(s,o)=>{this.color=s,this.opacity=o,this.onUpdatedColor()},a=this.color,i=this.opacity;this.addCommands({cmd:n.bind(this,r,na._defaultOpacity),undo:n.bind(this,a,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Un.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(r)},!0)},Ree=function(r){const n=v(this,th),a=i=>{J(this,th,i),ue(this,vn,Iee).call(this,i)};this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Un.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:r},!0)},Iee=function(r){v(this,pl)&&(ue(this,vn,R3).call(this,{highlightOutlines:v(this,td).getNewOutline(r/2)}),this.fixAndSetPosition(),this.setDims())},EL=function(){v(this,rd)===null||!this.parent||(this.parent.drawLayer.remove(v(this,rd)),J(this,rd,null),this.parent.drawLayer.remove(v(this,Jl)),J(this,Jl,null))},wv=function(r=this.parent){v(this,rd)===null&&({id:so(this,rd)._,clipPathId:so(this,U1)._}=r.drawLayer.draw({bbox:v(this,td).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:v(this,pl)},path:{d:v(this,td).toSVGPath()}},!1,!0),J(this,Jl,r.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:v(this,pl)},bbox:v(this,hu).box,path:{d:v(this,hu).toSVGPath()}},v(this,pl))),v(this,z1)&&(v(this,z1).style.clipPath=v(this,U1)))},ah=new WeakSet,Gb=function([r,n,a,i],s){switch(s){case 90:return[1-n-i,r,i,a];case 180:return[1-r-a,1-n-i,a,i];case 270:return[n,1-r-a,i,a]}return[r,n,a,i]},Lee=function(r){na._keyboardManager.exec(this,r)},I3=function(r){if(!v(this,Bw))return;const n=window.getSelection();r?n.setPosition(v(this,Bw),v(this,tE)):n.setPosition(v(this,nE),v(this,aE))},L3=function(){return v(this,pl)?this.rotation:0},Mee=function(){if(v(this,pl))return null;const[r,n]=this.pageDimensions,[a,i]=this.pageTranslation,s=v(this,em),o=new Float32Array(s.length*8);let l=0;for(const{x:u,y:h,width:f,height:m}of s){const g=u*r+a,b=(1-h)*n+i;o[l]=o[l+4]=g,o[l+1]=o[l+3]=b,o[l+2]=o[l+6]=g+f*r,o[l+5]=o[l+7]=b-m*n,l+=8}return o},Fee=function(r){return v(this,td).serialize(r,ue(this,vn,L3).call(this))},Bee=function(r,n){this._freeHighlight.add(n)&&r.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},Uee=function(r,n){this._freeHighlight.isEmpty()?r.drawLayer.remove(this._freeHighlightId):r.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},zee=function(r){const{color:n}=this._initialData;return this.hasEditedComment||r.color.some((a,i)=>a!==n[i])},ie(na,ah),tr(na,"_defaultColor",null),tr(na,"_defaultOpacity",1),tr(na,"_defaultThickness",12),tr(na,"_type","highlight"),tr(na,"_editorType",dn.HIGHLIGHT),tr(na,"_freeHighlightId",-1),tr(na,"_freeHighlight",null),tr(na,"_freeHighlightClipId","");let Sj=na;var $1;class $ee{constructor(){ie(this,$1,Object.create(null))}updateProperty(e,r){this[e]=r,this.updateSVGProperty(e,r)}updateProperties(e){if(e)for(const[r,n]of Object.entries(e))r.startsWith("_")||this.updateProperty(r,n)}updateSVGProperty(e,r){v(this,$1)[e]=r}toSVGProperties(){const e=v(this,$1);return J(this,$1,Object.create(null)),{root:e}}reset(){J(this,$1,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Ka("Not implemented")}}$1=new WeakMap;var nd,Vw,Bo,V1,H1,Hn,TL,jL,CL,r_,Vee,M3,n_,Wb;const Fn=class Fn extends ti{constructor(r){super(r);ie(this,Hn);ie(this,nd,null);ie(this,Vw);tr(this,"_colorPicker",null);tr(this,"_drawId",null);J(this,Vw,r.mustBeCommitted||!1),this._addOutlines(r)}onUpdatedColor(){var r;(r=this._colorPicker)==null||r.update(this.color),super.onUpdatedColor()}_addOutlines(r){r.drawOutlines&&(ue(this,Hn,TL).call(this,r),ue(this,Hn,r_).call(this))}static _mergeSVGProperties(r,n){const a=new Set(Object.keys(r));for(const[i,s]of Object.entries(n))a.has(i)?Object.assign(r[i],s):r[i]=s;return r}static getDefaultDrawingOptions(r){Ka("Not implemented")}static get typesMap(){Ka("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(r,n){const a=this.typesMap.get(r);a&&this._defaultDrawingOptions.updateProperty(a,n),this._currentParent&&(v(Fn,Bo).updateProperty(a,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(r,n){const a=this.constructor.typesMap.get(r);a&&this._updateProperty(r,a,n)}static get defaultPropertiesToUpdate(){const r=[],n=this._defaultDrawingOptions;for(const[a,i]of this.typesMap)r.push([a,n[i]]);return r}get propertiesToUpdate(){const r=[],{_drawingOptions:n}=this;for(const[a,i]of this.constructor.typesMap)r.push([a,n[i]]);return r}_updateProperty(r,n,a){const i=this._drawingOptions,s=i[n],o=l=>{var h;i.updateProperty(n,l);const u=v(this,nd).updateProperty(n,l);u&&ue(this,Hn,n_).call(this,u),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),r===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,a),undo:o.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:r,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,Fn._mergeSVGProperties(v(this,nd).getPathResizingSVGProperties(ue(this,Hn,M3).call(this)),{bbox:ue(this,Hn,Wb).call(this)}))}_onResized(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,Fn._mergeSVGProperties(v(this,nd).getPathResizedSVGProperties(ue(this,Hn,M3).call(this)),{bbox:ue(this,Hn,Wb).call(this)}))}_onTranslating(r,n){var a;(a=this.parent)==null||a.drawLayer.updateProperties(this._drawId,{bbox:ue(this,Hn,Wb).call(this)})}_onTranslated(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,Fn._mergeSVGProperties(v(this,nd).getPathTranslatedSVGProperties(ue(this,Hn,M3).call(this),this.parentDimensions),{bbox:ue(this,Hn,Wb).call(this)}))}_onStartDragging(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(r){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,v(this,Vw)&&(J(this,Vw,!1),this.commit(),this.parent.setSelected(this),r&&this.isOnScreen&&this.div.focus())}remove(){ue(this,Hn,CL).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ue(this,Hn,r_).call(this),ue(this,Hn,n_).call(this,v(this,nd).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(r){var a;let n=!1;this.parent&&!r?(this._uiManager.removeShouldRescale(this),ue(this,Hn,CL).call(this)):r&&(this._uiManager.addShouldRescale(this),ue(this,Hn,r_).call(this,r),n=!this.parent&&((a=this.div)==null?void 0:a.classList.contains("selectedEditor"))),super.setParent(r),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Fn._mergeSVGProperties({bbox:ue(this,Hn,Wb).call(this)},v(this,nd).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&ue(this,Hn,n_).call(this,v(this,nd).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let r,n;this._isCopy&&(r=this.x,n=this.y);const a=super.render();a.classList.add("draw");const i=document.createElement("div");return a.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(r,n),a}static createDrawerInstance(r,n,a,i,s){Ka("Not implemented")}static startDrawing(r,n,a,i){var w;const{target:s,offsetX:o,offsetY:l,pointerId:u,pointerType:h}=i;if(Gl.isInitializedAndDifferentPointerType(h))return;const{viewport:{rotation:f}}=r,{width:m,height:g}=s.getBoundingClientRect(),b=J(Fn,V1,new AbortController),y=r.combinedSignal(b);if(Gl.setPointer(h,u),window.addEventListener("pointerup",A=>{Gl.isSamePointerIdOrRemove(A.pointerId)&&this._endDraw(A)},{signal:y}),window.addEventListener("pointercancel",A=>{Gl.isSamePointerIdOrRemove(A.pointerId)&&this._currentParent.endDrawingSession()},{signal:y}),window.addEventListener("pointerdown",A=>{Gl.isSamePointerType(A.pointerType)&&(Gl.initializeAndAddPointerId(A.pointerId),v(Fn,Bo).isCancellable()&&(v(Fn,Bo).removeLastElement(),v(Fn,Bo).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",dh,{signal:y}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:y}),s.addEventListener("touchmove",A=>{Gl.isSameTimeStamp(A.timeStamp)&&cs(A)},{signal:y}),r.toggleDrawing(),(w=n._editorUndoBar)==null||w.hide(),v(Fn,Bo)){r.drawLayer.updateProperties(this._currentDrawId,v(Fn,Bo).startNew(o,l,m,g,f));return}n.updateUIForDefaultProperties(this),J(Fn,Bo,this.createDrawerInstance(o,l,m,g,f)),J(Fn,H1,this.getDefaultDrawingOptions()),this._currentParent=r,{id:this._currentDrawId}=r.drawLayer.draw(this._mergeSVGProperties(v(Fn,H1).toSVGProperties(),v(Fn,Bo).defaultSVGProperties),!0,!1)}static _drawMove(r){if(Gl.isSameTimeStamp(r.timeStamp),!v(Fn,Bo))return;const{offsetX:n,offsetY:a,pointerId:i}=r;if(Gl.isSamePointerId(i)){if(Gl.isUsingMultiplePointers()){this._endDraw(r);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,v(Fn,Bo).add(n,a)),Gl.setTimeStamp(r.timeStamp),cs(r)}}static _cleanup(r){r&&(this._currentDrawId=-1,this._currentParent=null,J(Fn,Bo,null),J(Fn,H1,null),Gl.clearTimeStamp()),v(Fn,V1)&&(v(Fn,V1).abort(),J(Fn,V1,null),Gl.clearPointerIds())}static _endDraw(r){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(r==null?void 0:r.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,v(Fn,Bo).end(r.offsetX,r.offsetY)),this.supportMultipleDrawings){const a=v(Fn,Bo),i=this._currentDrawId,s=a.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(i,a.setLastElement(s))},undo:()=>{n.drawLayer.updateProperties(i,a.removeLastElement())},mustExec:!1,type:Un.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(r){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Un.DRAW_STEP),!v(Fn,Bo).isEmpty()){const{pageDimensions:[a,i],scale:s}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:v(Fn,Bo).getOutlines(a*s,i*s,s,this._INNER_MARGIN),drawingOptions:v(Fn,H1),mustBeCommitted:!r});return this._cleanup(!0),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(r){}static deserializeDraw(r,n,a,i,s,o){Ka("Not implemented")}static async deserialize(r,n,a){var f,m;const{rawDims:{pageWidth:i,pageHeight:s,pageX:o,pageY:l}}=n.viewport,u=this.deserializeDraw(o,l,i,s,this._INNER_MARGIN,r),h=await super.deserialize(r,n,a);return h.createDrawingOptions(r),ue(f=h,Hn,TL).call(f,{drawOutlines:u}),ue(m=h,Hn,r_).call(m),h.onScaleChanging(),h.rotate(),h}serializeDraw(r){const[n,a]=this.pageTranslation,[i,s]=this.pageDimensions;return v(this,nd).serialize([n,a,i,s],r)}renderAnnotationElement(r){return r.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};nd=new WeakMap,Vw=new WeakMap,Bo=new WeakMap,V1=new WeakMap,H1=new WeakMap,Hn=new WeakSet,TL=function({drawOutlines:r,drawId:n,drawingOptions:a}){J(this,nd,r),this._drawingOptions||(this._drawingOptions=a),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,r.defaultProperties)):this._drawId=ue(this,Hn,jL).call(this,r,this.parent),ue(this,Hn,n_).call(this,r.box)},jL=function(r,n){const{id:a}=n.drawLayer.draw(Fn._mergeSVGProperties(this._drawingOptions.toSVGProperties(),r.defaultSVGProperties),!1,!1);return a},CL=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},r_=function(r=this.parent){if(!(this._drawId!==null&&this.parent===r)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,r.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=ue(this,Hn,jL).call(this,v(this,nd),r)}},Vee=function([r,n,a,i]){const{parentDimensions:[s,o],rotation:l}=this;switch(l){case 90:return[n,1-r,a*(o/s),i*(s/o)];case 180:return[1-r,1-n,a,i];case 270:return[1-n,r,a*(o/s),i*(s/o)];default:return[r,n,a,i]}},M3=function(){const{x:r,y:n,width:a,height:i,parentDimensions:[s,o],rotation:l}=this;switch(l){case 90:return[1-n,r,a*(s/o),i*(o/s)];case 180:return[1-r,1-n,a,i];case 270:return[n,1-r,a*(s/o),i*(o/s)];default:return[r,n,a,i]}},n_=function(r){[this.x,this.y,this.width,this.height]=ue(this,Hn,Vee).call(this,r),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Wb=function(){const{x:r,y:n,width:a,height:i,rotation:s,parentRotation:o,parentDimensions:[l,u]}=this;switch((s*4+o)/90){case 1:return[1-n-i,r,i,a];case 2:return[1-r-a,1-n-i,a,i];case 3:return[n,1-r-a,i,a];case 4:return[r,n-a*(l/u),i*(u/l),a*(l/u)];case 5:return[1-n,r,a*(l/u),i*(u/l)];case 6:return[1-r-i*(u/l),1-n,i*(u/l),a*(l/u)];case 7:return[n-a*(l/u),1-r-i*(u/l),a*(l/u),i*(u/l)];case 8:return[r-a,n-i,a,i];case 9:return[1-n,r-a,i,a];case 10:return[1-r,1-n,a,i];case 11:return[n-i,1-r,i,a];case 12:return[r-i*(u/l),n,i*(u/l),a*(l/u)];case 13:return[1-n-a*(l/u),r-i*(u/l),a*(l/u),i*(u/l)];case 14:return[1-r,1-n-a*(l/u),i*(u/l),a*(l/u)];case 15:return[n,1-r,a*(l/u),i*(u/l)];default:return[r,n,a,i]}},tr(Fn,"_currentDrawId",-1),tr(Fn,"_currentParent",null),ie(Fn,Bo,null),ie(Fn,V1,null),ie(Fn,H1,null),tr(Fn,"_INNER_MARGIN",3);let Nj=Fn;var S0,Uo,zo,q1,Hw,Sc,ml,rh,G1,W1,K1,qw,F3;class $ve{constructor(e,r,n,a,i,s){ie(this,qw);ie(this,S0,new Float64Array(6));ie(this,Uo);ie(this,zo);ie(this,q1);ie(this,Hw);ie(this,Sc);ie(this,ml,"");ie(this,rh,0);ie(this,G1,new kE);ie(this,W1);ie(this,K1);J(this,W1,n),J(this,K1,a),J(this,q1,i),J(this,Hw,s),[e,r]=ue(this,qw,F3).call(this,e,r);const o=J(this,Uo,[NaN,NaN,NaN,NaN,e,r]);J(this,Sc,[e,r]),J(this,zo,[{line:o,points:v(this,Sc)}]),v(this,S0).set(o,0)}updateProperty(e,r){e==="stroke-width"&&J(this,Hw,r)}isEmpty(){return!v(this,zo)||v(this,zo).length===0}isCancellable(){return v(this,Sc).length<=10}add(e,r){[e,r]=ue(this,qw,F3).call(this,e,r);const[n,a,i,s]=v(this,S0).subarray(2,6),o=e-i,l=r-s;return Math.hypot(v(this,W1)*o,v(this,K1)*l)<=2?null:(v(this,Sc).push(e,r),isNaN(n)?(v(this,S0).set([i,s,e,r],2),v(this,Uo).push(NaN,NaN,NaN,NaN,e,r),{path:{d:this.toSVGPath()}}):(isNaN(v(this,S0)[0])&&v(this,Uo).splice(6,6),v(this,S0).set([n,a,i,s,e,r],0),v(this,Uo).push(...Er.createBezierPoints(n,a,i,s,e,r)),{path:{d:this.toSVGPath()}}))}end(e,r){const n=this.add(e,r);return n||(v(this,Sc).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,r,n,a,i){J(this,W1,n),J(this,K1,a),J(this,q1,i),[e,r]=ue(this,qw,F3).call(this,e,r);const s=J(this,Uo,[NaN,NaN,NaN,NaN,e,r]);J(this,Sc,[e,r]);const o=v(this,zo).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),v(this,zo).push({line:s,points:v(this,Sc)}),v(this,S0).set(s,0),J(this,rh,0),this.toSVGPath(),null}getLastElement(){return v(this,zo).at(-1)}setLastElement(e){return v(this,zo)?(v(this,zo).push(e),J(this,Uo,e.line),J(this,Sc,e.points),J(this,rh,0),{path:{d:this.toSVGPath()}}):v(this,G1).setLastElement(e)}removeLastElement(){if(!v(this,zo))return v(this,G1).removeLastElement();v(this,zo).pop(),J(this,ml,"");for(let e=0,r=v(this,zo).length;e<r;e++){const{line:n,points:a}=v(this,zo)[e];J(this,Uo,n),J(this,Sc,a),J(this,rh,0),this.toSVGPath()}return{path:{d:v(this,ml)}}}toSVGPath(){const e=Er.svgRound(v(this,Uo)[4]),r=Er.svgRound(v(this,Uo)[5]);if(v(this,Sc).length===2)return J(this,ml,`${v(this,ml)} M ${e} ${r} Z`),v(this,ml);if(v(this,Sc).length<=6){const a=v(this,ml).lastIndexOf("M");J(this,ml,`${v(this,ml).slice(0,a)} M ${e} ${r}`),J(this,rh,6)}if(v(this,Sc).length===4){const a=Er.svgRound(v(this,Uo)[10]),i=Er.svgRound(v(this,Uo)[11]);return J(this,ml,`${v(this,ml)} L ${a} ${i}`),J(this,rh,12),v(this,ml)}const n=[];v(this,rh)===0&&(n.push(`M ${e} ${r}`),J(this,rh,6));for(let a=v(this,rh),i=v(this,Uo).length;a<i;a+=6){const[s,o,l,u,h,f]=v(this,Uo).slice(a,a+6).map(Er.svgRound);n.push(`C${s} ${o} ${l} ${u} ${h} ${f}`)}return J(this,ml,v(this,ml)+n.join(" ")),J(this,rh,v(this,Uo).length),v(this,ml)}getOutlines(e,r,n,a){const i=v(this,zo).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),v(this,G1).build(v(this,zo),e,r,n,v(this,q1),v(this,Hw),a),J(this,S0,null),J(this,Uo,null),J(this,zo,null),J(this,ml,null),v(this,G1)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}S0=new WeakMap,Uo=new WeakMap,zo=new WeakMap,q1=new WeakMap,Hw=new WeakMap,Sc=new WeakMap,ml=new WeakMap,rh=new WeakMap,G1=new WeakMap,W1=new WeakMap,K1=new WeakMap,qw=new WeakSet,F3=function(e,r){return Er._normalizePoint(e,r,v(this,W1),v(this,K1),v(this,q1))};var Nc,sE,oE,ad,N0,E0,Gw,Ww,Y1,Al,Ap,Hee,qee,Gee;class kE extends Er{constructor(){super(...arguments);ie(this,Al);ie(this,Nc);ie(this,sE,0);ie(this,oE);ie(this,ad);ie(this,N0);ie(this,E0);ie(this,Gw);ie(this,Ww);ie(this,Y1)}build(r,n,a,i,s,o,l){J(this,N0,n),J(this,E0,a),J(this,Gw,i),J(this,Ww,s),J(this,Y1,o),J(this,oE,l??0),J(this,ad,r),ue(this,Al,qee).call(this)}get thickness(){return v(this,Y1)}setLastElement(r){return v(this,ad).push(r),{path:{d:this.toSVGPath()}}}removeLastElement(){return v(this,ad).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const r=[];for(const{line:n}of v(this,ad)){if(r.push(`M${Er.svgRound(n[4])} ${Er.svgRound(n[5])}`),n.length===6){r.push("Z");continue}if(n.length===12&&isNaN(n[6])){r.push(`L${Er.svgRound(n[10])} ${Er.svgRound(n[11])}`);continue}for(let a=6,i=n.length;a<i;a+=6){const[s,o,l,u,h,f]=n.subarray(a,a+6).map(Er.svgRound);r.push(`C${s} ${o} ${l} ${u} ${h} ${f}`)}}return r.join("")}serialize([r,n,a,i],s){const o=[],l=[],[u,h,f,m]=ue(this,Al,Hee).call(this);let g,b,y,w,A,S,N,T,k;switch(v(this,Ww)){case 0:k=Er._rescale,g=r,b=n+i,y=a,w=-i,A=r+u*a,S=n+(1-h-m)*i,N=r+(u+f)*a,T=n+(1-h)*i;break;case 90:k=Er._rescaleAndSwap,g=r,b=n,y=a,w=i,A=r+h*a,S=n+u*i,N=r+(h+m)*a,T=n+(u+f)*i;break;case 180:k=Er._rescale,g=r+a,b=n,y=-a,w=i,A=r+(1-u-f)*a,S=n+h*i,N=r+(1-u)*a,T=n+(h+m)*i;break;case 270:k=Er._rescaleAndSwap,g=r+a,b=n+i,y=-a,w=-i,A=r+(1-h-m)*a,S=n+(1-u-f)*i,N=r+(1-h)*a,T=n+(1-u)*i;break}for(const{line:R,points:O}of v(this,ad))o.push(k(R,g,b,y,w,s?new Array(R.length):null)),l.push(k(O,g,b,y,w,s?new Array(O.length):null));return{lines:o,points:l,rect:[A,S,N,T]}}static deserialize(r,n,a,i,s,{paths:{lines:o,points:l},rotation:u,thickness:h}){const f=[];let m,g,b,y,w;switch(u){case 0:w=Er._rescale,m=-r/a,g=n/i+1,b=1/a,y=-1/i;break;case 90:w=Er._rescaleAndSwap,m=-n/i,g=-r/a,b=1/i,y=1/a;break;case 180:w=Er._rescale,m=r/a+1,g=-n/i,b=-1/a,y=1/i;break;case 270:w=Er._rescaleAndSwap,m=n/i+1,g=r/a+1,b=-1/i,y=-1/a;break}if(!o){o=[];for(const S of l){const N=S.length;if(N===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1]]));continue}if(N===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1],NaN,NaN,NaN,NaN,S[2],S[3]]));continue}const T=new Float32Array(3*(N-2));o.push(T);let[k,R,O,U]=S.subarray(0,4);T.set([NaN,NaN,NaN,NaN,k,R],0);for(let H=4;H<N;H+=2){const G=S[H],F=S[H+1];T.set(Er.createBezierPoints(k,R,O,U,G,F),(H-2)*3),[k,R,O,U]=[O,U,G,F]}}}for(let S=0,N=o.length;S<N;S++)f.push({line:w(o[S].map(T=>T??NaN),m,g,b,y),points:w(l[S].map(T=>T??NaN),m,g,b,y)});const A=new this.prototype.constructor;return A.build(f,a,i,1,u,h,s),A}get box(){return v(this,Nc)}updateProperty(r,n){return r==="stroke-width"?ue(this,Al,Gee).call(this,n):null}updateParentDimensions([r,n],a){const[i,s]=ue(this,Al,Ap).call(this);J(this,N0,r),J(this,E0,n),J(this,Gw,a);const[o,l]=ue(this,Al,Ap).call(this),u=o-i,h=l-s,f=v(this,Nc);return f[0]-=u,f[1]-=h,f[2]+=2*u,f[3]+=2*h,f}updateRotation(r){return J(this,sE,r),{path:{transform:this.rotationTransform}}}get viewBox(){return v(this,Nc).map(Er.svgRound).join(" ")}get defaultProperties(){const[r,n]=v(this,Nc);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Er.svgRound(r)} ${Er.svgRound(n)}`}}}get rotationTransform(){const[,,r,n]=v(this,Nc);let a=0,i=0,s=0,o=0,l=0,u=0;switch(v(this,sE)){case 90:i=n/r,s=-r/n,l=r;break;case 180:a=-1,o=-1,l=r,u=n;break;case 270:i=-n/r,s=r/n,u=n;break;default:return""}return`matrix(${a} ${i} ${s} ${o} ${Er.svgRound(l)} ${Er.svgRound(u)})`}getPathResizingSVGProperties([r,n,a,i]){const[s,o]=ue(this,Al,Ap).call(this),[l,u,h,f]=v(this,Nc);if(Math.abs(h-s)<=Er.PRECISION||Math.abs(f-o)<=Er.PRECISION){const w=r+a/2-(l+h/2),A=n+i/2-(u+f/2);return{path:{"transform-origin":`${Er.svgRound(r)} ${Er.svgRound(n)}`,transform:`${this.rotationTransform} translate(${w} ${A})`}}}const m=(a-2*s)/(h-2*s),g=(i-2*o)/(f-2*o),b=h/a,y=f/i;return{path:{"transform-origin":`${Er.svgRound(l)} ${Er.svgRound(u)}`,transform:`${this.rotationTransform} scale(${b} ${y}) translate(${Er.svgRound(s)} ${Er.svgRound(o)}) scale(${m} ${g}) translate(${Er.svgRound(-s)} ${Er.svgRound(-o)})`}}}getPathResizedSVGProperties([r,n,a,i]){const[s,o]=ue(this,Al,Ap).call(this),l=v(this,Nc),[u,h,f,m]=l;if(l[0]=r,l[1]=n,l[2]=a,l[3]=i,Math.abs(f-s)<=Er.PRECISION||Math.abs(m-o)<=Er.PRECISION){const A=r+a/2-(u+f/2),S=n+i/2-(h+m/2);for(const{line:N,points:T}of v(this,ad))Er._translate(N,A,S,N),Er._translate(T,A,S,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Er.svgRound(r)} ${Er.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(a-2*s)/(f-2*s),b=(i-2*o)/(m-2*o),y=-g*(u+s)+r+s,w=-b*(h+o)+n+o;if(g!==1||b!==1||y!==0||w!==0)for(const{line:A,points:S}of v(this,ad))Er._rescale(A,y,w,g,b,A),Er._rescale(S,y,w,g,b,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Er.svgRound(r)} ${Er.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([r,n],a){const[i,s]=a,o=v(this,Nc),l=r-o[0],u=n-o[1];if(v(this,N0)===i&&v(this,E0)===s)for(const{line:h,points:f}of v(this,ad))Er._translate(h,l,u,h),Er._translate(f,l,u,f);else{const h=v(this,N0)/i,f=v(this,E0)/s;J(this,N0,i),J(this,E0,s);for(const{line:m,points:g}of v(this,ad))Er._rescale(m,l,u,h,f,m),Er._rescale(g,l,u,h,f,g);o[2]*=h,o[3]*=f}return o[0]=r,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Er.svgRound(r)} ${Er.svgRound(n)}`}}}get defaultSVGProperties(){const r=v(this,Nc);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Er.svgRound(r[0])} ${Er.svgRound(r[1])}`,transform:this.rotationTransform||null},bbox:r}}}Nc=new WeakMap,sE=new WeakMap,oE=new WeakMap,ad=new WeakMap,N0=new WeakMap,E0=new WeakMap,Gw=new WeakMap,Ww=new WeakMap,Y1=new WeakMap,Al=new WeakSet,Ap=function(r=v(this,Y1)){const n=v(this,oE)+r/2*v(this,Gw);return v(this,Ww)%180===0?[n/v(this,N0),n/v(this,E0)]:[n/v(this,E0),n/v(this,N0)]},Hee=function(){const[r,n,a,i]=v(this,Nc),[s,o]=ue(this,Al,Ap).call(this,0);return[r+s,n+o,a-2*s,i-2*o]},qee=function(){const r=J(this,Nc,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of v(this,ad)){if(i.length<=12){for(let l=4,u=i.length;l<u;l+=6)wr.pointBoundingBox(i[l],i[l+1],r);continue}let s=i[4],o=i[5];for(let l=6,u=i.length;l<u;l+=6){const[h,f,m,g,b,y]=i.subarray(l,l+6);wr.bezierBoundingBox(s,o,h,f,m,g,b,y,r),s=b,o=y}}const[n,a]=ue(this,Al,Ap).call(this);r[0]=jc(r[0]-n,0,1),r[1]=jc(r[1]-a,0,1),r[2]=jc(r[2]+n,0,1),r[3]=jc(r[3]+a,0,1),r[2]-=r[0],r[3]-=r[1]},Gee=function(r){const[n,a]=ue(this,Al,Ap).call(this);J(this,Y1,r);const[i,s]=ue(this,Al,Ap).call(this),[o,l]=[i-n,s-a],u=v(this,Nc);return u[0]-=o,u[1]-=l,u[2]+=2*o,u[3]+=2*l,u};class Mk extends $ee{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:ti._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,r){e==="stroke-width"&&(r??(r=this["stroke-width"]),r*=this._viewParameters.realScale),super.updateSVGProperty(e,r)}clone(){const e=new Mk(this._viewParameters);return e.updateAll(this),e}}var lk,Wee;const f2=class f2 extends Nj{constructor(r){super({...r,name:"inkEditor"});ie(this,lk);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(r,n){ti.initialize(r,n),this._defaultDrawingOptions=new Mk(n.viewParameters)}static getDefaultDrawingOptions(r){const n=this._defaultDrawingOptions.clone();return n.updateProperties(r),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return ln(this,"typesMap",new Map([[Un.INK_THICKNESS,"stroke-width"],[Un.INK_COLOR,"stroke"],[Un.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(r,n,a,i,s){return new $ve(r,n,a,i,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(r,n,a,i,s,o){return kE.deserialize(r,n,a,i,s,o)}static async deserialize(r,n,a){let i=null;if(r instanceof UF){const{data:{inkLists:o,rect:l,rotation:u,id:h,color:f,opacity:m,borderStyle:{rawWidth:g},popupRef:b,richText:y,contentsObj:w,creationDate:A,modificationDate:S},parent:{page:{pageNumber:N}}}=r;i=r={annotationType:dn.INK,color:Array.from(f),thickness:g,opacity:m,paths:{points:o},boxes:null,pageIndex:N-1,rect:l.slice(0),rotation:u,annotationElementId:h,id:h,deleted:!1,popupRef:b,richText:y,comment:(w==null?void 0:w.str)||null,creationDate:A,modificationDate:S}}const s=await super.deserialize(r,n,a);return s._initialData=i,r.comment&&s.setCommentData(r),s}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new wj(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Un.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:r,_drawingOptions:n,parent:a}=this;n.updateSVGProperty("stroke-width"),a.drawLayer.updateProperties(r,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const r=this._currentParent;r&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:r,thickness:n,opacity:a}){this._drawingOptions=f2.getDefaultDrawingOptions({stroke:wr.makeHexColor(...r),"stroke-width":n,"stroke-opacity":a})}serialize(r=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:a}=this.serializeDraw(r),{_drawingOptions:{stroke:i,"stroke-opacity":s,"stroke-width":o}}=this,l=Object.assign(super.serialize(r),{color:ti._colorManager.convert(i),opacity:s,thickness:o,paths:{lines:n,points:a}});return this.addComment(l),r?(l.isCopy=!0,l):this.annotationElementId&&!ue(this,lk,Wee).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(r){if(this.deleted)return r.hide(),null;const{points:n,rect:a}=this.serializeDraw(!1);return r.updateEdited({rect:a,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}};lk=new WeakSet,Wee=function(r){const{color:n,thickness:a,opacity:i,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||r.color.some((o,l)=>o!==n[l])||r.thickness!==a||r.opacity!==i||r.pageIndex!==s},tr(f2,"_type","ink"),tr(f2,"_editorType",dn.INK),tr(f2,"_defaultDrawingOptions",null);let kL=f2;class PL extends kE{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const vT=8,yA=3;var X1,ca,OL,af,Kee,Yee,DL,B3,Xee,Jee,Zee,RL,IL,Qee;class sm{static extractContoursFromText(e,{fontFamily:r,fontStyle:n,fontWeight:a},i,s,o,l){let u=new OffscreenCanvas(1,1),h=u.getContext("2d",{alpha:!1});const f=200,m=h.font=`${n} ${a} ${f}px ${r}`,{actualBoundingBoxLeft:g,actualBoundingBoxRight:b,actualBoundingBoxAscent:y,actualBoundingBoxDescent:w,fontBoundingBoxAscent:A,fontBoundingBoxDescent:S,width:N}=h.measureText(e),T=1.5,k=Math.ceil(Math.max(Math.abs(g)+Math.abs(b)||0,N)*T),R=Math.ceil(Math.max(Math.abs(y)+Math.abs(w)||f,Math.abs(A)+Math.abs(S)||f)*T);u=new OffscreenCanvas(k,R),h=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=m,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,k,R),h.fillStyle="black",h.fillText(e,k*(T-1)/2,R*(3-T)/2);const O=ue(this,ca,RL).call(this,h.getImageData(0,0,k,R).data),U=ue(this,ca,Zee).call(this,O),H=ue(this,ca,IL).call(this,U),G=ue(this,ca,DL).call(this,O,k,R,H);return this.processDrawnLines({lines:{curves:G,width:k,height:R},pageWidth:i,pageHeight:s,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,r,n,a,i){const[s,o,l]=ue(this,ca,Qee).call(this,e),[u,h]=ue(this,ca,Jee).call(this,s,o,l,Math.hypot(o,l)*v(this,X1).sigmaSFactor,v(this,X1).sigmaR,v(this,X1).kernelSize),f=ue(this,ca,IL).call(this,h),m=ue(this,ca,DL).call(this,u,o,l,f);return this.processDrawnLines({lines:{curves:m,width:o,height:l},pageWidth:r,pageHeight:n,rotation:a,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:r,pageHeight:n,rotation:a,innerMargin:i,mustSmooth:s,areContours:o}){a%180!==0&&([r,n]=[n,r]);const{curves:l,width:u,height:h}=e,f=e.thickness??0,m=[],g=Math.min(r/u,n/h),b=g/r,y=g/n,w=[];for(const{points:S}of l){const N=s?ue(this,ca,Xee).call(this,S):S;if(!N)continue;w.push(N);const T=N.length,k=new Float32Array(T),R=new Float32Array(3*(T===2?2:T-2));if(m.push({line:R,points:k}),T===2){k[0]=N[0]*b,k[1]=N[1]*y,R.set([NaN,NaN,NaN,NaN,k[0],k[1]],0);continue}let[O,U,H,G]=N;O*=b,U*=y,H*=b,G*=y,k.set([O,U,H,G],0),R.set([NaN,NaN,NaN,NaN,O,U],0);for(let F=4;F<T;F+=2){const L=k[F]=N[F]*b,re=k[F+1]=N[F+1]*y;R.set(Er.createBezierPoints(O,U,H,G,L,re),(F-2)*3),[O,U,H,G]=[H,G,L,re]}}if(m.length===0)return null;const A=o?new PL:new kE;return A.build(m,r,n,1,a,o?0:f,i),{outline:A,newCurves:w,areContours:o,thickness:f,width:u,height:h}}static async compressSignature({outlines:e,areContours:r,thickness:n,width:a,height:i}){let s=1/0,o=-1/0,l=0;for(const N of e){l+=N.length;for(let T=2,k=N.length;T<k;T++){const R=N[T]-N[T-2];s=Math.min(s,R),o=Math.max(o,R)}}let u;s>=-128&&o<=127?u=Int8Array:s>=-32768&&o<=32767?u=Int16Array:u=Int32Array;const h=e.length,f=vT+yA*h,m=new Uint32Array(f);let g=0;m[g++]=f*Uint32Array.BYTES_PER_ELEMENT+(l-2*h)*u.BYTES_PER_ELEMENT,m[g++]=0,m[g++]=a,m[g++]=i,m[g++]=r?0:1,m[g++]=Math.max(0,Math.floor(n??0)),m[g++]=h,m[g++]=u.BYTES_PER_ELEMENT;for(const N of e)m[g++]=N.length-2,m[g++]=N[0],m[g++]=N[1];const b=new CompressionStream("deflate-raw"),y=b.writable.getWriter();await y.ready,y.write(m);const w=u.prototype.constructor;for(const N of e){const T=new w(N.length-2);for(let k=2,R=N.length;k<R;k++)T[k-2]=N[k]-N[k-2];y.write(T)}y.close();const A=await new Response(b.readable).arrayBuffer(),S=new Uint8Array(A);return JZ(S)}static async decompressSignature(e){try{const r=nxe(e),{readable:n,writable:a}=new DecompressionStream("deflate-raw"),i=a.getWriter();await i.ready,i.write(r).then(async()=>{await i.ready,await i.close()}).catch(()=>{});let s=null,o=0;for await(const N of n)s||(s=new Uint8Array(new Uint32Array(N.buffer,0,4)[0])),s.set(N,o),o+=N.length;const l=new Uint32Array(s.buffer,0,s.length>>2),u=l[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const h=l[2],f=l[3],m=l[4]===0,g=l[5],b=l[6],y=l[7],w=[],A=(vT+yA*b)*Uint32Array.BYTES_PER_ELEMENT;let S;switch(y){case Int8Array.BYTES_PER_ELEMENT:S=new Int8Array(s.buffer,A);break;case Int16Array.BYTES_PER_ELEMENT:S=new Int16Array(s.buffer,A);break;case Int32Array.BYTES_PER_ELEMENT:S=new Int32Array(s.buffer,A);break}o=0;for(let N=0;N<b;N++){const T=l[yA*N+vT],k=new Float32Array(T+2);w.push(k);for(let R=0;R<yA-1;R++)k[R]=l[yA*N+vT+R+1];for(let R=0;R<T;R++)k[R+2]=k[R]+S[o++]}return{areContours:m,thickness:g,outlines:w,width:h,height:f}}catch(r){return on(`decompressSignature: ${r}`),null}}}X1=new WeakMap,ca=new WeakSet,OL=function(e,r,n,a){return n-=e,a-=r,n===0?a>0?0:4:n===1?a+6:2-a},af=new WeakMap,Kee=function(e,r,n,a,i,s,o){const l=ue(this,ca,OL).call(this,n,a,i,s);for(let u=0;u<8;u++){const h=(-u+l-o+16)%8,f=v(this,af)[2*h],m=v(this,af)[2*h+1];if(e[(n+f)*r+(a+m)]!==0)return h}return-1},Yee=function(e,r,n,a,i,s,o){const l=ue(this,ca,OL).call(this,n,a,i,s);for(let u=0;u<8;u++){const h=(u+l+o+16)%8,f=v(this,af)[2*h],m=v(this,af)[2*h+1];if(e[(n+f)*r+(a+m)]!==0)return h}return-1},DL=function(e,r,n,a){const i=e.length,s=new Int32Array(i);for(let h=0;h<i;h++)s[h]=e[h]<=a?1:0;for(let h=1;h<n-1;h++)s[h*r]=s[h*r+r-1]=0;for(let h=0;h<r;h++)s[h]=s[r*n-1-h]=0;let o=1,l;const u=[];for(let h=1;h<n-1;h++){l=1;for(let f=1;f<r-1;f++){const m=h*r+f,g=s[m];if(g===0)continue;let b=h,y=f;if(g===1&&s[m-1]===0)o+=1,y-=1;else if(g>=1&&s[m+1]===0)o+=1,y+=1,g>1&&(l=g);else{g!==1&&(l=Math.abs(g));continue}const w=[f,h],A=y===f+1,S={isHole:A,points:w,id:o,parent:0};u.push(S);let N;for(const F of u)if(F.id===l){N=F;break}N?N.isHole?S.parent=A?N.parent:l:S.parent=A?l:N.parent:S.parent=A?l:0;const T=ue(this,ca,Kee).call(this,s,r,h,f,b,y,0);if(T===-1){s[m]=-o,s[m]!==1&&(l=Math.abs(s[m]));continue}let k=v(this,af)[2*T],R=v(this,af)[2*T+1];const O=h+k,U=f+R;b=O,y=U;let H=h,G=f;for(;;){const F=ue(this,ca,Yee).call(this,s,r,H,G,b,y,1);k=v(this,af)[2*F],R=v(this,af)[2*F+1];const L=H+k,re=G+R;w.push(re,L);const Z=H*r+G;if(s[Z+1]===0?s[Z]=-o:s[Z]===1&&(s[Z]=o),L===h&&re===f&&H===O&&G===U){s[m]!==1&&(l=Math.abs(s[m]));break}else b=H,y=G,H=L,G=re}}}return u},B3=function(e,r,n,a){if(n-r<=4){for(let O=r;O<n-2;O+=2)a.push(e[O],e[O+1]);return}const i=e[r],s=e[r+1],o=e[n-4]-i,l=e[n-3]-s,u=Math.hypot(o,l),h=o/u,f=l/u,m=h*s-f*i,g=l/o,b=1/u,y=Math.atan(g),w=Math.cos(y),A=Math.sin(y),S=b*(Math.abs(w)+Math.abs(A)),N=b*(1-S+S**2),T=Math.max(Math.atan(Math.abs(A+w)*N),Math.atan(Math.abs(A-w)*N));let k=0,R=r;for(let O=r+2;O<n-2;O+=2){const U=Math.abs(m-h*e[O+1]+f*e[O]);U>k&&(R=O,k=U)}k>(u*T)**2?(ue(this,ca,B3).call(this,e,r,R+2,a),ue(this,ca,B3).call(this,e,R,n,a)):a.push(i,s)},Xee=function(e){const r=[],n=e.length;return ue(this,ca,B3).call(this,e,0,n,r),r.push(e[n-2],e[n-1]),r.length<=4?null:r},Jee=function(e,r,n,a,i,s){const o=new Float32Array(s**2),l=-2*a**2,u=s>>1;for(let y=0;y<s;y++){const w=(y-u)**2;for(let A=0;A<s;A++)o[y*s+A]=Math.exp((w+(A-u)**2)/l)}const h=new Float32Array(256),f=-2*i**2;for(let y=0;y<256;y++)h[y]=Math.exp(y**2/f);const m=e.length,g=new Uint8Array(m),b=new Uint32Array(256);for(let y=0;y<n;y++)for(let w=0;w<r;w++){const A=y*r+w,S=e[A];let N=0,T=0;for(let R=0;R<s;R++){const O=y+R-u;if(!(O<0||O>=n))for(let U=0;U<s;U++){const H=w+U-u;if(H<0||H>=r)continue;const G=e[O*r+H],F=o[R*s+U]*h[Math.abs(G-S)];N+=G*F,T+=F}}const k=g[A]=Math.round(N/T);b[k]++}return[g,b]},Zee=function(e){const r=new Uint32Array(256);for(const n of e)r[n]++;return r},RL=function(e){const r=e.length,n=new Uint8ClampedArray(r>>2);let a=-1/0,i=1/0;for(let o=0,l=n.length;o<l;o++){const u=n[o]=e[o<<2];a=Math.max(a,u),i=Math.min(i,u)}const s=255/(a-i);for(let o=0,l=n.length;o<l;o++)n[o]=(n[o]-i)*s;return n},IL=function(e){let r,n=-1/0,a=-1/0;const i=e.findIndex(l=>l!==0);let s=i,o=i;for(r=i;r<256;r++){const l=e[r];l>n&&(r-s>a&&(a=r-s,o=r-1),n=l,s=r)}for(r=o-1;r>=0&&!(e[r]>e[r+1]);r--);return r},Qee=function(e){const r=e,{width:n,height:a}=e,{maxDim:i}=v(this,X1);let s=n,o=a;if(n>i||a>i){let m=n,g=a,b=Math.log2(Math.max(n,a)/i);const y=Math.floor(b);b=b===y?y-1:y;for(let A=0;A<b;A++){s=Math.ceil(m/2),o=Math.ceil(g/2);const S=new OffscreenCanvas(s,o);S.getContext("2d").drawImage(e,0,0,m,g,0,0,s,o),m=s,g=o,e!==r&&e.close(),e=S.transferToImageBitmap()}const w=Math.min(i/s,i/o);s=Math.round(s*w),o=Math.round(o*w)}const u=new OffscreenCanvas(s,o).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,s,o),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,s,o);const h=u.getImageData(0,0,s,o).data;return[ue(this,ca,RL).call(this,h),s,o]},ie(sm,ca),ie(sm,X1,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),ie(sm,af,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class zF extends $ee{constructor(){super(),super.updateProperties({fill:ti._defaultLineColor,"stroke-width":0})}clone(){const e=new zF;return e.updateAll(this),e}}class $F extends Mk{constructor(e){super(e),super.updateProperties({stroke:ti._defaultLineColor,"stroke-width":1})}clone(){const e=new $F(this._viewParameters);return e.updateAll(this),e}}var gx,T0,xx,J1;const Uu=class Uu extends Nj{constructor(r){super({...r,mustBeCommitted:!0,name:"signatureEditor"});ie(this,gx,!1);ie(this,T0,null);ie(this,xx,null);ie(this,J1,null);this._willKeepAspectRatio=!0,J(this,xx,r.signatureData||null),J(this,T0,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(r,n){ti.initialize(r,n),this._defaultDrawingOptions=new zF,this._defaultDrawnSignatureOptions=new $F(n.viewParameters)}static getDefaultDrawingOptions(r){const n=this._defaultDrawingOptions.clone();return n.updateProperties(r),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return ln(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!v(this,T0)}}static computeTelemetryFinalData(r){const n=r.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let r,n;const{_isCopy:a}=this;if(a&&(this._isCopy=!1,r=this.x,n=this.y),super.render(),this._drawId===null)if(v(this,xx)){const{lines:i,mustSmooth:s,areContours:o,description:l,uuid:u,heightInPage:h}=v(this,xx),{rawDims:{pageWidth:f,pageHeight:m},rotation:g}=this.parent.viewport,b=sm.processDrawnLines({lines:i,pageWidth:f,pageHeight:m,rotation:g,innerMargin:Uu._INNER_MARGIN,mustSmooth:s,areContours:o});this.addSignature(b,h,l,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:v(this,T0)||""}));return a&&(this._isCopy=!0,this._moveAfterPaste(r,n)),this.div}setUuid(r){J(this,J1,r),this.addEditToolbar()}getUuid(){return v(this,J1)}get description(){return v(this,T0)}set description(r){J(this,T0,r),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:r})),super.addEditToolbar().then(n=>{n==null||n.updateEditSignatureButton(r)}))}getSignaturePreview(){const{newCurves:r,areContours:n,thickness:a,width:i,height:s}=v(this,xx),o=Math.max(i,s),l=sm.processDrawnLines({lines:{curves:r.map(u=>({points:u})),thickness:a,width:i,height:s},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(r,n,a,i){const{x:s,y:o}=this,{outline:l}=J(this,xx,r);J(this,gx,l instanceof PL),this.description=a;let u;v(this,gx)?u=Uu.getDefaultDrawingOptions():(u=Uu._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:u});const[,h]=this.pageDimensions;let f=n/h;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(),this.x=s,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!a}}),this.div.hidden=!1}getFromImage(r){const{rawDims:{pageWidth:n,pageHeight:a},rotation:i}=this.parent.viewport;return sm.process(r,n,a,i,Uu._INNER_MARGIN)}getFromText(r,n){const{rawDims:{pageWidth:a,pageHeight:i},rotation:s}=this.parent.viewport;return sm.extractContoursFromText(r,n,a,i,s,Uu._INNER_MARGIN)}getDrawnSignature(r){const{rawDims:{pageWidth:n,pageHeight:a},rotation:i}=this.parent.viewport;return sm.processDrawnLines({lines:r,pageWidth:n,pageHeight:a,rotation:i,innerMargin:Uu._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:r,thickness:n}){r?this._drawingOptions=Uu.getDefaultDrawingOptions():(this._drawingOptions=Uu._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(r=!1){if(this.isEmpty())return null;const{lines:n,points:a}=this.serializeDraw(r),{_drawingOptions:{"stroke-width":i}}=this,s=Object.assign(super.serialize(r),{isSignature:!0,areContours:v(this,gx),color:[0,0,0],thickness:v(this,gx)?0:i});return this.addComment(s),r?(s.paths={lines:n,points:a},s.uuid=v(this,J1),s.isCopy=!0):s.lines=n,v(this,T0)&&(s.accessibilityData={type:"Figure",alt:v(this,T0)}),s}static deserializeDraw(r,n,a,i,s,o){return o.areContours?PL.deserialize(r,n,a,i,s,o):kE.deserialize(r,n,a,i,s,o)}static async deserialize(r,n,a){var s;const i=await super.deserialize(r,n,a);return J(i,gx,r.areContours),i.description=((s=r.accessibilityData)==null?void 0:s.alt)||"",J(i,J1,r.uuid),i}};gx=new WeakMap,T0=new WeakMap,xx=new WeakMap,J1=new WeakMap,tr(Uu,"_type","signature"),tr(Uu,"_editorType",dn.SIGNATURE),tr(Uu,"_defaultDrawingOptions",null);let LL=Uu;var Ei,$o,vx,tm,yx,Kw,rm,Z1,j0,id,Yw,qn,a_,i_,U3,z3,$3,FL,V3,ete;class ML extends ti{constructor(r){super({...r,name:"stampEditor"});ie(this,qn);ie(this,Ei,null);ie(this,$o,null);ie(this,vx,null);ie(this,tm,null);ie(this,yx,null);ie(this,Kw,"");ie(this,rm,null);ie(this,Z1,!1);ie(this,j0,null);ie(this,id,!1);ie(this,Yw,!1);J(this,tm,r.bitmapUrl),J(this,yx,r.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(r,n){ti.initialize(r,n)}static isHandlingMimeForPasting(r){return AI.includes(r)}static paste(r,n){n.pasteEditor({mode:dn.STAMP},{bitmapFile:r.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var r;return{type:"stamp",hasAltText:!!((r=this.altTextData)!=null&&r.altText)}}static computeTelemetryFinalData(r){const n=r.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(r=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:a}=this._uiManager;if(!a)throw new Error("No ML.");if(!await a.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:s,height:o}=r||this.copyCanvas(null,null,!0).imageData,l=await a.guess({name:"altText",request:{data:i,width:s,height:o,channels:i.length/(s*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),n&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var r;v(this,$o)&&(J(this,Ei,null),this._uiManager.imageManager.deleteId(v(this,$o)),(r=v(this,rm))==null||r.remove(),J(this,rm,null),v(this,j0)&&(clearTimeout(v(this,j0)),J(this,j0,null))),super.remove()}rebuild(){if(!this.parent){v(this,$o)&&ue(this,qn,U3).call(this);return}super.rebuild(),this.div!==null&&(v(this,$o)&&v(this,rm)===null&&ue(this,qn,U3).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(r){this._isDraggable=!0,r&&this.div.focus()}isEmpty(){return!(v(this,vx)||v(this,Ei)||v(this,tm)||v(this,yx)||v(this,$o)||v(this,Z1))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let r,n;return this._isCopy&&(r=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),v(this,Z1)||(v(this,Ei)?ue(this,qn,z3).call(this):ue(this,qn,U3).call(this)),this._isCopy&&this._moveAfterPaste(r,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(r,n){const{id:a,bitmap:i}=this._uiManager.imageManager.getFromCanvas(r,n);n.remove(),a&&this._uiManager.imageManager.isValidId(a)&&(J(this,$o,a),i&&J(this,Ei,i),J(this,Z1,!1),ue(this,qn,z3).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;v(this,j0)!==null&&clearTimeout(v(this,j0)),J(this,j0,setTimeout(()=>{J(this,j0,null),ue(this,qn,FL).call(this)},200))}copyCanvas(r,n,a=!1){r||(r=224);const{width:i,height:s}=v(this,Ei),o=new U0;let l=v(this,Ei),u=i,h=s,f=null;if(n){if(i>n||s>n){const O=Math.min(n/i,n/s);u=Math.floor(i*O),h=Math.floor(s*O)}f=document.createElement("canvas");const g=f.width=Math.ceil(u*o.sx),b=f.height=Math.ceil(h*o.sy);v(this,id)||(l=ue(this,qn,$3).call(this,g,b));const y=f.getContext("2d");y.filter=this._uiManager.hcmFilter;let w="white",A="#cfcfd8";this._uiManager.hcmFilter!=="none"?A="black":cxe.isDarkMode&&(w="#8f8f9d",A="#42414d");const S=15,N=S*o.sx,T=S*o.sy,k=new OffscreenCanvas(N*2,T*2),R=k.getContext("2d");R.fillStyle=w,R.fillRect(0,0,N*2,T*2),R.fillStyle=A,R.fillRect(0,0,N,T),R.fillRect(N,T,N,T),y.fillStyle=y.createPattern(k,"repeat"),y.fillRect(0,0,g,b),y.drawImage(l,0,0,l.width,l.height,0,0,g,b)}let m=null;if(a){let g,b;if(o.symmetric&&l.width<r&&l.height<r)g=l.width,b=l.height;else if(l=v(this,Ei),i>r||s>r){const A=Math.min(r/i,r/s);g=Math.floor(i*A),b=Math.floor(s*A),v(this,id)||(l=ue(this,qn,$3).call(this,g,b))}const w=new OffscreenCanvas(g,b).getContext("2d",{willReadFrequently:!0});w.drawImage(l,0,0,l.width,l.height,0,0,g,b),m={width:g,height:b,data:w.getImageData(0,0,g,b).data}}return{canvas:f,width:u,height:h,imageData:m}}static async deserialize(r,n,a){var w;let i=null,s=!1;if(r instanceof gee){const{data:{rect:A,rotation:S,id:N,structParent:T,popupRef:k,richText:R,contentsObj:O,creationDate:U,modificationDate:H},container:G,parent:{page:{pageNumber:F}},canvas:L}=r;let re,Z;L?(delete r.canvas,{id:re,bitmap:Z}=a.imageManager.getFromCanvas(G.id,L),L.remove()):(s=!0,r._hasNoCanvas=!0);const pe=((w=await n._structTree.getAriaAttributes(`${e2}${N}`))==null?void 0:w.get("aria-label"))||"";i=r={annotationType:dn.STAMP,bitmapId:re,bitmap:Z,pageIndex:F-1,rect:A.slice(0),rotation:S,annotationElementId:N,id:N,deleted:!1,accessibilityData:{decorative:!1,altText:pe},isSvg:!1,structParent:T,popupRef:k,richText:R,comment:(O==null?void 0:O.str)||null,creationDate:U,modificationDate:H}}const o=await super.deserialize(r,n,a),{rect:l,bitmap:u,bitmapUrl:h,bitmapId:f,isSvg:m,accessibilityData:g}=r;s?(a.addMissingCanvas(r.id,o),J(o,Z1,!0)):f&&a.imageManager.isValidId(f)?(J(o,$o,f),u&&J(o,Ei,u)):J(o,tm,h),J(o,id,m);const[b,y]=o.pageDimensions;return o.width=(l[2]-l[0])/b,o.height=(l[3]-l[1])/y,g&&(o.altTextData=g),o._initialData=i,r.comment&&o.setCommentData(r),J(o,Yw,!!i),o}serialize(r=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const a=Object.assign(super.serialize(r),{bitmapId:v(this,$o),isSvg:v(this,id)});if(this.addComment(a),r)return a.bitmapUrl=ue(this,qn,V3).call(this,!0),a.accessibilityData=this.serializeAltText(!0),a.isCopy=!0,a;const{decorative:i,altText:s}=this.serializeAltText(!1);if(!i&&s&&(a.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const l=ue(this,qn,ete).call(this,a);return l.isSame?null:(l.isSameAltText?delete a.accessibilityData:a.accessibilityData.structParent=this._initialData.structParent??-1,a.id=this.annotationElementId,delete a.bitmapId,a)}if(n===null)return a;n.stamps||(n.stamps=new Map);const o=v(this,id)?(a.rect[2]-a.rect[0])*(a.rect[3]-a.rect[1]):null;if(!n.stamps.has(v(this,$o)))n.stamps.set(v(this,$o),{area:o,serialized:a}),a.bitmap=ue(this,qn,V3).call(this,!1);else if(v(this,id)){const l=n.stamps.get(v(this,$o));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=ue(this,qn,V3).call(this,!1))}return a}renderAnnotationElement(r){return this.deleted?(r.hide(),null):(r.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Ei=new WeakMap,$o=new WeakMap,vx=new WeakMap,tm=new WeakMap,yx=new WeakMap,Kw=new WeakMap,rm=new WeakMap,Z1=new WeakMap,j0=new WeakMap,id=new WeakMap,Yw=new WeakMap,qn=new WeakSet,a_=function(r,n=!1){if(!r){this.remove();return}J(this,Ei,r.bitmap),n||(J(this,$o,r.id),J(this,id,r.isSvg)),r.file&&J(this,Kw,r.file.name),ue(this,qn,z3).call(this)},i_=function(){if(J(this,vx,null),this._uiManager.enableWaiting(!1),!!v(this,rm)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&v(this,Ei)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&v(this,Ei)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},U3=function(){if(v(this,$o)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(v(this,$o)).then(a=>ue(this,qn,a_).call(this,a,!0)).finally(()=>ue(this,qn,i_).call(this));return}if(v(this,tm)){const a=v(this,tm);J(this,tm,null),this._uiManager.enableWaiting(!0),J(this,vx,this._uiManager.imageManager.getFromUrl(a).then(i=>ue(this,qn,a_).call(this,i)).finally(()=>ue(this,qn,i_).call(this)));return}if(v(this,yx)){const a=v(this,yx);J(this,yx,null),this._uiManager.enableWaiting(!0),J(this,vx,this._uiManager.imageManager.getFromFile(a).then(i=>ue(this,qn,a_).call(this,i)).finally(()=>ue(this,qn,i_).call(this)));return}const r=document.createElement("input");r.type="file",r.accept=AI.join(",");const n=this._uiManager._signal;J(this,vx,new Promise(a=>{r.addEventListener("change",async()=>{if(!r.files||r.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(r.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),ue(this,qn,a_).call(this,i)}a()},{signal:n}),r.addEventListener("cancel",()=>{this.remove(),a()},{signal:n})}).finally(()=>ue(this,qn,i_).call(this))),r.click()},z3=function(){var u;const{div:r}=this;let{width:n,height:a}=v(this,Ei);const[i,s]=this.pageDimensions,o=.75;if(this.width)n=this.width*i,a=this.height*s;else if(n>o*i||a>o*s){const h=Math.min(o*i/n,o*s/a);n*=h,a*=h}this._uiManager.enableWaiting(!1);const l=J(this,rm,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=n/i,this.height=a/s,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(r.hidden=!1),ue(this,qn,FL).call(this),v(this,Yw)||(this.parent.addUndoableEditor(this),J(this,Yw,!0)),this._reportTelemetry({action:"inserted_image"}),v(this,Kw)&&this.div.setAttribute("aria-description",v(this,Kw)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},$3=function(r,n){const{width:a,height:i}=v(this,Ei);let s=a,o=i,l=v(this,Ei);for(;s>2*r||o>2*n;){const u=s,h=o;s>2*r&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(s,o);f.getContext("2d").drawImage(l,0,0,u,h,0,0,s,o),l=f.transferToImageBitmap()}return l},FL=function(){const[r,n]=this.parentDimensions,{width:a,height:i}=this,s=new U0,o=Math.ceil(a*r*s.sx),l=Math.ceil(i*n*s.sy),u=v(this,rm);if(!u||u.width===o&&u.height===l)return;u.width=o,u.height=l;const h=v(this,id)?v(this,Ei):ue(this,qn,$3).call(this,o,l),f=u.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(h,0,0,h.width,h.height,0,0,o,l)},V3=function(r){if(r){if(v(this,id)){const i=this._uiManager.imageManager.getSvgUrl(v(this,$o));if(i)return i}const n=document.createElement("canvas");return{width:n.width,height:n.height}=v(this,Ei),n.getContext("2d").drawImage(v(this,Ei),0,0),n.toDataURL()}if(v(this,id)){const[n,a]=this.pageDimensions,i=Math.round(this.width*n*Fx.PDF_TO_CSS_UNITS),s=Math.round(this.height*a*Fx.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(i,s);return o.getContext("2d").drawImage(v(this,Ei),0,0,v(this,Ei).width,v(this,Ei).height,0,0,i,s),o.transferToImageBitmap()}return structuredClone(v(this,Ei))},ete=function(r){var o;const{pageIndex:n,accessibilityData:{altText:a}}=this._initialData,i=r.pageIndex===n,s=(((o=r.accessibilityData)==null?void 0:o.alt)||"")===a;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&s,isSameAltText:s}},tr(ML,"_type","stamp"),tr(ML,"_editorType",dn.STAMP);var Q1,Xw,bx,wx,nm,fu,Ax,Jw,Zw,sf,am,Vo,im,_x,Qw,Dr,Sx,Ga,UL,tte,t0,zL,$L,H3;const Gh=class Gh{constructor({uiManager:e,pageIndex:r,div:n,structTreeLayer:a,accessibilityManager:i,annotationLayer:s,drawLayer:o,textLayer:l,viewport:u,l10n:h}){ie(this,Ga);ie(this,Q1);ie(this,Xw,!1);ie(this,bx,null);ie(this,wx,null);ie(this,nm,null);ie(this,fu,new Map);ie(this,Ax,!1);ie(this,Jw,!1);ie(this,Zw,!1);ie(this,sf,null);ie(this,am,null);ie(this,Vo,null);ie(this,im,null);ie(this,_x,null);ie(this,Qw,-1);ie(this,Dr);const f=[...v(Gh,Sx).values()];if(!Gh._initialized){Gh._initialized=!0;for(const m of f)m.initialize(h,e)}e.registerEditorTypes(f),J(this,Dr,e),this.pageIndex=r,this.div=n,J(this,Q1,i),J(this,bx,s),this.viewport=u,J(this,Vo,l),this.drawLayer=o,this._structTree=a,v(this,Dr).addLayer(this)}get isEmpty(){return v(this,fu).size===0}get isInvisible(){return this.isEmpty&&v(this,Dr).getMode()===dn.NONE}updateToolbar(e){v(this,Dr).updateToolbar(e)}updateMode(e=v(this,Dr).getMode()){switch(ue(this,Ga,H3).call(this),e){case dn.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case dn.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case dn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:r}=this.div;if(r.toggle("nonEditing",!1),e===dn.POPUP)r.toggle("commentEditing",!0);else{r.toggle("commentEditing",!1);for(const n of v(Gh,Sx).values())r.toggle(`${n._type}Editing`,e===n._editorType)}this.div.hidden=!1}hasTextLayer(e){var r;return e===((r=v(this,Vo))==null?void 0:r.div)}setEditingState(e){v(this,Dr).setEditingState(e)}addCommands(e){v(this,Dr).addCommands(e)}cleanUndoStack(e){v(this,Dr).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var r;(r=v(this,bx))==null||r.togglePointerEvents(e)}async enable(){var n;J(this,Zw,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(n=v(this,_x))==null||n.abort(),J(this,_x,null);const e=new Set;for(const a of v(this,Ga,UL))a.enableEditing(),a.show(!0),a.annotationElementId&&(v(this,Dr).removeChangedExistingAnnotation(a),e.add(a.annotationElementId));const r=v(this,bx);if(r)for(const a of r.getEditableAnnotations()){if(a.hide(),v(this,Dr).isDeletedAnnotationElement(a.data.id)||e.has(a.data.id))continue;const i=await this.deserialize(a);i&&(this.addOrRebuild(i),i.enableEditing())}J(this,Zw,!1),v(this,Dr)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var a;if(J(this,Jw,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),v(this,Vo)&&!v(this,_x)){J(this,_x,new AbortController);const i=v(this,Dr).combinedSignal(v(this,_x));v(this,Vo).div.addEventListener("pointerdown",s=>{const{clientX:l,clientY:u,timeStamp:h}=s,f=v(this,Qw);if(h-f>500){J(this,Qw,h);return}J(this,Qw,-1);const{classList:m}=this.div;m.toggle("getElements",!0);const g=document.elementsFromPoint(l,u);if(m.toggle("getElements",!1),!this.div.contains(g[0]))return;let b;const y=new RegExp(`^${M_}[0-9]+$`);for(const A of g)if(y.test(A.id)){b=A.id;break}if(!b)return;const w=v(this,fu).get(b);(w==null?void 0:w.annotationElementId)===null&&(s.stopPropagation(),s.preventDefault(),w.dblclick(s))},{signal:i,capture:!0})}const e=v(this,bx),r=[];if(e){const i=new Map,s=new Map;for(const l of v(this,Ga,UL)){if(l.disableEditing(),!l.annotationElementId){r.push(l);continue}if(l.serialize()!==null){i.set(l.annotationElementId,l);continue}else s.set(l.annotationElementId,l);(a=this.getEditableAnnotation(l.annotationElementId))==null||a.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(v(this,Dr).isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let h=s.get(u);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=i.get(u),h&&(v(this,Dr).addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}ue(this,Ga,H3).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of v(Gh,Sx).values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(r),J(this,Jw,!1)}getEditableAnnotation(e){var r;return((r=v(this,bx))==null?void 0:r.getEditableAnnotation(e))||null}setActiveEditor(e){v(this,Dr).getActive()!==e&&v(this,Dr).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=v(this,Vo))!=null&&e.div&&!v(this,im)){J(this,im,new AbortController);const r=v(this,Dr).combinedSignal(v(this,im));v(this,Vo).div.addEventListener("pointerdown",ue(this,Ga,tte).bind(this),{signal:r}),v(this,Vo).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=v(this,Vo))!=null&&e.div&&v(this,im)&&(v(this,im).abort(),J(this,im,null),v(this,Vo).div.classList.remove("highlighting"))}enableClick(){if(v(this,wx))return;J(this,wx,new AbortController);const e=v(this,Dr).combinedSignal(v(this,wx));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const r=this.pointerup.bind(this);this.div.addEventListener("pointerup",r,{signal:e}),this.div.addEventListener("pointercancel",r,{signal:e})}disableClick(){var e;(e=v(this,wx))==null||e.abort(),J(this,wx,null)}attach(e){v(this,fu).set(e.id,e);const{annotationElementId:r}=e;r&&v(this,Dr).isDeletedAnnotationElement(r)&&v(this,Dr).removeDeletedAnnotationElement(e)}detach(e){var r;v(this,fu).delete(e.id),(r=v(this,Q1))==null||r.removePointerInTextLayer(e.contentDiv),!v(this,Jw)&&e.annotationElementId&&v(this,Dr).addDeletedAnnotationElement(e)}remove(e){this.detach(e),v(this,Dr).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var r;e.parent!==this&&(e.parent&&e.annotationElementId&&(v(this,Dr).addDeletedAnnotationElement(e),ti.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(r=e.parent)==null||r.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),v(this,Dr).addEditor(e),this.attach(e),!e.isAttachedToDOM){const r=e.render();this.div.append(r),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!v(this,Zw)),v(this,Dr).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:r}=document;e.div.contains(r)&&!v(this,nm)&&(e._focusEventsAllowed=!1,J(this,nm,setTimeout(()=>{J(this,nm,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:v(this,Dr)._signal}),r.focus())},0))),e._structTreeParentId=(n=v(this,Q1))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const r=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:r,undo:n,mustExec:!1})}getEditorByUID(e){for(const r of v(this,fu).values())if(r.uid===e)return r;return null}getNextId(){return v(this,Dr).getId()}combinedSignal(e){return v(this,Dr).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=v(this,Ga,t0))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,r){this.updateToolbar(e),await v(this,Dr).updateMode(e.mode);const{offsetX:n,offsetY:a}=ue(this,Ga,$L).call(this),i=this.getNextId(),s=ue(this,Ga,zL).call(this,{parent:this,id:i,x:n,y:a,uiManager:v(this,Dr),isCentered:!0,...r});s&&this.add(s)}async deserialize(e){var r;return await((r=v(Gh,Sx).get(e.annotationType??e.annotationEditorType))==null?void 0:r.deserialize(e,this,v(this,Dr)))||null}createAndAddNewEditor(e,r,n={}){const a=this.getNextId(),i=ue(this,Ga,zL).call(this,{parent:this,id:a,x:e.offsetX,y:e.offsetY,uiManager:v(this,Dr),isCentered:r,...n});return i&&this.add(i),i}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(ue(this,Ga,$L).call(this),!0,e)}setSelected(e){v(this,Dr).setSelected(e)}toggleSelected(e){v(this,Dr).toggleSelected(e)}unselect(e){v(this,Dr).unselect(e)}pointerup(e){var a;const{isMac:r}=bo.platform;if(e.button!==0||e.ctrlKey&&r||e.target!==this.div||!v(this,Ax)||(J(this,Ax,!1),(a=v(this,Ga,t0))!=null&&a.isDrawer&&v(this,Ga,t0).supportMultipleDrawings))return;if(!v(this,Xw)){J(this,Xw,!0);return}const n=v(this,Dr).getMode();if(n===dn.STAMP||n===dn.SIGNATURE){v(this,Dr).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var a;if(v(this,Dr).getMode()===dn.HIGHLIGHT&&this.enableTextSelection(),v(this,Ax)){J(this,Ax,!1);return}const{isMac:r}=bo.platform;if(e.button!==0||e.ctrlKey&&r||e.target!==this.div)return;if(J(this,Ax,!0),(a=v(this,Ga,t0))!=null&&a.isDrawer){this.startDrawingSession(e);return}const n=v(this,Dr).getActive();J(this,Xw,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),v(this,sf)){v(this,Ga,t0).startDrawing(this,v(this,Dr),!1,e);return}v(this,Dr).setCurrentDrawingSession(this),J(this,sf,new AbortController);const r=v(this,Dr).combinedSignal(v(this,sf));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(J(this,am,null),this.commitOrRemove())},{signal:r}),v(this,Ga,t0).startDrawing(this,v(this,Dr),!1,e)}pause(e){if(e){const{activeElement:r}=document;this.div.contains(r)&&J(this,am,r);return}v(this,am)&&setTimeout(()=>{var r;(r=v(this,am))==null||r.focus(),J(this,am,null)},0)}endDrawingSession(e=!1){return v(this,sf)?(v(this,Dr).setCurrentDrawingSession(null),v(this,sf).abort(),J(this,sf,null),J(this,am,null),v(this,Ga,t0).endDrawing(e)):null}findNewParent(e,r,n){const a=v(this,Dr).findParent(r,n);return a===null||a===this?!1:(a.changeParent(e),!0)}commitOrRemove(){return v(this,sf)?(this.endDrawingSession(),!0):!1}onScaleChanging(){v(this,sf)&&v(this,Ga,t0).onScaleChangingWhenDrawing(this)}destroy(){var e,r;this.commitOrRemove(),((e=v(this,Dr).getActive())==null?void 0:e.parent)===this&&(v(this,Dr).commitOrRemove(),v(this,Dr).setActiveEditor(null)),v(this,nm)&&(clearTimeout(v(this,nm)),J(this,nm,null));for(const n of v(this,fu).values())(r=v(this,Q1))==null||r.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,v(this,fu).clear(),v(this,Dr).removeLayer(this)}render({viewport:e}){this.viewport=e,wy(this.div,e);for(const r of v(this,Dr).getEditors(this.pageIndex))this.add(r),r.rebuild();this.updateMode()}update({viewport:e}){v(this,Dr).commitOrRemove(),ue(this,Ga,H3).call(this);const r=this.viewport.rotation,n=e.rotation;if(this.viewport=e,wy(this.div,{rotation:n}),r!==n)for(const a of v(this,fu).values())a.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:r}=this.viewport.rawDims;return[e,r]}get scale(){return v(this,Dr).viewParameters.realScale}};Q1=new WeakMap,Xw=new WeakMap,bx=new WeakMap,wx=new WeakMap,nm=new WeakMap,fu=new WeakMap,Ax=new WeakMap,Jw=new WeakMap,Zw=new WeakMap,sf=new WeakMap,am=new WeakMap,Vo=new WeakMap,im=new WeakMap,_x=new WeakMap,Qw=new WeakMap,Dr=new WeakMap,Sx=new WeakMap,Ga=new WeakSet,UL=function(){return v(this,fu).size!==0?v(this,fu).values():v(this,Dr).getEditors(this.pageIndex)},tte=function(e){v(this,Dr).unselectAll();const{target:r}=e;if(r===v(this,Vo).div||(r.getAttribute("role")==="img"||r.classList.contains("endOfContent"))&&v(this,Vo).div.contains(r)){const{isMac:n}=bo.platform;if(e.button!==0||e.ctrlKey&&n)return;v(this,Dr).showAllEditors("highlight",!0,!0),v(this,Vo).div.classList.add("free"),this.toggleDrawing(),Sj.startHighlighting(this,v(this,Dr).direction==="ltr",{target:v(this,Vo).div,x:e.x,y:e.y}),v(this,Vo).div.addEventListener("pointerup",()=>{v(this,Vo).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:v(this,Dr)._signal}),e.preventDefault()}},t0=function(){return v(Gh,Sx).get(v(this,Dr).getMode())},zL=function(e){const r=v(this,Ga,t0);return r?new r.prototype.constructor(e):null},$L=function(){const{x:e,y:r,width:n,height:a}=this.boundingClientRect,i=Math.max(0,e),s=Math.max(0,r),o=Math.min(window.innerWidth,e+n),l=Math.min(window.innerHeight,r+a),u=(i+o)/2-e,h=(s+l)/2-r,[f,m]=this.viewport.rotation%180===0?[u,h]:[h,u];return{offsetX:f,offsetY:m}},H3=function(){for(const e of v(this,fu).values())e.isEmpty()&&e.remove()},tr(Gh,"_initialized",!1),ie(Gh,Sx,new Map([bL,kL,ML,Sj,LL].map(e=>[e._editorType,e])));let BL=Gh;var of,Ec,ey,lE,ck,rte,G0,HL,nte,qL;const co=class co{constructor({pageIndex:e}){ie(this,G0);ie(this,of,null);ie(this,Ec,new Map);ie(this,ey,new Map);this.pageIndex=e}setParent(e){if(!v(this,of)){J(this,of,e);return}if(v(this,of)!==e){if(v(this,Ec).size>0)for(const r of v(this,Ec).values())r.remove(),e.append(r);J(this,of,e)}}static get _svgFactory(){return ln(this,"_svgFactory",new Aj)}draw(e,r=!1,n=!1){const a=so(co,lE)._++,i=ue(this,G0,HL).call(this),s=co._svgFactory.createElement("defs");i.append(s);const o=co._svgFactory.createElement("path");s.append(o);const l=`path_p${this.pageIndex}_${a}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),r&&v(this,ey).set(a,o);const u=n?ue(this,G0,nte).call(this,s,l):null,h=co._svgFactory.createElement("use");return i.append(h),h.setAttribute("href",`#${l}`),this.updateProperties(i,e),v(this,Ec).set(a,i),{id:a,clipPathId:`url(#${u})`}}drawOutline(e,r){const n=so(co,lE)._++,a=ue(this,G0,HL).call(this),i=co._svgFactory.createElement("defs");a.append(i);const s=co._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${n}`;s.setAttribute("id",o),s.setAttribute("vector-effect","non-scaling-stroke");let l;if(r){const f=co._svgFactory.createElement("mask");i.append(f),l=`mask_p${this.pageIndex}_${n}`,f.setAttribute("id",l),f.setAttribute("maskUnits","objectBoundingBox");const m=co._svgFactory.createElement("rect");f.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const g=co._svgFactory.createElement("use");f.append(g),g.setAttribute("href",`#${o}`),g.setAttribute("stroke","none"),g.setAttribute("fill","black"),g.setAttribute("fill-rule","nonzero"),g.classList.add("mask")}const u=co._svgFactory.createElement("use");a.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const h=u.cloneNode();return a.append(h),u.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(a,e),v(this,Ec).set(n,a),n}finalizeDraw(e,r){v(this,ey).delete(e),this.updateProperties(e,r)}updateProperties(e,r){var l;if(!r)return;const{root:n,bbox:a,rootClass:i,path:s}=r,o=typeof e=="number"?v(this,Ec).get(e):e;if(o){if(n&&ue(this,G0,qL).call(this,o,n),a&&ue(l=co,ck,rte).call(l,o,a),i){const{classList:u}=o;for(const[h,f]of Object.entries(i))u.toggle(h,f)}if(s){const h=o.firstElementChild.firstElementChild;ue(this,G0,qL).call(this,h,s)}}}updateParent(e,r){if(r===this)return;const n=v(this,Ec).get(e);n&&(v(r,of).append(n),v(this,Ec).delete(e),v(r,Ec).set(e,n))}remove(e){v(this,ey).delete(e),v(this,of)!==null&&(v(this,Ec).get(e).remove(),v(this,Ec).delete(e))}destroy(){J(this,of,null);for(const e of v(this,Ec).values())e.remove();v(this,Ec).clear(),v(this,ey).clear()}};of=new WeakMap,Ec=new WeakMap,ey=new WeakMap,lE=new WeakMap,ck=new WeakSet,rte=function(e,[r,n,a,i]){const{style:s}=e;s.top=`${100*n}%`,s.left=`${100*r}%`,s.width=`${100*a}%`,s.height=`${100*i}%`},G0=new WeakSet,HL=function(){const e=co._svgFactory.create(1,1,!0);return v(this,of).append(e),e.setAttribute("aria-hidden",!0),e},nte=function(e,r){const n=co._svgFactory.createElement("clipPath");e.append(n);const a=`clip_${r}`;n.setAttribute("id",a),n.setAttribute("clipPathUnits","objectBoundingBox");const i=co._svgFactory.createElement("use");return n.append(i),i.setAttribute("href",`#${r}`),i.classList.add("clip"),a},qL=function(e,r){for(const[n,a]of Object.entries(r))a===null?e.removeAttribute(n):e.setAttribute(n,a)},ie(co,ck),ie(co,lE,0);let VL=co;globalThis._pdfjsTestingUtils={HighlightOutliner:AL};globalThis.pdfjsLib={AbortException:Mx,AnnotationEditorLayer:BL,AnnotationEditorParamsType:Un,AnnotationEditorType:dn,AnnotationEditorUIManager:Ay,AnnotationLayer:vL,AnnotationMode:kg,AnnotationType:Ms,applyOpacity:dxe,build:yve,ColorPicker:bj,createValidAbsoluteUrl:WZ,CSSConstants:uxe,DOMSVGFactory:Aj,DrawLayer:VL,FeatureTest:bo,fetchData:NE,findContrastColor:hxe,getDocument:tee,getFilenameFromUrl:axe,getPdfFilenameFromUrl:ixe,getRGB:TE,getUuid:XZ,getXfaPageViewport:oxe,GlobalWorkerOptions:k0,ImageKind:d3,InvalidPDFException:bI,isDataScheme:Ik,isPdfFile:IF,isValidExplicitDest:_xe,MathClamp:jc,noContextMenu:dh,normalizeUnicode:txe,OPS:F_,OutputScale:U0,PasswordResponses:Gge,PDFDataRangeTransport:ree,PDFDateString:pj,PDFWorker:z_,PermissionFlag:qge,PixelsPerInch:Fx,RenderingCancelledException:RF,renderRichText:QZ,ResponseException:fj,setLayerDimensions:wy,shadow:ln,SignatureExtractor:sm,stopEvent:cs,SupportedImageMimeTypes:AI,TextLayer:U_,TouchManager:gj,updateUrlHash:KZ,Util:wr,VerbosityLevel:Ok,version:vve,XfaLayer:ZZ};const DV=2,yT=10;k0.workerSrc="https://unpkg.com/pdfjs-dist@5.4.530/build/pdf.worker.min.mjs";const m_={async getDocuments(t,e){const r=localStorage.getItem("auth_token");let n=`/api/documents?companyId=${t}`;e&&e!=="ALL"&&(n+=`&userId=${e}`);const a=await fetch(n,{headers:{Authorization:`Bearer ${r}`}});if(!a.ok)throw new Error("Failed to fetch documents");const i=await a.json();return i.length>0&&(console.log("DEBUG [getDocuments] First Raw DB Doc:",i[0]),console.log("DEBUG [getDocuments] IDs:",i.map(s=>s.id))),i.map(s=>({id:s.id,fileName:s.file_name,fileUrl:s.file_url,fileBase64:s.file_base_64||s.file_base64,status:s.status,type:s.type,uploadDate:new Date(s.created_at||s.upload_date),companyId:s.company_id,uploadedBy:s.uploaded_by,data:s.data,rawData:s.raw_data,rawText:s.raw_text,rawN8nResponse:s.raw_n8n_response,fullAnalysis:s.full_analysis,responsible_user_id:s.responsible_user_id,responsible_user_name:s.responsible_user_name,resolution_notes:s.resolution_notes,tipo_movimento:s.tipo_movimento,valor_base:s.valor_base,valor_iva:s.valor_iva,valor_documento:s.valor_documento,status_fiscal:s.status_fiscal,movement_type:s.movement_type,fiscal_status:s.fiscal_status,compliance_level:s.compliance_level,base_amount:s.base_amount,vat_amount:s.vat_amount,iva_impact:s.iva_impact,apto_saft:s.apto_saft,apto_iva:s.apto_iva,nature_type:s.nature_type}))},async getDocumentById(t){const e=localStorage.getItem("auth_token"),r=await fetch(`/api/documents/${t}`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw new Error("Failed to fetch document details");const n=await r.json();return{id:n.id,fileName:n.file_name,fileUrl:n.file_url,fileBase64:n.file_base_64||n.file_base64,status:n.status,type:n.type,uploadDate:new Date(n.created_at||n.upload_date),companyId:n.company_id,uploadedBy:n.uploaded_by,data:n.data,rawData:n.raw_data,rawText:n.raw_text,rawN8nResponse:n.raw_n8n_response,fullAnalysis:n.full_analysis,responsible_user_id:n.responsible_user_id,responsible_user_name:n.responsible_user_name,resolution_notes:n.resolution_notes,tipo_movimento:n.tipo_movimento,valor_base:n.valor_base,valor_iva:n.valor_iva,valor_documento:n.valor_documento,status_fiscal:n.status_fiscal,movement_type:n.movement_type,fiscal_status:n.fiscal_status,compliance_level:n.compliance_level,base_amount:n.base_amount,vat_amount:n.vat_amount,iva_impact:n.iva_impact,apto_saft:n.apto_saft,apto_iva:n.apto_iva,nature_type:n.nature_type}},async deleteDocument(t){const e=localStorage.getItem("auth_token"),r=await fetch(`/api/documents/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(!r.ok){const n=await r.text();throw console.error(`Failed to delete document ${t}: ${r.status} ${n}`),new Error(`Failed to delete document: ${n}`)}},async convertFileToBase64(t){return new Promise((e,r)=>{const n=new FileReader;n.readAsDataURL(t),n.onload=()=>e(n.result),n.onerror=a=>r(a)})},async convertPdfToImage(t){try{const e=await t.arrayBuffer(),n=await(await tee({data:e}).promise).getPage(1),a=n.getViewport({scale:2}),i=document.createElement("canvas"),s=i.getContext("2d");if(i.height=a.height,i.width=a.width,!s)throw new Error("Could not create canvas context");await n.render({canvasContext:s,viewport:a}).promise;const o=i.toDataURL("image/jpeg",.85),l=atob(o.split(",")[1]),u=new ArrayBuffer(l.length),h=new Uint8Array(u);for(let b=0;b<l.length;b++)h[b]=l.charCodeAt(b);const f=new Blob([u],{type:"image/jpeg"}),m=t.name.replace(/\.pdf$/i,".jpg"),g=new File([f],m,{type:"image/jpeg"});return{base64:o,file:g}}catch(e){throw console.error("Error converting PDF to Image:",e),new Error("Falha ao converter PDF para Imagem.")}},async uploadToImgBB(t){try{const e="8360d0dc6e3b2243b4dc8a45b4040974",r=new FormData,n=t.replace(/^data:image\/\w+;base64,/,"");r.append("image",n);const a=await fetch(`https://api.imgbb.com/1/upload?expiration=120&key=${e}`,{method:"POST",body:r});if(!a.ok)return console.error("ImgBB Upload Failed:",await a.text()),"";const i=await a.json();return console.log("ImgBB Upload Success:",i.data.url),i.data.url}catch(e){return console.error("Error uploading to ImgBB:",e),""}},async uploadDocuments(t,e,r,n){const a=[];for(const i of t){let s="",o=i;try{if(i.type==="application/pdf"){console.log(`Processing PDF: ${i.name} -> Converting to Image...`);const u=await this.convertPdfToImage(i);s=u.base64,o=u.file,console.log(`Conversion Success: ${o.name}`)}else s=await this.convertFileToBase64(i)}catch(u){console.warn(`Skipping file ${i.name} due to processing error`,u);continue}const l=crypto.randomUUID();a.push({id:l,fileName:o.name,fileUrl:"",fileBase64:s,status:or.PROCESSING,type:ny.INVOICE,uploadDate:new Date,companyId:e,uploadedBy:r,data:{},rawData:{}})}return console.log(" DEBUG [uploadDocuments]: Files prepared locally."),a},async uploadAndProcessDocuments(t,e,r,n){const a=[],i=[];for(const u of t){let h="",f=u;try{if(u.type==="application/pdf"){console.log(`Processing PDF: ${u.name} -> Converting to Image...`);const b=await this.convertPdfToImage(u);h=b.base64,f=b.file,console.log(`Conversion Success: ${f.name}`)}else h=await this.convertFileToBase64(u)}catch(b){console.warn(`Skipping file ${u.name} due to processing error`,b);continue}i.push(f);let m="";u.type==="application/pdf"&&h&&(m=await this.uploadToImgBB(h));const g=crypto.randomUUID();a.push({id:g,fileName:f.name,fileUrl:"",fileBase64:h,status:or.PROCESSING,type:ny.INVOICE,uploadDate:new Date,companyId:e,uploadedBy:r,data:{previewUrl:m},rawData:{}})}if(i.length===0)return{localDocs:[],dbIds:[]};console.log(" DEBUG [uploadAndProcessDocuments]: Starting processing...");const s=await this.processBatches(i,a,e,n);return{localDocs:(await this.getDocuments(e)).filter(u=>s.includes(u.id)),dbIds:s}},async processBatches(t,e,r,n){console.log(` [processBatches]: Starting unified processing of ${t.length} files`);let a=0;const i=[];for(let o=0;o<t.length;o+=yT){const l=t.slice(o,o+yT),u=e.slice(o,o+yT),h=u.map(g=>g.fileBase64||"");console.log(` [processBatches]: Processing batch ${o/yT+1}`);let f=await this.sendBatchToN8NWithRetry(l,u,r,e[0].uploadedBy,h);if(f.some(g=>{var b,y,w;return g.status==="ERROR"&&(((b=g.error)==null?void 0:b.includes("Falha de rede"))||((y=g.error)==null?void 0:y.includes("Erro N8N"))||((w=g.error)==null?void 0:w.includes("Conexo")))})){console.warn(" [processBatches]: Connectivity issue detected. Entering DB Polling fallback...");const g=await this.pollDatabaseForStatus(u.map(b=>b.id),r);i.push(...g)}else{const g=await this.updateDocsWithResults(f,u,n);i.push(...g)}s(f)}function s(o){a+=o.filter(l=>{var h,f,m,g,b,y,w;if(l.status==="ERROR")return!0;const u=((h=l.data)==null?void 0:h.output)||((f=l.data)==null?void 0:f.json)||l.data;return((b=(g=(m=u==null?void 0:u.decisao_final)==null?void 0:m.status)==null?void 0:g.toUpperCase())==null?void 0:b.includes("REJEITADO"))||((w=(y=u==null?void 0:u.status)==null?void 0:y.toUpperCase())==null?void 0:w.includes("REJEITADO"))}).length}try{const o=localStorage.getItem("auth_token");await fetch("/api/system/audit-batch",{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:JSON.stringify({company_id:r,doc_count:t.length,error_count:a,batch_ids:i,sync_status:"SUCCESS"})})}catch(o){console.error("Failed to log compliance batch:",o)}return console.log(` [processBatches]: All ${t.length} files processed. Total errors: ${a}`),console.log(` [processBatches]: Returning ${i.length} synced DB IDs:`,i),i},async sendBatchToN8NWithRetry(t,e,r,n,a,i=0){var l;const s=new FormData;t.forEach(u=>s.append("files",u)),s.append("companyId",r),s.append("userId",n);const o=t.map(u=>{const h=e.find(f=>f.fileName===u.name);return{file_name:u.name,audit_id:(h==null?void 0:h.id)||null}});t.forEach(u=>{var m;const h=e.find(g=>g.fileName===u.name),f=((m=h==null?void 0:h.data)==null?void 0:m.previewUrl)||"";s.append("preview_url",f)}),s.append("metadata",JSON.stringify(o));try{const h=(await oj.getPublicConfig()).n8n_webhook_url||"https://n8n.conversio.ao/webhook-test/document-analysis";console.log("DEBUG [sendBatchToN8N]: Calling URL:",h),console.log("DEBUG [sendBatchToN8N]: Sending files:",t.map(w=>w.name)),console.log("DEBUG [sendBatchToN8N]: Metadata:",JSON.stringify(o,null,2));const f=await fetch(h,{method:"POST",body:s});if(!f.ok){const w=await f.text().catch(()=>"No response body");console.error(`CRITICAL ERROR [sendBatchToN8N]: Server returned ${f.status}: ${w}`);const A=w.includes("The execution was cancelled")||f.status===500;return A&&i<DV?(await new Promise(S=>setTimeout(S,2e3)),this.sendBatchToN8NWithRetry(t,e,r,n,a,i+1)):t.map(S=>({fileName:S.name,status:"ERROR",error:A?"Servidor ocupado.":`Erro N8N (${f.status})`}))}const m=await f.json();console.log(" [sendBatchToN8N] RAW WEBHOOK RESPONSE:",JSON.stringify(m,null,2));const g=[],b=w=>{var T;if(!w||typeof w!="object")return;if(Array.isArray(w)){w.forEach(k=>b(k));return}const A=w.json||w.output||w,S=A.File_Name||A.file_name||((T=A.identificacao_documento)==null?void 0:T.File_Name)||A.audit_id||A.id,N=A.decisao_final||A.resumo_por_agente||A.classificacao_fiscal;if(S||N){g.push(w);return}Object.values(w).forEach(k=>b(k))};b(m),g.length===0&&(Array.isArray(m)&&m.length>0?(console.warn(" [sendBatchToN8N]: Smart extraction found 0 results. Falling back to root array."),g.push(...m)):m&&typeof m=="object"&&Object.keys(m).length>0&&(console.warn(" [sendBatchToN8N]: Fallback to root object as single result."),g.push(m))),console.log(` [sendBatchToN8N]: Extraction complete. Results found: ${g.length}`);const y=new Set;return t.map((w,A)=>{const S=w.name.toLowerCase(),N=w.name.split(".")[0].toLowerCase(),T=e.find(O=>O.fileName===w.name),k=T==null?void 0:T.id;let R=-1;return k&&(R=g.findIndex((O,U)=>{if(y.has(U))return!1;const H=O.json||O.output||O,G=H.audit_id||H.id;return String(G)===String(k)})),R===-1&&(R=g.findIndex((O,U)=>{var F,L,re,Z,pe;if(y.has(U))return!1;const H=O.json||O.output||O,G=(H.File_Name||H.file_name||((F=H.identificacao_documento)==null?void 0:F.File_Name)||((re=(L=H.output)==null?void 0:L.identificacao_documento)==null?void 0:re.f_File_Name)||((pe=(Z=H.output)==null?void 0:Z.identificacao_documento)==null?void 0:pe.File_Name)||"").toString().toLowerCase();return G===S||G===N||G.includes(N)})),R!==-1?(y.add(R),{fileName:w.name,status:"SUCCESS",data:g[R],rawJson:g[R]}):R===-1&&g.length===t.length&&!y.has(A)?(y.add(A),{fileName:w.name,status:"SUCCESS",data:g[A],rawJson:g[A]}):(console.error(` [sendBatchToN8N]: No match for ${w.name}`),{fileName:w.name,status:"ERROR",error:"No correspondido"})})}catch(u){console.error("ERROR [sendBatchToN8N] Network:",u);const h=((l=u.message)==null?void 0:l.includes("fetch"))||u.name==="TypeError";return i<DV?(await new Promise(f=>setTimeout(f,4e3)),this.sendBatchToN8NWithRetry(t,e,r,n,a,i+1)):t.map(f=>({fileName:f.name,status:"ERROR",error:h?"Falha de rede (CORS/Preflight)":"Erro de conexo"}))}},async pollDatabaseForStatus(t,e){console.log(` [pollDatabaseForStatus]: Starting strict poll for ${t.length} docs...`);const r=30,n=[];for(let a=0;a<r;a++){await new Promise(o=>setTimeout(o,2e3));const s=(await this.getDocuments(e)).filter(o=>t.includes(o.id)&&o.status!==or.PROCESSING&&o.status!==or.ERROR&&o.data&&Object.keys(o.data).length>0);if(console.log(` [poll]: Attempt ${a+1}. Found ${s.length}/${t.length} terminal docs with data.`),s.length>0&&s.forEach(o=>{n.includes(o.id)||(n.push(o.id),console.log(` [poll]: Document ${o.fileName} detected with full analysis!`))}),n.length===t.length)break}return n},async updateDocsWithResults(t,e,r){var i,s,o;console.log(" DEBUG [updateDocsWithResults]: START - Processing results"),console.log(" DEBUG [updateDocsWithResults]: Results Count:",t.length),console.log(" DEBUG [updateDocsWithResults]: LocalDocs Count:",e.length);const n=localStorage.getItem("auth_token");localStorage.getItem("KWIKDOCS_VISION_PROMPT");const a=[];for(const l of e)try{console.log(` DEBUG [updateDocsWithResults]: Processing doc ID=${l.id}, fileName=${l.fileName}`);const u=t.find(N=>N.fileName===l.fileName);if(!u||u.status==="ERROR"){console.log(` DEBUG [updateDocsWithResults]: FAILED result for ${l.fileName}. Error: ${(u==null?void 0:u.error)||"Nenhum resultado"}`);try{const N=localStorage.getItem("auth_token")||n;await this.syncDocument(N,{id:l.id,file_name:l.fileName,company_id:l.companyId,status:or.ERROR,file_base64:l.fileBase64,raw_data:{error:(u==null?void 0:u.error)||"Sem resposta do n8n",debug_info:{matched_result:!!u,results_length:t.length,all_result_names:t.map(T=>T.fileName)}}})}catch(N){console.error(`Failed to sync ERROR state for ${l.fileName}`,N)}continue}console.log(` DEBUG [updateDocsWithResults]: Found result for ${l.fileName}:`,u.data);let h=u.data;console.log(` DEBUG [updateDocsWithResults]: Extracting data for DOC_ID=${l.id}...`);for(let N=0;N<5;N++)if(h&&typeof h=="object"&&!Array.isArray(h))if(h.output)h=h.output;else if(h.json)h=h.json;else if(h.body)h=h.body;else break;else if(Array.isArray(h)&&h.length>0)h=h[0];else break;const f=h.identificacao_documento||h.identification||{},m=h.emitente||h.issuer_data||{},g=h.cliente||h.client_data||{},b=h.analise_matematica||h.math_analysis||{},y=(((i=h.decisao_final)==null?void 0:i.status)||h.status||"").toUpperCase();let w=l.status;y.includes("REJEITADO")||y==="ERROR"||y==="FAILED"?w=or.REJEITADO:y.includes("APROVADO")||y==="SUCCESS"||y==="COMPLETED"||y==="DONE"?w=or.APROVADO:y==="PROCESSING"?w=or.PROCESSING:(h.merchantName||h.identificacao_documento)&&(w=or.COMPLETED);let A={...h,merchantName:m.nome||h.merchantName||"Desconhecido",totalAmount:parseFloat(b.total_recalculado||h.totalAmount||"0"),currency:f.moeda||"AOA",date:f.data_emissao||new Date().toISOString().split("T")[0],category:h.category||"Geral",summary:((s=h.decisao_final)==null?void 0:s.justificacao_tecnica_detalhada)||"Anlise concluda",document_type_identified:f.tipo_identificado||"FATURA",fiscal_validation:w===or.REJEITADO?"REJEITADO":"APROVADO",final_decision:w===or.REJEITADO?"REJEITADO":"APROVADO",issuer_data:{name:m.nome||"",nif:m.nif||"",address:m.endereco||""},client_data:{name:g.nome||"",nif:g.nif||"",address:g.endereco||""},itens_fatura:h.itens_fatura||[],risk_level:((o=h.decisao_final)==null?void 0:o.nivel_risco)||"DESCONHECIDO"};l.data=A,l.rawData=h,l.rawN8nResponse=h,l.fullAnalysis=h,l.status=w;const S={id:l.id,file_name:l.fileName,file_url:"DB_STORED",company_id:l.companyId,type:ny.INVOICE,file_base64:l.fileBase64,data:A,raw_data:h,status:w,raw_text:h.raw_text||"",raw_n8n_response:h,full_analysis:h};console.log(` DEBUG [updateDocsWithResults]: Calling syncDocument for ${l.fileName}`);try{const N=localStorage.getItem("auth_token")||n,T=await this.syncDocument(N,S);console.log(" DEBUG [updateDocsWithResults]: Document SYNCED successfully! Result:",T),a.push(T.id||l.id)}catch(N){console.error(` DEBUG [updateDocsWithResults]: FAILED to sync document ${l.fileName}:`,N);try{const T=localStorage.getItem("auth_token")||n;await this.syncDocument(T,{id:l.id,file_name:l.fileName,company_id:l.companyId,status:or.ERROR,file_base64:l.fileBase64,raw_data:{error:"Sync Failed: "+N.message}})}catch(T){console.error("Critical: Failed to sync fallback error status",T)}continue}if($ge())try{const N=await Hge.auditDocument(A,r);await this.completeDocument(l.id,n,{data:{...A,reasoning:N.issues,justification:N.justification},status:N.status==="REJEITADO"?or.REJEITADO:or.APROVADO})}catch(N){console.error("AI Audit failed for",l.fileName,N)}}catch(u){console.error("Failed to update doc",l.fileName,u)}return console.log(` DEBUG [updateDocsWithResults]: Returning ${a.length} synced IDs:`,a),a},async saveAndCompleteDocument(t,e,r){console.log(`DEBUG [saveAndCompleteDocument]: Persisting ${t.fileName}`);const n=await fetch("/api/documents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({file_name:t.fileName,file_url:t.fileUrl,company_id:t.companyId,type:r.type||"UNKNOWN",file_base64:t.fileBase64})});if(!n.ok)throw new Error("Failed to create doc");const a=await n.json(),i=await fetch(`/api/documents/${a.id}/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(r)});if(!i.ok)throw new Error("Failed to complete doc");return{...a,...await i.json()}},async syncDocument(t,e){console.log(` [syncDocument]: START - Atomic Sync for ${e.file_name}`);const r=localStorage.getItem("auth_token")||t,n=await fetch("/api/documents/sync",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(e)});if(!n.ok){const a=await n.text();throw n.status===401&&console.error(" [syncDocument]: TOKEN EXPIRED! User needs to re-login."),new Error(`Failed to sync doc: ${n.status} - ${a}`)}return await n.json()},async completeDocument(t,e,r){console.log(` [completeDocument]: START - Updating doc ID=${t}`),console.log(" [completeDocument]: Token exists:",!!e),console.log(" [completeDocument]: Body:",JSON.stringify(r,null,2));const n=`/api/documents/${t}/complete`;console.log(` [completeDocument]: Calling ${n}...`);const a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(r)});if(console.log(` [completeDocument]: Response status: ${a.status} ${a.statusText}`),!a.ok){const s=await a.text();throw console.error(` [completeDocument]: Server returned error: ${s}`),new Error(`Failed to complete doc: ${a.status} - ${s}`)}const i=await a.json();return console.log(" [completeDocument]: SUCCESS! Result:",i),i},async resolveDocumentError(t,e,r,n){const a=localStorage.getItem("auth_token");let i;switch(e){case"RETRY":i=or.PROCESSING;break;case"MANUAL_APPROVE":i=or.APROVADO_USUARIO;break;case"MANUAL_REJECT":i=or.REJEITADO;break;case"RESOLVE_DUPLICATE":i=or.ARCHIVED;break}const s=await fetch(`/api/documents/${t}/resolve`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({status:i,relatedIds:n,resolution_notes:r})});if(!s.ok)throw new Error("Failed to resolve error");return s.json()}},ate=Object.freeze(Object.defineProperty({__proto__:null,documentService:m_},Symbol.toStringTag,{value:"Module"})),GL=`Voc  o **CFO Estratgico da KwikDocs**, com MBA em Finanas pela INSEAD e especializao em fiscalidade angolana.

**IDENTIDADE PROFISSIONAL:**
- Pensamento analtico rigoroso baseado em dados
- Orientao para resultados mensurveis (ROI, IRR, Payback)
- Conhecimento profundo de AGT, CIVA, Imposto Industrial
- Experincia em otimizao fiscal lcita e gesto de cash flow

**MISSO ESTRATGICA:**
Transformar dados financeiros brutos em INTELIGNCIA ACIONVEL que:
1. Maximize rentabilidade
2. Minimize carga fiscal (dentro da lei)
3. Previna crises de liquidez
4. Identifique oportunidades ocultas

**METODOLOGIA DE ANLISE (McKinsey-Style):**

### 1 DIAGNSTICO FINANCEIRO (Financial Health Check)
\`\`\`
Receita: [X] AOA
Despesas: [Y] AOA
Margem Lq: [(X - Y) / X * 100] %
    Burn Rate: [Y / meses] AOA / ms
Runway: [Caixa / Burn Rate] meses

PERGUNTA: A empresa est gerando caixa ou queimando caixa ?
    \`\`\`

**Benchmarks Angola:**
- Margem Lquida Saudvel:  15%
- Runway Mnimo Seguro:  6 meses
- Relao Receita/Despesa:  1.25x

### 2 ANLISE DE TENDNCIAS (Trend Analysis)
Compare perodo atual vs anterior:
- Receita: / X%
- Despesas: / Y%
- Categorias com maior variao

**Padres a identificar:**
- Despesas crescendo mais rpido que receita   ALERTA
- Concentrao excessiva em poucos fornecedores  RISCO
- Sazonalidade no reconhecida  OPORTUNIDADE

### 3 CAA AO DESPERDCIO (Cost Leakage Analysis)
**Perguntas-chave:**
- Algum fornecedor representa >20% das despesas? (risco de dependncia)
- H categorias 50%+ acima do benchmark setorial?
- Despesas recorrentes sem contrato formal? (poder de negociao perdido)
- Pagamentos em duplicidade ou valores arredondados suspeitos?

### 4 OTIMIZAO FISCAL (Tax Engineering)
**Angola - Regras AGT:**
- IVA Geral: 14% | Reduzido: 5% | Isentos: Sade, Educao
- Imposto Industrial: 30% (lucros)
- Reteno na Fonte: 6.5% (servios) | 15% (aluguis)

**Estratgias Lcitas:**
- Maximizar dedues legais (despesas operacionais)
- Aproveitar isenes setoriais
- Estruturar contratos para reduzir reteno
- Timing de despesas (acelerao/diferimento)
- Regime simplificado vs geral (anlise custo-benefcio)

### 5 PROJEO DE CASH FLOW (Forecasting)
**Modelo de 3 Cenrios:**
\`\`\`
OTIMISTA: Receita + 20 % | Despesas + 5 %   CF: [X]
REALISTA: Receita + 5 %  | Despesas + 3 %   CF: [Y]
PESSIMISTA: Receita - 10 % | Despesas + 10 %  CF: [Z]
    \`\`\`

**Fatores a considerar:**
- Sazonalidade do negcio
- Faturas pendentes (aging)
- Compromissos fixos (aluguel, salrios)
- Prazos fiscais (AGT)

### 6 PLANO DE AO (Action Roadmap)
**Priorizao (Matriz Eisenhower Financeira):**
\`\`\`
URGENTE + IMPORTANTE:
- Liquidez crtica(runway < 3 meses)
    - Multas fiscais iminentes
        - Fornecedores chave inadimplentes

IMPORTANTE + NO URGENTE:
- Renegociao de contratos
    - Otimizao de estrutura fiscal
        - Diversificao de fornecedores

NO URGENTE + URGENTE:
- Pequenas correes operacionais

NO URGENTE + NO IMPORTANTE:
- Nice - to - have
    \`\`\`

**Para cada ao, defina:**
- Responsvel: [Cargo/Pessoa]
- Prazo: [Data especfica]
- Impacto Financeiro: [AOA ou %]
- Complexidade: [Baixa/Mdia/Alta]

### 7 GESTO DE RISCO (Risk Matrix)
**Categorias de Risco:**
- **LIQUIDEZ**: Runway < 6 meses, Overdue > 30% receita
- **FISCAL**: Multas AGT, IVA no recuperado, Reteno ausente
- **OPERACIONAL**: Dependncia de 1-2 fornecedores
- **COMPLIANCE**: Documentos sem NIF, Prazos no cumpridos

**Para cada risco:**
- Probabilidade: [0-100%]
- Impacto Financeiro: [AOA]
- Estratgia de Mitigao: [Ao concreta]

**TOM DE COMUNICAO:**
- **Executivo**: Direto ao ponto, sem jargo desnecessrio
- **Quantitativo**: Sempre que possvel, use nmeros (%, AOA, meses)
- **Acionvel**: Cada insight deve ter uma ao clara
- **Honesto**: Se os dados so ruins, diga. Se so bons, celebre brevemente.

**FORMATO DE SADA (JSON):**
Retorne um relatrio estruturado completo seguindo a interface StrategistReport.
Inclua:
- executive_summary (3-4 pargrafos, linguagem de boardroom)
- financial_health_score (0-100, baseado em margem, runway, tendncias)
- key_metrics (mtricas calculadas precisamente)
- key_trends (mnimo 3, mximo 7 tendncias relevantes)
- risks (mnimo 2, ordenados por severidade)
- opportunities (mnimo 3, ordenados por ROI)
- cash_flow_forecast (3 cenrios + breakdown mensal)
- action_plan (5-10 aes SMART)
- tax_optimization (estratgias concretas com base legal)

**REGRAS DE OURO:**
1. NUNCA invente nmeros - use apenas dados fornecidos
2. SEMPRE cite base legal para estratgias fiscais
3. PRIORIZE impacto financeiro mensurvel
4. SEJA especfico em prazos e responsveis
5. CALCULE ROI para cada oportunidade`,Ej=`Voc  o **Consultor Fiscal Snior KwikDocs**, especializado em legislao angolana e anlise documental inteligente.

**BASES DE CONHECIMENTO:**
1. Cdigo Geral Tributrio (CGT)
2. Cdigo do IVA (CIVA)  
3. Imposto Industrial
4. Regulamentos AGT
5. Base de Documentos Fiscais da Empresa (Faturas, Recibos, Notas)

**PROTOCOLO DE ANLISE (Chain-of-Thought):**

1. **COMPREENSO DA PERGUNTA**
   - Classifique: Dvida legal? Busca de documento? Clculo fiscal? Compliance?
   - Identifique entidades: NIFs, valores, datas, categorias
   - Determine escopo temporal (se aplicvel)

2. **ANLISE DO CONTEXTO RECUPERADO**
   - Avalie a qualidade dos documentos (score de relevncia)
   - Identifique gaps: O que est presente? O que falta?
   - Verifique consistncia: Dados conflitantes?

3. **SNTESE MULTI-FONTE**
   - **Lei**: Qual artigo/regulamento se aplica?
   - **Documentos**: O que dizem as faturas/recibos da empresa?
   - **Clculos**: Se necessrio, mostre a matemtica passo-a-passo
   - **Compliance**: Status (Conforme/No Conforme/Revisar)

4. **RESPOSTA ESTRUTURADA**
   - Use Markdown com sees claras
   - Cite fontes especficas: "Art. 18 CIVA" ou "Fatura #123"
   - Se houver clculos, apresente em tabela
   - Destaque riscos fiscais com 

**REGRAS DE QUALIDADE:**

 **SEMPRE:**
- Cite a fonte exata (lei ou documento ID)
- Admita quando o contexto  insuficiente
- Apresente nmeros com formatao angolana (1.000.000,00 AOA)
- Destaque prazos e deadlines
- Use linguagem tcnica mas acessvel

 **NUNCA:**
- Invente valores ou artigos de lei
- Ignore dados conflitantes (sempre mencione)
- Responda sem citar fonte
- Use grias ou linguagem informal
- Faa recomendaes sem base legal

**FORMATO DE RESPOSTA:**

###  Resumo Executivo
[Resposta direta em 1-2 frases]

###  Anlise Detalhada
[Explicao tcnica com citaes]

###  Dados Relevantes (se aplicvel)
[Tabela ou lista de documentos/valores]

###  Base Legal
[Artigos de lei citados]

###  Alertas e Recomendaes
[Riscos fiscais ou aes necessrias]

---

**CONTEXTO RECUPERADO:**
{{CONTEXT}}

**PERGUNTA DO USURIO:**
{{QUESTION}}`,Vve=`Voc  um especialista em otimizao de buscas semnticas para documentos fiscais.

**TAREFA:** Transforme a pergunta do usurio em uma query de busca otimizada.

**HISTRICO DA CONVERSA:**
{{HISTORY}}

**NOVA PERGUNTA:**
{{QUERY}}

**INSTRUES:**
1. Resolva pronomes (ele, isso, aquilo) usando o contexto
2. Expanda abreviaes fiscais (IVA  Imposto sobre Valor Acrescentado)
3. Adicione sinnimos relevantes (fatura = invoice = nota fiscal)
4. Mantenha entidades-chave: NIFs, valores monetrios, datas
5. Se a pergunta for continuao, COMBINE com o tpico anterior

**EXEMPLOS:**
- "Quanto paguei em faturas?"  "faturas emitidas total valor pago despesas"
- "E em Maro?"  "faturas maro 2026 total valor despesas"
- "Quais sem NIF?"  "documentos faturas recibos sem NIF emitente fornecedor"

**OUTPUT:** Retorne APENAS a query otimizada, sem explicaes.`;class Hve{constructor(){this.conversationContext=new Map,this.queryCache=new Map,this.cacheExpiry=300*1e3}getAuthToken(){return localStorage.getItem("auth_token")}async analyzeQueryIntent(e){const r=e.toLowerCase(),n={fiscalRule:/(artigo|art\.|cgt|civa|lei|regulamento|cdigo)/i,calculation:/(quanto|total|soma|mdia|calcul)/i,compliance:/(conforme|legal|permitido|obrigatrio|prazo)/i,documentSearch:/(fatura|recibo|documento|nota|compra|venda)/i},a=r.match(/\b\d{9,10}\b/),i=r.match(/\d{4}-\d{2}-\d{2}|\d{2}\/\d{2}\/\d{4}/),s=r.match(/\d+[\.,]?\d*\s*(aoa|kwanza|kz)/i),o=[];a&&o.push(`NIF:${a[0]}`),i&&o.push(`DATA:${i[0]}`),s&&o.push(`VALOR:${s[0]}`);let l="GENERAL";return n.fiscalRule.test(e)?l="FISCAL_RULE":n.documentSearch.test(e)?l="DOCUMENT_SEARCH":n.calculation.test(e)?l="CALCULATION":n.compliance.test(e)&&(l="COMPLIANCE"),{type:l,entities:o,requires_calculation:n.calculation.test(e)}}async optimizeQueryWithHistory(e,r){var s;if(!r||r.length===0)return e;const n=`${e}:${r.length}`;if(this.queryCache.has(n)){const o=this.queryCache.get(n);if(o&&Date.now()-o.timestamp<this.cacheExpiry)return console.log("[RAG] Query otimizada do cache"),o.optimizedQuery}const a=r.slice(-8).map(o=>`${o.role==="user"?"":""}: ${o.text}`).join(`
`),i=Vve.replace("{{HISTORY}}",a).replace("{{QUERY}}",e);try{const u=((s=(await(await xI()).chat.completions.create({model:"gpt-4o-mini",messages:[{role:"system",content:"Voc  um otimizador de queries de busca. Retorne APENAS a query otimizada."},{role:"user",content:i}],temperature:0,max_tokens:100})).choices[0].message.content)==null?void 0:s.trim())||e;return this.queryCache.set(n,{optimizedQuery:u,timestamp:Date.now()}),console.log(`[RAG] Query: "${e}"  "${u}"`),u}catch(o){return console.warn("[RAG] Erro ao otimizar query, usando original:",o),e}}async retrieveContextFromDB(e,r="ALL",n={}){try{const a=this.getAuthToken();if(!a)throw new Error("Autenticao necessria para busca RAG");const i={query:e,companyId:r,maxResults:n.maxResults||10,minRelevanceScore:n.minRelevanceScore||.3,dateRange:n.dateRange},s=await fetch("/api/rag/search",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(i)});if(!s.ok)throw new Error(`Busca falhou: ${s.statusText}`);const o=await s.json();return this.buildStructuredContext(o,e)}catch(a){return console.error("[RAG] Erro na busca:",a),this.buildEmptyContext(a)}}buildStructuredContext(e,r){var u;const{results:n,stats:a,metadata:i}=e,s=`
 **ESTATSTICAS DA BASE DE DADOS**

 Total de Documentos: ${((u=a.totalDocs)==null?void 0:u.toLocaleString("pt-AO"))||0}
 Valor Total Processado: ${this.formatCurrency(a.totalAmount||0)}
 Documentos Aprovados: ${a.approvedCount||0}
 Documentos Rejeitados: ${a.rejectedCount||0}
 Sem NIF do Emitente: ${a.missingNifCount||0}
${a.dateRange?` Perodo: ${a.dateRange.earliest} at ${a.dateRange.latest}`:""}
`,o=i?`
 **QUALIDADE DA BUSCA**

 Qualidade: ${i.search_quality}
 Documentos Analisados: ${i.total_chunks_searched}
 Relevncia Mdia: ${(i.avg_relevance_score*100).toFixed(1)}%
`:"";let l="";return n.length===0?l=`
 **NENHUM DOCUMENTO ENCONTRADO**
A busca por "${r}" no retornou resultados.
Sugestes:
- Tente termos mais genricos
- Verifique a grafia de nomes/NIFs
- Amplie o perodo de busca
`:l=`
 **DOCUMENTOS RELEVANTES (${n.length})**

${n.map((h,f)=>this.formatDocument(h,f+1)).join(`

`)}
`,{documents:l,statistics:s,quality_metrics:o,search_metadata:i||{}}}formatDocument(e,r){var i,s,o;const n=e.data||{},a=e.relevance_score?` Relevncia: ${(e.relevance_score*100).toFixed(1)}%`:"";return`
**[${r}] ${e.file_name}** (ID: ${e.id})
${a}

  Fornecedor: ${n.merchantName||((i=n.issuer_data)==null?void 0:i.name)||"N/A"}
  NIF Emitente: ${((s=n.issuer_data)==null?void 0:s.nif)||"SEM NIF"}
  Valor Total: ${this.formatCurrency(n.totalAmount)}
  Data: ${this.formatDate(n.date||n.created_at)}
  Categoria: ${n.category||"No categorizado"}
  Itens: ${((o=n.items)==null?void 0:o.length)||0}
  Status: ${n.approval_status||"Pendente"}
${n.tax_info?`  IVA: ${this.formatCurrency(n.tax_info.vat||0)}`:""}
${n.notes?`  Obs: ${n.notes}`:""}
`}buildEmptyContext(e){return{documents:` Erro ao buscar documentos: ${e.message}`,statistics:"Estatsticas indisponveis",quality_metrics:"",search_metadata:{}}}async generateResponse(e,r=[],n="",a="ALL",i){try{const s=await this.analyzeQueryIntent(e);console.log("[RAG] Inteno detectada:",s.type);const o=await this.optimizeQueryWithHistory(e,r),l=await this.retrieveContextFromDB(o,a),u=await p_.getPrompt("rag"),h=i||u.prompt_text||Ej,f=u.model_override||GZ.CHAT||"gpt-4o-mini",m=u.temperature??.3,g=`
${l.statistics}
${l.quality_metrics}
${l.documents}

${n?`
**CONTEXTO ADICIONAL:**
${n}`:""}

**INTENO DA PERGUNTA:** ${s.type}
**ENTIDADES IDENTIFICADAS:** ${s.entities.join(", ")||"Nenhuma"}
`,b=h.replace("{{CONTEXT}}",g).replace("{{QUESTION}}",e),A=(await(await xI()).chat.completions.create({model:f,messages:[{role:"system",content:"Voc  um Consultor Fiscal Snior especializado em Angola."},...this.buildConversationHistory(r),{role:"user",content:b}],temperature:m,max_tokens:2e3})).choices[0].message.content||"No consegui processar sua solicitao.";return this.postProcessAnswer(A,l)}catch(s){return console.error("[RAG] Erro ao gerar resposta:",s),this.generateErrorResponse(s)}}buildConversationHistory(e){return e.slice(-6).map(r=>({role:r.role==="user"?"user":"assistant",content:r.text}))}postProcessAnswer(e,r){let n=e;return r.search_metadata.total_chunks_searched>0&&(n+=`

---
*Busca realizada em ${r.search_metadata.total_chunks_searched} documentos | Qualidade: ${r.search_metadata.search_quality}*`),n}generateErrorResponse(e){return`
###  Servio Temporariamente Indisponvel

Ocorreu um erro ao processar sua solicitao:
\`${e.message}\`

**Possveis causas:**
- Conexo com o banco de dados
- Erro de autenticao
- Limite de API excedido

**Tente:**
1. Atualizar a pgina
2. Fazer login novamente
3. Simplificar a pergunta

Se o problema persistir, contate o suporte tcnico.
`}formatCurrency(e){return new Intl.NumberFormat("pt-AO",{style:"currency",currency:"AOA",minimumFractionDigits:2}).format(e||0)}formatDate(e){if(!e)return"Data no disponvel";const r=new Date(e);return new Intl.DateTimeFormat("pt-AO",{year:"numeric",month:"long",day:"numeric"}).format(r)}clearCache(){this.queryCache.clear(),this.conversationContext.clear(),console.log("[RAG] Cache limpo")}getPerformanceMetrics(){return{cached_queries:this.queryCache.size,conversation_contexts:this.conversationContext.size,cache_expiry_ms:this.cacheExpiry}}}const qve=new Hve,WL=`
Voc  um motor de extrao de dados fiscais para Angola (KwikDocs Parser).
Sua tarefa  receber o texto bruto ou imagem de uma fatura/recibo e extrair um JSON estruturado.

CAMPOS OBRIGATRIOS:
- merchantName: Nome da entidade emitente.
- nif: NIF do emitente (formato 10 dgitos).
- date: Data do documento (ISO YYYY-MM-DD).
- totalAmount: Valor total lquido a pagar.
- taxAmount: Valor do IVA/Imposto.
- invoiceNo: Nmero da fatura (ex: FT 2024/1).

REGRAS DE EXTRAO:
1. Se o NIF no for claro, tente inferir pelo padro, mas marque "confidence" como baixo.
2. Ignore itens no fiscais (ex: anotaes a caneta irrelevantes).
3. Classifique a categoria da despesa baseada nos itens (ex: "Alimentao", "Transporte", "Servios").
4. Normalize a moeda para Kz (Kwanza). Se for outra moeda, indique a taxa de cmbio se visvel.

SADA: Apenas JSON vlido, sem markdown.
`,KL=`Voc  um perito forense em documentos fiscais digitais.
Analise a imagem em busca de autenticidade, selos e assinaturas.`;var q3={exports:{}},Gve=q3.exports,RV;function Wve(){return RV||(RV=1,(function(t,e){(function(r,n){t.exports=n()})(Gve,function(){var r=function(j,I){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,te){W.__proto__=te}||function(W,te){for(var se in te)Object.prototype.hasOwnProperty.call(te,se)&&(W[se]=te[se])})(j,I)},n=function(){return(n=Object.assign||function(j){for(var I,W=1,te=arguments.length;W<te;W++)for(var se in I=arguments[W])Object.prototype.hasOwnProperty.call(I,se)&&(j[se]=I[se]);return j}).apply(this,arguments)};function a(j,I,W){for(var te,se=0,me=I.length;se<me;se++)!te&&se in I||((te=te||Array.prototype.slice.call(I,0,se))[se]=I[se]);return j.concat(te||Array.prototype.slice.call(I))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:YX,s=Object.keys,o=Array.isArray;function l(j,I){return typeof I!="object"||s(I).forEach(function(W){j[W]=I[W]}),j}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var u=Object.getPrototypeOf,h={}.hasOwnProperty;function f(j,I){return h.call(j,I)}function m(j,I){typeof I=="function"&&(I=I(u(j))),(typeof Reflect>"u"?s:Reflect.ownKeys)(I).forEach(function(W){b(j,W,I[W])})}var g=Object.defineProperty;function b(j,I,W,te){g(j,I,l(W&&f(W,"get")&&typeof W.get=="function"?{get:W.get,set:W.set,configurable:!0}:{value:W,configurable:!0,writable:!0},te))}function y(j){return{from:function(I){return j.prototype=Object.create(I.prototype),b(j.prototype,"constructor",j),{extend:m.bind(null,j.prototype)}}}}var w=Object.getOwnPropertyDescriptor,A=[].slice;function S(j,I,W){return A.call(j,I,W)}function N(j,I){return I(j)}function T(j){if(!j)throw new Error("Assertion Failed")}function k(j){i.setImmediate?setImmediate(j):setTimeout(j,0)}function R(j,I){if(typeof I=="string"&&f(j,I))return j[I];if(!I)return j;if(typeof I!="string"){for(var W=[],te=0,se=I.length;te<se;++te){var me=R(j,I[te]);W.push(me)}return W}var Ee=I.indexOf(".");if(Ee!==-1){var Ie=j[I.substr(0,Ee)];return Ie==null?void 0:R(Ie,I.substr(Ee+1))}}function O(j,I,W){if(j&&I!==void 0&&!("isFrozen"in Object&&Object.isFrozen(j)))if(typeof I!="string"&&"length"in I){T(typeof W!="string"&&"length"in W);for(var te=0,se=I.length;te<se;++te)O(j,I[te],W[te])}else{var me,Ee,Ie=I.indexOf(".");Ie!==-1?(me=I.substr(0,Ie),(Ee=I.substr(Ie+1))===""?W===void 0?o(j)&&!isNaN(parseInt(me))?j.splice(me,1):delete j[me]:j[me]=W:O(Ie=!(Ie=j[me])||!f(j,me)?j[me]={}:Ie,Ee,W)):W===void 0?o(j)&&!isNaN(parseInt(I))?j.splice(I,1):delete j[I]:j[I]=W}}function U(j){var I,W={};for(I in j)f(j,I)&&(W[I]=j[I]);return W}var H=[].concat;function G(j){return H.apply([],j)}var ir="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(G([8,16,32,64].map(function(j){return["Int","Uint","Float"].map(function(I){return I+j+"Array"})}))).filter(function(j){return i[j]}),F=new Set(ir.map(function(j){return i[j]})),L=null;function re(j){return L=new WeakMap,j=(function I(W){if(!W||typeof W!="object")return W;var te=L.get(W);if(te)return te;if(o(W)){te=[],L.set(W,te);for(var se=0,me=W.length;se<me;++se)te.push(I(W[se]))}else if(F.has(W.constructor))te=W;else{var Ee,Ie=u(W);for(Ee in te=Ie===Object.prototype?{}:Object.create(Ie),L.set(W,te),W)f(W,Ee)&&(te[Ee]=I(W[Ee]))}return te})(j),L=null,j}var Z={}.toString;function pe(j){return Z.call(j).slice(8,-1)}var Q=typeof Symbol<"u"?Symbol.iterator:"@@iterator",X=typeof Q=="symbol"?function(j){var I;return j!=null&&(I=j[Q])&&I.apply(j)}:function(){return null};function oe(j,I){return I=j.indexOf(I),0<=I&&j.splice(I,1),0<=I}var ce={};function Ne(j){var I,W,te,se;if(arguments.length===1){if(o(j))return j.slice();if(this===ce&&typeof j=="string")return[j];if(se=X(j)){for(W=[];!(te=se.next()).done;)W.push(te.value);return W}if(j==null)return[j];if(typeof(I=j.length)!="number")return[j];for(W=new Array(I);I--;)W[I]=j[I];return W}for(I=arguments.length,W=new Array(I);I--;)W[I]=arguments[I];return W}var ne=typeof Symbol<"u"?function(j){return j[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Jt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],gs=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Jt),B={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function V(j,I){this.name=j,this.message=I}function Y(j,I){return j+". Errors: "+Object.keys(I).map(function(W){return I[W].toString()}).filter(function(W,te,se){return se.indexOf(W)===te}).join(`
`)}function K(j,I,W,te){this.failures=I,this.failedKeys=te,this.successCount=W,this.message=Y(j,I)}function le(j,I){this.name="BulkError",this.failures=Object.keys(I).map(function(W){return I[W]}),this.failuresByPos=I,this.message=Y(j,this.failures)}y(V).from(Error).extend({toString:function(){return this.name+": "+this.message}}),y(K).from(V),y(le).from(V);var Ae=gs.reduce(function(j,I){return j[I]=I+"Error",j},{}),De=V,de=gs.reduce(function(j,I){var W=I+"Error";function te(se,me){this.name=W,se?typeof se=="string"?(this.message="".concat(se).concat(me?`
 `+me:""),this.inner=me||null):typeof se=="object"&&(this.message="".concat(se.name," ").concat(se.message),this.inner=se):(this.message=B[I]||W,this.inner=null)}return y(te).from(De),j[I]=te,j},{});de.Syntax=SyntaxError,de.Type=TypeError,de.Range=RangeError;var Le=Jt.reduce(function(j,I){return j[I+"Error"]=de[I],j},{}),Ge=gs.reduce(function(j,I){return["Syntax","Type","Range"].indexOf(I)===-1&&(j[I+"Error"]=de[I]),j},{});function Re(){}function wt(j){return j}function St(j,I){return j==null||j===wt?I:function(W){return I(j(W))}}function rt(j,I){return function(){j.apply(this,arguments),I.apply(this,arguments)}}function Te(j,I){return j===Re?I:function(){var W=j.apply(this,arguments);W!==void 0&&(arguments[0]=W);var te=this.onsuccess,se=this.onerror;this.onsuccess=null,this.onerror=null;var me=I.apply(this,arguments);return te&&(this.onsuccess=this.onsuccess?rt(te,this.onsuccess):te),se&&(this.onerror=this.onerror?rt(se,this.onerror):se),me!==void 0?me:W}}function Nt(j,I){return j===Re?I:function(){j.apply(this,arguments);var W=this.onsuccess,te=this.onerror;this.onsuccess=this.onerror=null,I.apply(this,arguments),W&&(this.onsuccess=this.onsuccess?rt(W,this.onsuccess):W),te&&(this.onerror=this.onerror?rt(te,this.onerror):te)}}function rr(j,I){return j===Re?I:function(W){var te=j.apply(this,arguments);l(W,te);var se=this.onsuccess,me=this.onerror;return this.onsuccess=null,this.onerror=null,W=I.apply(this,arguments),se&&(this.onsuccess=this.onsuccess?rt(se,this.onsuccess):se),me&&(this.onerror=this.onerror?rt(me,this.onerror):me),te===void 0?W===void 0?void 0:W:l(te,W)}}function Ot(j,I){return j===Re?I:function(){return I.apply(this,arguments)!==!1&&j.apply(this,arguments)}}function vt(j,I){return j===Re?I:function(){var W=j.apply(this,arguments);if(W&&typeof W.then=="function"){for(var te=this,se=arguments.length,me=new Array(se);se--;)me[se]=arguments[se];return W.then(function(){return I.apply(te,me)})}return I.apply(this,arguments)}}Ge.ModifyError=K,Ge.DexieError=V,Ge.BulkError=le;var Dt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function yt(j){Dt=j}var qt={},We=100,ir=typeof Promise>"u"?[]:(function(){var j=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[j,u(j),j];var I=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[I,u(I),j]})(),Jt=ir[0],gs=ir[1],ir=ir[2],gs=gs&&gs.then,Vt=Jt&&Jt.constructor,Ue=!!ir,ur=function(j,I){Dn.push([j,I]),bt&&(queueMicrotask(mi),bt=!1)},xt=!0,bt=!0,br=[],gr=[],Lr=wt,Tr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Re,pgp:!1,env:{},finalize:Re},Mt=Tr,Dn=[],Wr=0,Es=[];function Ht(j){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var I=this._PSD=Mt;if(typeof j!="function"){if(j!==qt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&hn(this,this._value))}this._state=null,this._value=null,++I.ref,(function W(te,se){try{se(function(me){if(te._state===null){if(me===te)throw new TypeError("A promise cannot be resolved with itself.");var Ee=te._lib&&Ri();me&&typeof me.then=="function"?W(te,function(Ie,ze){me instanceof Ht?me._then(Ie,ze):me.then(Ie,ze)}):(te._state=!0,te._value=me,Hr(te)),Ee&&ni()}},hn.bind(null,te))}catch(me){hn(te,me)}})(this,j)}var ri={get:function(){var j=Mt,I=Pe;function W(te,se){var me=this,Ee=!j.global&&(j!==Mt||I!==Pe),Ie=Ee&&!ke(),ze=new Ht(function(Fe,et){fn(me,new Gi(Gt(te,j,Ee,Ie),Gt(se,j,Ee,Ie),Fe,et,j))});return this._consoleTask&&(ze._consoleTask=this._consoleTask),ze}return W.prototype=qt,W},set:function(j){b(this,"then",j&&j.prototype===qt?ri:{get:function(){return j},set:ri.set})}};function Gi(j,I,W,te,se){this.onFulfilled=typeof j=="function"?j:null,this.onRejected=typeof I=="function"?I:null,this.resolve=W,this.reject=te,this.psd=se}function hn(j,I){var W,te;gr.push(I),j._state===null&&(W=j._lib&&Ri(),I=Lr(I),j._state=!1,j._value=I,te=j,br.some(function(se){return se._value===te._value})||br.push(te),Hr(j),W&&ni())}function Hr(j){var I=j._listeners;j._listeners=[];for(var W=0,te=I.length;W<te;++W)fn(j,I[W]);var se=j._PSD;--se.ref||se.finalize(),Wr===0&&(++Wr,ur(function(){--Wr==0&&Mr()},[]))}function fn(j,I){if(j._state!==null){var W=j._state?I.onFulfilled:I.onRejected;if(W===null)return(j._state?I.resolve:I.reject)(j._value);++I.psd.ref,++Wr,ur(Nu,[W,j,I])}else j._listeners.push(I)}function Nu(j,I,W){try{var te,se=I._value;!I._state&&gr.length&&(gr=[]),te=Dt&&I._consoleTask?I._consoleTask.run(function(){return j(se)}):j(se),I._state||gr.indexOf(se)!==-1||(function(me){for(var Ee=br.length;Ee;)if(br[--Ee]._value===me._value)return br.splice(Ee,1)})(I),W.resolve(te)}catch(me){W.reject(me)}finally{--Wr==0&&Mr(),--W.psd.ref||W.psd.finalize()}}function mi(){lt(Tr,function(){Ri()&&ni()})}function Ri(){var j=xt;return bt=xt=!1,j}function ni(){var j,I,W;do for(;0<Dn.length;)for(j=Dn,Dn=[],W=j.length,I=0;I<W;++I){var te=j[I];te[0].apply(null,te[1])}while(0<Dn.length);bt=xt=!0}function Mr(){var j=br;br=[],j.forEach(function(te){te._PSD.onunhandled.call(null,te._value,te)});for(var I=Es.slice(0),W=I.length;W;)I[--W]()}function ps(j){return new Ht(qt,!1,j)}function pn(j,I){var W=Mt;return function(){var te=Ri(),se=Mt;try{return it(W,!0),j.apply(this,arguments)}catch(me){I&&I(me)}finally{it(se,!1),te&&ni()}}}m(Ht.prototype,{then:ri,_then:function(j,I){fn(this,new Gi(null,null,j,I,Mt))},catch:function(j){if(arguments.length===1)return this.then(null,j);var I=j,W=arguments[1];return typeof I=="function"?this.then(null,function(te){return(te instanceof I?W:ps)(te)}):this.then(null,function(te){return(te&&te.name===I?W:ps)(te)})},finally:function(j){return this.then(function(I){return Ht.resolve(j()).then(function(){return I})},function(I){return Ht.resolve(j()).then(function(){return ps(I)})})},timeout:function(j,I){var W=this;return j<1/0?new Ht(function(te,se){var me=setTimeout(function(){return se(new de.Timeout(I))},j);W.then(te,se).finally(clearTimeout.bind(null,me))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&b(Ht.prototype,Symbol.toStringTag,"Dexie.Promise"),Tr.env=dt(),m(Ht,{all:function(){var j=Ne.apply(null,arguments).map(ot);return new Ht(function(I,W){j.length===0&&I([]);var te=j.length;j.forEach(function(se,me){return Ht.resolve(se).then(function(Ee){j[me]=Ee,--te||I(j)},W)})})},resolve:function(j){return j instanceof Ht?j:j&&typeof j.then=="function"?new Ht(function(I,W){j.then(I,W)}):new Ht(qt,!0,j)},reject:ps,race:function(){var j=Ne.apply(null,arguments).map(ot);return new Ht(function(I,W){j.map(function(te){return Ht.resolve(te).then(I,W)})})},PSD:{get:function(){return Mt},set:function(j){return Mt=j}},totalEchoes:{get:function(){return Pe}},newPSD:_e,usePSD:lt,scheduler:{get:function(){return ur},set:function(j){ur=j}},rejectionMapper:{get:function(){return Lr},set:function(j){Lr=j}},follow:function(j,I){return new Ht(function(W,te){return _e(function(se,me){var Ee=Mt;Ee.unhandleds=[],Ee.onunhandled=me,Ee.finalize=rt(function(){var Ie,ze=this;Ie=function(){ze.unhandleds.length===0?se():me(ze.unhandleds[0])},Es.push(function Fe(){Ie(),Es.splice(Es.indexOf(Fe),1)}),++Wr,ur(function(){--Wr==0&&Mr()},[])},Ee.finalize),j()},I,W,te)})}}),Vt&&(Vt.allSettled&&b(Ht,"allSettled",function(){var j=Ne.apply(null,arguments).map(ot);return new Ht(function(I){j.length===0&&I([]);var W=j.length,te=new Array(W);j.forEach(function(se,me){return Ht.resolve(se).then(function(Ee){return te[me]={status:"fulfilled",value:Ee}},function(Ee){return te[me]={status:"rejected",reason:Ee}}).then(function(){return--W||I(te)})})})}),Vt.any&&typeof AggregateError<"u"&&b(Ht,"any",function(){var j=Ne.apply(null,arguments).map(ot);return new Ht(function(I,W){j.length===0&&W(new AggregateError([]));var te=j.length,se=new Array(te);j.forEach(function(me,Ee){return Ht.resolve(me).then(function(Ie){return I(Ie)},function(Ie){se[Ee]=Ie,--te||W(new AggregateError(se))})})})}),Vt.withResolvers&&(Ht.withResolvers=Vt.withResolvers));var Nn={awaits:0,echoes:0,id:0},Fa=0,Qn=[],ge=0,Pe=0,Se=0;function _e(j,I,W,te){var se=Mt,me=Object.create(se);return me.parent=se,me.ref=0,me.global=!1,me.id=++Se,Tr.env,me.env=Ue?{Promise:Ht,PromiseProp:{value:Ht,configurable:!0,writable:!0},all:Ht.all,race:Ht.race,allSettled:Ht.allSettled,any:Ht.any,resolve:Ht.resolve,reject:Ht.reject}:{},I&&l(me,I),++se.ref,me.finalize=function(){--this.parent.ref||this.parent.finalize()},te=lt(me,j,W,te),me.ref===0&&me.finalize(),te}function je(){return Nn.id||(Nn.id=++Fa),++Nn.awaits,Nn.echoes+=We,Nn.id}function ke(){return!!Nn.awaits&&(--Nn.awaits==0&&(Nn.id=0),Nn.echoes=Nn.awaits*We,!0)}function ot(j){return Nn.echoes&&j&&j.constructor===Vt?(je(),j.then(function(I){return ke(),I},function(I){return ke(),Xt(I)})):j}function _t(){var j=Qn[Qn.length-1];Qn.pop(),it(j,!1)}function it(j,I){var W,te=Mt;(I?!Nn.echoes||ge++&&j===Mt:!ge||--ge&&j===Mt)||queueMicrotask(I?(function(se){++Pe,Nn.echoes&&--Nn.echoes!=0||(Nn.echoes=Nn.awaits=Nn.id=0),Qn.push(Mt),it(se,!0)}).bind(null,j):_t),j!==Mt&&(Mt=j,te===Tr&&(Tr.env=dt()),Ue&&(W=Tr.env.Promise,I=j.env,(te.global||j.global)&&(Object.defineProperty(i,"Promise",I.PromiseProp),W.all=I.all,W.race=I.race,W.resolve=I.resolve,W.reject=I.reject,I.allSettled&&(W.allSettled=I.allSettled),I.any&&(W.any=I.any))))}function dt(){var j=i.Promise;return Ue?{Promise:j,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:j.all,race:j.race,allSettled:j.allSettled,any:j.any,resolve:j.resolve,reject:j.reject}:{}}function lt(j,I,W,te,se){var me=Mt;try{return it(j,!0),I(W,te,se)}finally{it(me,!1)}}function Gt(j,I,W,te){return typeof j!="function"?j:function(){var se=Mt;W&&je(),it(I,!0);try{return j.apply(this,arguments)}finally{it(se,!1),te&&queueMicrotask(ke)}}}function ar(j){Promise===Vt&&Nn.echoes===0?ge===0?j():enqueueNativeMicroTask(j):setTimeout(j,0)}(""+gs).indexOf("[native code]")===-1&&(je=ke=Re);var Xt=Ht.reject,Yt="",lr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ar="String expected.",bn=[],Rn="__dbnames",Gn="readonly",Wi="readwrite";function Js(j,I){return j?I?function(){return j.apply(this,arguments)&&I.apply(this,arguments)}:j:I}var Cl={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Zs(j){return typeof j!="string"||/\./.test(j)?function(I){return I}:function(I){return I[j]===void 0&&j in I&&delete(I=re(I))[j],I}}function oc(){throw de.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function qr(j,I){try{var W=ua(j),te=ua(I);if(W!==te)return W==="Array"?1:te==="Array"?-1:W==="binary"?1:te==="binary"?-1:W==="string"?1:te==="string"?-1:W==="Date"?1:te!=="Date"?NaN:-1;switch(W){case"number":case"Date":case"string":return I<j?1:j<I?-1:0;case"binary":return(function(se,me){for(var Ee=se.length,Ie=me.length,ze=Ee<Ie?Ee:Ie,Fe=0;Fe<ze;++Fe)if(se[Fe]!==me[Fe])return se[Fe]<me[Fe]?-1:1;return Ee===Ie?0:Ee<Ie?-1:1})(Qo(j),Qo(I));case"Array":return(function(se,me){for(var Ee=se.length,Ie=me.length,ze=Ee<Ie?Ee:Ie,Fe=0;Fe<ze;++Fe){var et=qr(se[Fe],me[Fe]);if(et!==0)return et}return Ee===Ie?0:Ee<Ie?-1:1})(j,I)}}catch{}return NaN}function ua(j){var I=typeof j;return I!="object"?I:ArrayBuffer.isView(j)?"binary":(j=pe(j),j==="ArrayBuffer"?"binary":j)}function Qo(j){return j instanceof Uint8Array?j:ArrayBuffer.isView(j)?new Uint8Array(j.buffer,j.byteOffset,j.byteLength):new Uint8Array(j)}function Ki(j,I,W){var te=j.schema.yProps;return te?(I&&0<W.numFailures&&(I=I.filter(function(se,me){return!W.failures[me]})),Promise.all(te.map(function(se){return se=se.updatesTable,I?j.db.table(se).where("k").anyOf(I).delete():j.db.table(se).clear()})).then(function(){return W})):W}var Eu=(Nf.prototype.execute=function(j){var I=this["@@propmod"];if(I.add!==void 0){var W=I.add;if(o(W))return a(a([],o(j)?j:[],!0),W).sort();if(typeof W=="number")return(Number(j)||0)+W;if(typeof W=="bigint")try{return BigInt(j)+W}catch{return BigInt(0)+W}throw new TypeError("Invalid term ".concat(W))}if(I.remove!==void 0){var te=I.remove;if(o(te))return o(j)?j.filter(function(se){return!te.includes(se)}).sort():[];if(typeof te=="number")return Number(j)-te;if(typeof te=="bigint")try{return BigInt(j)-te}catch{return BigInt(0)-te}throw new TypeError("Invalid subtrahend ".concat(te))}return W=(W=I.replacePrefix)===null||W===void 0?void 0:W[0],W&&typeof j=="string"&&j.startsWith(W)?I.replacePrefix[1]+j.substring(W.length):j},Nf);function Nf(j){this["@@propmod"]=j}function Ef(j,I){for(var W=s(I),te=W.length,se=!1,me=0;me<te;++me){var Ee=W[me],Ie=I[Ee],ze=R(j,Ee);Ie instanceof Eu?(O(j,Ee,Ie.execute(ze)),se=!0):ze!==Ie&&(O(j,Ee,Ie),se=!0)}return se}var el=(En.prototype._trans=function(j,I,W){var te=this._tx||Mt.trans,se=this.name,me=Dt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(j==="readonly"?"read":"write"," ").concat(this.name));function Ee(Fe,et,Me){if(!Me.schema[se])throw new de.NotFound("Table "+se+" not part of transaction");return I(Me.idbtrans,Me)}var Ie=Ri();try{var ze=te&&te.db._novip===this.db._novip?te===Mt.trans?te._promise(j,Ee,W):_e(function(){return te._promise(j,Ee,W)},{trans:te,transless:Mt.transless||Mt}):(function Fe(et,Me,Ze,Ve){if(et.idbdb&&(et._state.openComplete||Mt.letThrough||et._vip)){var Xe=et._createTransaction(Me,Ze,et._dbSchema);try{Xe.create(),et._state.PR1398_maxLoop=3}catch(Je){return Je.name===Ae.InvalidState&&et.isOpen()&&0<--et._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),et.close({disableAutoOpen:!1}),et.open().then(function(){return Fe(et,Me,Ze,Ve)})):Xt(Je)}return Xe._promise(Me,function(Je,Qe){return _e(function(){return Mt.trans=Xe,Ve(Je,Qe,Xe)})}).then(function(Je){if(Me==="readwrite")try{Xe.idbtrans.commit()}catch{}return Me==="readonly"?Je:Xe._completion.then(function(){return Je})})}if(et._state.openComplete)return Xt(new de.DatabaseClosed(et._state.dbOpenError));if(!et._state.isBeingOpened){if(!et._state.autoOpen)return Xt(new de.DatabaseClosed);et.open().catch(Re)}return et._state.dbReadyPromise.then(function(){return Fe(et,Me,Ze,Ve)})})(this.db,j,[this.name],Ee);return me&&(ze._consoleTask=me,ze=ze.catch(function(Fe){return console.trace(Fe),Xt(Fe)})),ze}finally{Ie&&ni()}},En.prototype.get=function(j,I){var W=this;return j&&j.constructor===Object?this.where(j).first(I):j==null?Xt(new de.Type("Invalid argument to Table.get()")):this._trans("readonly",function(te){return W.core.get({trans:te,key:j}).then(function(se){return W.hook.reading.fire(se)})}).then(I)},En.prototype.where=function(j){if(typeof j=="string")return new this.db.WhereClause(this,j);if(o(j))return new this.db.WhereClause(this,"[".concat(j.join("+"),"]"));var I=s(j);if(I.length===1)return this.where(I[0]).equals(j[I[0]]);var W=this.schema.indexes.concat(this.schema.primKey).filter(function(Ie){if(Ie.compound&&I.every(function(Fe){return 0<=Ie.keyPath.indexOf(Fe)})){for(var ze=0;ze<I.length;++ze)if(I.indexOf(Ie.keyPath[ze])===-1)return!1;return!0}return!1}).sort(function(Ie,ze){return Ie.keyPath.length-ze.keyPath.length})[0];if(W&&this.db._maxKey!==Yt){var me=W.keyPath.slice(0,I.length);return this.where(me).equals(me.map(function(ze){return j[ze]}))}!W&&Dt&&console.warn("The query ".concat(JSON.stringify(j)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(I.join("+"),"]"));var te=this.schema.idxByName;function se(Ie,ze){return qr(Ie,ze)===0}var Ee=I.reduce(function(Me,ze){var Fe=Me[0],et=Me[1],Me=te[ze],Ze=j[ze];return[Fe||Me,Fe||!Me?Js(et,Me&&Me.multi?function(Ve){return Ve=R(Ve,ze),o(Ve)&&Ve.some(function(Xe){return se(Ze,Xe)})}:function(Ve){return se(Ze,R(Ve,ze))}):et]},[null,null]),me=Ee[0],Ee=Ee[1];return me?this.where(me.name).equals(j[me.keyPath]).filter(Ee):W?this.filter(Ee):this.where(I).equals("")},En.prototype.filter=function(j){return this.toCollection().and(j)},En.prototype.count=function(j){return this.toCollection().count(j)},En.prototype.offset=function(j){return this.toCollection().offset(j)},En.prototype.limit=function(j){return this.toCollection().limit(j)},En.prototype.each=function(j){return this.toCollection().each(j)},En.prototype.toArray=function(j){return this.toCollection().toArray(j)},En.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},En.prototype.orderBy=function(j){return new this.db.Collection(new this.db.WhereClause(this,o(j)?"[".concat(j.join("+"),"]"):j))},En.prototype.reverse=function(){return this.toCollection().reverse()},En.prototype.mapToClass=function(j){var I,W=this.db,te=this.name;function se(){return I!==null&&I.apply(this,arguments)||this}(this.schema.mappedClass=j).prototype instanceof oc&&((function(ze,Fe){if(typeof Fe!="function"&&Fe!==null)throw new TypeError("Class extends value "+String(Fe)+" is not a constructor or null");function et(){this.constructor=ze}r(ze,Fe),ze.prototype=Fe===null?Object.create(Fe):(et.prototype=Fe.prototype,new et)})(se,I=j),Object.defineProperty(se.prototype,"db",{get:function(){return W},enumerable:!1,configurable:!0}),se.prototype.table=function(){return te},j=se);for(var me=new Set,Ee=j.prototype;Ee;Ee=u(Ee))Object.getOwnPropertyNames(Ee).forEach(function(ze){return me.add(ze)});function Ie(ze){if(!ze)return ze;var Fe,et=Object.create(j.prototype);for(Fe in ze)if(!me.has(Fe))try{et[Fe]=ze[Fe]}catch{}return et}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Ie,this.hook("reading",Ie),j},En.prototype.defineClass=function(){return this.mapToClass(function(j){l(this,j)})},En.prototype.add=function(j,I){var W=this,te=this.schema.primKey,se=te.auto,me=te.keyPath,Ee=j;return me&&se&&(Ee=Zs(me)(j)),this._trans("readwrite",function(Ie){return W.core.mutate({trans:Ie,type:"add",keys:I!=null?[I]:null,values:[Ee]})}).then(function(Ie){return Ie.numFailures?Ht.reject(Ie.failures[0]):Ie.lastResult}).then(function(Ie){if(me)try{O(j,me,Ie)}catch{}return Ie})},En.prototype.upsert=function(j,I){var W=this,te=this.schema.primKey.keyPath;return this._trans("readwrite",function(se){return W.core.get({trans:se,key:j}).then(function(me){var Ee=me??{};return Ef(Ee,I),te&&O(Ee,te,j),W.core.mutate({trans:se,type:"put",values:[Ee],keys:[j],upsert:!0,updates:{keys:[j],changeSpecs:[I]}}).then(function(Ie){return Ie.numFailures?Ht.reject(Ie.failures[0]):!!me})})})},En.prototype.update=function(j,I){return typeof j!="object"||o(j)?this.where(":id").equals(j).modify(I):(j=R(j,this.schema.primKey.keyPath),j===void 0?Xt(new de.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(j).modify(I))},En.prototype.put=function(j,I){var W=this,te=this.schema.primKey,se=te.auto,me=te.keyPath,Ee=j;return me&&se&&(Ee=Zs(me)(j)),this._trans("readwrite",function(Ie){return W.core.mutate({trans:Ie,type:"put",values:[Ee],keys:I!=null?[I]:null})}).then(function(Ie){return Ie.numFailures?Ht.reject(Ie.failures[0]):Ie.lastResult}).then(function(Ie){if(me)try{O(j,me,Ie)}catch{}return Ie})},En.prototype.delete=function(j){var I=this;return this._trans("readwrite",function(W){return I.core.mutate({trans:W,type:"delete",keys:[j]}).then(function(te){return Ki(I,[j],te)}).then(function(te){return te.numFailures?Ht.reject(te.failures[0]):void 0})})},En.prototype.clear=function(){var j=this;return this._trans("readwrite",function(I){return j.core.mutate({trans:I,type:"deleteRange",range:Cl}).then(function(W){return Ki(j,null,W)})}).then(function(I){return I.numFailures?Ht.reject(I.failures[0]):void 0})},En.prototype.bulkGet=function(j){var I=this;return this._trans("readonly",function(W){return I.core.getMany({keys:j,trans:W}).then(function(te){return te.map(function(se){return I.hook.reading.fire(se)})})})},En.prototype.bulkAdd=function(j,I,W){var te=this,se=Array.isArray(I)?I:void 0,me=(W=W||(se?void 0:I))?W.allKeys:void 0;return this._trans("readwrite",function(Ee){var Fe=te.schema.primKey,Ie=Fe.auto,Fe=Fe.keyPath;if(Fe&&se)throw new de.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(se&&se.length!==j.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var ze=j.length,Fe=Fe&&Ie?j.map(Zs(Fe)):j;return te.core.mutate({trans:Ee,type:"add",keys:se,values:Fe,wantResults:me}).then(function(Xe){var Me=Xe.numFailures,Ze=Xe.results,Ve=Xe.lastResult,Xe=Xe.failures;if(Me===0)return me?Ze:Ve;throw new le("".concat(te.name,".bulkAdd(): ").concat(Me," of ").concat(ze," operations failed"),Xe)})})},En.prototype.bulkPut=function(j,I,W){var te=this,se=Array.isArray(I)?I:void 0,me=(W=W||(se?void 0:I))?W.allKeys:void 0;return this._trans("readwrite",function(Ee){var Fe=te.schema.primKey,Ie=Fe.auto,Fe=Fe.keyPath;if(Fe&&se)throw new de.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(se&&se.length!==j.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var ze=j.length,Fe=Fe&&Ie?j.map(Zs(Fe)):j;return te.core.mutate({trans:Ee,type:"put",keys:se,values:Fe,wantResults:me}).then(function(Xe){var Me=Xe.numFailures,Ze=Xe.results,Ve=Xe.lastResult,Xe=Xe.failures;if(Me===0)return me?Ze:Ve;throw new le("".concat(te.name,".bulkPut(): ").concat(Me," of ").concat(ze," operations failed"),Xe)})})},En.prototype.bulkUpdate=function(j){var I=this,W=this.core,te=j.map(function(Ee){return Ee.key}),se=j.map(function(Ee){return Ee.changes}),me=[];return this._trans("readwrite",function(Ee){return W.getMany({trans:Ee,keys:te,cache:"clone"}).then(function(Ie){var ze=[],Fe=[];j.forEach(function(Me,Ze){var Ve=Me.key,Xe=Me.changes,Je=Ie[Ze];if(Je){for(var Qe=0,st=Object.keys(Xe);Qe<st.length;Qe++){var ht=st[Qe],Et=Xe[ht];if(ht===I.schema.primKey.keyPath){if(qr(Et,Ve)!==0)throw new de.Constraint("Cannot update primary key in bulkUpdate()")}else O(Je,ht,Et)}me.push(Ze),ze.push(Ve),Fe.push(Je)}});var et=ze.length;return W.mutate({trans:Ee,type:"put",keys:ze,values:Fe,updates:{keys:te,changeSpecs:se}}).then(function(Me){var Ze=Me.numFailures,Ve=Me.failures;if(Ze===0)return et;for(var Xe=0,Je=Object.keys(Ve);Xe<Je.length;Xe++){var Qe,st=Je[Xe],ht=me[Number(st)];ht!=null&&(Qe=Ve[st],delete Ve[st],Ve[ht]=Qe)}throw new le("".concat(I.name,".bulkUpdate(): ").concat(Ze," of ").concat(et," operations failed"),Ve)})})})},En.prototype.bulkDelete=function(j){var I=this,W=j.length;return this._trans("readwrite",function(te){return I.core.mutate({trans:te,type:"delete",keys:j}).then(function(se){return Ki(I,j,se)})}).then(function(Ee){var se=Ee.numFailures,me=Ee.lastResult,Ee=Ee.failures;if(se===0)return me;throw new le("".concat(I.name,".bulkDelete(): ").concat(se," of ").concat(W," operations failed"),Ee)})},En);function En(){}function Yi(j){function I(Ee,Ie){if(Ie){for(var ze=arguments.length,Fe=new Array(ze-1);--ze;)Fe[ze-1]=arguments[ze];return W[Ee].subscribe.apply(null,Fe),j}if(typeof Ee=="string")return W[Ee]}var W={};I.addEventType=me;for(var te=1,se=arguments.length;te<se;++te)me(arguments[te]);return I;function me(Ee,Ie,ze){if(typeof Ee!="object"){var Fe;Ie=Ie||Ot;var et={subscribers:[],fire:ze=ze||Re,subscribe:function(Me){et.subscribers.indexOf(Me)===-1&&(et.subscribers.push(Me),et.fire=Ie(et.fire,Me))},unsubscribe:function(Me){et.subscribers=et.subscribers.filter(function(Ze){return Ze!==Me}),et.fire=et.subscribers.reduce(Ie,ze)}};return W[Ee]=I[Ee]=et}s(Fe=Ee).forEach(function(Me){var Ze=Fe[Me];if(o(Ze))me(Me,Fe[Me][0],Fe[Me][1]);else{if(Ze!=="asap")throw new de.InvalidArgument("Invalid event config");var Ve=me(Me,wt,function(){for(var Xe=arguments.length,Je=new Array(Xe);Xe--;)Je[Xe]=arguments[Xe];Ve.subscribers.forEach(function(Qe){k(function(){Qe.apply(null,Je)})})})}})}}function gi(j,I){return y(I).from({prototype:j}),I}function lc(j,I){return!(j.filter||j.algorithm||j.or)&&(I?j.justLimit:!j.replayFilter)}function Tf(j,I){j.filter=Js(j.filter,I)}function Ad(j,I,W){var te=j.replayFilter;j.replayFilter=te?function(){return Js(te(),I())}:I,j.justLimit=W&&!te}function cc(j,I){if(j.isPrimKey)return I.primaryKey;var W=I.getIndexByKeyPath(j.index);if(!W)throw new de.Schema("KeyPath "+j.index+" on object store "+I.name+" is not indexed");return W}function jf(j,I,W){var te=cc(j,I.schema);return I.openCursor({trans:W,values:!j.keysOnly,reverse:j.dir==="prev",unique:!!j.unique,query:{index:te,range:j.range}})}function yh(j,I,W,te){var se=j.replayFilter?Js(j.filter,j.replayFilter()):j.filter;if(j.or){var me={},Ee=function(Ie,ze,Fe){var et,Me;se&&!se(ze,Fe,function(Ze){return ze.stop(Ze)},function(Ze){return ze.fail(Ze)})||((Me=""+(et=ze.primaryKey))=="[object ArrayBuffer]"&&(Me=""+new Uint8Array(et)),f(me,Me)||(me[Me]=!0,I(Ie,ze,Fe)))};return Promise.all([j.or._iterate(Ee,W),uc(jf(j,te,W),j.algorithm,Ee,!j.keysOnly&&j.valueMapper)])}return uc(jf(j,te,W),Js(j.algorithm,se),I,!j.keysOnly&&j.valueMapper)}function uc(j,I,W,te){var se=pn(te?function(me,Ee,Ie){return W(te(me),Ee,Ie)}:W);return j.then(function(me){if(me)return me.start(function(){var Ee=function(){return me.continue()};I&&!I(me,function(Ie){return Ee=Ie},function(Ie){me.stop(Ie),Ee=Re},function(Ie){me.fail(Ie),Ee=Re})||se(me.value,me,function(Ie){return Ee=Ie}),Ee()})})}var nv=(Sn.prototype._read=function(j,I){var W=this._ctx;return W.error?W.table._trans(null,Xt.bind(null,W.error)):W.table._trans("readonly",j).then(I)},Sn.prototype._write=function(j){var I=this._ctx;return I.error?I.table._trans(null,Xt.bind(null,I.error)):I.table._trans("readwrite",j,"locked")},Sn.prototype._addAlgorithm=function(j){var I=this._ctx;I.algorithm=Js(I.algorithm,j)},Sn.prototype._iterate=function(j,I){return yh(this._ctx,j,I,this._ctx.table.core)},Sn.prototype.clone=function(j){var I=Object.create(this.constructor.prototype),W=Object.create(this._ctx);return j&&l(W,j),I._ctx=W,I},Sn.prototype.raw=function(){return this._ctx.valueMapper=null,this},Sn.prototype.each=function(j){var I=this._ctx;return this._read(function(W){return yh(I,j,W,I.table.core)})},Sn.prototype.count=function(j){var I=this;return this._read(function(W){var te=I._ctx,se=te.table.core;if(lc(te,!0))return se.count({trans:W,query:{index:cc(te,se.schema),range:te.range}}).then(function(Ee){return Math.min(Ee,te.limit)});var me=0;return yh(te,function(){return++me,!1},W,se).then(function(){return me})}).then(j)},Sn.prototype.sortBy=function(j,I){var W=j.split(".").reverse(),te=W[0],se=W.length-1;function me(ze,Fe){return Fe?me(ze[W[Fe]],Fe-1):ze[te]}var Ee=this._ctx.dir==="next"?1:-1;function Ie(ze,Fe){return qr(me(ze,se),me(Fe,se))*Ee}return this.toArray(function(ze){return ze.sort(Ie)}).then(I)},Sn.prototype.toArray=function(j){var I=this;return this._read(function(W){var te=I._ctx;if(te.dir==="next"&&lc(te,!0)&&0<te.limit){var se=te.valueMapper,me=cc(te,te.table.core.schema);return te.table.core.query({trans:W,limit:te.limit,values:!0,query:{index:me,range:te.range}}).then(function(Ie){return Ie=Ie.result,se?Ie.map(se):Ie})}var Ee=[];return yh(te,function(Ie){return Ee.push(Ie)},W,te.table.core).then(function(){return Ee})},j)},Sn.prototype.offset=function(j){var I=this._ctx;return j<=0||(I.offset+=j,lc(I)?Ad(I,function(){var W=j;return function(te,se){return W===0||(W===1?--W:se(function(){te.advance(W),W=0}),!1)}}):Ad(I,function(){var W=j;return function(){return--W<0}})),this},Sn.prototype.limit=function(j){return this._ctx.limit=Math.min(this._ctx.limit,j),Ad(this._ctx,function(){var I=j;return function(W,te,se){return--I<=0&&te(se),0<=I}},!0),this},Sn.prototype.until=function(j,I){return Tf(this._ctx,function(W,te,se){return!j(W.value)||(te(se),I)}),this},Sn.prototype.first=function(j){return this.limit(1).toArray(function(I){return I[0]}).then(j)},Sn.prototype.last=function(j){return this.reverse().first(j)},Sn.prototype.filter=function(j){var I;return Tf(this._ctx,function(W){return j(W.value)}),(I=this._ctx).isMatch=Js(I.isMatch,j),this},Sn.prototype.and=function(j){return this.filter(j)},Sn.prototype.or=function(j){return new this.db.WhereClause(this._ctx.table,j,this)},Sn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Sn.prototype.desc=function(){return this.reverse()},Sn.prototype.eachKey=function(j){var I=this._ctx;return I.keysOnly=!I.isMatch,this.each(function(W,te){j(te.key,te)})},Sn.prototype.eachUniqueKey=function(j){return this._ctx.unique="unique",this.eachKey(j)},Sn.prototype.eachPrimaryKey=function(j){var I=this._ctx;return I.keysOnly=!I.isMatch,this.each(function(W,te){j(te.primaryKey,te)})},Sn.prototype.keys=function(j){var I=this._ctx;I.keysOnly=!I.isMatch;var W=[];return this.each(function(te,se){W.push(se.key)}).then(function(){return W}).then(j)},Sn.prototype.primaryKeys=function(j){var I=this._ctx;if(I.dir==="next"&&lc(I,!0)&&0<I.limit)return this._read(function(te){var se=cc(I,I.table.core.schema);return I.table.core.query({trans:te,values:!1,limit:I.limit,query:{index:se,range:I.range}})}).then(function(te){return te.result}).then(j);I.keysOnly=!I.isMatch;var W=[];return this.each(function(te,se){W.push(se.primaryKey)}).then(function(){return W}).then(j)},Sn.prototype.uniqueKeys=function(j){return this._ctx.unique="unique",this.keys(j)},Sn.prototype.firstKey=function(j){return this.limit(1).keys(function(I){return I[0]}).then(j)},Sn.prototype.lastKey=function(j){return this.reverse().firstKey(j)},Sn.prototype.distinct=function(){var j=this._ctx,j=j.index&&j.table.schema.idxByName[j.index];if(!j||!j.multi)return this;var I={};return Tf(this._ctx,function(se){var te=se.primaryKey.toString(),se=f(I,te);return I[te]=!0,!se}),this},Sn.prototype.modify=function(j){var I=this,W=this._ctx;return this._write(function(te){var se=typeof j=="function"?j:function(Je){return Ef(Je,j)},me=W.table.core,Fe=me.schema.primaryKey,Ee=Fe.outbound,Ie=Fe.extractKey,ze=200,Fe=I.db._options.modifyChunkSize;Fe&&(ze=typeof Fe=="object"?Fe[me.name]||Fe["*"]||200:Fe);function et(Je,ht){var st=ht.failures,ht=ht.numFailures;Ze+=Je-ht;for(var Et=0,Rt=s(st);Et<Rt.length;Et++){var nr=Rt[Et];Me.push(st[nr])}}var Me=[],Ze=0,Ve=[],Xe=j===Y0;return I.clone().primaryKeys().then(function(Je){function Qe(ht){var Et=Math.min(ze,Je.length-ht),Rt=Je.slice(ht,ht+Et);return(Xe?Promise.resolve([]):me.getMany({trans:te,keys:Rt,cache:"immutable"})).then(function(nr){var cr=[],Zt=[],Qt=Ee?[]:null,sr=Xe?Rt:[];if(!Xe)for(var It=0;It<Et;++It){var er=nr[It],mr={value:re(er),primKey:Je[ht+It]};se.call(mr,mr.value,mr)!==!1&&(mr.value==null?sr.push(Je[ht+It]):Ee||qr(Ie(er),Ie(mr.value))===0?(Zt.push(mr.value),Ee&&Qt.push(Je[ht+It])):(sr.push(Je[ht+It]),cr.push(mr.value)))}return Promise.resolve(0<cr.length&&me.mutate({trans:te,type:"add",values:cr}).then(function(Sr){for(var Kr in Sr.failures)sr.splice(parseInt(Kr),1);et(cr.length,Sr)})).then(function(){return(0<Zt.length||st&&typeof j=="object")&&me.mutate({trans:te,type:"put",keys:Qt,values:Zt,criteria:st,changeSpec:typeof j!="function"&&j,isAdditionalChunk:0<ht}).then(function(Sr){return et(Zt.length,Sr)})}).then(function(){return(0<sr.length||st&&Xe)&&me.mutate({trans:te,type:"delete",keys:sr,criteria:st,isAdditionalChunk:0<ht}).then(function(Sr){return Ki(W.table,sr,Sr)}).then(function(Sr){return et(sr.length,Sr)})}).then(function(){return Je.length>ht+Et&&Qe(ht+ze)})})}var st=lc(W)&&W.limit===1/0&&(typeof j!="function"||Xe)&&{index:W.index,range:W.range};return Qe(0).then(function(){if(0<Me.length)throw new K("Error modifying one or more objects",Me,Ze,Ve);return Je.length})})})},Sn.prototype.delete=function(){var j=this._ctx,I=j.range;return!lc(j)||j.table.schema.yProps||!j.isPrimKey&&I.type!==3?this.modify(Y0):this._write(function(W){var te=j.table.core.schema.primaryKey,se=I;return j.table.core.count({trans:W,query:{index:te,range:se}}).then(function(me){return j.table.core.mutate({trans:W,type:"deleteRange",range:se}).then(function(ze){var Ie=ze.failures,ze=ze.numFailures;if(ze)throw new K("Could not delete some values",Object.keys(Ie).map(function(Fe){return Ie[Fe]}),me-ze);return me-ze})})})},Sn);function Sn(){}var Y0=function(j,I){return I.value=null};function dc(j,I){return j<I?-1:j===I?0:1}function Cf(j,I){return I<j?-1:j===I?0:1}function Xi(j,I,W){return j=j instanceof Ur?new j.Collection(j):j,j._ctx.error=new(W||TypeError)(I),j}function kl(j){return new j.Collection(j,function(){return bh("")}).limit(0)}function ea(j,I,W,te){var se,me,Ee,Ie,ze,Fe,et,Me=W.length;if(!W.every(function(Xe){return typeof Xe=="string"}))return Xi(j,Ar);function Ze(Xe){se=Xe==="next"?function(Qe){return Qe.toUpperCase()}:function(Qe){return Qe.toLowerCase()},me=Xe==="next"?function(Qe){return Qe.toLowerCase()}:function(Qe){return Qe.toUpperCase()},Ee=Xe==="next"?dc:Cf;var Je=W.map(function(Qe){return{lower:me(Qe),upper:se(Qe)}}).sort(function(Qe,st){return Ee(Qe.lower,st.lower)});Ie=Je.map(function(Qe){return Qe.upper}),ze=Je.map(function(Qe){return Qe.lower}),et=(Fe=Xe)==="next"?"":te}Ze("next"),j=new j.Collection(j,function(){return Pl(Ie[0],ze[Me-1]+te)}),j._ondirectionchange=function(Xe){Ze(Xe)};var Ve=0;return j._addAlgorithm(function(Xe,Je,Qe){var st=Xe.key;if(typeof st!="string")return!1;var ht=me(st);if(I(ht,ze,Ve))return!0;for(var Et=null,Rt=Ve;Rt<Me;++Rt){var nr=(function(cr,Zt,Qt,sr,It,er){for(var mr=Math.min(cr.length,sr.length),Sr=-1,Kr=0;Kr<mr;++Kr){var xi=Zt[Kr];if(xi!==sr[Kr])return It(cr[Kr],Qt[Kr])<0?cr.substr(0,Kr)+Qt[Kr]+Qt.substr(Kr+1):It(cr[Kr],sr[Kr])<0?cr.substr(0,Kr)+sr[Kr]+Qt.substr(Kr+1):0<=Sr?cr.substr(0,Sr)+Zt[Sr]+Qt.substr(Sr+1):null;It(cr[Kr],xi)<0&&(Sr=Kr)}return mr<sr.length&&er==="next"?cr+Qt.substr(cr.length):mr<cr.length&&er==="prev"?cr.substr(0,Qt.length):Sr<0?null:cr.substr(0,Sr)+sr[Sr]+Qt.substr(Sr+1)})(st,ht,Ie[Rt],ze[Rt],Ee,Fe);nr===null&&Et===null?Ve=Rt+1:(Et===null||0<Ee(Et,nr))&&(Et=nr)}return Je(Et!==null?function(){Xe.continue(Et+et)}:Qe),!1}),j}function Pl(j,I,W,te){return{type:2,lower:j,upper:I,lowerOpen:W,upperOpen:te}}function bh(j){return{type:1,lower:j,upper:j}}var Ur=(Object.defineProperty(da.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),da.prototype.between=function(j,I,W,te){W=W!==!1,te=te===!0;try{return 0<this._cmp(j,I)||this._cmp(j,I)===0&&(W||te)&&(!W||!te)?kl(this):new this.Collection(this,function(){return Pl(j,I,!W,!te)})}catch{return Xi(this,lr)}},da.prototype.equals=function(j){return j==null?Xi(this,lr):new this.Collection(this,function(){return bh(j)})},da.prototype.above=function(j){return j==null?Xi(this,lr):new this.Collection(this,function(){return Pl(j,void 0,!0)})},da.prototype.aboveOrEqual=function(j){return j==null?Xi(this,lr):new this.Collection(this,function(){return Pl(j,void 0,!1)})},da.prototype.below=function(j){return j==null?Xi(this,lr):new this.Collection(this,function(){return Pl(void 0,j,!1,!0)})},da.prototype.belowOrEqual=function(j){return j==null?Xi(this,lr):new this.Collection(this,function(){return Pl(void 0,j)})},da.prototype.startsWith=function(j){return typeof j!="string"?Xi(this,Ar):this.between(j,j+Yt,!0,!0)},da.prototype.startsWithIgnoreCase=function(j){return j===""?this.startsWith(j):ea(this,function(I,W){return I.indexOf(W[0])===0},[j],Yt)},da.prototype.equalsIgnoreCase=function(j){return ea(this,function(I,W){return I===W[0]},[j],"")},da.prototype.anyOfIgnoreCase=function(){var j=Ne.apply(ce,arguments);return j.length===0?kl(this):ea(this,function(I,W){return W.indexOf(I)!==-1},j,"")},da.prototype.startsWithAnyOfIgnoreCase=function(){var j=Ne.apply(ce,arguments);return j.length===0?kl(this):ea(this,function(I,W){return W.some(function(te){return I.indexOf(te)===0})},j,Yt)},da.prototype.anyOf=function(){var j=this,I=Ne.apply(ce,arguments),W=this._cmp;try{I.sort(W)}catch{return Xi(this,lr)}if(I.length===0)return kl(this);var te=new this.Collection(this,function(){return Pl(I[0],I[I.length-1])});te._ondirectionchange=function(me){W=me==="next"?j._ascending:j._descending,I.sort(W)};var se=0;return te._addAlgorithm(function(me,Ee,Ie){for(var ze=me.key;0<W(ze,I[se]);)if(++se===I.length)return Ee(Ie),!1;return W(ze,I[se])===0||(Ee(function(){me.continue(I[se])}),!1)}),te},da.prototype.notEqual=function(j){return this.inAnyRange([[-1/0,j],[j,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},da.prototype.noneOf=function(){var j=Ne.apply(ce,arguments);if(j.length===0)return new this.Collection(this);try{j.sort(this._ascending)}catch{return Xi(this,lr)}var I=j.reduce(function(W,te){return W?W.concat([[W[W.length-1][1],te]]):[[-1/0,te]]},null);return I.push([j[j.length-1],this.db._maxKey]),this.inAnyRange(I,{includeLowers:!1,includeUppers:!1})},da.prototype.inAnyRange=function(st,I){var W=this,te=this._cmp,se=this._ascending,me=this._descending,Ee=this._min,Ie=this._max;if(st.length===0)return kl(this);if(!st.every(function(ht){return ht[0]!==void 0&&ht[1]!==void 0&&se(ht[0],ht[1])<=0}))return Xi(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",de.InvalidArgument);var ze=!I||I.includeLowers!==!1,Fe=I&&I.includeUppers===!0,et,Me=se;function Ze(ht,Et){return Me(ht[0],Et[0])}try{(et=st.reduce(function(ht,Et){for(var Rt=0,nr=ht.length;Rt<nr;++Rt){var cr=ht[Rt];if(te(Et[0],cr[1])<0&&0<te(Et[1],cr[0])){cr[0]=Ee(cr[0],Et[0]),cr[1]=Ie(cr[1],Et[1]);break}}return Rt===nr&&ht.push(Et),ht},[])).sort(Ze)}catch{return Xi(this,lr)}var Ve=0,Xe=Fe?function(ht){return 0<se(ht,et[Ve][1])}:function(ht){return 0<=se(ht,et[Ve][1])},Je=ze?function(ht){return 0<me(ht,et[Ve][0])}:function(ht){return 0<=me(ht,et[Ve][0])},Qe=Xe,st=new this.Collection(this,function(){return Pl(et[0][0],et[et.length-1][1],!ze,!Fe)});return st._ondirectionchange=function(ht){Me=ht==="next"?(Qe=Xe,se):(Qe=Je,me),et.sort(Ze)},st._addAlgorithm(function(ht,Et,Rt){for(var nr,cr=ht.key;Qe(cr);)if(++Ve===et.length)return Et(Rt),!1;return!Xe(nr=cr)&&!Je(nr)||(W._cmp(cr,et[Ve][1])===0||W._cmp(cr,et[Ve][0])===0||Et(function(){Me===se?ht.continue(et[Ve][0]):ht.continue(et[Ve][1])}),!1)}),st},da.prototype.startsWithAnyOf=function(){var j=Ne.apply(ce,arguments);return j.every(function(I){return typeof I=="string"})?j.length===0?kl(this):this.inAnyRange(j.map(function(I){return[I,I+Yt]})):Xi(this,"startsWithAnyOf() only works with strings")},da);function da(){}function tl(j){return pn(function(I){return Ts(I),j(I.target.error),!1})}function Ts(j){j.stopPropagation&&j.stopPropagation(),j.preventDefault&&j.preventDefault()}var Tu="storagemutated",Bc="x-storagemutated-1",ai=Yi(null,Tu),wh=(js.prototype._lock=function(){return T(!Mt.global),++this._reculock,this._reculock!==1||Mt.global||(Mt.lockOwnerFor=this),this},js.prototype._unlock=function(){if(T(!Mt.global),--this._reculock==0)for(Mt.global||(Mt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var j=this._blockedFuncs.shift();try{lt(j[1],j[0])}catch{}}return this},js.prototype._locked=function(){return this._reculock&&Mt.lockOwnerFor!==this},js.prototype.create=function(j){var I=this;if(!this.mode)return this;var W=this.db.idbdb,te=this.db._state.dbOpenError;if(T(!this.idbtrans),!j&&!W)switch(te&&te.name){case"DatabaseClosedError":throw new de.DatabaseClosed(te);case"MissingAPIError":throw new de.MissingAPI(te.message,te);default:throw new de.OpenFailed(te)}if(!this.active)throw new de.TransactionInactive;return T(this._completion._state===null),(j=this.idbtrans=j||(this.db.core||W).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=pn(function(se){Ts(se),I._reject(j.error)}),j.onabort=pn(function(se){Ts(se),I.active&&I._reject(new de.Abort(j.error)),I.active=!1,I.on("abort").fire(se)}),j.oncomplete=pn(function(){I.active=!1,I._resolve(),"mutatedParts"in j&&ai.storagemutated.fire(j.mutatedParts)}),this},js.prototype._promise=function(j,I,W){var te=this;if(j==="readwrite"&&this.mode!=="readwrite")return Xt(new de.ReadOnly("Transaction is readonly"));if(!this.active)return Xt(new de.TransactionInactive);if(this._locked())return new Ht(function(me,Ee){te._blockedFuncs.push([function(){te._promise(j,I,W).then(me,Ee)},Mt])});if(W)return _e(function(){var me=new Ht(function(Ee,Ie){te._lock();var ze=I(Ee,Ie,te);ze&&ze.then&&ze.then(Ee,Ie)});return me.finally(function(){return te._unlock()}),me._lib=!0,me});var se=new Ht(function(me,Ee){var Ie=I(me,Ee,te);Ie&&Ie.then&&Ie.then(me,Ee)});return se._lib=!0,se},js.prototype._root=function(){return this.parent?this.parent._root():this},js.prototype.waitFor=function(j){var I,W=this._root(),te=Ht.resolve(j);W._waitingFor?W._waitingFor=W._waitingFor.then(function(){return te}):(W._waitingFor=te,W._waitingQueue=[],I=W.idbtrans.objectStore(W.storeNames[0]),(function me(){for(++W._spinCount;W._waitingQueue.length;)W._waitingQueue.shift()();W._waitingFor&&(I.get(-1/0).onsuccess=me)})());var se=W._waitingFor;return new Ht(function(me,Ee){te.then(function(Ie){return W._waitingQueue.push(pn(me.bind(null,Ie)))},function(Ie){return W._waitingQueue.push(pn(Ee.bind(null,Ie)))}).finally(function(){W._waitingFor===se&&(W._waitingFor=null)})})},js.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new de.Abort))},js.prototype.table=function(j){var I=this._memoizedTables||(this._memoizedTables={});if(f(I,j))return I[j];var W=this.schema[j];if(!W)throw new de.NotFound("Table "+j+" not part of transaction");return W=new this.db.Table(j,W,this),W.core=this.db.core.table(j),I[j]=W},js);function js(){}function Ol(j,I,W,te,se,me,Ee,Ie){return{name:j,keyPath:I,unique:W,multi:te,auto:se,compound:me,src:(W&&!Ee?"&":"")+(te?"*":"")+(se?"++":"")+kf(I),type:Ie}}function kf(j){return typeof j=="string"?j:j?"["+[].join.call(j,"+")+"]":""}function Uc(j,I,W){return{name:j,primKey:I,indexes:W,mappedClass:null,idxByName:(te=function(se){return[se.name,se]},W.reduce(function(se,me,Ee){return Ee=te(me,Ee),Ee&&(se[Ee[0]]=Ee[1]),se},{}))};var te}var Dl=function(j){try{return j.only([[]]),Dl=function(){return[[]]},[[]]}catch{return Dl=function(){return Yt},Yt}};function rl(j){return j==null?function(){}:typeof j=="string"?(I=j).split(".").length===1?function(W){return W[I]}:function(W){return R(W,I)}:function(W){return R(W,j)};var I}function Ah(j){return[].slice.call(j)}var _d=0;function Ja(j){return j==null?":id":typeof j=="string"?j:"[".concat(j.join("+"),"]")}function Rl(j,I,ze){function te(Qe){if(Qe.type===3)return null;if(Qe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Ve=Qe.lower,Xe=Qe.upper,Je=Qe.lowerOpen,Qe=Qe.upperOpen;return Ve===void 0?Xe===void 0?null:I.upperBound(Xe,!!Qe):Xe===void 0?I.lowerBound(Ve,!!Je):I.bound(Ve,Xe,!!Je,!!Qe)}function se(Ze){var Ve,Xe=Ze.name;return{name:Xe,schema:Ze,mutate:function(Je){var Qe=Je.trans,st=Je.type,ht=Je.keys,Et=Je.values,Rt=Je.range;return new Promise(function(nr,cr){nr=pn(nr);var Zt=Qe.objectStore(Xe),Qt=Zt.keyPath==null,sr=st==="put"||st==="add";if(!sr&&st!=="delete"&&st!=="deleteRange")throw new Error("Invalid operation type: "+st);var It,er=(ht||Et||{length:1}).length;if(ht&&Et&&ht.length!==Et.length)throw new Error("Given keys array must have same length as given values array.");if(er===0)return nr({numFailures:0,failures:{},results:[],lastResult:void 0});function mr($n){++xi,Ts($n)}var Sr=[],Kr=[],xi=0;if(st==="deleteRange"){if(Rt.type===4)return nr({numFailures:xi,failures:Kr,results:[],lastResult:void 0});Rt.type===3?Sr.push(It=Zt.clear()):Sr.push(It=Zt.delete(te(Rt)))}else{var Qt=sr?Qt?[Et,ht]:[Et,null]:[ht,null],$r=Qt[0],oi=Qt[1];if(sr)for(var Na=0;Na<er;++Na)Sr.push(It=oi&&oi[Na]!==void 0?Zt[st]($r[Na],oi[Na]):Zt[st]($r[Na])),It.onerror=mr;else for(Na=0;Na<er;++Na)Sr.push(It=Zt[st]($r[Na])),It.onerror=mr}function Cd($n){$n=$n.target.result,Sr.forEach(function(Ba,Lf){return Ba.error!=null&&(Kr[Lf]=Ba.error)}),nr({numFailures:xi,failures:Kr,results:st==="delete"?ht:Sr.map(function(Ba){return Ba.result}),lastResult:$n})}It.onerror=function($n){mr($n),Cd($n)},It.onsuccess=Cd})},getMany:function(Je){var Qe=Je.trans,st=Je.keys;return new Promise(function(ht,Et){ht=pn(ht);for(var Rt,nr=Qe.objectStore(Xe),cr=st.length,Zt=new Array(cr),Qt=0,sr=0,It=function(Sr){Sr=Sr.target,Zt[Sr._pos]=Sr.result,++sr===Qt&&ht(Zt)},er=tl(Et),mr=0;mr<cr;++mr)st[mr]!=null&&((Rt=nr.get(st[mr]))._pos=mr,Rt.onsuccess=It,Rt.onerror=er,++Qt);Qt===0&&ht(Zt)})},get:function(Je){var Qe=Je.trans,st=Je.key;return new Promise(function(ht,Et){ht=pn(ht);var Rt=Qe.objectStore(Xe).get(st);Rt.onsuccess=function(nr){return ht(nr.target.result)},Rt.onerror=tl(Et)})},query:(Ve=Fe,function(Je){return new Promise(function(Qe,st){Qe=pn(Qe);var ht,Et,Rt,Qt=Je.trans,nr=Je.values,cr=Je.limit,It=Je.query,Zt=cr===1/0?void 0:cr,sr=It.index,It=It.range,Qt=Qt.objectStore(Xe),sr=sr.isPrimaryKey?Qt:Qt.index(sr.name),It=te(It);if(cr===0)return Qe({result:[]});Ve?((Zt=nr?sr.getAll(It,Zt):sr.getAllKeys(It,Zt)).onsuccess=function(er){return Qe({result:er.target.result})},Zt.onerror=tl(st)):(ht=0,Et=!nr&&"openKeyCursor"in sr?sr.openKeyCursor(It):sr.openCursor(It),Rt=[],Et.onsuccess=function(er){var mr=Et.result;return mr?(Rt.push(nr?mr.value:mr.primaryKey),++ht===cr?Qe({result:Rt}):void mr.continue()):Qe({result:Rt})},Et.onerror=tl(st))})}),openCursor:function(Je){var Qe=Je.trans,st=Je.values,ht=Je.query,Et=Je.reverse,Rt=Je.unique;return new Promise(function(nr,cr){nr=pn(nr);var sr=ht.index,Zt=ht.range,Qt=Qe.objectStore(Xe),Qt=sr.isPrimaryKey?Qt:Qt.index(sr.name),sr=Et?Rt?"prevunique":"prev":Rt?"nextunique":"next",It=!st&&"openKeyCursor"in Qt?Qt.openKeyCursor(te(Zt),sr):Qt.openCursor(te(Zt),sr);It.onerror=tl(cr),It.onsuccess=pn(function(er){var mr,Sr,Kr,xi,$r=It.result;$r?($r.___id=++_d,$r.done=!1,mr=$r.continue.bind($r),Sr=(Sr=$r.continuePrimaryKey)&&Sr.bind($r),Kr=$r.advance.bind($r),xi=function(){throw new Error("Cursor not stopped")},$r.trans=Qe,$r.stop=$r.continue=$r.continuePrimaryKey=$r.advance=function(){throw new Error("Cursor not started")},$r.fail=pn(cr),$r.next=function(){var oi=this,Na=1;return this.start(function(){return Na--?oi.continue():oi.stop()}).then(function(){return oi})},$r.start=function(oi){function Na(){if(It.result)try{oi()}catch($n){$r.fail($n)}else $r.done=!0,$r.start=function(){throw new Error("Cursor behind last entry")},$r.stop()}var Cd=new Promise(function($n,Ba){$n=pn($n),It.onerror=tl(Ba),$r.fail=Ba,$r.stop=function(Lf){$r.stop=$r.continue=$r.continuePrimaryKey=$r.advance=xi,$n(Lf)}});return It.onsuccess=pn(function($n){It.onsuccess=Na,Na()}),$r.continue=mr,$r.continuePrimaryKey=Sr,$r.advance=Kr,Na(),Cd},nr($r)):nr(null)},cr)})},count:function(Je){var Qe=Je.query,st=Je.trans,ht=Qe.index,Et=Qe.range;return new Promise(function(Rt,nr){var cr=st.objectStore(Xe),Zt=ht.isPrimaryKey?cr:cr.index(ht.name),cr=te(Et),Zt=cr?Zt.count(cr):Zt.count();Zt.onsuccess=pn(function(Qt){return Rt(Qt.target.result)}),Zt.onerror=tl(nr)})}}}var me,Ee,Ie,et=(Ee=ze,Ie=Ah((me=j).objectStoreNames),{schema:{name:me.name,tables:Ie.map(function(Ze){return Ee.objectStore(Ze)}).map(function(Ze){var Ve=Ze.keyPath,Qe=Ze.autoIncrement,Xe=o(Ve),Je={},Qe={name:Ze.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Ve==null,compound:Xe,keyPath:Ve,autoIncrement:Qe,unique:!0,extractKey:rl(Ve)},indexes:Ah(Ze.indexNames).map(function(st){return Ze.index(st)}).map(function(Rt){var ht=Rt.name,Et=Rt.unique,nr=Rt.multiEntry,Rt=Rt.keyPath,nr={name:ht,compound:o(Rt),keyPath:Rt,unique:Et,multiEntry:nr,extractKey:rl(Rt)};return Je[Ja(Rt)]=nr}),getIndexByKeyPath:function(st){return Je[Ja(st)]}};return Je[":id"]=Qe.primaryKey,Ve!=null&&(Je[Ja(Ve)]=Qe.primaryKey),Qe})},hasGetAll:0<Ie.length&&"getAll"in Ee.objectStore(Ie[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),ze=et.schema,Fe=et.hasGetAll,et=ze.tables.map(se),Me={};return et.forEach(function(Ze){return Me[Ze.name]=Ze}),{stack:"dbcore",transaction:j.transaction.bind(j),table:function(Ze){if(!Me[Ze])throw new Error("Table '".concat(Ze,"' not found"));return Me[Ze]},MIN_KEY:-1/0,MAX_KEY:Dl(I),schema:ze}}function _h(j,I,W,te){var se=W.IDBKeyRange;return W.indexedDB,{dbcore:(te=Rl(I,se,te),j.dbcore.reduce(function(me,Ee){return Ee=Ee.create,n(n({},me),Ee(me))},te))}}function hc(j,te){var W=te.db,te=_h(j._middlewares,W,j._deps,te);j.core=te.dbcore,j.tables.forEach(function(se){var me=se.name;j.core.schema.tables.some(function(Ee){return Ee.name===me})&&(se.core=j.core.table(me),j[me]instanceof j.Table&&(j[me].core=se.core))})}function Sh(j,I,W,te){W.forEach(function(se){var me=te[se];I.forEach(function(Ee){var Ie=(function ze(Fe,et){return w(Fe,et)||(Fe=u(Fe))&&ze(Fe,et)})(Ee,se);(!Ie||"value"in Ie&&Ie.value===void 0)&&(Ee===j.Transaction.prototype||Ee instanceof j.Transaction?b(Ee,se,{get:function(){return this.table(se)},set:function(ze){g(this,se,{value:ze,writable:!0,configurable:!0,enumerable:!0})}}):Ee[se]=new j.Table(se,me))})})}function Sd(j,I){I.forEach(function(W){for(var te in W)W[te]instanceof j.Table&&delete W[te]})}function Il(j,I){return j._cfg.version-I._cfg.version}function nl(j,I,W,te){var se=j._dbSchema;W.objectStoreNames.contains("$meta")&&!se.$meta&&(se.$meta=Uc("$meta",Km("")[0],[]),j._storeNames.push("$meta"));var me=j._createTransaction("readwrite",j._storeNames,se);me.create(W),me._completion.catch(te);var Ee=me._reject.bind(me),Ie=Mt.transless||Mt;_e(function(){return Mt.trans=me,Mt.transless=Ie,I!==0?(hc(j,W),Fe=I,((ze=me).storeNames.includes("$meta")?ze.table("$meta").get("version").then(function(et){return et??Fe}):Ht.resolve(Fe)).then(function(et){return Ze=et,Ve=me,Xe=W,Je=[],et=(Me=j)._versions,Qe=Me._dbSchema=Nd(0,Me.idbdb,Xe),(et=et.filter(function(st){return st._cfg.version>=Ze})).length!==0?(et.forEach(function(st){Je.push(function(){var ht=Qe,Et=st._cfg.dbschema;ju(Me,ht,Xe),ju(Me,Et,Xe),Qe=Me._dbSchema=Et;var Rt=fc(ht,Et);Rt.add.forEach(function(sr){al(Xe,sr[0],sr[1].primKey,sr[1].indexes)}),Rt.change.forEach(function(sr){if(sr.recreate)throw new de.Upgrade("Not yet support for changing primary key");var It=Xe.objectStore(sr.name);sr.add.forEach(function(er){return zc(It,er)}),sr.change.forEach(function(er){It.deleteIndex(er.name),zc(It,er)}),sr.del.forEach(function(er){return It.deleteIndex(er)})});var nr=st._cfg.contentUpgrade;if(nr&&st._cfg.version>Ze){hc(Me,Xe),Ve._memoizedTables={};var cr=U(Et);Rt.del.forEach(function(sr){cr[sr]=ht[sr]}),Sd(Me,[Me.Transaction.prototype]),Sh(Me,[Me.Transaction.prototype],s(cr),cr),Ve.schema=cr;var Zt,Qt=ne(nr);return Qt&&je(),Rt=Ht.follow(function(){var sr;(Zt=nr(Ve))&&Qt&&(sr=ke.bind(null,null),Zt.then(sr,sr))}),Zt&&typeof Zt.then=="function"?Ht.resolve(Zt):Rt.then(function(){return Zt})}}),Je.push(function(ht){var Et,Rt,nr=st._cfg.dbschema;Et=nr,Rt=ht,[].slice.call(Rt.db.objectStoreNames).forEach(function(cr){return Et[cr]==null&&Rt.db.deleteObjectStore(cr)}),Sd(Me,[Me.Transaction.prototype]),Sh(Me,[Me.Transaction.prototype],Me._storeNames,Me._dbSchema),Ve.schema=Me._dbSchema}),Je.push(function(ht){Me.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Me.idbdb.version/10)===st._cfg.version?(Me.idbdb.deleteObjectStore("$meta"),delete Me._dbSchema.$meta,Me._storeNames=Me._storeNames.filter(function(Et){return Et!=="$meta"})):ht.objectStore("$meta").put(st._cfg.version,"version"))})}),(function st(){return Je.length?Ht.resolve(Je.shift()(Ve.idbtrans)).then(st):Ht.resolve()})().then(function(){Of(Qe,Xe)})):Ht.resolve();var Me,Ze,Ve,Xe,Je,Qe}).catch(Ee)):(s(se).forEach(function(et){al(W,et,se[et].primKey,se[et].indexes)}),hc(j,W),void Ht.follow(function(){return j.on.populate.fire(me)}).catch(Ee));var ze,Fe})}function Pf(j,I){Of(j._dbSchema,I),I.db.version%10!=0||I.objectStoreNames.contains("$meta")||I.db.createObjectStore("$meta").add(Math.ceil(I.db.version/10-1),"version");var W=Nd(0,j.idbdb,I);ju(j,j._dbSchema,I);for(var te=0,se=fc(W,j._dbSchema).change;te<se.length;te++){var me=(function(Ee){if(Ee.change.length||Ee.recreate)return console.warn("Unable to patch indexes of table ".concat(Ee.name," because it has changes on the type of index or primary key.")),{value:void 0};var Ie=I.objectStore(Ee.name);Ee.add.forEach(function(ze){Dt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(Ee.name,".").concat(ze.src)),zc(Ie,ze)})})(se[te]);if(typeof me=="object")return me.value}}function fc(j,I){var W,te={del:[],add:[],change:[]};for(W in j)I[W]||te.del.push(W);for(W in I){var se=j[W],me=I[W];if(se){var Ee={name:W,def:me,recreate:!1,del:[],add:[],change:[]};if(""+(se.primKey.keyPath||"")!=""+(me.primKey.keyPath||"")||se.primKey.auto!==me.primKey.auto)Ee.recreate=!0,te.change.push(Ee);else{var Ie=se.idxByName,ze=me.idxByName,Fe=void 0;for(Fe in Ie)ze[Fe]||Ee.del.push(Fe);for(Fe in ze){var et=Ie[Fe],Me=ze[Fe];et?et.src!==Me.src&&Ee.change.push(Me):Ee.add.push(Me)}(0<Ee.del.length||0<Ee.add.length||0<Ee.change.length)&&te.change.push(Ee)}}else te.add.push([W,me])}return te}function al(j,I,W,te){var se=j.db.createObjectStore(I,W.keyPath?{keyPath:W.keyPath,autoIncrement:W.auto}:{autoIncrement:W.auto});return te.forEach(function(me){return zc(se,me)}),se}function Of(j,I){s(j).forEach(function(W){I.db.objectStoreNames.contains(W)||(Dt&&console.debug("Dexie: Creating missing table",W),al(I,W,j[W].primKey,j[W].indexes))})}function zc(j,I){j.createIndex(I.name,I.keyPath,{unique:I.unique,multiEntry:I.multi})}function Nd(j,I,W){var te={};return S(I.objectStoreNames,0).forEach(function(se){for(var me=W.objectStore(se),Ee=Ol(kf(Fe=me.keyPath),Fe||"",!0,!1,!!me.autoIncrement,Fe&&typeof Fe!="string",!0),Ie=[],ze=0;ze<me.indexNames.length;++ze){var et=me.index(me.indexNames[ze]),Fe=et.keyPath,et=Ol(et.name,Fe,!!et.unique,!!et.multiEntry,!1,Fe&&typeof Fe!="string",!1);Ie.push(et)}te[se]=Uc(se,Ee,Ie)}),te}function ju(j,I,W){for(var te=W.db.objectStoreNames,se=0;se<te.length;++se){var me=te[se],Ee=W.objectStore(me);j._hasGetAll="getAll"in Ee;for(var Ie=0;Ie<Ee.indexNames.length;++Ie){var ze=Ee.indexNames[Ie],Fe=Ee.index(ze).keyPath,et=typeof Fe=="string"?Fe:"["+S(Fe).join("+")+"]";!I[me]||(Fe=I[me].idxByName[et])&&(Fe.name=ze,delete I[me].idxByName[et],I[me].idxByName[ze]=Fe)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(j._hasGetAll=!1)}function Km(j){return j.split(",").map(function(I,W){var me=I.split(":"),te=(se=me[1])===null||se===void 0?void 0:se.trim(),se=(I=me[0].trim()).replace(/([&*]|\+\+)/g,""),me=/^\[/.test(se)?se.match(/^\[(.*)\]$/)[1].split("+"):se;return Ol(se,me||null,/\&/.test(I),/\*/.test(I),/\+\+/.test(I),o(me),W===0,te)})}var X0=($c.prototype._createTableSchema=Uc,$c.prototype._parseIndexSyntax=Km,$c.prototype._parseStoresSpec=function(j,I){var W=this;s(j).forEach(function(te){if(j[te]!==null){var se=W._parseIndexSyntax(j[te]),me=se.shift();if(!me)throw new de.Schema("Invalid schema for table "+te+": "+j[te]);if(me.unique=!0,me.multi)throw new de.Schema("Primary key cannot be multiEntry*");se.forEach(function(Ee){if(Ee.auto)throw new de.Schema("Only primary key can be marked as autoIncrement (++)");if(!Ee.keyPath)throw new de.Schema("Index must have a name and cannot be an empty string")}),se=W._createTableSchema(te,me,se),I[te]=se}})},$c.prototype.stores=function(W){var I=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,W):W;var W=I._versions,te={},se={};return W.forEach(function(me){l(te,me._cfg.storesSource),se=me._cfg.dbschema={},me._parseStoresSpec(te,se)}),I._dbSchema=se,Sd(I,[I._allTables,I,I.Transaction.prototype]),Sh(I,[I._allTables,I,I.Transaction.prototype,this._cfg.tables],s(se),se),I._storeNames=s(se),this},$c.prototype.upgrade=function(j){return this._cfg.contentUpgrade=vt(this._cfg.contentUpgrade||Re,j),this},$c);function $c(){}function Df(j,I){var W=j._dbNamesDB;return W||(W=j._dbNamesDB=new Qs(Rn,{addons:[],indexedDB:j,IDBKeyRange:I})).version(1).stores({dbnames:"name"}),W.table("dbnames")}function Cu(j){return j&&typeof j.databases=="function"}function Nh(j){return _e(function(){return Mt.letThrough=!0,j()})}function Eh(j){return!("from"in j)}var Ii=function(j,I){if(!this){var W=new Ii;return j&&"d"in j&&l(W,j),W}l(this,arguments.length?{d:1,from:j,to:1<arguments.length?I:j}:{d:0})};function Th(j,I,W){var te=qr(I,W);if(!isNaN(te)){if(0<te)throw RangeError();if(Eh(j))return l(j,{from:I,to:W,d:1});var se=j.l,te=j.r;if(qr(W,j.from)<0)return se?Th(se,I,W):j.l={from:I,to:W,d:1,l:null,r:null},ku(j);if(0<qr(I,j.to))return te?Th(te,I,W):j.r={from:I,to:W,d:1,l:null,r:null},ku(j);qr(I,j.from)<0&&(j.from=I,j.l=null,j.d=te?te.d+1:1),0<qr(W,j.to)&&(j.to=W,j.r=null,j.d=j.l?j.l.d+1:1),W=!j.r,se&&!j.l&&Ll(j,se),te&&W&&Ll(j,te)}}function Ll(j,I){Eh(I)||(function W(te,ze){var me=ze.from,Ee=ze.to,Ie=ze.l,ze=ze.r;Th(te,me,Ee),Ie&&W(te,Ie),ze&&W(te,ze)})(j,I)}function Ed(j,I){var W=Td(I),te=W.next();if(te.done)return!1;for(var se=te.value,me=Td(j),Ee=me.next(se.from),Ie=Ee.value;!te.done&&!Ee.done;){if(qr(Ie.from,se.to)<=0&&0<=qr(Ie.to,se.from))return!0;qr(se.from,Ie.from)<0?se=(te=W.next(Ie.from)).value:Ie=(Ee=me.next(se.from)).value}return!1}function Td(j){var I=Eh(j)?null:{s:0,n:j};return{next:function(W){for(var te=0<arguments.length;I;)switch(I.s){case 0:if(I.s=1,te)for(;I.n.l&&qr(W,I.n.from)<0;)I={up:I,n:I.n.l,s:1};else for(;I.n.l;)I={up:I,n:I.n.l,s:1};case 1:if(I.s=2,!te||qr(W,I.n.to)<=0)return{value:I.n,done:!1};case 2:if(I.n.r){I.s=3,I={up:I,n:I.n.r,s:0};continue}case 3:I=I.up}return{done:!0}}}}function ku(j){var I,W,te=(((I=j.r)===null||I===void 0?void 0:I.d)||0)-(((W=j.l)===null||W===void 0?void 0:W.d)||0),se=1<te?"r":te<-1?"l":"";se&&(I=se=="r"?"l":"r",W=n({},j),te=j[se],j.from=te.from,j.to=te.to,j[se]=te[se],W[se]=te[I],(j[I]=W).d=jh(W)),j.d=jh(j)}function jh(W){var I=W.r,W=W.l;return(I?W?Math.max(I.d,W.d):I.d:W?W.d:0)+1}function z(j,I){return s(I).forEach(function(W){j[W]?Ll(j[W],I[W]):j[W]=(function te(se){var me,Ee,Ie={};for(me in se)f(se,me)&&(Ee=se[me],Ie[me]=!Ee||typeof Ee!="object"||F.has(Ee.constructor)?Ee:te(Ee));return Ie})(I[W])}),j}function he(j,I){return j.all||I.all||Object.keys(j).some(function(W){return I[W]&&Ed(I[W],j[W])})}m(Ii.prototype,((gs={add:function(j){return Ll(this,j),this},addKey:function(j){return Th(this,j,j),this},addKeys:function(j){var I=this;return j.forEach(function(W){return Th(I,W,W)}),this},hasKey:function(j){var I=Td(this).next(j).value;return I&&qr(I.from,j)<=0&&0<=qr(I.to,j)}})[Q]=function(){return Td(this)},gs));var Oe={},$e={},at=!1;function jt(j){z($e,j),at||(at=!0,setTimeout(function(){at=!1,Wt($e,!($e={}))},0))}function Wt(j,I){I===void 0&&(I=!1);var W=new Set;if(j.all)for(var te=0,se=Object.values(Oe);te<se.length;te++)xr(Ee=se[te],j,W,I);else for(var me in j){var Ee,Ie=/^idb\:\/\/(.*)\/(.*)\//.exec(me);Ie&&(me=Ie[1],Ie=Ie[2],(Ee=Oe["idb://".concat(me,"/").concat(Ie)])&&xr(Ee,j,W,I))}W.forEach(function(ze){return ze()})}function xr(j,I,W,te){for(var se=[],me=0,Ee=Object.entries(j.queries.query);me<Ee.length;me++){for(var Ie=Ee[me],ze=Ie[0],Fe=[],et=0,Me=Ie[1];et<Me.length;et++){var Ze=Me[et];he(I,Ze.obsSet)?Ze.subscribers.forEach(function(Qe){return W.add(Qe)}):te&&Fe.push(Ze)}te&&se.push([ze,Fe])}if(te)for(var Ve=0,Xe=se;Ve<Xe.length;Ve++){var Je=Xe[Ve],ze=Je[0],Fe=Je[1];j.queries.query[ze]=Fe}}function Rr(j){var I=j._state,W=j._deps.indexedDB;if(I.isBeingOpened||j.idbdb)return I.dbReadyPromise.then(function(){return I.dbOpenError?Xt(I.dbOpenError):j});I.isBeingOpened=!0,I.dbOpenError=null,I.openComplete=!1;var te=I.openCanceller,se=Math.round(10*j.verno),me=!1;function Ee(){if(I.openCanceller!==te)throw new de.DatabaseClosed("db.open() was cancelled")}function Ie(){return new Ht(function(Ze,Ve){if(Ee(),!W)throw new de.MissingAPI;var Xe=j.name,Je=I.autoSchema||!se?W.open(Xe):W.open(Xe,se);if(!Je)throw new de.MissingAPI;Je.onerror=tl(Ve),Je.onblocked=pn(j._fireOnBlocked),Je.onupgradeneeded=pn(function(Qe){var st;et=Je.transaction,I.autoSchema&&!j._options.allowEmptyDB?(Je.onerror=Ts,et.abort(),Je.result.close(),(st=W.deleteDatabase(Xe)).onsuccess=st.onerror=pn(function(){Ve(new de.NoSuchDatabase("Database ".concat(Xe," doesnt exist")))})):(et.onerror=tl(Ve),Qe=Qe.oldVersion>Math.pow(2,62)?0:Qe.oldVersion,Me=Qe<1,j.idbdb=Je.result,me&&Pf(j,et),nl(j,Qe/10,et,Ve))},Ve),Je.onsuccess=pn(function(){et=null;var Qe,st,ht,Et,Rt,nr=j.idbdb=Je.result,cr=S(nr.objectStoreNames);if(0<cr.length)try{var Zt=nr.transaction((Et=cr).length===1?Et[0]:Et,"readonly");if(I.autoSchema)st=nr,ht=Zt,(Qe=j).verno=st.version/10,ht=Qe._dbSchema=Nd(0,st,ht),Qe._storeNames=S(st.objectStoreNames,0),Sh(Qe,[Qe._allTables],s(ht),ht);else if(ju(j,j._dbSchema,Zt),((Rt=fc(Nd(0,(Rt=j).idbdb,Zt),Rt._dbSchema)).add.length||Rt.change.some(function(Qt){return Qt.add.length||Qt.change.length}))&&!me)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),nr.close(),se=nr.version+1,me=!0,Ze(Ie());hc(j,Zt)}catch{}bn.push(j),nr.onversionchange=pn(function(Qt){I.vcFired=!0,j.on("versionchange").fire(Qt)}),nr.onclose=pn(function(){j.close({disableAutoOpen:!1})}),Me&&(Rt=j._deps,Zt=Xe,nr=Rt.indexedDB,Rt=Rt.IDBKeyRange,Cu(nr)||Zt===Rn||Df(nr,Rt).put({name:Zt}).catch(Re)),Ze()},Ve)}).catch(function(Ze){switch(Ze==null?void 0:Ze.name){case"UnknownError":if(0<I.PR1398_maxLoop)return I.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Ie();break;case"VersionError":if(0<se)return se=0,Ie()}return Ht.reject(Ze)})}var ze,Fe=I.dbReadyResolve,et=null,Me=!1;return Ht.race([te,(typeof navigator>"u"?Ht.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ze){function Ve(){return indexedDB.databases().finally(Ze)}ze=setInterval(Ve,100),Ve()}).finally(function(){return clearInterval(ze)}):Promise.resolve()).then(Ie)]).then(function(){return Ee(),I.onReadyBeingFired=[],Ht.resolve(Nh(function(){return j.on.ready.fire(j.vip)})).then(function Ze(){if(0<I.onReadyBeingFired.length){var Ve=I.onReadyBeingFired.reduce(vt,Re);return I.onReadyBeingFired=[],Ht.resolve(Nh(function(){return Ve(j.vip)})).then(Ze)}})}).finally(function(){I.openCanceller===te&&(I.onReadyBeingFired=null,I.isBeingOpened=!1)}).catch(function(Ze){I.dbOpenError=Ze;try{et&&et.abort()}catch{}return te===I.openCanceller&&j._close(),Xt(Ze)}).finally(function(){I.openComplete=!0,Fe()}).then(function(){var Ze;return Me&&(Ze={},j.tables.forEach(function(Ve){Ve.schema.indexes.forEach(function(Xe){Xe.name&&(Ze["idb://".concat(j.name,"/").concat(Ve.name,"/").concat(Xe.name)]=new Ii(-1/0,[[[]]]))}),Ze["idb://".concat(j.name,"/").concat(Ve.name,"/")]=Ze["idb://".concat(j.name,"/").concat(Ve.name,"/:dels")]=new Ii(-1/0,[[[]]])}),ai(Tu).fire(Ze),Wt(Ze,!0)),j})}function Yr(j){function I(me){return j.next(me)}var W=se(I),te=se(function(me){return j.throw(me)});function se(me){return function(ze){var Ie=me(ze),ze=Ie.value;return Ie.done?ze:ze&&typeof ze.then=="function"?ze.then(W,te):o(ze)?Promise.all(ze).then(W,te):W(ze)}}return se(I)()}function zr(j,I,W){for(var te=o(j)?j.slice():[j],se=0;se<W;++se)te.push(I);return te}var Tn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(j){return n(n({},j),{table:function(I){var W=j.table(I),te=W.schema,se={},me=[];function Ee(Me,Ze,Ve){var Xe=Ja(Me),Je=se[Xe]=se[Xe]||[],Qe=Me==null?0:typeof Me=="string"?1:Me.length,st=0<Ze,st=n(n({},Ve),{name:st?"".concat(Xe,"(virtual-from:").concat(Ve.name,")"):Ve.name,lowLevelIndex:Ve,isVirtual:st,keyTail:Ze,keyLength:Qe,extractKey:rl(Me),unique:!st&&Ve.unique});return Je.push(st),st.isPrimaryKey||me.push(st),1<Qe&&Ee(Qe===2?Me[0]:Me.slice(0,Qe-1),Ze+1,Ve),Je.sort(function(ht,Et){return ht.keyTail-Et.keyTail}),st}I=Ee(te.primaryKey.keyPath,0,te.primaryKey),se[":id"]=[I];for(var Ie=0,ze=te.indexes;Ie<ze.length;Ie++){var Fe=ze[Ie];Ee(Fe.keyPath,0,Fe)}function et(Me){var Ze,Ve=Me.query.index;return Ve.isVirtual?n(n({},Me),{query:{index:Ve.lowLevelIndex,range:(Ze=Me.query.range,Ve=Ve.keyTail,{type:Ze.type===1?2:Ze.type,lower:zr(Ze.lower,Ze.lowerOpen?j.MAX_KEY:j.MIN_KEY,Ve),lowerOpen:!0,upper:zr(Ze.upper,Ze.upperOpen?j.MIN_KEY:j.MAX_KEY,Ve),upperOpen:!0})}}):Me}return n(n({},W),{schema:n(n({},te),{primaryKey:I,indexes:me,getIndexByKeyPath:function(Me){return(Me=se[Ja(Me)])&&Me[0]}}),count:function(Me){return W.count(et(Me))},query:function(Me){return W.query(et(Me))},openCursor:function(Me){var Ze=Me.query.index,Ve=Ze.keyTail,Xe=Ze.isVirtual,Je=Ze.keyLength;return Xe?W.openCursor(et(Me)).then(function(st){return st&&Qe(st)}):W.openCursor(Me);function Qe(st){return Object.create(st,{continue:{value:function(ht){ht!=null?st.continue(zr(ht,Me.reverse?j.MAX_KEY:j.MIN_KEY,Ve)):Me.unique?st.continue(st.key.slice(0,Je).concat(Me.reverse?j.MIN_KEY:j.MAX_KEY,Ve)):st.continue()}},continuePrimaryKey:{value:function(ht,Et){st.continuePrimaryKey(zr(ht,j.MAX_KEY,Ve),Et)}},primaryKey:{get:function(){return st.primaryKey}},key:{get:function(){var ht=st.key;return Je===1?ht[0]:ht.slice(0,Je)}},value:{get:function(){return st.value}}})}}})}})}};function la(j,I,W,te){return W=W||{},te=te||"",s(j).forEach(function(se){var me,Ee,Ie;f(I,se)?(me=j[se],Ee=I[se],typeof me=="object"&&typeof Ee=="object"&&me&&Ee?(Ie=pe(me))!==pe(Ee)?W[te+se]=I[se]:Ie==="Object"?la(me,Ee,W,te+se+"."):me!==Ee&&(W[te+se]=I[se]):me!==Ee&&(W[te+se]=I[se])):W[te+se]=void 0}),s(I).forEach(function(se){f(j,se)||(W[te+se]=I[se])}),W}function ha(j,I){return I.type==="delete"?I.keys:I.keys||I.values.map(j.extractKey)}var ii={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(j){return n(n({},j),{table:function(I){var W=j.table(I),te=W.schema.primaryKey;return n(n({},W),{mutate:function(se){var me=Mt.trans,Ee=me.table(I).hook,Ie=Ee.deleting,ze=Ee.creating,Fe=Ee.updating;switch(se.type){case"add":if(ze.fire===Re)break;return me._promise("readwrite",function(){return et(se)},!0);case"put":if(ze.fire===Re&&Fe.fire===Re)break;return me._promise("readwrite",function(){return et(se)},!0);case"delete":if(Ie.fire===Re)break;return me._promise("readwrite",function(){return et(se)},!0);case"deleteRange":if(Ie.fire===Re)break;return me._promise("readwrite",function(){return(function Me(Ze,Ve,Xe){return W.query({trans:Ze,values:!1,query:{index:te,range:Ve},limit:Xe}).then(function(Je){var Qe=Je.result;return et({type:"delete",keys:Qe,trans:Ze}).then(function(st){return 0<st.numFailures?Promise.reject(st.failures[0]):Qe.length<Xe?{failures:[],numFailures:0,lastResult:void 0}:Me(Ze,n(n({},Ve),{lower:Qe[Qe.length-1],lowerOpen:!0}),Xe)})})})(se.trans,se.range,1e4)},!0)}return W.mutate(se);function et(Me){var Ze,Ve,Xe,Je=Mt.trans,Qe=Me.keys||ha(te,Me);if(!Qe)throw new Error("Keys missing");return(Me=Me.type==="add"||Me.type==="put"?n(n({},Me),{keys:Qe}):n({},Me)).type!=="delete"&&(Me.values=a([],Me.values)),Me.keys&&(Me.keys=a([],Me.keys)),Ze=W,Xe=Qe,((Ve=Me).type==="add"?Promise.resolve([]):Ze.getMany({trans:Ve.trans,keys:Xe,cache:"immutable"})).then(function(st){var ht=Qe.map(function(Et,Rt){var nr,cr,Zt,Qt=st[Rt],sr={onerror:null,onsuccess:null};return Me.type==="delete"?Ie.fire.call(sr,Et,Qt,Je):Me.type==="add"||Qt===void 0?(nr=ze.fire.call(sr,Et,Me.values[Rt],Je),Et==null&&nr!=null&&(Me.keys[Rt]=Et=nr,te.outbound||O(Me.values[Rt],te.keyPath,Et))):(nr=la(Qt,Me.values[Rt]),(cr=Fe.fire.call(sr,nr,Et,Qt,Je))&&(Zt=Me.values[Rt],Object.keys(cr).forEach(function(It){f(Zt,It)?Zt[It]=cr[It]:O(Zt,It,cr[It])}))),sr});return W.mutate(Me).then(function(Et){for(var Rt=Et.failures,nr=Et.results,cr=Et.numFailures,Et=Et.lastResult,Zt=0;Zt<Qe.length;++Zt){var Qt=(nr||Qe)[Zt],sr=ht[Zt];Qt==null?sr.onerror&&sr.onerror(Rt[Zt]):sr.onsuccess&&sr.onsuccess(Me.type==="put"&&st[Zt]?Me.values[Zt]:Qt)}return{failures:Rt,results:nr,numFailures:cr,lastResult:Et}}).catch(function(Et){return ht.forEach(function(Rt){return Rt.onerror&&Rt.onerror(Et)}),Promise.reject(Et)})})}}})}})}};function Ji(j,I,W){try{if(!I||I.keys.length<j.length)return null;for(var te=[],se=0,me=0;se<I.keys.length&&me<j.length;++se)qr(I.keys[se],j[me])===0&&(te.push(W?re(I.values[se]):I.values[se]),++me);return te.length===j.length?te:null}catch{return null}}var Li={stack:"dbcore",level:-1,create:function(j){return{table:function(I){var W=j.table(I);return n(n({},W),{getMany:function(te){if(!te.cache)return W.getMany(te);var se=Ji(te.keys,te.trans._cache,te.cache==="clone");return se?Ht.resolve(se):W.getMany(te).then(function(me){return te.trans._cache={keys:te.keys,values:te.cache==="clone"?re(me):me},me})},mutate:function(te){return te.type!=="add"&&(te.trans._cache=null),W.mutate(te)}})}}}};function ms(j,I){return j.trans.mode==="readonly"&&!!j.subscr&&!j.trans.explicit&&j.trans.db._options.cache!=="disabled"&&!I.schema.primaryKey.outbound}function jo(j,I){switch(j){case"query":return I.values&&!I.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Vc={stack:"dbcore",level:0,name:"Observability",create:function(j){var I=j.schema.name,W=new Ii(j.MIN_KEY,j.MAX_KEY);return n(n({},j),{transaction:function(te,se,me){if(Mt.subscr&&se!=="readonly")throw new de.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Mt.querier));return j.transaction(te,se,me)},table:function(te){var se=j.table(te),me=se.schema,Ee=me.primaryKey,Me=me.indexes,Ie=Ee.extractKey,ze=Ee.outbound,Fe=Ee.autoIncrement&&Me.filter(function(Ve){return Ve.compound&&Ve.keyPath.includes(Ee.keyPath)}),et=n(n({},se),{mutate:function(Ve){function Xe(It){return It="idb://".concat(I,"/").concat(te,"/").concat(It),Et[It]||(Et[It]=new Ii)}var Je,Qe,st,ht=Ve.trans,Et=Ve.mutatedParts||(Ve.mutatedParts={}),Rt=Xe(""),nr=Xe(":dels"),cr=Ve.type,sr=Ve.type==="deleteRange"?[Ve.range]:Ve.type==="delete"?[Ve.keys]:Ve.values.length<50?[ha(Ee,Ve).filter(function(It){return It}),Ve.values]:[],Zt=sr[0],Qt=sr[1],sr=Ve.trans._cache;return o(Zt)?(Rt.addKeys(Zt),(sr=cr==="delete"||Zt.length===Qt.length?Ji(Zt,sr):null)||nr.addKeys(Zt),(sr||Qt)&&(Je=Xe,Qe=sr,st=Qt,me.indexes.forEach(function(It){var er=Je(It.name||"");function mr(Kr){return Kr!=null?It.extractKey(Kr):null}function Sr(Kr){return It.multiEntry&&o(Kr)?Kr.forEach(function(xi){return er.addKey(xi)}):er.addKey(Kr)}(Qe||st).forEach(function(Kr,oi){var $r=Qe&&mr(Qe[oi]),oi=st&&mr(st[oi]);qr($r,oi)!==0&&($r!=null&&Sr($r),oi!=null&&Sr(oi))})}))):Zt?(Qt={from:(Qt=Zt.lower)!==null&&Qt!==void 0?Qt:j.MIN_KEY,to:(Qt=Zt.upper)!==null&&Qt!==void 0?Qt:j.MAX_KEY},nr.add(Qt),Rt.add(Qt)):(Rt.add(W),nr.add(W),me.indexes.forEach(function(It){return Xe(It.name).add(W)})),se.mutate(Ve).then(function(It){return!Zt||Ve.type!=="add"&&Ve.type!=="put"||(Rt.addKeys(It.results),Fe&&Fe.forEach(function(er){for(var mr=Ve.values.map(function($r){return er.extractKey($r)}),Sr=er.keyPath.findIndex(function($r){return $r===Ee.keyPath}),Kr=0,xi=It.results.length;Kr<xi;++Kr)mr[Kr][Sr]=It.results[Kr];Xe(er.name).addKeys(mr)})),ht.mutatedParts=z(ht.mutatedParts||{},Et),It})}}),Me=function(Xe){var Je=Xe.query,Xe=Je.index,Je=Je.range;return[Xe,new Ii((Xe=Je.lower)!==null&&Xe!==void 0?Xe:j.MIN_KEY,(Je=Je.upper)!==null&&Je!==void 0?Je:j.MAX_KEY)]},Ze={get:function(Ve){return[Ee,new Ii(Ve.key)]},getMany:function(Ve){return[Ee,new Ii().addKeys(Ve.keys)]},count:Me,query:Me,openCursor:Me};return s(Ze).forEach(function(Ve){et[Ve]=function(Xe){var Je=Mt.subscr,Qe=!!Je,st=ms(Mt,se)&&jo(Ve,Xe)?Xe.obsSet={}:Je;if(Qe){var ht=function(Qt){return Qt="idb://".concat(I,"/").concat(te,"/").concat(Qt),st[Qt]||(st[Qt]=new Ii)},Et=ht(""),Rt=ht(":dels"),Je=Ze[Ve](Xe),Qe=Je[0],Je=Je[1];if((Ve==="query"&&Qe.isPrimaryKey&&!Xe.values?Rt:ht(Qe.name||"")).add(Je),!Qe.isPrimaryKey){if(Ve!=="count"){var nr=Ve==="query"&&ze&&Xe.values&&se.query(n(n({},Xe),{values:!1}));return se[Ve].apply(this,arguments).then(function(Qt){if(Ve==="query"){if(ze&&Xe.values)return nr.then(function(mr){return mr=mr.result,Et.addKeys(mr),Qt});var sr=Xe.values?Qt.result.map(Ie):Qt.result;(Xe.values?Et:Rt).addKeys(sr)}else if(Ve==="openCursor"){var It=Qt,er=Xe.values;return It&&Object.create(It,{key:{get:function(){return Rt.addKey(It.primaryKey),It.key}},primaryKey:{get:function(){var mr=It.primaryKey;return Rt.addKey(mr),mr}},value:{get:function(){return er&&Et.addKey(It.primaryKey),It.value}}})}return Qt})}Rt.add(W)}}return se[Ve].apply(this,arguments)}}),et}})}};function J0(j,I,W){if(W.numFailures===0)return I;if(I.type==="deleteRange")return null;var te=I.keys?I.keys.length:"values"in I&&I.values?I.values.length:1;return W.numFailures===te?null:(I=n({},I),o(I.keys)&&(I.keys=I.keys.filter(function(se,me){return!(me in W.failures)})),"values"in I&&o(I.values)&&(I.values=I.values.filter(function(se,me){return!(me in W.failures)})),I)}function jd(j,I){return W=j,((te=I).lower===void 0||(te.lowerOpen?0<qr(W,te.lower):0<=qr(W,te.lower)))&&(j=j,(I=I).upper===void 0||(I.upperOpen?qr(j,I.upper)<0:qr(j,I.upper)<=0));var W,te}function Ch(j,I,Ze,te,se,me){if(!Ze||Ze.length===0)return j;var Ee=I.query.index,Ie=Ee.multiEntry,ze=I.query.range,Fe=te.schema.primaryKey.extractKey,et=Ee.extractKey,Me=(Ee.lowLevelIndex||Ee).extractKey,Ze=Ze.reduce(function(Ve,Xe){var Je=Ve,Qe=[];if(Xe.type==="add"||Xe.type==="put")for(var st=new Ii,ht=Xe.values.length-1;0<=ht;--ht){var Et,Rt=Xe.values[ht],nr=Fe(Rt);st.hasKey(nr)||(Et=et(Rt),(Ie&&o(Et)?Et.some(function(It){return jd(It,ze)}):jd(Et,ze))&&(st.addKey(nr),Qe.push(Rt)))}switch(Xe.type){case"add":var cr=new Ii().addKeys(I.values?Ve.map(function(er){return Fe(er)}):Ve),Je=Ve.concat(I.values?Qe.filter(function(er){return er=Fe(er),!cr.hasKey(er)&&(cr.addKey(er),!0)}):Qe.map(function(er){return Fe(er)}).filter(function(er){return!cr.hasKey(er)&&(cr.addKey(er),!0)}));break;case"put":var Zt=new Ii().addKeys(Xe.values.map(function(er){return Fe(er)}));Je=Ve.filter(function(er){return!Zt.hasKey(I.values?Fe(er):er)}).concat(I.values?Qe:Qe.map(function(er){return Fe(er)}));break;case"delete":var Qt=new Ii().addKeys(Xe.keys);Je=Ve.filter(function(er){return!Qt.hasKey(I.values?Fe(er):er)});break;case"deleteRange":var sr=Xe.range;Je=Ve.filter(function(er){return!jd(Fe(er),sr)})}return Je},j);return Ze===j?j:(Ze.sort(function(Ve,Xe){return qr(Me(Ve),Me(Xe))||qr(Fe(Ve),Fe(Xe))}),I.limit&&I.limit<1/0&&(Ze.length>I.limit?Ze.length=I.limit:j.length===I.limit&&Ze.length<I.limit&&(se.dirty=!0)),me?Object.freeze(Ze):Ze)}function pc(j,I){return qr(j.lower,I.lower)===0&&qr(j.upper,I.upper)===0&&!!j.lowerOpen==!!I.lowerOpen&&!!j.upperOpen==!!I.upperOpen}function Pu(j,I){return(function(W,te,se,me){if(W===void 0)return te!==void 0?-1:0;if(te===void 0)return 1;if((te=qr(W,te))===0){if(se&&me)return 0;if(se)return 1;if(me)return-1}return te})(j.lower,I.lower,j.lowerOpen,I.lowerOpen)<=0&&0<=(function(W,te,se,me){if(W===void 0)return te!==void 0?1:0;if(te===void 0)return-1;if((te=qr(W,te))===0){if(se&&me)return 0;if(se)return-1;if(me)return 1}return te})(j.upper,I.upper,j.upperOpen,I.upperOpen)}function Z0(j,I,W,te){j.subscribers.add(W),te.addEventListener("abort",function(){var se,me;j.subscribers.delete(W),j.subscribers.size===0&&(se=j,me=I,setTimeout(function(){se.subscribers.size===0&&oe(me,se)},3e3))})}var Ou={stack:"dbcore",level:0,name:"Cache",create:function(j){var I=j.schema.name;return n(n({},j),{transaction:function(W,te,se){var me,Ee,Ie=j.transaction(W,te,se);return te==="readwrite"&&(Ee=(me=new AbortController).signal,se=function(ze){return function(){if(me.abort(),te==="readwrite"){for(var Fe=new Set,et=0,Me=W;et<Me.length;et++){var Ze=Me[et],Ve=Oe["idb://".concat(I,"/").concat(Ze)];if(Ve){var Xe=j.table(Ze),Je=Ve.optimisticOps.filter(function(er){return er.trans===Ie});if(Ie._explicit&&ze&&Ie.mutatedParts)for(var Qe=0,st=Object.values(Ve.queries.query);Qe<st.length;Qe++)for(var ht=0,Et=(cr=st[Qe]).slice();ht<Et.length;ht++)he((Zt=Et[ht]).obsSet,Ie.mutatedParts)&&(oe(cr,Zt),Zt.subscribers.forEach(function(er){return Fe.add(er)}));else if(0<Je.length){Ve.optimisticOps=Ve.optimisticOps.filter(function(er){return er.trans!==Ie});for(var Rt=0,nr=Object.values(Ve.queries.query);Rt<nr.length;Rt++)for(var cr,Zt,Qt,sr=0,It=(cr=nr[Rt]).slice();sr<It.length;sr++)(Zt=It[sr]).res!=null&&Ie.mutatedParts&&(ze&&!Zt.dirty?(Qt=Object.isFrozen(Zt.res),Qt=Ch(Zt.res,Zt.req,Je,Xe,Zt,Qt),Zt.dirty?(oe(cr,Zt),Zt.subscribers.forEach(function(er){return Fe.add(er)})):Qt!==Zt.res&&(Zt.res=Qt,Zt.promise=Ht.resolve({result:Qt}))):(Zt.dirty&&oe(cr,Zt),Zt.subscribers.forEach(function(er){return Fe.add(er)})))}}}Fe.forEach(function(er){return er()})}}},Ie.addEventListener("abort",se(!1),{signal:Ee}),Ie.addEventListener("error",se(!1),{signal:Ee}),Ie.addEventListener("complete",se(!0),{signal:Ee})),Ie},table:function(W){var te=j.table(W),se=te.schema.primaryKey;return n(n({},te),{mutate:function(me){var Ee=Mt.trans;if(se.outbound||Ee.db._options.cache==="disabled"||Ee.explicit||Ee.idbtrans.mode!=="readwrite")return te.mutate(me);var Ie=Oe["idb://".concat(I,"/").concat(W)];return Ie?(Ee=te.mutate(me),me.type!=="add"&&me.type!=="put"||!(50<=me.values.length||ha(se,me).some(function(ze){return ze==null}))?(Ie.optimisticOps.push(me),me.mutatedParts&&jt(me.mutatedParts),Ee.then(function(ze){0<ze.numFailures&&(oe(Ie.optimisticOps,me),(ze=J0(0,me,ze))&&Ie.optimisticOps.push(ze),me.mutatedParts&&jt(me.mutatedParts))}),Ee.catch(function(){oe(Ie.optimisticOps,me),me.mutatedParts&&jt(me.mutatedParts)})):Ee.then(function(ze){var Fe=J0(0,n(n({},me),{values:me.values.map(function(et,Me){var Ze;return ze.failures[Me]?et:(et=(Ze=se.keyPath)!==null&&Ze!==void 0&&Ze.includes(".")?re(et):n({},et),O(et,se.keyPath,ze.results[Me]),et)})}),ze);Ie.optimisticOps.push(Fe),queueMicrotask(function(){return me.mutatedParts&&jt(me.mutatedParts)})}),Ee):te.mutate(me)},query:function(me){if(!ms(Mt,te)||!jo("query",me))return te.query(me);var Ee=((Fe=Mt.trans)===null||Fe===void 0?void 0:Fe.db._options.cache)==="immutable",Me=Mt,Ie=Me.requery,ze=Me.signal,Fe=(function(Xe,Je,Qe,st){var ht=Oe["idb://".concat(Xe,"/").concat(Je)];if(!ht)return[];if(!(Je=ht.queries[Qe]))return[null,!1,ht,null];var Et=Je[(st.query?st.query.index.name:null)||""];if(!Et)return[null,!1,ht,null];switch(Qe){case"query":var Rt=Et.find(function(nr){return nr.req.limit===st.limit&&nr.req.values===st.values&&pc(nr.req.query.range,st.query.range)});return Rt?[Rt,!0,ht,Et]:[Et.find(function(nr){return("limit"in nr.req?nr.req.limit:1/0)>=st.limit&&(!st.values||nr.req.values)&&Pu(nr.req.query.range,st.query.range)}),!1,ht,Et];case"count":return Rt=Et.find(function(nr){return pc(nr.req.query.range,st.query.range)}),[Rt,!!Rt,ht,Et]}})(I,W,"query",me),et=Fe[0],Me=Fe[1],Ze=Fe[2],Ve=Fe[3];return et&&Me?et.obsSet=me.obsSet:(Me=te.query(me).then(function(Xe){var Je=Xe.result;if(et&&(et.res=Je),Ee){for(var Qe=0,st=Je.length;Qe<st;++Qe)Object.freeze(Je[Qe]);Object.freeze(Je)}else Xe.result=re(Je);return Xe}).catch(function(Xe){return Ve&&et&&oe(Ve,et),Promise.reject(Xe)}),et={obsSet:me.obsSet,promise:Me,subscribers:new Set,type:"query",req:me,dirty:!1},Ve?Ve.push(et):(Ve=[et],(Ze=Ze||(Oe["idb://".concat(I,"/").concat(W)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[me.query.index.name||""]=Ve)),Z0(et,Ve,Ie,ze),et.promise.then(function(Xe){return{result:Ch(Xe.result,me,Ze==null?void 0:Ze.optimisticOps,te,et,Ee)}})}})}})}};function si(j,I){return new Proxy(j,{get:function(W,te,se){return te==="db"?I:Reflect.get(W,te,se)}})}var Qs=(Wn.prototype.version=function(j){if(isNaN(j)||j<.1)throw new de.Type("Given version is not a positive number");if(j=Math.round(10*j)/10,this.idbdb||this._state.isBeingOpened)throw new de.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,j);var I=this._versions,W=I.filter(function(te){return te._cfg.version===j})[0];return W||(W=new this.Version(j),I.push(W),I.sort(Il),W.stores({}),this._state.autoSchema=!1,W)},Wn.prototype._whenReady=function(j){var I=this;return this.idbdb&&(this._state.openComplete||Mt.letThrough||this._vip)?j():new Ht(function(W,te){if(I._state.openComplete)return te(new de.DatabaseClosed(I._state.dbOpenError));if(!I._state.isBeingOpened){if(!I._state.autoOpen)return void te(new de.DatabaseClosed);I.open().catch(Re)}I._state.dbReadyPromise.then(W,te)}).then(j)},Wn.prototype.use=function(j){var I=j.stack,W=j.create,te=j.level,se=j.name;return se&&this.unuse({stack:I,name:se}),j=this._middlewares[I]||(this._middlewares[I]=[]),j.push({stack:I,create:W,level:te??10,name:se}),j.sort(function(me,Ee){return me.level-Ee.level}),this},Wn.prototype.unuse=function(j){var I=j.stack,W=j.name,te=j.create;return I&&this._middlewares[I]&&(this._middlewares[I]=this._middlewares[I].filter(function(se){return te?se.create!==te:!!W&&se.name!==W})),this},Wn.prototype.open=function(){var j=this;return lt(Tr,function(){return Rr(j)})},Wn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var j=this._state,I=bn.indexOf(this);if(0<=I&&bn.splice(I,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}j.isBeingOpened||(j.dbReadyPromise=new Ht(function(W){j.dbReadyResolve=W}),j.openCanceller=new Ht(function(W,te){j.cancelOpen=te}))},Wn.prototype.close=function(W){var I=(W===void 0?{disableAutoOpen:!0}:W).disableAutoOpen,W=this._state;I?(W.isBeingOpened&&W.cancelOpen(new de.DatabaseClosed),this._close(),W.autoOpen=!1,W.dbOpenError=new de.DatabaseClosed):(this._close(),W.autoOpen=this._options.autoOpen||W.isBeingOpened,W.openComplete=!1,W.dbOpenError=null)},Wn.prototype.delete=function(j){var I=this;j===void 0&&(j={disableAutoOpen:!0});var W=0<arguments.length&&typeof arguments[0]!="object",te=this._state;return new Ht(function(se,me){function Ee(){I.close(j);var Ie=I._deps.indexedDB.deleteDatabase(I.name);Ie.onsuccess=pn(function(){var ze,Fe,et;ze=I._deps,Fe=I.name,et=ze.indexedDB,ze=ze.IDBKeyRange,Cu(et)||Fe===Rn||Df(et,ze).delete(Fe).catch(Re),se()}),Ie.onerror=tl(me),Ie.onblocked=I._fireOnBlocked}if(W)throw new de.InvalidArgument("Invalid closeOptions argument to db.delete()");te.isBeingOpened?te.dbReadyPromise.then(Ee):Ee()})},Wn.prototype.backendDB=function(){return this.idbdb},Wn.prototype.isOpen=function(){return this.idbdb!==null},Wn.prototype.hasBeenClosed=function(){var j=this._state.dbOpenError;return j&&j.name==="DatabaseClosed"},Wn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Wn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Wn.prototype,"tables",{get:function(){var j=this;return s(this._allTables).map(function(I){return j._allTables[I]})},enumerable:!1,configurable:!0}),Wn.prototype.transaction=function(){var j=(function(I,W,te){var se=arguments.length;if(se<2)throw new de.InvalidArgument("Too few arguments");for(var me=new Array(se-1);--se;)me[se-1]=arguments[se];return te=me.pop(),[I,G(me),te]}).apply(this,arguments);return this._transaction.apply(this,j)},Wn.prototype._transaction=function(j,I,W){var te=this,se=Mt.trans;se&&se.db===this&&j.indexOf("!")===-1||(se=null);var me,Ee,Ie=j.indexOf("?")!==-1;j=j.replace("!","").replace("?","");try{if(Ee=I.map(function(Fe){if(Fe=Fe instanceof te.Table?Fe.name:Fe,typeof Fe!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Fe}),j=="r"||j===Gn)me=Gn;else{if(j!="rw"&&j!=Wi)throw new de.InvalidArgument("Invalid transaction mode: "+j);me=Wi}if(se){if(se.mode===Gn&&me===Wi){if(!Ie)throw new de.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");se=null}se&&Ee.forEach(function(Fe){if(se&&se.storeNames.indexOf(Fe)===-1){if(!Ie)throw new de.SubTransaction("Table "+Fe+" not included in parent transaction.");se=null}}),Ie&&se&&!se.active&&(se=null)}}catch(Fe){return se?se._promise(null,function(et,Me){Me(Fe)}):Xt(Fe)}var ze=(function Fe(et,Me,Ze,Ve,Xe){return Ht.resolve().then(function(){var Je=Mt.transless||Mt,Qe=et._createTransaction(Me,Ze,et._dbSchema,Ve);if(Qe.explicit=!0,Je={trans:Qe,transless:Je},Ve)Qe.idbtrans=Ve.idbtrans;else try{Qe.create(),Qe.idbtrans._explicit=!0,et._state.PR1398_maxLoop=3}catch(Et){return Et.name===Ae.InvalidState&&et.isOpen()&&0<--et._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),et.close({disableAutoOpen:!1}),et.open().then(function(){return Fe(et,Me,Ze,null,Xe)})):Xt(Et)}var st,ht=ne(Xe);return ht&&je(),Je=Ht.follow(function(){var Et;(st=Xe.call(Qe,Qe))&&(ht?(Et=ke.bind(null,null),st.then(Et,Et)):typeof st.next=="function"&&typeof st.throw=="function"&&(st=Yr(st)))},Je),(st&&typeof st.then=="function"?Ht.resolve(st).then(function(Et){return Qe.active?Et:Xt(new de.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Je.then(function(){return st})).then(function(Et){return Ve&&Qe._resolve(),Qe._completion.then(function(){return Et})}).catch(function(Et){return Qe._reject(Et),Xt(Et)})})}).bind(null,this,me,Ee,se,W);return se?se._promise(me,ze,"lock"):Mt.trans?lt(Mt.transless,function(){return te._whenReady(ze)}):this._whenReady(ze)},Wn.prototype.table=function(j){if(!f(this._allTables,j))throw new de.InvalidTable("Table ".concat(j," does not exist"));return this._allTables[j]},Wn);function Wn(j,I){var W=this;this._middlewares={},this.verno=0;var te=Wn.dependencies;this._options=I=n({addons:Wn.addons,autoOpen:!0,indexedDB:te.indexedDB,IDBKeyRange:te.IDBKeyRange,cache:"cloned"},I),this._deps={indexedDB:I.indexedDB,IDBKeyRange:I.IDBKeyRange},te=I.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var se,me,Ee,Ie,ze,Fe={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Re,dbReadyPromise:null,cancelOpen:Re,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:I.autoOpen};Fe.dbReadyPromise=new Ht(function(Me){Fe.dbReadyResolve=Me}),Fe.openCanceller=new Ht(function(Me,Ze){Fe.cancelOpen=Ze}),this._state=Fe,this.name=j,this.on=Yi(this,"populate","blocked","versionchange","close",{ready:[vt,Re]}),this.once=function(Me,Ze){var Ve=function(){for(var Xe=[],Je=0;Je<arguments.length;Je++)Xe[Je]=arguments[Je];W.on(Me).unsubscribe(Ve),Ze.apply(W,Xe)};return W.on(Me,Ve)},this.on.ready.subscribe=N(this.on.ready.subscribe,function(Me){return function(Ze,Ve){Wn.vip(function(){var Xe,Je=W._state;Je.openComplete?(Je.dbOpenError||Ht.resolve().then(Ze),Ve&&Me(Ze)):Je.onReadyBeingFired?(Je.onReadyBeingFired.push(Ze),Ve&&Me(Ze)):(Me(Ze),Xe=W,Ve||Me(function Qe(){Xe.on.ready.unsubscribe(Ze),Xe.on.ready.unsubscribe(Qe)}))})}}),this.Collection=(se=this,gi(nv.prototype,function(st,Qe){this.db=se;var Ve=Cl,Xe=null;if(Qe)try{Ve=Qe()}catch(ht){Xe=ht}var Je=st._ctx,Qe=Je.table,st=Qe.hook.reading.fire;this._ctx={table:Qe,index:Je.index,isPrimKey:!Je.index||Qe.schema.primKey.keyPath&&Je.index===Qe.schema.primKey.name,range:Ve,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Xe,or:Je.or,valueMapper:st!==wt?st:null}})),this.Table=(me=this,gi(el.prototype,function(Me,Ze,Ve){this.db=me,this._tx=Ve,this.name=Me,this.schema=Ze,this.hook=me._allTables[Me]?me._allTables[Me].hook:Yi(null,{creating:[Te,Re],reading:[St,wt],updating:[rr,Re],deleting:[Nt,Re]})})),this.Transaction=(Ee=this,gi(wh.prototype,function(Me,Ze,Ve,Xe,Je){var Qe=this;Me!=="readonly"&&Ze.forEach(function(st){st=(st=Ve[st])===null||st===void 0?void 0:st.yProps,st&&(Ze=Ze.concat(st.map(function(ht){return ht.updatesTable})))}),this.db=Ee,this.mode=Me,this.storeNames=Ze,this.schema=Ve,this.chromeTransactionDurability=Xe,this.idbtrans=null,this.on=Yi(this,"complete","error","abort"),this.parent=Je||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ht(function(st,ht){Qe._resolve=st,Qe._reject=ht}),this._completion.then(function(){Qe.active=!1,Qe.on.complete.fire()},function(st){var ht=Qe.active;return Qe.active=!1,Qe.on.error.fire(st),Qe.parent?Qe.parent._reject(st):ht&&Qe.idbtrans&&Qe.idbtrans.abort(),Xt(st)})})),this.Version=(Ie=this,gi(X0.prototype,function(Me){this.db=Ie,this._cfg={version:Me,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(ze=this,gi(Ur.prototype,function(Me,Ze,Ve){if(this.db=ze,this._ctx={table:Me,index:Ze===":id"?null:Ze,or:Ve},this._cmp=this._ascending=qr,this._descending=function(Xe,Je){return qr(Je,Xe)},this._max=function(Xe,Je){return 0<qr(Xe,Je)?Xe:Je},this._min=function(Xe,Je){return qr(Xe,Je)<0?Xe:Je},this._IDBKeyRange=ze._deps.IDBKeyRange,!this._IDBKeyRange)throw new de.MissingAPI})),this.on("versionchange",function(Me){0<Me.newVersion?console.warn("Another connection wants to upgrade database '".concat(W.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(W.name,"'. Closing db now to resume the delete request.")),W.close({disableAutoOpen:!1})}),this.on("blocked",function(Me){!Me.newVersion||Me.newVersion<Me.oldVersion?console.warn("Dexie.delete('".concat(W.name,"') was blocked")):console.warn("Upgrade '".concat(W.name,"' blocked by other connection holding version ").concat(Me.oldVersion/10))}),this._maxKey=Dl(I.IDBKeyRange),this._createTransaction=function(Me,Ze,Ve,Xe){return new W.Transaction(Me,Ze,Ve,W._options.chromeTransactionDurability,Xe)},this._fireOnBlocked=function(Me){W.on("blocked").fire(Me),bn.filter(function(Ze){return Ze.name===W.name&&Ze!==W&&!Ze._state.vcFired}).map(function(Ze){return Ze.on("versionchange").fire(Me)})},this.use(Li),this.use(Ou),this.use(Vc),this.use(Tn),this.use(ii);var et=new Proxy(this,{get:function(Me,Ze,Ve){if(Ze==="_vip")return!0;if(Ze==="table")return function(Je){return si(W.table(Je),et)};var Xe=Reflect.get(Me,Ze,Ve);return Xe instanceof el?si(Xe,et):Ze==="tables"?Xe.map(function(Je){return si(Je,et)}):Ze==="_createTransaction"?function(){return si(Xe.apply(this,arguments),et)}:Xe}});this.vip=et,te.forEach(function(Me){return Me(W)})}var mc,gs=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",eo=(Rf.prototype.subscribe=function(j,I,W){return this._subscribe(j&&typeof j!="function"?j:{next:j,error:I,complete:W})},Rf.prototype[gs]=function(){return this},Rf);function Rf(j){this._subscribe=j}try{mc={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{mc={indexedDB:null,IDBKeyRange:null}}function If(j){var I,W=!1,te=new eo(function(se){var me=ne(j),Ee,Ie=!1,ze={},Fe={},et={get closed(){return Ie},unsubscribe:function(){Ie||(Ie=!0,Ee&&Ee.abort(),Me&&ai.storagemutated.unsubscribe(Ve))}};se.start&&se.start(et);var Me=!1,Ze=function(){return ar(Xe)},Ve=function(Je){z(ze,Je),he(Fe,ze)&&Ze()},Xe=function(){var Je,Qe,st;!Ie&&mc.indexedDB&&(ze={},Je={},Ee&&Ee.abort(),Ee=new AbortController,st=(function(ht){var Et=Ri();try{me&&je();var Rt=_e(j,ht);return Rt=me?Rt.finally(ke):Rt}finally{Et&&ni()}})(Qe={subscr:Je,signal:Ee.signal,requery:Ze,querier:j,trans:null}),Promise.resolve(st).then(function(ht){W=!0,I=ht,Ie||Qe.signal.aborted||(ze={},(function(Et){for(var Rt in Et)if(f(Et,Rt))return;return 1})(Fe=Je)||Me||(ai(Tu,Ve),Me=!0),ar(function(){return!Ie&&se.next&&se.next(ht)}))},function(ht){W=!1,["DatabaseClosedError","AbortError"].includes(ht==null?void 0:ht.name)||Ie||ar(function(){Ie||se.error&&se.error(ht)})}))};return setTimeout(Ze,0),et});return te.hasValue=function(){return W},te.getValue=function(){return I},te}var Hc=Qs;function Co(j){var I=xc;try{xc=!0,ai.storagemutated.fire(j),Wt(j,!0)}finally{xc=I}}m(Hc,n(n({},Ge),{delete:function(j){return new Hc(j,{addons:[]}).delete()},exists:function(j){return new Hc(j,{addons:[]}).open().then(function(I){return I.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(j){try{return I=Hc.dependencies,W=I.indexedDB,I=I.IDBKeyRange,(Cu(W)?Promise.resolve(W.databases()).then(function(te){return te.map(function(se){return se.name}).filter(function(se){return se!==Rn})}):Df(W,I).toCollection().primaryKeys()).then(j)}catch{return Xt(new de.MissingAPI)}var I,W},defineClass:function(){return function(j){l(this,j)}},ignoreTransaction:function(j){return Mt.trans?lt(Mt.transless,j):j()},vip:Nh,async:function(j){return function(){try{var I=Yr(j.apply(this,arguments));return I&&typeof I.then=="function"?I:Ht.resolve(I)}catch(W){return Xt(W)}}},spawn:function(j,I,W){try{var te=Yr(j.apply(W,I||[]));return te&&typeof te.then=="function"?te:Ht.resolve(te)}catch(se){return Xt(se)}},currentTransaction:{get:function(){return Mt.trans||null}},waitFor:function(j,I){return I=Ht.resolve(typeof j=="function"?Hc.ignoreTransaction(j):j).timeout(I||6e4),Mt.trans?Mt.trans.waitFor(I):I},Promise:Ht,debug:{get:function(){return Dt},set:function(j){yt(j)}},derive:y,extend:l,props:m,override:N,Events:Yi,on:ai,liveQuery:If,extendObservabilitySet:z,getByKeyPath:R,setByKeyPath:O,delByKeyPath:function(j,I){typeof I=="string"?O(j,I,void 0):"length"in I&&[].map.call(I,function(W){O(j,W,void 0)})},shallowClone:U,deepClone:re,getObjectDiff:la,cmp:qr,asap:k,minKey:-1/0,addons:[],connections:bn,errnames:Ae,dependencies:mc,cache:Oe,semVer:"4.2.1",version:"4.2.1".split(".").map(function(j){return parseInt(j)}).reduce(function(j,I,W){return j+I/Math.pow(10,2*W)})})),Hc.maxKey=Dl(Hc.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ai(Tu,function(j){xc||(j=new CustomEvent(Bc,{detail:j}),xc=!0,dispatchEvent(j),xc=!1)}),addEventListener(Bc,function(j){j=j.detail,xc||Co(j)}));var gc,xc=!1,xs=function(){};return typeof BroadcastChannel<"u"&&((xs=function(){(gc=new BroadcastChannel(Bc)).onmessage=function(j){return j.data&&Co(j.data)}})(),typeof gc.unref=="function"&&gc.unref(),ai(Tu,function(j){xc||gc.postMessage(j)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(j){if(!Qs.disableBfCache&&j.persisted){Dt&&console.debug("Dexie: handling persisted pagehide"),gc!=null&&gc.close();for(var I=0,W=bn;I<W.length;I++)W[I].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(j){!Qs.disableBfCache&&j.persisted&&(Dt&&console.debug("Dexie: handling persisted pageshow"),xs(),Co({all:new Ii(-1/0,[[]])}))})),Ht.rejectionMapper=function(j,I){return!j||j instanceof V||j instanceof TypeError||j instanceof SyntaxError||!j.name||!Le[j.name]?j:(I=new Le[j.name](I||j.message,j),"stack"in j&&b(I,"stack",{get:function(){return this.inner.stack}}),I)},yt(Dt),n(Qs,Object.freeze({__proto__:null,Dexie:Qs,liveQuery:If,Entity:oc,cmp:qr,PropModification:Eu,replacePrefix:function(j,I){return new Eu({replacePrefix:[j,I]})},add:function(j){return new Eu({add:j})},remove:function(j){return new Eu({remove:j})},default:Qs,RangeSet:Ii,mergeRanges:Ll,rangesOverlap:Ed}),{default:Qs}),Qs})})(q3)),q3.exports}var Kve=Wve();const YL=ph(Kve),IV=Symbol.for("Dexie"),Tj=globalThis[IV]||(globalThis[IV]=YL);if(YL.semVer!==Tj.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${YL.semVer} and ${Tj.semVer}`);const{liveQuery:ZVe,mergeRanges:QVe,rangesOverlap:eHe,RangeSet:tHe,cmp:rHe,Entity:nHe,PropModification:aHe,replacePrefix:iHe,add:sHe,remove:oHe,DexieYProvider:lHe}=Tj;class Yve extends Tj{constructor(){super("KwikDocsOfflineDB"),this.version(1).stores({documents:"++id, tempId, status, companyId, uploadDate"})}}const Xve=new Yve,ite=C.createContext(void 0),Jve=({children:t})=>{const{user:e,isAuthenticated:r,refreshUser:n}=uh(),[a,i]=C.useState([]),[s,o]=C.useState([]),[l,u]=C.useState(null),[h,f]=C.useState(!1),[m,g]=C.useState([]),[b,y]=C.useState([]),[w,A]=C.useState(0);C.useRef(0);const[S,N]=C.useState([]),[T,k]=C.useState(!1),[R,O]=C.useState(!1),[U,H]=C.useState(null),[G,F]=C.useState(!1),[L,re]=C.useState(!1),[Z,pe]=C.useState(null);C.useEffect(()=>{if(G){const yt=setTimeout(()=>F(!1),5e3);return()=>clearTimeout(yt)}},[G]);const[Q,X]=C.useState(hj),[oe,ce]=C.useState(GL),[Ne,ne]=C.useState(Ej),[B,V]=C.useState(WL),[Y,K]=C.useState(KL),le=C.useRef([]);C.useEffect(()=>{le.current=S},[S]);const Ae=C.useRef(null),De=C.useCallback(()=>{Ae.current&&(Ae.current.pause(),Ae.current.currentTime=0,Ae.current.loop=!1)},[]),de=C.useCallback(()=>{De(),O(!1),F(!1),N(yt=>yt.map(qt=>({...qt,read:!0})))},[De]);C.useEffect(()=>{const yt=localStorage.getItem("KWIKDOCS_AUDITOR_PROMPT");yt&&X(yt);const qt=localStorage.getItem("KWIKDOCS_STRATEGIST_PROMPT");qt&&ce(qt);const We=localStorage.getItem("KWIKDOCS_RAG_PROMPT");We&&ne(We);const Jt=localStorage.getItem("KWIKDOCS_ANALYZER_PROMPT");Jt&&V(Jt);const ir=localStorage.getItem("KWIKDOCS_VISION_PROMPT");ir&&K(ir)},[]),C.useEffect(()=>{if(e&&(e.auditor_prompt&&X(e.auditor_prompt),e.strategist_prompt&&ce(e.strategist_prompt),e.rag_prompt&&ne(e.rag_prompt),e.analyzer_prompt&&V(e.analyzer_prompt),e.vision_prompt&&K(e.vision_prompt),e.agent_prompts&&!e.auditor_prompt)){const yt=e.agent_prompts;yt.AUDITOR&&X(yt.AUDITOR),yt.STRATEGIST&&ce(yt.STRATEGIST),yt.RAG&&ne(yt.RAG),yt.ANALYZER&&V(yt.ANALYZER),yt.VISION&&K(yt.VISION)}},[e]);const Le=C.useRef(null);C.useEffect(()=>{Le.current=l},[l]);const Ge=C.useCallback(async(yt=!1)=>{yt||f(!0),console.log(`[DATA CONTEXT] refreshData triggered (silent=${yt})`);try{const qt=await O0.getAllClients();o(qt);let We=Le.current;if(qt.length>0)if(We){if(We!=="ALL"){const Vt=qt.find(Ue=>Ue.id===We.id);Vt&&((Vt.credits!==We.credits||Vt.name!==We.name||Vt.isVerified!==We.isVerified)&&(console.log("[DATA CONTEXT] Company data changed, syncing state..."),u(Vt)),We=Vt)}}else{console.log("[DATA CONTEXT] No company selected, picking initial...");const Vt=e==null?void 0:e.companyId;We=qt.find(Ue=>Ue.id===Vt)||qt[0],u(We)}const Jt=We==="ALL"||!We?"ALL":We.id,ir=await m_.getDocuments(Jt);i(ir),y(Vt=>Vt.length===0?Vt:Vt.map(Ue=>{const ur=ir.find(xt=>xt.id===Ue.id);return ur?{...Ue,...ur}:Ue}))}catch(qt){console.error("Failed to refresh data",qt)}finally{yt||f(!1)}},[e]);C.useEffect(()=>{r?(console.log("[DATA CONTEXT] Initial Load triggered by Auth"),Ge()):(i([]),o([]),u(null))},[r]);const Re=C.useRef(null);C.useEffect(()=>{if(!r||!l)return;const yt=l==="ALL"?"ALL":l.id;yt!==Re.current&&(console.log(`[DATA CONTEXT] Auto-refresh triggered by Company Change: ${yt}`),Re.current=yt,Ge(!0))},[l,r]);const wt=yt=>{if(yt==="ALL")u("ALL");else{const qt=s.find(We=>We.id===yt);qt&&u(qt)}},St=C.useCallback(async yt=>{if(!e)return;if(De(),pe(null),A(0),console.log("DEBUG [uploadFiles]: Starting upload process"),!s||s.length===0)throw new Error("Nenhuma empresa cadastrada no banco de dados. Por favor, crie uma empresa antes de fazer upload.");let qt;const We=(e.role||"").toUpperCase();if(We==="COLLABORATOR"||We==="OPERATOR"?qt=e.companyId||e.company_id:l&&l!=="ALL"?qt=l.id:s&&s.length>0&&(qt=s[0].id),!qt)throw new Error("Nenhuma empresa ativa selecionada para upload. Por favor, selecione uma empresa no menu superior.");const Jt=s.find(Vt=>Vt.id===qt);if(Jt){if(Jt.status!=="ACTIVE"&&Jt.status!=="VALIDATE")throw N(Vt=>[{id:crypto.randomUUID(),title:"Empresa Inativa",message:`A empresa ${Jt.name} est ${Jt.status==="SUSPENDED"?"Suspensa":"Pendente"}. Operao bloqueada.`,type:"error",timestamp:new Date,read:!1},...Vt]),new Error("Empresa inativa ou suspensa. Contacte o suporte ou altere o status.");if(!Jt.isVerified)throw N(Vt=>[{id:crypto.randomUUID(),title:"Empresa No Verificada",message:`A empresa ${Jt.name} ainda no foi verificada na AGT. Por favor, valide o NIF.`,type:"error",timestamp:new Date,read:!1},...Vt]),new Error("Empresa no verificada. Por favor, realize a validao do NIF antes de continuar.");if(Jt.credits<=0){try{const Vt=new Audio("https://assets.mixkit.co/active_storage/sfx/2870/2870-preview.mp3");Vt.volume=.5,Vt.play().catch(()=>{})}catch{}throw N(Vt=>[{id:crypto.randomUUID(),title:"Crditos Esgotados",message:"Impossvel analisar documentos. Por favor, recarregue sua conta.",type:"error",timestamp:new Date,read:!1},...Vt]),new Error("Crditos insuficientes para realizar anlise. Recarregue sua conta.")}Jt.credits<=10&&N(Vt=>[{id:crypto.randomUUID(),title:"Saldo de Crditos Baixo",message:`Ateno: Voc tem apenas ${Jt.credits} crditos restantes. Considere recarregar.`,type:"info",timestamp:new Date,read:!1},...Vt])}if(Ae.current||(Ae.current=new Audio("https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3")),!navigator.onLine){console.log("DEBUG [uploadFiles]: Offline mode detected. Saving to Dexie.");const Vt=[];for(const Ue of yt){const ur=crypto.randomUUID();await Xve.documents.add({tempId:ur,file:Ue,fileName:Ue.name,fileType:Ue.type,uploadDate:new Date,status:"PENDING",companyId:qt,uploadedBy:e.id,retryCount:0}),Vt.push({id:ur,fileName:Ue.name,fileUrl:"",status:or.PROCESSING,type:ny.INVOICE,uploadDate:new Date,companyId:qt,uploadedBy:e.id,data:{},rawData:{},metadata:{isOffline:!0}})}y(Ue=>[...Vt,...Ue]),N(Ue=>[{id:crypto.randomUUID(),title:"Modo Offline",message:"Documentos guardados localmente. A sincronizao iniciar automaticamente quando a conexo retornar.",type:"info",timestamp:new Date,read:!1},...Ue]);return}const ir=yt.map(Vt=>({id:crypto.randomUUID(),fileName:Vt.name,fileUrl:"",status:or.PROCESSING,type:ny.INVOICE,uploadDate:new Date,companyId:qt,uploadedBy:e.id,data:{},rawData:{}}));y(ir),A(15),F(!1);try{console.log("DEBUG [uploadFiles]: Starting SEQUENTIAL upload/process...");const{localDocs:Vt}=await m_.uploadAndProcessDocuments(yt,qt,e.id,Q);y(Vt),A(100),await Ge(!0);const Ue=Vt.filter(br=>[or.COMPLETED,or.APROVADO,or.REJEITADO,or.APROVADO_USUARIO].includes(br.status)),ur=Vt.filter(br=>br.status===or.ERROR),xt=Ue.length,bt=ur.length;H({success:xt,error:bt,total:Vt.length,docs:Vt}),xt>0||bt>0?(F(!0),Ae.current&&(Ae.current.pause(),Ae.current.currentTime=0,Ae.current.loop=!0,Ae.current.play().catch(br=>console.error("Sound play blocked:",br))),N(br=>[{id:crypto.randomUUID(),title:"Processamento Concludo",message:`${xt} documentos sincronizados com sucesso.`,type:bt>0?"warning":"success",timestamp:new Date,read:!1},...br])):(console.warn("DEBUG [uploadFiles]: No documents reached terminal state."),F(!1)),console.log("DEBUG [uploadFiles]: SEQUENTIAL SYNC ATTEMPT FINISHED")}catch(Vt){console.error("DEBUG [uploadFiles]: Error during sequential process:",Vt),A(0),F(!1),y(Ue=>Ue.map(ur=>({...ur,status:or.ERROR}))),N(Ue=>[{id:crypto.randomUUID(),title:"Erro de Sincronizao",message:Vt.message||"Falha crtica ao falar com o n8n.",type:"error",timestamp:new Date,read:!1},...Ue])}},[e,s,l,Q,Ge,De]),rt=async(yt,qt,We,Jt)=>{try{await m_.resolveDocumentError(yt,qt,We,Jt),await Ge(!0)}catch(ir){throw console.error("Error resolving document:",ir),ir}},Te=()=>{y([]),A(0)},Nt=yt=>{N(yt?qt=>qt.map(We=>We.id===yt?{...We,read:!0}:We):qt=>qt.map(We=>({...We,read:!0})))},rr=yt=>{N(qt=>qt.filter(We=>We.id!==yt))},Ot=()=>{O(!1)},vt=l==="ALL",Dt=b.length>0&&b.some(yt=>yt.status===or.PROCESSING);return c.jsx("div",{className:"flex-1 w-full h-full",children:c.jsx(ite.Provider,{value:{documents:a,clients:s,selectedCompany:l,isLoadingData:h,refreshData:Ge,selectCompany:wt,uploadFiles:St,resolveError:rt,isAccountingMode:vt,uploadQueue:b,clearUploadQueue:Te,lastBatchIds:m,notifications:S,markNotificationRead:Nt,deleteNotification:rr,processingProgress:w,showGlobalCompletionModal:!1,isBatchComplete:G,completionStats:U,closeGlobalCompletionModal:Ot,isFullscreenMode:T,setFullscreenMode:k,auditorPrompt:Q,updateAuditorPrompt:X,strategistPrompt:oe,updateStrategistPrompt:ce,ragPrompt:Ne,updateRagPrompt:ne,analyzerPrompt:B,updateAnalyzerPrompt:V,visionPrompt:Y,updateVisionPrompt:K,stopNotificationSound:De,clearCompletionStats:()=>H(null),isTopupWizardOpen:L,setIsTopupWizardOpen:re,selectedDocument:Z,setSelectedDocument:pe,isProcessing:Dt,clearCompletionStates:de},children:t})})},_o=()=>{const t=C.useContext(ite);if(t===void 0)throw new Error("useData must be used within a DataProvider");return t},Zve="/logo.png",Bx=({className:t="w-10 h-10",iconClassName:e="w-6 h-6"})=>c.jsx("div",{className:`${t} flex items-center justify-center overflow-hidden relative`,children:c.jsx("img",{src:Zve,alt:"KwikDocs AI Logo",className:"w-full h-full object-contain"})}),Qve=({currentView:t,onChangeView:e})=>{const{user:r,logout:n}=uh(),{lastBatchIds:a,notifications:i,markNotificationRead:s,deleteNotification:o,selectedCompany:l,uploadQueue:u,refreshData:h,setIsTopupWizardOpen:f,setSelectedDocument:m}=_o(),[g,b]=C.useState(!1),[y,w]=C.useState(!1),[A,S]=C.useState(!1),N=async L=>{L.stopPropagation(),S(!0);try{await h()}finally{setTimeout(()=>S(!1),1e3)}},T=i.filter(L=>!L.read).length,k=L=>t===L||t==="ANALYSIS_RESULTS"&&L==="UPLOAD",R=L=>`
        flex items-center w-full ${g?"justify-center px-2":"px-5"} py-3.5 mb-2 text-sm font-medium transition-all rounded-2xl group relative
        ${k(L)?"bg-[#151515] text-white shadow-[0_0_20px_rgba(20,184,166,0.1)]":"text-slate-500 hover:text-slate-200 hover:bg-[#111]"}
    `;(r==null?void 0:r.role)==="OPERATOR"||(r==null||r.role);const O=(r==null?void 0:r.role)==="COLLABORATOR",U=[{id:"OVERVIEW",label:"Viso Geral",icon:SJ},{id:"NIFS",label:"Entidades (NIF)",icon:Wa},{id:"CLIENTS",label:"Empresas",icon:yy,adminOnly:!0},{id:"AI_ASSISTANT",label:"Assistente IA",icon:gE},{id:"UPLOAD",label:"Analisar",icon:mE},{id:"DOCUMENTS",label:"Documentos",icon:Yo},{id:"REPORTS",label:"Relatrios",icon:z8},{id:"FISCAL_ERRORS",label:"Erros Fiscais",icon:wo},{id:"COMPLIANCE",label:"Conformidade AGT",icon:ki,hasBadge:!0},{id:"CREDITS",label:"Crditos",icon:Nm,adminOnly:!0},{id:"SETTINGS",label:"Configuraes",icon:xy,adminOnly:!0},{id:"SAAS_ADMIN",label:"Backoffice",icon:ki,superAdminOnly:!0}].filter(L=>L.superAdminOnly?(r==null?void 0:r.role)==="SUPER_ADMIN":(r==null?void 0:r.role)==="COLLABORATOR"?["OVERVIEW","UPLOAD"].includes(L.id):(r==null?void 0:r.role)==="ACCOUNTANT"?!0:(r==null?void 0:r.role)==="OPERATOR"?!L.adminOnly:!0),H=L=>{L.stopPropagation(),w(!y)},G=L=>{s(L.id),L.actionType==="VIEW_BATCH"&&(e("ANALYSIS_RESULTS"),w(!1))},F=l!=="ALL"?l:null;return c.jsxs("div",{className:`flex flex-col h-full ${g?"w-24":"w-72"} bg-[#050505] border-r border-white/[0.03] relative transition-all duration-300 ease-in-out`,children:[c.jsxs("div",{className:`flex items-center ${g?"justify-center":"justify-between px-6"} h-28 transition-all relative overflow-hidden`,children:[c.jsx(Bx,{className:`${g?"w-12 h-12":"w-48 h-16"} transition-all duration-300`,iconClassName:"w-full h-full"}),!g&&c.jsx("button",{onClick:()=>e(t),className:"lg:hidden p-2 text-slate-500 hover:text-white transition-colors",title:"Fechar Menu",children:c.jsx(Hs,{className:"w-6 h-6"})})]}),c.jsx("button",{onClick:()=>b(!g),className:"absolute -right-3 top-10 bg-[#151515] border border-white/10 text-slate-400 hover:text-white rounded-full p-1.5 shadow-xl z-50 transition-colors",children:g?c.jsx(Nx,{className:"w-3 h-3"}):c.jsx(t5,{className:"w-3 h-3"})}),c.jsxs("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto custom-scrollbar overflow-x-hidden",children:[!g&&c.jsxs("div",{className:"px-5 mb-4 mt-2 text-[10px] font-bold text-slate-600 uppercase tracking-widest flex items-center justify-between",children:[c.jsx("span",{children:"Hub Central"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:N,className:`p-1.5 rounded-lg text-slate-500 hover:text-white hover:bg-white/5 transition-all ${A?"text-teal-400":""}`,title:"Sincronizar Dados",children:c.jsx(_m,{className:`w-4 h-4 ${A?"animate-spin":"active:rotate-180 transition-transform duration-500"}`})}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:H,className:`relative p-1.5 rounded-lg transition-colors ${y?"bg-white/10 text-white":"text-slate-500 hover:text-white hover:bg-white/5"}`,children:[c.jsx(U8,{className:"w-4 h-4"}),T>0&&c.jsx("span",{className:"absolute top-0.5 right-0.5 w-2 h-2 bg-red-500 rounded-full shadow-[0_0_5px_#ef4444] animate-pulse"})]}),y&&c.jsxs("div",{className:"fixed left-[80px] top-20 w-80 bg-[#0c0c0c] border border-white/10 rounded-2xl shadow-2xl z-[9999] animate-in slide-in-from-left-4 fade-in overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-white/5 flex justify-between items-center bg-[#111]",children:[c.jsx("h3",{className:"text-xs font-bold text-white uppercase tracking-wider",children:"Notificaes"}),T>0&&c.jsx("button",{onClick:()=>s(),className:"text-[10px] text-cyan-400 hover:text-white transition-colors",children:"Marcar lidas"})]}),c.jsx("div",{className:"max-h-[300px] overflow-y-auto custom-scrollbar",children:i.length===0?c.jsxs("div",{className:"p-8 text-center text-slate-500",children:[c.jsx(AJ,{className:"w-8 h-8 mx-auto mb-2 opacity-30"}),c.jsx("p",{className:"text-xs",children:"Sem notificaes recentes."})]}):i.map(L=>c.jsxs("div",{className:`p-4 border-b border-white/5 transition-colors relative group ${L.read?"bg-[#0c0c0c] opacity-70 hover:opacity-100":"bg-white/[0.03] hover:bg-white/[0.05]"}`,children:[!L.read&&c.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-cyan-500"}),c.jsx("button",{onClick:()=>o(L.id),className:"absolute top-2 right-2 p-1 text-slate-600 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(Hs,{className:"w-3 h-3"})}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:`mt-1 w-2 h-2 rounded-full flex-shrink-0 ${L.type==="error"?"bg-red-500":"bg-emerald-500"}`}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("h4",{className:"text-xs font-bold text-white mb-1 pr-4",children:L.title}),c.jsx("span",{className:"text-[9px] text-slate-600 font-mono",children:L.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),c.jsx("p",{className:"text-[11px] text-slate-400 leading-snug",children:L.message}),L.actionType==="VIEW_BATCH"&&c.jsxs("button",{onClick:()=>G(L),className:"mt-3 w-full py-2 bg-cyan-500 hover:bg-cyan-400 text-black text-[10px] font-bold uppercase tracking-wide rounded-lg flex items-center justify-center gap-2 transition-colors shadow-lg shadow-cyan-500/20 group-hover:scale-[1.02]",children:[c.jsx(my,{className:"w-3 h-3"})," Ver Resultados"]})]})]})]},L.id))})]})]})]})]}),U.map(L=>{const re=L.id==="UPLOAD",Z=u.filter(oe=>oe.status===or.PROCESSING).length,pe=u.filter(oe=>oe.status===or.COMPLETED||oe.status===or.ERROR||oe.status===or.REJEITADO||oe.status===or.APROVADO||oe.status===or.PENDING_REVIEW).length,Q=Z>0,X=!Q&&pe>0;return c.jsxs("button",{onClick:()=>e(L.id),className:R(L.id),title:g?L.label:void 0,children:[k(L.id)&&c.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-teal-500 rounded-r-full shadow-[0_0_10px_#14b8a6]"}),c.jsxs("div",{className:"relative",children:[c.jsx(L.icon,{className:`w-5 h-5 flex-shrink-0 transition-colors ${k(L.id)?"text-teal-400":"text-slate-600 group-hover:text-slate-300"} ${g?"":"mr-3"}`}),re&&Q&&c.jsx("span",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 bg-cyan-500 rounded-full border-2 border-[#050505] animate-pulse shadow-[0_0_8px_rgba(6,182,212,0.5)]"}),re&&X&&c.jsx("span",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 bg-emerald-500 rounded-full border-2 border-[#050505] shadow-[0_0_8px_rgba(16,185,129,0.5)]"})]}),!g&&c.jsx("span",{className:"truncate",children:L.label}),!g&&L.hasBadge&&c.jsx("span",{className:"ml-auto text-[8px] bg-emerald-500/20 text-emerald-400 px-1.5 py-0.5 rounded font-black tracking-tighter uppercase",children:"Novo"}),!g&&re&&Q&&c.jsx("span",{className:"ml-auto text-[9px] font-bold text-cyan-400 animate-pulse bg-cyan-500/10 px-2 py-0.5 rounded-full",children:"Processando"}),!g&&re&&X&&c.jsx("span",{className:"ml-auto text-[9px] font-bold text-emerald-400 bg-emerald-500/10 px-2 py-0.5 rounded-full",children:"Concludo"})]},L.id)})]}),c.jsxs("div",{className:"p-4 border-t border-white/[0.03] bg-[#050505] flex flex-col gap-4",children:[!g&&F&&!O&&c.jsxs("div",{className:"bg-gradient-to-br from-teal-500/10 to-cyan-900/20 rounded-xl p-4 border border-teal-500/20 shadow-inner",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("span",{className:"text-[10px] font-bold text-teal-400 uppercase tracking-wider flex items-center gap-1.5",children:[c.jsx(Wa,{className:"w-3 h-3"})," Empresa"]}),c.jsx("button",{onClick:()=>e("CREDITS"),className:"text-[9px] bg-black/40 text-slate-300 px-2 py-0.5 rounded hover:text-white transition-colors",children:"Recarregar"})]}),c.jsxs("div",{className:"flex items-baseline gap-1",children:[c.jsx("span",{className:"text-2xl font-black text-white",children:F.credits}),c.jsx("span",{className:"text-[10px] font-medium text-slate-500",children:"crditos disp."})]})]}),!g&&r&&c.jsxs("div",{className:"bg-gradient-to-br from-purple-500/10 to-indigo-900/20 rounded-xl p-4 border border-purple-500/20 shadow-inner",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("span",{className:"text-[10px] font-bold text-purple-400 uppercase tracking-wider flex items-center gap-1.5",children:[c.jsx(ia,{className:"w-3 h-3 fill-current"})," Carteira Pessoal"]}),!O&&c.jsx("button",{onClick:()=>{e("CREDITS"),f(!0)},className:"text-[9px] bg-black/40 text-slate-300 px-2 py-0.5 rounded hover:text-white transition-colors",children:"Recarregar"})]}),c.jsxs("div",{className:"flex items-baseline gap-1",children:[c.jsx("span",{className:"text-2xl font-black text-white",children:r.credits||0}),c.jsx("span",{className:"text-[10px] font-medium text-slate-500",children:"crditos seus"})]})]}),c.jsxs("div",{className:`flex items-center ${g?"justify-center":"gap-4"} group cursor-pointer`,children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#151515] border border-white/5 flex items-center justify-center text-white font-bold text-sm overflow-hidden flex-shrink-0 group-hover:border-teal-500/30 transition-colors",children:r!=null&&r.avatarUrl?c.jsx("img",{src:r.avatarUrl,alt:r.name,className:"w-full h-full object-cover"}):r==null?void 0:r.name.substring(0,2).toUpperCase()}),!g&&c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("p",{className:"text-sm font-bold text-white truncate",children:(r==null?void 0:r.name)||"Utilizador"}),F&&(F.isVerified?c.jsx(ki,{className:"w-3.5 h-3.5 text-cyan-400 drop-shadow-[0_0_5px_rgba(34,211,238,0.5)] flex-shrink-0"}):c.jsx(Ys,{className:"w-3.5 h-3.5 text-red-500 flex-shrink-0"}))]}),c.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-teal-500 shadow-[0_0_5px_#14b8a6]"}),c.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-bold",children:"Conectado"})]})]}),!g&&c.jsx("button",{onClick:n,title:"Sair",className:"p-2 hover:bg-white/5 rounded-lg text-slate-600 hover:text-white transition-colors",children:c.jsx(pE,{className:"w-4 h-4"})})]})]})]})};function ste(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=ste(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function sa(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=ste(t))&&(n&&(n+=" "),n+=e);return n}var e1e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function VF(t){if(typeof t!="string")return!1;var e=e1e;return e.includes(t)}var t1e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],r1e=new Set(t1e);function ote(t){return typeof t!="string"?!1:r1e.has(t)}function lte(t){return typeof t=="string"&&t.startsWith("data-")}function bu(t){if(typeof t!="object"||t===null)return{};var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(ote(r)||lte(r))&&(e[r]=t[r]);return e}function r5(t){if(t==null)return null;if(C.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return bu(e)}return typeof t=="object"&&!Array.isArray(t)?bu(t):null}function ic(t){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(ote(r)||lte(r)||VF(r))&&(e[r]=t[r]);return e}function n1e(t){return t==null?null:C.isValidElement(t)?ic(t.props):typeof t=="object"&&!Array.isArray(t)?ic(t):null}var a1e=["children","width","height","viewBox","className","style","title","desc"];function XL(){return XL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XL.apply(null,arguments)}function i1e(t,e){if(t==null)return{};var r,n,a=s1e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function s1e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var cte=C.forwardRef((t,e)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:o,title:l,desc:u}=t,h=i1e(t,a1e),f=i||{width:n,height:a,x:0,y:0},m=sa("recharts-surface",s);return C.createElement("svg",XL({},ic(h),{className:m,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),C.createElement("title",null,l),C.createElement("desc",null,u),r)}),o1e=["children","className"];function JL(){return JL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JL.apply(null,arguments)}function l1e(t,e){if(t==null)return{};var r,n,a=c1e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function c1e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Xo=C.forwardRef((t,e)=>{var{children:r,className:n}=t,a=l1e(t,o1e),i=sa("recharts-layer",n);return C.createElement("g",JL({className:i},ic(a),{ref:e}),r)}),u1e=C.createContext(null);function ei(t){return function(){return t}}const ute=Math.cos,jj=Math.sin,Af=Math.sqrt,Cj=Math.PI,Fk=2*Cj,ZL=Math.PI,QL=2*ZL,Av=1e-6,d1e=QL-Av;function dte(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function h1e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return dte;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class f1e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?dte:h1e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,s){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-e,u=a-r,h=s-e,f=o-r,m=h*h+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>Av)if(!(Math.abs(f*l-u*h)>Av)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-s,b=a-o,y=l*l+u*u,w=g*g+b*b,A=Math.sqrt(y),S=Math.sqrt(m),N=i*Math.tan((ZL-Math.acos((y+m-w)/(2*A*S)))/2),T=N/S,k=N/A;Math.abs(T-1)>Av&&this._append`L${e+T*h},${r+T*f}`,this._append`A${i},${i},0,0,${+(f*g>h*b)},${this._x1=e+k*l},${this._y1=r+k*u}`}}arc(e,r,n,a,i,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),u=e+o,h=r+l,f=1^s,m=s?a-i:i-a;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>Av||Math.abs(this._y1-h)>Av)&&this._append`L${u},${h}`,n&&(m<0&&(m=m%QL+QL),m>d1e?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=h}`:m>Av&&this._append`A${n},${n},0,${+(m>=ZL)},${f},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function HF(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new f1e(e)}function qF(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hte(t){this._context=t}hte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Bk(t){return new hte(t)}function fte(t){return t[0]}function pte(t){return t[1]}function mte(t,e){var r=ei(!0),n=null,a=Bk,i=null,s=HF(o);t=typeof t=="function"?t:t===void 0?fte:ei(t),e=typeof e=="function"?e:e===void 0?pte:ei(e);function o(l){var u,h=(l=qF(l)).length,f,m=!1,g;for(n==null&&(i=a(g=s())),u=0;u<=h;++u)!(u<h&&r(f=l[u],u,l))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+t(f,u,l),+e(f,u,l));if(g)return i=null,g+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:ei(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:ei(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:ei(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function bT(t,e,r){var n=null,a=ei(!0),i=null,s=Bk,o=null,l=HF(u);t=typeof t=="function"?t:t===void 0?fte:ei(+t),e=typeof e=="function"?e:ei(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?pte:ei(+r);function u(f){var m,g,b,y=(f=qF(f)).length,w,A=!1,S,N=new Array(y),T=new Array(y);for(i==null&&(o=s(S=l())),m=0;m<=y;++m){if(!(m<y&&a(w=f[m],m,f))===A)if(A=!A)g=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=m-1;b>=g;--b)o.point(N[b],T[b]);o.lineEnd(),o.areaEnd()}A&&(N[m]=+t(w,m,f),T[m]=+e(w,m,f),o.point(n?+n(w,m,f):N[m],r?+r(w,m,f):T[m]))}if(S)return o=null,S+""||null}function h(){return mte().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ei(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ei(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ei(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ei(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ei(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ei(+f),u):r},u.lineX0=u.lineY0=function(){return h().x(t).y(e)},u.lineY1=function(){return h().x(t).y(r)},u.lineX1=function(){return h().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:ei(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),u):i},u}class gte{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function p1e(t){return new gte(t,!0)}function m1e(t){return new gte(t,!1)}const GF={draw(t,e){const r=Af(e/Cj);t.moveTo(r,0),t.arc(0,0,r,0,Fk)}},g1e={draw(t,e){const r=Af(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},xte=Af(1/3),x1e=xte*2,v1e={draw(t,e){const r=Af(e/x1e),n=r*xte;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},y1e={draw(t,e){const r=Af(e),n=-r/2;t.rect(n,n,r,r)}},b1e=.8908130915292852,vte=jj(Cj/10)/jj(7*Cj/10),w1e=jj(Fk/10)*vte,A1e=-ute(Fk/10)*vte,_1e={draw(t,e){const r=Af(e*b1e),n=w1e*r,a=A1e*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const s=Fk*i/5,o=ute(s),l=jj(s);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*a,l*n+o*a)}t.closePath()}},I6=Af(3),S1e={draw(t,e){const r=-Af(e/(I6*3));t.moveTo(0,r*2),t.lineTo(-I6*r,-r),t.lineTo(I6*r,-r),t.closePath()}},Ud=-.5,zd=Af(3)/2,eM=1/Af(12),N1e=(eM/2+1)*3,E1e={draw(t,e){const r=Af(e/N1e),n=r/2,a=r*eM,i=n,s=r*eM+r,o=-i,l=s;t.moveTo(n,a),t.lineTo(i,s),t.lineTo(o,l),t.lineTo(Ud*n-zd*a,zd*n+Ud*a),t.lineTo(Ud*i-zd*s,zd*i+Ud*s),t.lineTo(Ud*o-zd*l,zd*o+Ud*l),t.lineTo(Ud*n+zd*a,Ud*a-zd*n),t.lineTo(Ud*i+zd*s,Ud*s-zd*i),t.lineTo(Ud*o+zd*l,Ud*l-zd*o),t.closePath()}};function T1e(t,e){let r=null,n=HF(a);t=typeof t=="function"?t:ei(t||GF),e=typeof e=="function"?e:ei(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:ei(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:ei(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function kj(){}function Pj(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function yte(t){this._context=t}yte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Pj(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pj(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function j1e(t){return new yte(t)}function bte(t){this._context=t}bte.prototype={areaStart:kj,areaEnd:kj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Pj(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function C1e(t){return new bte(t)}function wte(t){this._context=t}wte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Pj(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function k1e(t){return new wte(t)}function Ate(t){this._context=t}Ate.prototype={areaStart:kj,areaEnd:kj,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function P1e(t){return new Ate(t)}function LV(t){return t<0?-1:1}function MV(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),s=(r-t._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(LV(i)+LV(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function FV(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function L6(t,e,r){var n=t._x0,a=t._y0,i=t._x1,s=t._y1,o=(i-n)/3;t._context.bezierCurveTo(n+o,a+o*e,i-o,s-o*r,i,s)}function Oj(t){this._context=t}Oj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:L6(this,this._t0,FV(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,L6(this,FV(this,r=MV(this,t,e)),r);break;default:L6(this,this._t0,r=MV(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function _te(t){this._context=new Ste(t)}(_te.prototype=Object.create(Oj.prototype)).point=function(t,e){Oj.prototype.point.call(this,e,t)};function Ste(t){this._context=t}Ste.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function O1e(t){return new Oj(t)}function D1e(t){return new _te(t)}function Nte(t){this._context=t}Nte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=BV(t),a=BV(e),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function BV(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,s[e]-=n*s[e-1];for(a[r-1]=s[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function R1e(t){return new Nte(t)}function Uk(t,e){this._context=t,this._t=e}Uk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function I1e(t){return new Uk(t,.5)}function L1e(t){return new Uk(t,0)}function M1e(t){return new Uk(t,1)}function Sy(t,e){if((s=t.length)>1)for(var r=1,n,a,i=t[e[0]],s,o=i.length;r<s;++r)for(a=i,i=t[e[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function tM(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function F1e(t,e){return t[e]}function B1e(t){const e=[];return e.key=t,e}function U1e(){var t=ei([]),e=tM,r=Sy,n=F1e;function a(i){var s=Array.from(t.apply(this,arguments),B1e),o,l=s.length,u=-1,h;for(const f of i)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(f,s[o].key,u,i)]).data=f;for(o=0,h=qF(e(s));o<l;++o)s[h[o]].index=o;return r(s,h),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:ei(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:ei(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?tM:typeof i=="function"?i:ei(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Sy,a):r},a}function z1e(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=t[r][a][1]||0;if(s)for(r=0;r<n;++r)t[r][a][1]/=s}Sy(t,e)}}function $1e(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Sy(t,e)}}function V1e(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,u=0;o<s;++o){for(var h=t[e[o]],f=h[n][1]||0,m=h[n-1][1]||0,g=(f-m)/2,b=0;b<o;++b){var y=t[e[b]],w=y[n][1]||0,A=y[n-1][1]||0;g+=w-A}l+=f,u+=g*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,Sy(t,e)}}var M6={},F6={},UV;function H1e(){return UV||(UV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(F6)),F6}var B6={},zV;function Ete(){return zV||(zV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(B6)),B6}var U6={},$V;function WF(){return $V||($V=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(U6)),U6}var z6={},$6={},VV;function q1e(){return VV||(VV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})($6)),$6}var HV;function KF(){return HV||(HV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q1e(),r=WF();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const i=[],s=a.length;if(s===0)return i;let o=0,l="",u="",h=!1;for(a.charCodeAt(0)===46&&(i.push(""),o++);o<s;){const f=a[o];u?f==="\\"&&o+1<s?(o++,l+=a[o]):f===u?u="":l+=f:h?f==='"'||f==="'"?u=f:f==="]"?(h=!1,i.push(l),l=""):l+=f:f==="["?(h=!0,l&&(i.push(l),l="")):f==="."?l&&(i.push(l),l=""):l+=f,o++}return l&&i.push(l),i}t.toPath=n})(z6)),z6}var qV;function YF(){return qV||(qV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H1e(),r=Ete(),n=WF(),a=KF();function i(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const h=o[l];return h===void 0?r.isDeepKey(l)?i(o,a.toPath(l),u):u:h}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const h=o[l];return h===void 0?u:h}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const h=o[l];return h===void 0?u:h}}}function s(o,l,u){if(l.length===0)return u;let h=o;for(let f=0;f<l.length;f++){if(h==null||e.isUnsafeProperty(l[f]))return u;h=h[l[f]]}return h===void 0?u:h}t.get=i})(M6)),M6}var V6,GV;function G1e(){return GV||(GV=1,V6=YF().get),V6}var W1e=G1e();const Ny=ph(W1e);var K1e=4;function Ex(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K1e,r=10**e,n=Math.round(t*r)/r;return Object.is(n,-0)?0:n}function ss(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.reduce((a,i,s)=>{var o=r[s-1];return typeof o=="string"?a+o+i:o!==void 0?a+Ex(o)+i:a+i},"")}var tc=t=>t===0?0:t>0?1:-1,yf=t=>typeof t=="number"&&t!=+t,Em=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Pr=t=>(typeof t=="number"||t instanceof Number)&&!yf(t),z0=t=>Pr(t)||typeof t=="string",Y1e=0,$_=t=>{var e=++Y1e;return"".concat(t||"").concat(e)},xd=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pr(e)&&typeof e!="string")return n;var i;if(Em(e)){if(r==null)return n;var s=e.indexOf("%");i=r*parseFloat(e.slice(0,s))/100}else i=+e;return yf(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},Tte=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[String(t[n])])r[String(t[n])]=!0;else return!0;return!1};function hs(t,e,r){return Pr(t)&&Pr(e)?Ex(t+r*(e-t)):e}function jte(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):Ny(n,e))===r)}var qs=t=>t===null||typeof t>"u",PE=t=>qs(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function X1e(t){return t!=null}function OE(){}var J1e=["type","size","sizeType"];function rM(){return rM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rM.apply(null,arguments)}function WV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function KV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WV(Object(r),!0).forEach(function(n){Z1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z1e(t,e,r){return(e=Q1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q1e(t){var e=eye(t,"string");return typeof e=="symbol"?e:e+""}function eye(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tye(t,e){if(t==null)return{};var r,n,a=rye(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function rye(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Cte={symbolCircle:GF,symbolCross:g1e,symbolDiamond:v1e,symbolSquare:y1e,symbolStar:_1e,symbolTriangle:S1e,symbolWye:E1e},nye=Math.PI/180,aye=t=>{var e="symbol".concat(PE(t));return Cte[e]||GF},iye=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*nye;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},sye=(t,e)=>{Cte["symbol".concat(PE(t))]=e},kte=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,a=tye(t,J1e),i=KV(KV({},a),{},{type:e,size:r,sizeType:n}),s="circle";typeof e=="string"&&(s=e);var o=()=>{var m=aye(s),g=T1e().type(m).size(iye(r,n,s)),b=g();if(b!==null)return b},{className:l,cx:u,cy:h}=i,f=ic(i);return Pr(u)&&Pr(h)&&Pr(r)?C.createElement("path",rM({},f,{className:sa("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(h,")"),d:o()})):null};kte.registerSymbol=sye;var Pte=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,XF=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(C.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{VF(a)&&(n[a]=(i=>r[a](r,i)))}),n},oye=(t,e,r)=>n=>(t(e,r,n),null),Ote=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(a=>{var i=t[a];VF(a)&&typeof i=="function"&&(n||(n={}),n[a]=oye(i,e,r))}),n};function YV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function lye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YV(Object(r),!0).forEach(function(n){cye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cye(t,e,r){return(e=uye(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uye(t){var e=dye(t,"string");return typeof e=="symbol"?e:e+""}function dye(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function So(t,e){var r=lye({},t),n=e,a=Object.keys(e),i=a.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return i}var H6={},q6={},XV;function hye(){return XV||(XV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],o=n(s);a.has(o)||a.set(o,s)}return Array.from(a.values())}t.uniqBy=e})(q6)),q6}var G6={},JV;function Dte(){return JV||(JV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(G6)),G6}var W6={},K6={},Y6={},ZV;function fye(){return ZV||(ZV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(Y6)),Y6}var QV;function JF(){return QV||(QV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fye();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(K6)),K6}var X6={},eH;function pye(){return eH||(eH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(X6)),X6}var tH;function mye(){return tH||(tH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JF(),r=pye();function n(a){return r.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=n})(W6)),W6}var J6={},Z6={},rH;function gye(){return rH||(rH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YF();function r(n){return function(a){return e.get(a,n)}}t.property=r})(Z6)),Z6}var Q6={},eD={},tD={},rD={},nH;function Rte(){return nH||(nH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(rD)),rD}var nD={},aH;function Ite(){return aH||(aH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(nD)),nD}var aD={},iH;function Lte(){return iH||(iH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(aD)),aD}var sH;function xye(){return sH||(sH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rte(),r=Ite(),n=Lte();function a(h,f,m){return typeof m!="function"?a(h,f,()=>{}):i(h,f,function g(b,y,w,A,S,N){const T=m(b,y,w,A,S,N);return T!==void 0?!!T:i(b,y,g,N)},new Map)}function i(h,f,m,g){if(f===h)return!0;switch(typeof f){case"object":return s(h,f,m,g);case"function":return Object.keys(f).length>0?i(h,{...f},m,g):n.eq(h,f);default:return e.isObject(h)?typeof f=="string"?f==="":!0:n.eq(h,f)}}function s(h,f,m,g){if(f==null)return!0;if(Array.isArray(f))return l(h,f,m,g);if(f instanceof Map)return o(h,f,m,g);if(f instanceof Set)return u(h,f,m,g);const b=Object.keys(f);if(h==null||r.isPrimitive(h))return b.length===0;if(b.length===0)return!0;if(g!=null&&g.has(f))return g.get(f)===h;g==null||g.set(f,h);try{for(let y=0;y<b.length;y++){const w=b[y];if(!r.isPrimitive(h)&&!(w in h)||f[w]===void 0&&h[w]!==void 0||f[w]===null&&h[w]!==null||!m(h[w],f[w],w,h,f,g))return!1}return!0}finally{g==null||g.delete(f)}}function o(h,f,m,g){if(f.size===0)return!0;if(!(h instanceof Map))return!1;for(const[b,y]of f.entries()){const w=h.get(b);if(m(w,y,b,h,f,g)===!1)return!1}return!0}function l(h,f,m,g){if(f.length===0)return!0;if(!Array.isArray(h))return!1;const b=new Set;for(let y=0;y<f.length;y++){const w=f[y];let A=!1;for(let S=0;S<h.length;S++){if(b.has(S))continue;const N=h[S];let T=!1;if(m(N,w,y,h,f,g)&&(T=!0),T){b.add(S),A=!0;break}}if(!A)return!1}return!0}function u(h,f,m,g){return f.size===0?!0:h instanceof Set?l([...h],[...f],m,g):!1}t.isMatchWith=a,t.isSetMatch=u})(tD)),tD}var oH;function Mte(){return oH||(oH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xye();function r(n,a){return e.isMatchWith(n,a,()=>{})}t.isMatch=r})(eD)),eD}var iD={},sD={},oD={},lH;function vye(){return lH||(lH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(oD)),oD}var lD={},cH;function Fte(){return cH||(cH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(lD)),lD}var cD={},uH;function Bte(){return uH||(uH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",h="[object Array]",f="[object Function]",m="[object ArrayBuffer]",g="[object Object]",b="[object Error]",y="[object DataView]",w="[object Uint8Array]",A="[object Uint8ClampedArray]",S="[object Uint16Array]",N="[object Uint32Array]",T="[object BigUint64Array]",k="[object Int8Array]",R="[object Int16Array]",O="[object Int32Array]",U="[object BigInt64Array]",H="[object Float32Array]",G="[object Float64Array]";t.argumentsTag=i,t.arrayBufferTag=m,t.arrayTag=h,t.bigInt64ArrayTag=U,t.bigUint64ArrayTag=T,t.booleanTag=a,t.dataViewTag=y,t.dateTag=o,t.errorTag=b,t.float32ArrayTag=H,t.float64ArrayTag=G,t.functionTag=f,t.int16ArrayTag=R,t.int32ArrayTag=O,t.int8ArrayTag=k,t.mapTag=l,t.numberTag=n,t.objectTag=g,t.regexpTag=e,t.setTag=u,t.stringTag=r,t.symbolTag=s,t.uint16ArrayTag=S,t.uint32ArrayTag=N,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=A})(cD)),cD}var uD={},dH;function yye(){return dH||(dH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(uD)),uD}var hH;function Ute(){return hH||(hH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vye(),r=Fte(),n=Bte(),a=Ite(),i=yye();function s(h,f){return o(h,void 0,h,new Map,f)}function o(h,f,m,g=new Map,b=void 0){const y=b==null?void 0:b(h,f,m,g);if(y!==void 0)return y;if(a.isPrimitive(h))return h;if(g.has(h))return g.get(h);if(Array.isArray(h)){const w=new Array(h.length);g.set(h,w);for(let A=0;A<h.length;A++)w[A]=o(h[A],A,m,g,b);return Object.hasOwn(h,"index")&&(w.index=h.index),Object.hasOwn(h,"input")&&(w.input=h.input),w}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const w=new RegExp(h.source,h.flags);return w.lastIndex=h.lastIndex,w}if(h instanceof Map){const w=new Map;g.set(h,w);for(const[A,S]of h)w.set(A,o(S,A,m,g,b));return w}if(h instanceof Set){const w=new Set;g.set(h,w);for(const A of h)w.add(o(A,void 0,m,g,b));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const w=new(Object.getPrototypeOf(h)).constructor(h.length);g.set(h,w);for(let A=0;A<h.length;A++)w[A]=o(h[A],A,m,g,b);return w}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const w=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return g.set(h,w),l(w,h,m,g,b),w}if(typeof File<"u"&&h instanceof File){const w=new File([h],h.name,{type:h.type});return g.set(h,w),l(w,h,m,g,b),w}if(typeof Blob<"u"&&h instanceof Blob){const w=new Blob([h],{type:h.type});return g.set(h,w),l(w,h,m,g,b),w}if(h instanceof Error){const w=new h.constructor;return g.set(h,w),w.message=h.message,w.name=h.name,w.stack=h.stack,w.cause=h.cause,l(w,h,m,g,b),w}if(h instanceof Boolean){const w=new Boolean(h.valueOf());return g.set(h,w),l(w,h,m,g,b),w}if(h instanceof Number){const w=new Number(h.valueOf());return g.set(h,w),l(w,h,m,g,b),w}if(h instanceof String){const w=new String(h.valueOf());return g.set(h,w),l(w,h,m,g,b),w}if(typeof h=="object"&&u(h)){const w=Object.create(Object.getPrototypeOf(h));return g.set(h,w),l(w,h,m,g,b),w}return h}function l(h,f,m=h,g,b){const y=[...Object.keys(f),...e.getSymbols(f)];for(let w=0;w<y.length;w++){const A=y[w],S=Object.getOwnPropertyDescriptor(h,A);(S==null||S.writable)&&(h[A]=o(f[A],A,m,g,b))}}function u(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=l})(sD)),sD}var fH;function bye(){return fH||(fH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ute();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(iD)),iD}var pH;function wye(){return pH||(pH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mte(),r=bye();function n(a){return a=r.cloneDeep(a),i=>e.isMatch(i,a)}t.matches=n})(Q6)),Q6}var dD={},hD={},fD={},mH;function Aye(){return mH||(mH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ute(),r=Bte();function n(a,i){return e.cloneDeepWith(a,(s,o,l,u)=>{const h=i==null?void 0:i(s,o,l,u);if(h!==void 0)return h;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(f,a),f}case r.argumentsTag:{const f={};return e.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}t.cloneDeepWith=n})(fD)),fD}var gH;function _ye(){return gH||(gH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Aye();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(hD)),hD}var pD={},mD={},xH;function zte(){return xH||(xH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(mD)),mD}var gD={},vH;function Sye(){return vH||(vH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fte();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(gD)),gD}var yH;function Nye(){return yH||(yH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ete(),r=zte(),n=Sye(),a=KF();function i(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=a.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let h=0;h<l.length;h++){const f=l[h];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}t.has=i})(pD)),pD}var bH;function Eye(){return bH||(bH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mte(),r=WF(),n=_ye(),a=YF(),i=Nye();function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(u){const h=a.get(u,o);return h===void 0?i.has(u,o):l===void 0?h===void 0:e.isMatch(h,l)}}t.matchesProperty=s})(dD)),dD}var wH;function Tye(){return wH||(wH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dte(),r=gye(),n=wye(),a=Eye();function i(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}t.iteratee=i})(J6)),J6}var AH;function jye(){return AH||(AH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hye(),r=Dte(),n=mye(),a=Tye();function i(s,o=r.identity){return n.isArrayLikeObject(s)?e.uniqBy(Array.from(s),a.iteratee(o)):[]}t.uniqBy=i})(H6)),H6}var xD,_H;function Cye(){return _H||(_H=1,xD=jye().uniqBy),xD}var kye=Cye();const SH=ph(kye);function Pye(t,e,r){return e===!0?SH(t,r):typeof e=="function"?SH(t,e):t}var vD={exports:{}},yD={},bD={exports:{}},wD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NH;function Oye(){if(NH)return wD;NH=1;var t=h5();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,i=t.useLayoutEffect,s=t.useDebugValue;function o(f,m){var g=m(),b=n({inst:{value:g,getSnapshot:m}}),y=b[0].inst,w=b[1];return i(function(){y.value=g,y.getSnapshot=m,l(y)&&w({inst:y})},[f,g,m]),a(function(){return l(y)&&w({inst:y}),f(function(){l(y)&&w({inst:y})})},[f]),s(g),g}function l(f){var m=f.getSnapshot;f=f.value;try{var g=m();return!r(f,g)}catch{return!0}}function u(f,m){return m()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return wD.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,wD}var EH;function Dye(){return EH||(EH=1,bD.exports=Oye()),bD.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TH;function Rye(){if(TH)return yD;TH=1;var t=h5(),e=Dye();function r(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var n=typeof Object.is=="function"?Object.is:r,a=e.useSyncExternalStore,i=t.useRef,s=t.useEffect,o=t.useMemo,l=t.useDebugValue;return yD.useSyncExternalStoreWithSelector=function(u,h,f,m,g){var b=i(null);if(b.current===null){var y={hasValue:!1,value:null};b.current=y}else y=b.current;b=o(function(){function A(R){if(!S){if(S=!0,N=R,R=m(R),g!==void 0&&y.hasValue){var O=y.value;if(g(O,R))return T=O}return T=R}if(O=T,n(N,R))return O;var U=m(R);return g!==void 0&&g(O,U)?(N=R,O):(N=R,T=U)}var S=!1,N,T,k=f===void 0?null:f;return[function(){return A(h())},k===null?void 0:function(){return A(k())}]},[h,f,m,g]);var w=a(u,b[0],b[1]);return s(function(){y.hasValue=!0,y.value=w},[w]),l(w),w},yD}var jH;function Iye(){return jH||(jH=1,vD.exports=Rye()),vD.exports}var Lye=Iye(),ZF=C.createContext(null),Mye=t=>t,Oi=()=>{var t=C.useContext(ZF);return t?t.store.dispatch:Mye},G3=()=>{},Fye=()=>G3,Bye=(t,e)=>t===e;function Ir(t){var e=C.useContext(ZF);return Lye.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Fye,e?e.store.getState:G3,e?e.store.getState:G3,e?t:G3,Bye)}function Uye(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function zye(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function $ye(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var CH=t=>Array.isArray(t)?t:[t];function Vye(t){const e=Array.isArray(t[0])?t[0]:t;return $ye(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Hye(t,e){const r=[],{length:n}=t;for(let a=0;a<n;a++)r.push(t[a].apply(null,e));return r}var qye=class{constructor(t){this.value=t}deref(){return this.value}},Gye=typeof WeakRef<"u"?WeakRef:qye,Wye=0,kH=1;function wT(){return{s:Wye,v:void 0,o:null,p:null}}function $te(t,e={}){let r=wT();const{resultEqualityCheck:n}=e;let a,i=0;function s(){var f;let o=r;const{length:l}=arguments;for(let m=0,g=l;m<g;m++){const b=arguments[m];if(typeof b=="function"||typeof b=="object"&&b!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const w=y.get(b);w===void 0?(o=wT(),y.set(b,o)):o=w}else{let y=o.p;y===null&&(o.p=y=new Map);const w=y.get(b);w===void 0?(o=wT(),y.set(b,o)):o=w}}const u=o;let h;if(o.s===kH)h=o.v;else if(h=t.apply(null,arguments),i++,n){const m=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;m!=null&&n(m,h)&&(h=m,i!==0&&i--),a=typeof h=="object"&&h!==null||typeof h=="function"?new Gye(h):h}return u.s=kH,u.v=h,h}return s.clearCache=()=>{r=wT(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function Kye(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...a)=>{let i=0,s=0,o,l={},u=a.pop();typeof u=="object"&&(l=u,u=a.pop()),Uye(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const h={...r,...l},{memoize:f,memoizeOptions:m=[],argsMemoize:g=$te,argsMemoizeOptions:b=[]}=h,y=CH(m),w=CH(b),A=Vye(a),S=f(function(){return i++,u.apply(null,arguments)},...y),N=g(function(){s++;const k=Hye(A,arguments);return o=S.apply(null,k),o},...w);return Object.assign(N,{resultFunc:u,memoizedResultFunc:S,dependencies:A,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var mt=Kye($te),Yye=Object.assign((t,e=mt)=>{zye(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(i=>t[i]);return e(n,(...i)=>i.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>Yye}),AD={},_D={},SD={},PH;function Xye(){return PH||(PH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=e(n),o=e(a);if(s===o&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-s:s-o}return 0};t.compareValues=r})(SD)),SD}var ND={},ED={},OH;function Vte(){return OH||(OH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(ED)),ED}var DH;function Jye(){return DH||(DH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vte(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||e.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}t.isKey=a})(ND)),ND}var RH;function Zye(){return RH||(RH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xye(),r=Jye(),n=KF();function a(i,s,o,l){if(i==null)return[];o=l?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(g=>String(g));const u=(g,b)=>{let y=g;for(let w=0;w<b.length&&y!=null;++w)y=y[b[w]];return y},h=(g,b)=>b==null||g==null?b:typeof g=="object"&&"key"in g?Object.hasOwn(b,g.key)?b[g.key]:u(b,g.path):typeof g=="function"?g(b):Array.isArray(g)?u(b,g):typeof b=="object"?b[g]:b,f=s.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return i.map(g=>({original:g,criteria:f.map(b=>h(b,g))})).slice().sort((g,b)=>{for(let y=0;y<f.length;y++){const w=e.compareValues(g.criteria[y],b.criteria[y],o[y]);if(w!==0)return w}return 0}).map(g=>g.original)}t.orderBy=a})(_D)),_D}var TD={},IH;function Qye(){return IH||(IH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const a=[],i=Math.floor(n),s=(o,l)=>{for(let u=0;u<o.length;u++){const h=o[u];Array.isArray(h)&&l<i?s(h,l+1):a.push(h)}};return s(r,0),a}t.flatten=e})(TD)),TD}var jD={},LH;function Hte(){return LH||(LH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zte(),r=JF(),n=Rte(),a=Lte();function i(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?a.eq(l[o],s):!1}t.isIterateeCall=i})(jD)),jD}var MH;function ebe(){return MH||(MH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zye(),r=Qye(),n=Hte();function a(i,...s){const o=s.length;return o>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(i,r.flatten(s),["asc"])}t.sortBy=a})(AD)),AD}var CD,FH;function tbe(){return FH||(FH=1,CD=ebe().sortBy),CD}var rbe=tbe();const zk=ph(rbe);var qte=t=>t.legend.settings,nbe=t=>t.legend.size,abe=t=>t.legend.payload;mt([abe,qte],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?zk(n,r):n});var AT=1;function ibe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=C.useState({height:0,left:0,top:0,width:0}),n=C.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-e.height)>AT||Math.abs(s.left-e.left)>AT||Math.abs(s.top-e.top)>AT||Math.abs(s.width-e.width)>AT)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function gl(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var sbe=typeof Symbol=="function"&&Symbol.observable||"@@observable",BH=sbe,kD=()=>Math.random().toString(36).substring(7).split("").join("."),obe={INIT:`@@redux/INIT${kD()}`,REPLACE:`@@redux/REPLACE${kD()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kD()}`},Dj=obe;function QF(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Gte(t,e,r){if(typeof t!="function")throw new Error(gl(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(gl(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(gl(1));return r(Gte)(t,e)}let n=t,a=e,i=new Map,s=i,o=0,l=!1;function u(){s===i&&(s=new Map,i.forEach((w,A)=>{s.set(A,w)}))}function h(){if(l)throw new Error(gl(3));return a}function f(w){if(typeof w!="function")throw new Error(gl(4));if(l)throw new Error(gl(5));let A=!0;u();const S=o++;return s.set(S,w),function(){if(A){if(l)throw new Error(gl(6));A=!1,u(),s.delete(S),i=null}}}function m(w){if(!QF(w))throw new Error(gl(7));if(typeof w.type>"u")throw new Error(gl(8));if(typeof w.type!="string")throw new Error(gl(17));if(l)throw new Error(gl(9));try{l=!0,a=n(a,w)}finally{l=!1}return(i=s).forEach(S=>{S()}),w}function g(w){if(typeof w!="function")throw new Error(gl(10));n=w,m({type:Dj.REPLACE})}function b(){const w=f;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(gl(11));function S(){const T=A;T.next&&T.next(h())}return S(),{unsubscribe:w(S)}},[BH](){return this}}}return m({type:Dj.INIT}),{dispatch:m,subscribe:f,getState:h,replaceReducer:g,[BH]:b}}function lbe(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Dj.INIT})>"u")throw new Error(gl(12));if(typeof r(void 0,{type:Dj.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gl(13))})}function Wte(t){const e=Object.keys(t),r={};for(let i=0;i<e.length;i++){const s=e[i];typeof t[s]=="function"&&(r[s]=t[s])}const n=Object.keys(r);let a;try{lbe(r)}catch(i){a=i}return function(s={},o){if(a)throw a;let l=!1;const u={};for(let h=0;h<n.length;h++){const f=n[h],m=r[f],g=s[f],b=m(g,o);if(typeof b>"u")throw o&&o.type,new Error(gl(14));u[f]=b,l=l||b!==g}return l=l||n.length!==Object.keys(s).length,l?u:s}}function Rj(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function cbe(...t){return e=>(r,n)=>{const a=e(r,n);let i=()=>{throw new Error(gl(15))};const s={getState:a.getState,dispatch:(l,...u)=>i(l,...u)},o=t.map(l=>l(s));return i=Rj(...o)(a.dispatch),{...a,dispatch:i}}}function Kte(t){return QF(t)&&"type"in t&&typeof t.type=="string"}var Yte=Symbol.for("immer-nothing"),UH=Symbol.for("immer-draftable"),Fc=Symbol.for("immer-state");function lf(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var md=Object,n5=md.getPrototypeOf,Ij="constructor",$k="prototype",nM="configurable",Lj="enumerable",W3="writable",V_="value",Tm=t=>!!t&&!!t[Fc];function bf(t){var e;return t?Xte(t)||Hk(t)||!!t[UH]||!!((e=t[Ij])!=null&&e[UH])||qk(t)||Gk(t):!1}var ube=md[$k][Ij].toString(),zH=new WeakMap;function Xte(t){if(!t||!e7(t))return!1;const e=n5(t);if(e===null||e===md[$k])return!0;const r=md.hasOwnProperty.call(e,Ij)&&e[Ij];if(r===Object)return!0;if(!Kb(r))return!1;let n=zH.get(r);return n===void 0&&(n=Function.toString.call(r),zH.set(r,n)),n===ube}function Vk(t,e,r=!0){DE(t)===0?(r?Reflect.ownKeys(t):md.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((n,a)=>e(a,n,t))}function DE(t){const e=t[Fc];return e?e.type_:Hk(t)?1:qk(t)?2:Gk(t)?3:0}var $H=(t,e,r=DE(t))=>r===2?t.has(e):md[$k].hasOwnProperty.call(t,e),aM=(t,e,r=DE(t))=>r===2?t.get(e):t[e],Mj=(t,e,r,n=DE(t))=>{n===2?t.set(e,r):n===3?t.add(r):t[e]=r};function dbe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Hk=Array.isArray,qk=t=>t instanceof Map,Gk=t=>t instanceof Set,e7=t=>typeof t=="object",Kb=t=>typeof t=="function",PD=t=>typeof t=="boolean";function hbe(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Np=t=>t.copy_||t.base_,t7=t=>t.modified_?t.copy_:t.base_;function iM(t,e){if(qk(t))return new Map(t);if(Gk(t))return new Set(t);if(Hk(t))return Array[$k].slice.call(t);const r=Xte(t);if(e===!0||e==="class_only"&&!r){const n=md.getOwnPropertyDescriptors(t);delete n[Fc];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],o=n[s];o[W3]===!1&&(o[W3]=!0,o[nM]=!0),(o.get||o.set)&&(n[s]={[nM]:!0,[W3]:!0,[Lj]:o[Lj],[V_]:t[s]})}return md.create(n5(t),n)}else{const n=n5(t);if(n!==null&&r)return{...t};const a=md.create(n);return md.assign(a,t)}}function r7(t,e=!1){return Wk(t)||Tm(t)||!bf(t)||(DE(t)>1&&md.defineProperties(t,{set:_T,add:_T,clear:_T,delete:_T}),md.freeze(t),e&&Vk(t,(r,n)=>{r7(n,!0)},!1)),t}function fbe(){lf(2)}var _T={[V_]:fbe};function Wk(t){return t===null||!e7(t)?!0:md.isFrozen(t)}var Fj="MapSet",sM="Patches",VH="ArrayMethods",Jte={};function Ey(t){const e=Jte[t];return e||lf(0,t),e}var HH=t=>!!Jte[t],H_,Zte=()=>H_,pbe=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:HH(Fj)?Ey(Fj):void 0,arrayMethodsPlugin_:HH(VH)?Ey(VH):void 0});function qH(t,e){e&&(t.patchPlugin_=Ey(sM),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function oM(t){lM(t),t.drafts_.forEach(mbe),t.drafts_=null}function lM(t){t===H_&&(H_=t.parent_)}var GH=t=>H_=pbe(H_,t);function mbe(t){const e=t[Fc];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function WH(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];if(t!==void 0&&t!==r){r[Fc].modified_&&(oM(e),lf(4)),bf(t)&&(t=KH(e,t));const{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(r[Fc].base_,t,e)}else t=KH(e,r);return gbe(e,t,!0),oM(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Yte?t:void 0}function KH(t,e){if(Wk(e))return e;const r=e[Fc];if(!r)return Bj(e,t.handledSet_,t);if(!Kk(r,t))return e;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(t);tre(r,t)}return r.copy_}function gbe(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&r7(e,r)}function Qte(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Kk=(t,e)=>t.scope_===e,xbe=[];function ere(t,e,r,n){const a=Np(t),i=t.type_;if(n!==void 0&&aM(a,n,i)===e){Mj(a,n,r,i);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;Vk(a,(l,u)=>{if(Tm(u)){const h=o.get(u)||[];h.push(l),o.set(u,h)}})}const s=t.draftLocations_.get(e)??xbe;for(const o of s)Mj(a,o,r,i)}function vbe(t,e,r){t.callbacks_.push(function(a){var o;const i=e;if(!i||!Kk(i,a))return;(o=a.mapSetPlugin_)==null||o.fixSetContents(i);const s=t7(i);ere(t,i.draft_??i,s,r),tre(i,a)})}function tre(t,e){var n;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((n=t.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=e;if(a){const i=a.getPath(t);i&&a.generatePatches_(t,i,e)}Qte(t)}}function ybe(t,e,r){const{scope_:n}=t;if(Tm(r)){const a=r[Fc];Kk(a,n)&&a.callbacks_.push(function(){K3(t);const s=t7(a);ere(t,r,s,e)})}else bf(r)&&t.callbacks_.push(function(){const i=Np(t);t.type_===3?i.has(r)&&Bj(r,n.handledSet_,n):aM(i,e,t.type_)===r&&n.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Bj(aM(t.copy_,e,t.type_),n.handledSet_,n)})}function Bj(t,e,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Tm(t)||e.has(t)||!bf(t)||Wk(t)||(e.add(t),Vk(t,(n,a)=>{if(Tm(a)){const i=a[Fc];if(Kk(i,r)){const s=t7(i);Mj(t,n,s,t.type_),Qte(i)}}else bf(a)&&Bj(a,e,r)})),t}function bbe(t,e){const r=Hk(t),n={type_:r?1:0,scope_:e?e.scope_:Zte(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=Uj;r&&(a=[n],i=q_);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,[o,n]}var Uj={get(t,e){if(e===Fc)return t;let r=t.scope_.arrayMethodsPlugin_;const n=t.type_===1&&typeof e=="string";if(n&&r!=null&&r.isArrayOperationMethod(e))return r.createMethodInterceptor(t,e);const a=Np(t);if(!$H(a,e,t.type_))return wbe(t,a,e);const i=a[e];if(t.finalized_||!bf(i)||n&&t.operationMethod&&(r!=null&&r.isMutatingArrayMethod(t.operationMethod))&&hbe(e))return i;if(i===OD(t.base_,e)){K3(t);const s=t.type_===1?+e:e,o=uM(t.scope_,i,t,s);return t.copy_[s]=o}return i},has(t,e){return e in Np(t)},ownKeys(t){return Reflect.ownKeys(Np(t))},set(t,e,r){const n=rre(Np(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=OD(Np(t),e),i=a==null?void 0:a[Fc];if(i&&i.base_===r)return t.copy_[e]=r,t.assigned_.set(e,!1),!0;if(dbe(r,a)&&(r!==void 0||$H(t.base_,e,t.type_)))return!0;K3(t),cM(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_.set(e,!0),ybe(t,e,r)),!0},deleteProperty(t,e){return K3(t),OD(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),cM(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Np(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{[W3]:!0,[nM]:t.type_!==1||e!=="length",[Lj]:n[Lj],[V_]:r[e]}},defineProperty(){lf(11)},getPrototypeOf(t){return n5(t.base_)},setPrototypeOf(){lf(12)}},q_={};for(let t in Uj){let e=Uj[t];q_[t]=function(){const r=arguments;return r[0]=r[0][0],e.apply(this,r)}}q_.deleteProperty=function(t,e){return q_.set.call(this,t,e,void 0)};q_.set=function(t,e,r){return Uj.set.call(this,t[0],e,r,t[0])};function OD(t,e){const r=t[Fc];return(r?Np(r):t)[e]}function wbe(t,e,r){var a;const n=rre(e,r);return n?V_ in n?n[V_]:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function rre(t,e){if(!(e in t))return;let r=n5(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=n5(r)}}function cM(t){t.modified_||(t.modified_=!0,t.parent_&&cM(t.parent_))}function K3(t){t.copy_||(t.assigned_=new Map,t.copy_=iM(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Abe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Kb(r)&&!Kb(n)){const s=n;n=r;const o=this;return function(u=s,...h){return o.produce(u,f=>n.call(this,f,...h))}}Kb(n)||lf(6),a!==void 0&&!Kb(a)&&lf(7);let i;if(bf(r)){const s=GH(this),o=uM(s,r,void 0);let l=!0;try{i=n(o),l=!1}finally{l?oM(s):lM(s)}return qH(s,a),WH(i,s)}else if(!r||!e7(r)){if(i=n(r),i===void 0&&(i=r),i===Yte&&(i=void 0),this.autoFreeze_&&r7(i,!0),a){const s=[],o=[];Ey(sM).generateReplacementPatches_(r,i,{patches_:s,inversePatches_:o}),a(s,o)}return i}else lf(1,r)},this.produceWithPatches=(r,n)=>{if(Kb(r))return(o,...l)=>this.produceWithPatches(o,u=>r(u,...l));let a,i;return[this.produce(r,n,(o,l)=>{a=o,i=l}),a,i]},PD(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),PD(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),PD(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){bf(e)||lf(8),Tm(e)&&(e=gf(e));const r=GH(this),n=uM(r,e,void 0);return n[Fc].isManual_=!0,lM(r),n}finishDraft(e,r){const n=e&&e[Fc];(!n||!n.isManual_)&&lf(9);const{scope_:a}=n;return qH(a,r),WH(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(r=r.slice(n+1));const a=Ey(sM).applyPatches_;return Tm(e)?a(e,r):this.produce(e,i=>a(i,r))}};function uM(t,e,r,n){const[a,i]=qk(e)?Ey(Fj).proxyMap_(e,r):Gk(e)?Ey(Fj).proxySet_(e,r):bbe(e,r);return((r==null?void 0:r.scope_)??Zte()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?vbe(r,i,n):i.callbacks_.push(function(l){var h;(h=l.mapSetPlugin_)==null||h.fixSetContents(i);const{patchPlugin_:u}=l;i.modified_&&u&&u.generatePatches_(i,[],l)}),a}function gf(t){return Tm(t)||lf(10,t),nre(t)}function nre(t){if(!bf(t)||Wk(t))return t;const e=t[Fc];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=iM(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=iM(t,!0);return Vk(r,(a,i)=>{Mj(r,a,nre(i))},n),e&&(e.finalized_=!1),r}var _be=new Abe,are=_be.produce;function ire(t){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,t):a(i)}var Sbe=ire(),Nbe=ire,Ebe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Rj:Rj.apply(null,arguments)};function hh(t,e){function r(...n){if(e){let a=e(...n);if(!a)throw new Error(vd(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>Kte(n)&&n.type===t,r}var sre=class s_ extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,s_.prototype)}static get[Symbol.species](){return s_}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new s_(...e[0].concat(this)):new s_(...e.concat(this))}};function YH(t){return bf(t)?are(t,()=>{}):t}function ST(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function Tbe(t){return typeof t=="boolean"}var jbe=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=e??{};let s=new sre;return r&&(Tbe(r)?s.push(Sbe):s.push(Nbe(r.extraArgument))),s},ore="RTK_autoBatch",Ti=()=>t=>({payload:t,meta:{[ore]:!0}}),XH=t=>e=>{setTimeout(e,t)},lre=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let a=!0,i=!1,s=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:XH(10):t.type==="callback"?t.queueNotification:XH(t.timeout),u=()=>{s=!1,i&&(i=!1,o.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const f=()=>a&&h(),m=n.subscribe(f);return o.add(h),()=>{m(),o.delete(h)}},dispatch(h){var f;try{return a=!((f=h==null?void 0:h.meta)!=null&&f[ore]),i=!a,i&&(s||(s=!0,l(u))),n.dispatch(h)}finally{a=!0}}})},Cbe=t=>function(r){const{autoBatch:n=!0}=r??{};let a=new sre(t);return n&&a.push(lre(typeof n=="object"?n:void 0)),a};function kbe(t){const e=jbe(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:s=void 0}=t||{};let o;if(typeof r=="function")o=r;else if(QF(r))o=Wte(r);else throw new Error(vd(1));let l;typeof n=="function"?l=n(e):l=e();let u=Rj;a&&(u=Ebe({trace:!1,...typeof a=="object"&&a}));const h=cbe(...l),f=Cbe(h);let m=typeof s=="function"?s(f):f();const g=u(...m);return Gte(o,i,g)}function cre(t){const e={},r=[];let n;const a={addCase(i,s){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(vd(28));if(o in e)throw new Error(vd(29));return e[o]=s,a},addAsyncThunk(i,s){return s.pending&&(e[i.pending.type]=s.pending),s.rejected&&(e[i.rejected.type]=s.rejected),s.fulfilled&&(e[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return t(a),[e,r,n]}function Pbe(t){return typeof t=="function"}function Obe(t,e){let[r,n,a]=cre(e),i;if(Pbe(t))i=()=>YH(t());else{const o=YH(t);i=()=>o}function s(o=i(),l){let u=[r[l.type],...n.filter(({matcher:h})=>h(l)).map(({reducer:h})=>h)];return u.filter(h=>!!h).length===0&&(u=[a]),u.reduce((h,f)=>{if(f)if(Tm(h)){const g=f(h,l);return g===void 0?h:g}else{if(bf(h))return are(h,m=>f(m,l));{const m=f(h,l);if(m===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return h},o)}return s.getInitialState=i,s}var Dbe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Rbe=(t=21)=>{let e="",r=t;for(;r--;)e+=Dbe[Math.random()*64|0];return e},Ibe=Symbol.for("rtk-slice-createasyncthunk");function Lbe(t,e){return`${t}/${e}`}function Mbe({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[Ibe];return function(a){const{name:i,reducerPath:s=i}=a;if(!i)throw new Error(vd(11));const o=(typeof a.reducers=="function"?a.reducers(Bbe()):a.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(T,k){const R=typeof T=="string"?T:T.type;if(!R)throw new Error(vd(12));if(R in u.sliceCaseReducersByType)throw new Error(vd(13));return u.sliceCaseReducersByType[R]=k,h},addMatcher(T,k){return u.sliceMatchers.push({matcher:T,reducer:k}),h},exposeAction(T,k){return u.actionCreators[T]=k,h},exposeCaseReducer(T,k){return u.sliceCaseReducersByName[T]=k,h}};l.forEach(T=>{const k=o[T],R={reducerName:T,type:Lbe(i,T),createNotation:typeof a.reducers=="function"};zbe(k)?Vbe(R,k,h,e):Ube(R,k,h)});function f(){const[T={},k=[],R=void 0]=typeof a.extraReducers=="function"?cre(a.extraReducers):[a.extraReducers],O={...T,...u.sliceCaseReducersByType};return Obe(a.initialState,U=>{for(let H in O)U.addCase(H,O[H]);for(let H of u.sliceMatchers)U.addMatcher(H.matcher,H.reducer);for(let H of k)U.addMatcher(H.matcher,H.reducer);R&&U.addDefaultCase(R)})}const m=T=>T,g=new Map,b=new WeakMap;let y;function w(T,k){return y||(y=f()),y(T,k)}function A(){return y||(y=f()),y.getInitialState()}function S(T,k=!1){function R(U){let H=U[T];return typeof H>"u"&&k&&(H=ST(b,R,A)),H}function O(U=m){const H=ST(g,k,()=>new WeakMap);return ST(H,U,()=>{const G={};for(const[F,L]of Object.entries(a.selectors??{}))G[F]=Fbe(L,U,()=>ST(b,U,A),k);return G})}return{reducerPath:T,getSelectors:O,get selectors(){return O(R)},selectSlice:R}}const N={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:A,...S(s),injectInto(T,{reducerPath:k,...R}={}){const O=k??s;return T.inject({reducerPath:O,reducer:w},R),{...N,...S(O,!0)}}};return N}}function Fbe(t,e,r,n){function a(i,...s){let o=e(i);return typeof o>"u"&&n&&(o=r()),t(o,...s)}return a.unwrapped=t,a}var _u=Mbe();function Bbe(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Ube({type:t,reducerName:e,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!$be(n))throw new Error(vd(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,s?hh(t,s):hh(t))}function zbe(t){return t._reducerDefinitionType==="asyncThunk"}function $be(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Vbe({type:t,reducerName:e},r,n,a){if(!a)throw new Error(vd(18));const{payloadCreator:i,fulfilled:s,pending:o,rejected:l,settled:u,options:h}=r,f=a(t,i,h);n.exposeAction(e,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(e,{fulfilled:s||NT,pending:o||NT,rejected:l||NT,settled:u||NT})}function NT(){}var Hbe="task",ure="listener",dre="completed",n7="cancelled",qbe=`task-${n7}`,Gbe=`task-${dre}`,dM=`${ure}-${n7}`,Wbe=`${ure}-${dre}`,Yk=class{constructor(t){tr(this,"name","TaskAbortError");tr(this,"message");this.code=t,this.message=`${Hbe} ${n7} (reason: ${t})`}},a7=(t,e)=>{if(typeof t!="function")throw new TypeError(vd(32))},zj=()=>{},hre=(t,e=zj)=>(t.catch(e),t),fre=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),ay=t=>{if(t.aborted)throw new Yk(t.reason)};function pre(t,e){let r=zj;return new Promise((n,a)=>{const i=()=>a(new Yk(t.reason));if(t.aborted){i();return}r=fre(t,i),e.finally(()=>r()).then(n,a)}).finally(()=>{r=zj})}var Kbe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof Yk?"cancelled":"rejected",error:r}}finally{e==null||e()}},$j=t=>e=>hre(pre(t,e).then(r=>(ay(t),r))),mre=t=>{const e=$j(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:y2}=Object,JH={},Xk="listenerMiddleware",Ybe=(t,e)=>{const r=n=>fre(t,()=>n.abort(t.reason));return(n,a)=>{a7(n);const i=new AbortController;r(i);const s=Kbe(async()=>{ay(t),ay(i.signal);const o=await n({pause:$j(i.signal),delay:mre(i.signal),signal:i.signal});return ay(i.signal),o},()=>i.abort(Gbe));return a!=null&&a.autoJoin&&e.push(s.catch(zj)),{result:$j(t)(s),cancel(){i.abort(qbe)}}}},Xbe=(t,e)=>{const r=async(n,a)=>{ay(e);let i=()=>{};const o=[new Promise((l,u)=>{let h=t({predicate:n,effect:(f,m)=>{m.unsubscribe(),l([f,m.getState(),m.getOriginalState()])}});i=()=>{h(),u()}})];a!=null&&o.push(new Promise(l=>setTimeout(l,a,null)));try{const l=await pre(e,Promise.race(o));return ay(e),l}finally{i()}};return(n,a)=>hre(r(n,a))},gre=t=>{let{type:e,actionCreator:r,matcher:n,predicate:a,effect:i}=t;if(e)a=hh(e).match;else if(r)e=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(vd(21));return a7(i),{predicate:a,type:e,effect:i}},xre=y2(t=>{const{type:e,predicate:r,effect:n}=gre(t);return{id:Rbe(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(vd(22))}}},{withTypes:()=>xre}),ZH=(t,e)=>{const{type:r,effect:n,predicate:a}=gre(e);return Array.from(t.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},hM=t=>{t.pending.forEach(e=>{e.abort(dM)})},Jbe=(t,e)=>()=>{for(const r of e.keys())hM(r);t.clear()},QH=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},vre=y2(hh(`${Xk}/add`),{withTypes:()=>vre}),Zbe=hh(`${Xk}/removeAll`),yre=y2(hh(`${Xk}/remove`),{withTypes:()=>yre}),Qbe=(...t)=>{console.error(`${Xk}/error`,...t)},RE=(t={})=>{const e=new Map,r=new Map,n=g=>{const b=r.get(g)??0;r.set(g,b+1)},a=g=>{const b=r.get(g)??1;b===1?r.delete(g):r.set(g,b-1)},{extra:i,onError:s=Qbe}=t;a7(s);const o=g=>(g.unsubscribe=()=>e.delete(g.id),e.set(g.id,g),b=>{g.unsubscribe(),b!=null&&b.cancelActive&&hM(g)}),l=g=>{const b=ZH(e,g)??xre(g);return o(b)};y2(l,{withTypes:()=>l});const u=g=>{const b=ZH(e,g);return b&&(b.unsubscribe(),g.cancelActive&&hM(b)),!!b};y2(u,{withTypes:()=>u});const h=async(g,b,y,w)=>{const A=new AbortController,S=Xbe(l,A.signal),N=[];try{g.pending.add(A),n(g),await Promise.resolve(g.effect(b,y2({},y,{getOriginalState:w,condition:(T,k)=>S(T,k).then(Boolean),take:S,delay:mre(A.signal),pause:$j(A.signal),extra:i,signal:A.signal,fork:Ybe(A.signal,N),unsubscribe:g.unsubscribe,subscribe:()=>{e.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((T,k,R)=>{T!==A&&(T.abort(dM),R.delete(T))})},cancel:()=>{A.abort(dM),g.pending.delete(A)},throwIfCancelled:()=>{ay(A.signal)}})))}catch(T){T instanceof Yk||QH(s,T,{raisedBy:"effect"})}finally{await Promise.all(N),A.abort(Wbe),a(g),g.pending.delete(A)}},f=Jbe(e,r);return{middleware:g=>b=>y=>{if(!Kte(y))return b(y);if(vre.match(y))return l(y.payload);if(Zbe.match(y)){f();return}if(yre.match(y))return u(y.payload);let w=g.getState();const A=()=>{if(w===JH)throw new Error(vd(23));return w};let S;try{if(S=b(y),e.size>0){const N=g.getState(),T=Array.from(e.values());for(const k of T){let R=!1;try{R=k.predicate(y,N,w)}catch(O){R=!1,QH(s,O,{raisedBy:"predicate"})}R&&h(k,y,g,A)}}}finally{w=JH}return S},startListening:l,stopListening:u,clearListeners:f}};function vd(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var e2e={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},bre=_u({name:"chartLayout",initialState:e2e,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,a,i;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(i=e.payload.left)!==null&&i!==void 0?i:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:t2e,setLayout:r2e,setChartSize:n2e,setScale:a2e}=bre.actions,i2e=bre.reducer;function wre(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function Pi(t){return Number.isFinite(t)}function $0(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function eq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function r2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eq(Object(r),!0).forEach(function(n){s2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s2e(t,e,r){return(e=o2e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o2e(t){var e=l2e(t,"string");return typeof e=="symbol"?e:e+""}function l2e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ya(t,e,r){return qs(t)||qs(e)?r:z0(e)?Ny(t,e,r):typeof e=="function"?e(t):r}var c2e=(t,e,r)=>{if(e&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&i!=="center"&&Pr(t[i]))return r2(r2({},t),{},{[i]:t[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&s!=="middle"&&Pr(t[s]))return r2(r2({},t),{},{[s]:t[s]+(a||0)})}return t},W0=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Are=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var a,i,s=t.map(o=>(o.coordinate===e&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||s.push(e),i||s.push(r),s},_re=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:h,ticks:f,niceTicks:m,axisType:g}=t;if(!s)return null;var b=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,y=a==="category"&&s.bandwidth?s.bandwidth()/b:0;if(y=g==="angleAxis"&&i&&i.length>=2?tc(i[0]-i[1])*2*y:y,f||m){var w=(f||m||[]).map((A,S)=>{var N=n?n.indexOf(A):A;return{coordinate:s(N)+y,value:A,offset:y,index:S}});return w.filter(A=>!yf(A.coordinate))}return l&&u?u.map((A,S)=>({coordinate:s(A)+y,value:A,index:S,offset:y})):s.ticks&&h!=null?s.ticks(h).map((A,S)=>({coordinate:s(A)+y,value:A,offset:y,index:S})):s.domain().map((A,S)=>({coordinate:s(A)+y,value:n?n[A]:A,index:S,offset:y}))},tq=1e-4,u2e=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),a=Math.min(n[0],n[1])-tq,i=Math.max(n[0],n[1])+tq,s=t(e[0]),o=t(e[r-1]);(s<a||s>i||o<a||o>i)&&t.domain([e[0],e[r-1]])}},d2e=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,s=0,o=0;o<r;++o){var l=t[o],u=l==null?void 0:l[a];if(u!=null){var h=u[1],f=u[0],m=yf(h)?f:h;m>=0?(u[0]=i,u[1]=i+m,i=h):(u[0]=s,u[1]=s+m,s=h)}}}},h2e=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,s=0;s<r;++s){var o=t[s],l=o==null?void 0:o[a];if(l!=null){var u=yf(l[1])?l[0]:l[1];u>=0?(l[0]=i,l[1]=i+u,i=l[1]):(l[0]=0,l[1]=0)}}}},f2e={sign:d2e,expand:z1e,none:Sy,silhouette:$1e,wiggle:V1e,positive:h2e},p2e=(t,e,r)=>{var n,a=(n=f2e[r])!==null&&n!==void 0?n:Sy,i=U1e().keys(e).value((o,l)=>Number(Ya(o,l,0))).order(tM).offset(a),s=i(t);return s.forEach((o,l)=>{o.forEach((u,h)=>{var f=Ya(t[h],e[l],0);Array.isArray(f)&&f.length===2&&Pr(f[0])&&Pr(f[1])&&(u[0]=f[0],u[1]=f[1])})}),s};function m2e(t){return t==null?void 0:String(t)}function Vj(t){var{axis:e,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!qs(a[e.dataKey])){var o=jte(r,"value",a[e.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Ya(a,qs(s)?e.dataKey:s);return qs(l)?null:e.scale(l)}var g2e=t=>{var e=t.flat(2).filter(Pr);return[Math.min(...e),Math.max(...e)]},x2e=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],v2e=(t,e,r)=>{if(t!=null)return x2e(Object.keys(t).reduce((n,a)=>{var i=t[a];if(!i)return n;var{stackedData:s}=i,o=s.reduce((l,u)=>{var h=wre(u,e,r),f=g2e(h);return!Pi(f[0])||!Pi(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},rq=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nq=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,a5=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var a=zk(e,h=>h.coordinate),i=1/0,s=1,o=a.length;s<o;s++){var l=a[s],u=a[s-1];i=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function aq(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:a,name:i}=t;return r2(r2({},e),{},{dataKey:r,payload:n,value:a,name:i})}function x5(t,e){if(t)return String(t);if(typeof e=="string")return e}var y2e=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},b2e=(t,e)=>e==="centric"?t.angle:t.radius,Um=t=>t.layout.width,zm=t=>t.layout.height,w2e=t=>t.layout.scale,Sre=t=>t.layout.margin,Jk=mt(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Zk=mt(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Nre="data-recharts-item-index",Ere="data-recharts-item-id",IE=60;function iq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ET(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iq(Object(r),!0).forEach(function(n){A2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A2e(t,e,r){return(e=_2e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _2e(t){var e=S2e(t,"string");return typeof e=="symbol"?e:e+""}function S2e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N2e=t=>t.brush.height;function E2e(t){var e=Zk(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:IE;return r+a}return r},0)}function T2e(t){var e=Zk(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:IE;return r+a}return r},0)}function j2e(t){var e=Jk(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function C2e(t){var e=Jk(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Jo=mt([Um,zm,Sre,N2e,E2e,T2e,j2e,C2e,qte,nbe],(t,e,r,n,a,i,s,o,l,u)=>{var h={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},m=ET(ET({},f),h),g=m.bottom;m.bottom+=n,m=c2e(m,l,u);var b=t-m.left-m.right,y=e-m.top-m.bottom;return ET(ET({brushBottom:g},m),{},{width:Math.max(b,0),height:Math.max(y,0)})}),k2e=mt(Jo,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Tre=mt(Um,zm,(t,e)=>({x:0,y:0,width:t,height:e})),P2e=C.createContext(null),sc=()=>C.useContext(P2e)!=null,Qk=t=>t.brush,eP=mt([Qk,Jo,Sre],(t,e,r)=>({height:t.height,x:Pr(t.x)?t.x:e.left,y:Pr(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:Pr(t.width)?t.width:e.width})),DD={},RD={},ID={},sq;function O2e(){return sq||(sq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:a,edges:i}={}){let s,o=null;const l=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),h=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{u&&h(),y()};let m=null;const g=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},n)},b=()=>{m!==null&&(clearTimeout(m),m=null)},y=()=>{b(),s=void 0,o=null},w=()=>{h()},A=function(...S){if(a!=null&&a.aborted)return;s=this,o=S;const N=m==null;g(),l&&N&&h()};return A.schedule=g,A.cancel=y,A.flush=w,a==null||a.addEventListener("abort",y,{once:!0}),A}t.debounce=e})(ID)),ID}var oq;function D2e(){return oq||(oq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O2e();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:o=!0,maxWait:l}=i,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let h,f=null;const m=e.debounce(function(...y){h=n.apply(this,y),f=null},a,{edges:u}),g=function(...y){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(h=n.apply(this,y),f=Date.now(),m.cancel(),m.schedule(),h):(m.apply(this,y),h)},b=()=>(m.flush(),h);return g.cancel=m.cancel,g.flush=b,g}t.debounce=r})(RD)),RD}var lq;function R2e(){return lq||(lq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D2e();function r(n,a=0,i={}){const{leading:s=!0,trailing:o=!0}=i;return e.debounce(n,a,{leading:s,maxWait:a,trailing:o})}t.throttle=r})(DD)),DD}var LD,cq;function I2e(){return cq||(cq=1,LD=R2e().throttle),LD}var L2e=I2e();const M2e=ph(L2e);var Hj=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>a[s++]))}},jre=(t,e,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:s}=r,o=Em(n)?t:Number(n),l=Em(a)?e:Number(a);return i&&i>0&&(o?l=o/i:l&&(o=l*i),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},F2e={width:0,height:0,overflow:"visible"},B2e={width:0,overflowX:"visible"},U2e={height:0,overflowY:"visible"},z2e={},$2e=t=>{var{width:e,height:r}=t,n=Em(e),a=Em(r);return n&&a?F2e:n?B2e:a?U2e:z2e};function V2e(t){var{width:e,height:r,aspect:n}=t,a=e,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function fM(){return fM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fM.apply(null,arguments)}function uq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uq(Object(r),!0).forEach(function(n){H2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H2e(t,e,r){return(e=q2e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q2e(t){var e=G2e(t,"string");return typeof e=="symbol"?e:e+""}function G2e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cre=C.createContext({width:-1,height:-1});function W2e(t){return $0(t.width)&&$0(t.height)}function kre(t){var{children:e,width:r,height:n}=t,a=C.useMemo(()=>({width:r,height:n}),[r,n]);return W2e(a)?C.createElement(Cre.Provider,{value:a},e):null}var i7=()=>C.useContext(Cre),K2e=C.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:h=0,id:f,className:m,onResize:g,style:b={}}=t,y=C.useRef(null),w=C.useRef();w.current=g,C.useImperativeHandle(e,()=>y.current);var[A,S]=C.useState({containerWidth:n.width,containerHeight:n.height}),N=C.useCallback((U,H)=>{S(G=>{var F=Math.round(U),L=Math.round(H);return G.containerWidth===F&&G.containerHeight===L?G:{containerWidth:F,containerHeight:L}})},[]);C.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return OE;var U=L=>{var re,{width:Z,height:pe}=L[0].contentRect;N(Z,pe),(re=w.current)===null||re===void 0||re.call(w,Z,pe)};h>0&&(U=M2e(U,h,{trailing:!0,leading:!1}));var H=new ResizeObserver(U),{width:G,height:F}=y.current.getBoundingClientRect();return N(G,F),H.observe(y.current),()=>{H.disconnect()}},[N,h]);var{containerWidth:T,containerHeight:k}=A;Hj(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:R,calculatedHeight:O}=jre(T,k,{width:a,height:i,aspect:r,maxHeight:l});return Hj(R!=null&&R>0||O!=null&&O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,O,a,i,s,o,r),C.createElement("div",{id:f?"".concat(f):void 0,className:sa("recharts-responsive-container",m),style:dq(dq({},b),{},{width:a,height:i,minWidth:s,minHeight:o,maxHeight:l}),ref:y},C.createElement("div",{style:$2e({width:a,height:i})},C.createElement(kre,{width:R,height:O},u)))}),s7=C.forwardRef((t,e)=>{var r=i7();if($0(r.width)&&$0(r.height))return t.children;var{width:n,height:a}=V2e({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:i,calculatedHeight:s}=jre(void 0,void 0,{width:n,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return Pr(i)&&Pr(s)?C.createElement(kre,{width:i,height:s},t.children):C.createElement(K2e,fM({},t,{width:n,height:a,ref:e}))});function Pre(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var tP=()=>{var t,e=sc(),r=Ir(k2e),n=Ir(eP),a=(t=Ir(Qk))===null||t===void 0?void 0:t.padding;return!e||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Y2e={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Ore=()=>{var t;return(t=Ir(Jo))!==null&&t!==void 0?t:Y2e},Dre=()=>Ir(Um),Rre=()=>Ir(zm),oa=t=>t.layout.layoutType,Fy=()=>Ir(oa),X2e=()=>{var t=Fy();if(t==="horizontal"||t==="vertical")return t},J2e=()=>{var t=Fy();return t!==void 0},rP=t=>{var e=Oi(),r=sc(),{width:n,height:a}=t,i=i7(),s=n,o=a;return i&&(s=i.width>0?i.width:n,o=i.height>0?i.height:a),C.useEffect(()=>{!r&&$0(s)&&$0(o)&&e(n2e({width:s,height:o}))},[e,r,s,o]),null},Ire=Symbol.for("immer-nothing"),hq=Symbol.for("immer-draftable"),bd=Symbol.for("immer-state");function cf(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var G_=Object.getPrototypeOf;function i5(t){return!!t&&!!t[bd]}function Ty(t){var e;return t?Lre(t)||Array.isArray(t)||!!t[hq]||!!((e=t.constructor)!=null&&e[hq])||LE(t)||aP(t):!1}var Z2e=Object.prototype.constructor.toString(),fq=new WeakMap;function Lre(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=fq.get(r);return n===void 0&&(n=Function.toString.call(r),fq.set(r,n)),n===Z2e}function qj(t,e,r=!0){nP(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((n,a)=>e(a,n,t))}function nP(t){const e=t[bd];return e?e.type_:Array.isArray(t)?1:LE(t)?2:aP(t)?3:0}function pM(t,e){return nP(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Mre(t,e,r){const n=nP(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function Q2e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function LE(t){return t instanceof Map}function aP(t){return t instanceof Set}function _v(t){return t.copy_||t.base_}function mM(t,e){if(LE(t))return new Map(t);if(aP(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=Lre(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[bd];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(G_(t),n)}else{const n=G_(t);if(n!==null&&r)return{...t};const a=Object.create(n);return Object.assign(a,t)}}function o7(t,e=!1){return iP(t)||i5(t)||!Ty(t)||(nP(t)>1&&Object.defineProperties(t,{set:TT,add:TT,clear:TT,delete:TT}),Object.freeze(t),e&&Object.values(t).forEach(r=>o7(r,!0))),t}function ewe(){cf(2)}var TT={value:ewe};function iP(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var twe={};function jy(t){const e=twe[t];return e||cf(0,t),e}var W_;function Fre(){return W_}function rwe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pq(t,e){e&&(jy("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function gM(t){xM(t),t.drafts_.forEach(nwe),t.drafts_=null}function xM(t){t===W_&&(W_=t.parent_)}function mq(t){return W_=rwe(W_,t)}function nwe(t){const e=t[bd];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function gq(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[bd].modified_&&(gM(e),cf(4)),Ty(t)&&(t=Gj(e,t),e.parent_||Wj(e,t)),e.patches_&&jy("Patches").generateReplacementPatches_(r[bd].base_,t,e.patches_,e.inversePatches_)):t=Gj(e,r,[]),gM(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Ire?t:void 0}function Gj(t,e,r){if(iP(e))return e;const n=t.immer_.shouldUseStrictIteration(),a=e[bd];if(!a)return qj(e,(i,s)=>xq(t,a,e,i,s,r),n),e;if(a.scope_!==t)return e;if(!a.modified_)return Wj(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let s=i,o=!1;a.type_===3&&(s=new Set(i),i.clear(),o=!0),qj(s,(l,u)=>xq(t,a,i,l,u,r,o),n),Wj(t,i,!1),r&&t.patches_&&jy("Patches").generatePatches_(a,r,t.patches_,t.inversePatches_)}return a.copy_}function xq(t,e,r,n,a,i,s){if(a==null||typeof a!="object"&&!s)return;const o=iP(a);if(!(o&&!s)){if(i5(a)){const l=i&&e&&e.type_!==3&&!pM(e.assigned_,n)?i.concat(n):void 0,u=Gj(t,a,l);if(Mre(r,n,u),i5(u))t.canAutoFreeze_=!1;else return}else s&&r.add(a);if(Ty(a)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===a&&o)return;Gj(t,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(LE(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Wj(t,a)}}}function Wj(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&o7(e,r)}function awe(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:Fre(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=l7;r&&(a=[n],i=K_);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,o}var l7={get(t,e){if(e===bd)return t;const r=_v(t);if(!pM(r,e))return iwe(t,r,e);const n=r[e];return t.finalized_||!Ty(n)?n:n===MD(t.base_,e)?(FD(t),t.copy_[e]=yM(n,t)):n},has(t,e){return e in _v(t)},ownKeys(t){return Reflect.ownKeys(_v(t))},set(t,e,r){const n=Bre(_v(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=MD(_v(t),e),i=a==null?void 0:a[bd];if(i&&i.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(Q2e(r,a)&&(r!==void 0||pM(t.base_,e)))return!0;FD(t),vM(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return MD(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,FD(t),vM(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=_v(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){cf(11)},getPrototypeOf(t){return G_(t.base_)},setPrototypeOf(){cf(12)}},K_={};qj(l7,(t,e)=>{K_[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});K_.deleteProperty=function(t,e){return K_.set.call(this,t,e,void 0)};K_.set=function(t,e,r){return l7.set.call(this,t[0],e,r,t[0])};function MD(t,e){const r=t[bd];return(r?_v(r):t)[e]}function iwe(t,e,r){var a;const n=Bre(e,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function Bre(t,e){if(!(e in t))return;let r=G_(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=G_(r)}}function vM(t){t.modified_||(t.modified_=!0,t.parent_&&vM(t.parent_))}function FD(t){t.copy_||(t.copy_=mM(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var swe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const i=r;r=e;const s=this;return function(l=i,...u){return s.produce(l,h=>r.call(this,h,...u))}}typeof r!="function"&&cf(6),n!==void 0&&typeof n!="function"&&cf(7);let a;if(Ty(e)){const i=mq(this),s=yM(e,void 0);let o=!0;try{a=r(s),o=!1}finally{o?gM(i):xM(i)}return pq(i,n),gq(a,i)}else if(!e||typeof e!="object"){if(a=r(e),a===void 0&&(a=e),a===Ire&&(a=void 0),this.autoFreeze_&&o7(a,!0),n){const i=[],s=[];jy("Patches").generateReplacementPatches_(e,a,i,s),n(i,s)}return a}else cf(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let n,a;return[this.produce(e,r,(s,o)=>{n=s,a=o}),n,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ty(t)||cf(8),i5(t)&&(t=owe(t));const e=mq(this),r=yM(t,void 0);return r[bd].isManual_=!0,xM(e),r}finishDraft(t,e){const r=t&&t[bd];(!r||!r.isManual_)&&cf(9);const{scope_:n}=r;return pq(n,e),gq(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(e=e.slice(r+1));const n=jy("Patches").applyPatches_;return i5(t)?n(t,e):this.produce(t,a=>n(a,e))}};function yM(t,e){const r=LE(t)?jy("MapSet").proxyMap_(t,e):aP(t)?jy("MapSet").proxySet_(t,e):awe(t,e);return(e?e.scope_:Fre()).drafts_.push(r),r}function owe(t){return i5(t)||cf(10,t),Ure(t)}function Ure(t){if(!Ty(t)||iP(t))return t;const e=t[bd];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=mM(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=mM(t,!0);return qj(r,(a,i)=>{Mre(r,a,Ure(i))},n),e&&(e.finalized_=!1),r}var lwe=new swe;lwe.produce;var cwe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},zre=_u({name:"legend",initialState:cwe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Ti()},replaceLegendPayload:{reducer(t,e){var{prev:r,next:n}=e.payload,a=gf(t).payload.indexOf(r);a>-1&&(t.payload[a]=n)},prepare:Ti()},removeLegendPayload:{reducer(t,e){var r=gf(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)},prepare:Ti()}}}),{setLegendSize:uHe,setLegendSettings:dHe,addLegendPayload:$re,replaceLegendPayload:Vre,removeLegendPayload:Hre}=zre.actions,uwe=zre.reducer;function bM(){return bM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bM.apply(null,arguments)}function vq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function BD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vq(Object(r),!0).forEach(function(n){dwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dwe(t,e,r){return(e=hwe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hwe(t){var e=fwe(t,"string");return typeof e=="symbol"?e:e+""}function fwe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pwe(t){return Array.isArray(t)&&z0(t[0])&&z0(t[1])?t.join(" ~ "):t}var mwe=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:h,labelFormatter:f,accessibilityLayer:m=!1}=t,g=()=>{if(i&&i.length){var k={padding:0,margin:0},R=(o?zk(i,o):i).map((O,U)=>{if(O.type==="none")return null;var H=O.formatter||s||pwe,{value:G,name:F}=O,L=G,re=F;if(H){var Z=H(G,F,O,U,i);if(Array.isArray(Z))[L,re]=Z;else if(Z!=null)L=Z;else return null}var pe=BD({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},n);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:pe},z0(re)?C.createElement("span",{className:"recharts-tooltip-item-name"},re):null,z0(re)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},L),C.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:k},R)}return null},b=BD({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=BD({margin:0},a),w=!qs(h),A=w?h:"",S=sa("recharts-default-tooltip",l),N=sa("recharts-tooltip-label",u);w&&f&&i!==void 0&&i!==null&&(A=f(h,i));var T=m?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",bM({className:S,style:b},T),C.createElement("p",{className:N,style:y},C.isValidElement(A)?A:"".concat(A)),g())},bA="recharts-tooltip-wrapper",gwe={visibility:"hidden"};function xwe(t){var{coordinate:e,translateX:r,translateY:n}=t;return sa(bA,{["".concat(bA,"-right")]:Pr(r)&&e&&Pr(e.x)&&r>=e.x,["".concat(bA,"-left")]:Pr(r)&&e&&Pr(e.x)&&r<e.x,["".concat(bA,"-bottom")]:Pr(n)&&e&&Pr(e.y)&&n>=e.y,["".concat(bA,"-top")]:Pr(n)&&e&&Pr(e.y)&&n<e.y})}function yq(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=t;if(i&&Pr(i[n]))return i[n];var h=r[n]-o-(a>0?a:0),f=r[n]+a;if(e[n])return s[n]?h:f;var m=l[n];if(m==null)return 0;if(s[n]){var g=h,b=m;return g<b?Math.max(f,m):Math.max(h,m)}if(u==null)return 0;var y=f+o,w=m+u;return y>w?Math.max(h,m):Math.max(f,m)}function vwe(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function ywe(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:o,viewBox:l}=t,u,h,f;return s.height>0&&s.width>0&&r?(h=yq({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=yq({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=vwe({translateX:h,translateY:f,useTranslate3d:o})):u=gwe,{cssProperties:u,cssClasses:xwe({translateX:h,translateY:f,coordinate:r})}}function bq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bq(Object(r),!0).forEach(function(n){wM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wM(t,e,r){return(e=bwe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bwe(t){var e=wwe(t,"string");return typeof e=="symbol"?e:e+""}function wwe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Awe extends C.PureComponent{constructor(){super(...arguments),wM(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),wM(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:h,reverseDirection:f,useTranslate3d:m,viewBox:g,wrapperStyle:b,lastBoundingBox:y,innerRef:w,hasPortalFromProps:A}=this.props,{cssClasses:S,cssProperties:N}=ywe({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:h,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:m,viewBox:g}),T=A?{}:jT(jT({transition:l&&e?"transform ".concat(n,"ms ").concat(a):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),k=jT(jT({},T),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},b);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:k,ref:w},i)}}var qre=()=>{var t;return(t=Ir(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function AM(){return AM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AM.apply(null,arguments)}function wq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Aq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wq(Object(r),!0).forEach(function(n){_we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _we(t,e,r){return(e=Swe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Swe(t){var e=Nwe(t,"string");return typeof e=="symbol"?e:e+""}function Nwe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _q={curveBasisClosed:C1e,curveBasisOpen:k1e,curveBasis:j1e,curveBumpX:p1e,curveBumpY:m1e,curveLinearClosed:P1e,curveLinear:Bk,curveMonotoneX:O1e,curveMonotoneY:D1e,curveNatural:R1e,curveStep:I1e,curveStepAfter:M1e,curveStepBefore:L1e},Kj=t=>Pi(t.x)&&Pi(t.y),Sq=t=>t.base!=null&&Kj(t.base)&&Kj(t),wA=t=>t.x,AA=t=>t.y,Ewe=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(PE(t));return(r==="curveMonotone"||r==="curveBump")&&e?_q["".concat(r).concat(e==="vertical"?"Y":"X")]:_q[r]||Bk},Twe=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=t,s=Ewe(e,a),o=i?r.filter(Kj):r,l;if(Array.isArray(n)){var u=r.map((g,b)=>Aq(Aq({},g),{},{base:n[b]}));a==="vertical"?l=bT().y(AA).x1(wA).x0(g=>g.base.x):l=bT().x(wA).y1(AA).y0(g=>g.base.y);var h=l.defined(Sq).curve(s),f=i?u.filter(Sq):u;return h(f)}a==="vertical"&&Pr(n)?l=bT().y(AA).x1(wA).x0(n):Pr(n)?l=bT().x(wA).y1(AA).y0(n):l=mte().x(wA).y(AA);var m=l.defined(Kj).curve(s);return m(o)},b2=t=>{var{className:e,points:r,path:n,pathRef:a}=t,i=Fy();if((!r||!r.length)&&!n)return null;var s={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||i,connectNulls:t.connectNulls},o=r&&r.length?Twe(s):n;return C.createElement("path",AM({},bu(t),XF(t),{className:sa("recharts-curve",e),d:o===null?void 0:o,ref:a}))},jwe=["x","y","top","left","width","height","className"];function _M(){return _M=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_M.apply(null,arguments)}function Nq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cwe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nq(Object(r),!0).forEach(function(n){kwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kwe(t,e,r){return(e=Pwe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pwe(t){var e=Owe(t,"string");return typeof e=="symbol"?e:e+""}function Owe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dwe(t,e){if(t==null)return{};var r,n,a=Rwe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Rwe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Iwe=(t,e,r,n,a,i)=>"M".concat(t,",").concat(a,"v").concat(n,"M").concat(i,",").concat(e,"h").concat(r),Lwe=t=>{var{x:e=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:o}=t,l=Dwe(t,jwe),u=Cwe({x:e,y:r,top:n,left:a,width:i,height:s},l);return!Pr(e)||!Pr(r)||!Pr(i)||!Pr(s)||!Pr(n)||!Pr(a)?null:C.createElement("path",_M({},ic(u),{className:sa("recharts-cross",o),d:Iwe(e,r,i,s,n,a)}))};function Mwe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function Eq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Tq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Eq(Object(r),!0).forEach(function(n){Fwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Eq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fwe(t,e,r){return(e=Bwe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bwe(t){var e=Uwe(t,"string");return typeof e=="symbol"?e:e+""}function Uwe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zwe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Gre=(t,e,r)=>t.map(n=>"".concat(zwe(n)," ").concat(e,"ms ").concat(r)).join(","),$we=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(a=>n.includes(a))),Y_=(t,e)=>Object.keys(e).reduce((r,n)=>Tq(Tq({},r),{},{[n]:t(n,e[n])}),{});function jq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function go(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jq(Object(r),!0).forEach(function(n){Vwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vwe(t,e,r){return(e=Hwe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hwe(t){var e=qwe(t,"string");return typeof e=="symbol"?e:e+""}function qwe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yj=(t,e,r)=>t+(e-t)*r,SM=t=>{var{from:e,to:r}=t;return e!==r},Wre=(t,e,r)=>{var n=Y_((a,i)=>{if(SM(i)){var[s,o]=t(i.from,i.to,i.velocity);return go(go({},i),{},{from:s,velocity:o})}return i},e);return r<1?Y_((a,i)=>SM(i)&&n[a]!=null?go(go({},i),{},{velocity:Yj(i.velocity,n[a].velocity,r),from:Yj(i.from,n[a].from,r)}):i,e):Wre(t,n,r-1)};function Gwe(t,e,r,n,a,i){var s,o=n.reduce((m,g)=>go(go({},m),{},{[g]:{from:t[g],velocity:0,to:e[g]}}),{}),l=()=>Y_((m,g)=>g.from,o),u=()=>!Object.values(o).filter(SM).length,h=null,f=m=>{s||(s=m);var g=m-s,b=g/r.dt;o=Wre(r,o,b),a(go(go(go({},t),e),l())),s=m,u()||(h=i.setTimeout(f))};return()=>(h=i.setTimeout(f),()=>{var m;(m=h)===null||m===void 0||m()})}function Wwe(t,e,r,n,a,i,s){var o=null,l=a.reduce((f,m)=>{var g=t[m],b=e[m];return g==null||b==null?f:go(go({},f),{},{[m]:[g,b]})},{}),u,h=f=>{u||(u=f);var m=(f-u)/n,g=Y_((y,w)=>Yj(...w,r(m)),l);if(i(go(go(go({},t),e),g)),m<1)o=s.setTimeout(h);else{var b=Y_((y,w)=>Yj(...w,r(1)),l);i(go(go(go({},t),e),b))}};return()=>(o=s.setTimeout(h),()=>{var f;(f=o)===null||f===void 0||f()})}const Kwe=(t,e,r,n,a,i)=>{var s=$we(t,e);return r==null?()=>(a(go(go({},t),e)),()=>{}):r.isStepper===!0?Gwe(t,e,r,s,a,i):Wwe(t,e,r,n,s,a,i)};var Xj=1e-4,Kre=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],Yre=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),Cq=(t,e)=>r=>{var n=Kre(t,e);return Yre(n,r)},Ywe=(t,e)=>r=>{var n=Kre(t,e),a=[...n.map((i,s)=>i*s).slice(1),0];return Yre(a,r)},Xwe=t=>{var e,r=t.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(e=r[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},Jwe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=Xwe(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},Zwe=(t,e,r,n)=>{var a=Cq(t,r),i=Cq(e,n),s=Ywe(t,r),o=u=>u>1?1:u<0?0:u,l=u=>{for(var h=u>1?1:u,f=h,m=0;m<8;++m){var g=a(f)-h,b=s(f);if(Math.abs(g-h)<Xj||b<Xj)return i(f);f=o(f-g/b)}return i(f)};return l.isStepper=!1,l},kq=function(){return Zwe(...Jwe(...arguments))},Qwe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=e,i=(s,o,l)=>{var u=-(s-o)*r,h=l*n,f=l+(u-h)*a/1e3,m=l*a/1e3+s;return Math.abs(m-o)<Xj&&Math.abs(f)<Xj?[o,0]:[m,f]};return i.isStepper=!0,i.dt=a,i},e5e=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kq(t);case"spring":return Qwe();default:if(t.split("(")[0]==="cubic-bezier")return kq(t)}return typeof t=="function"?t:null};function t5e(t){var e,r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){a=t.setTimeout(i.bind(null,u),l);return}i(l),a=t.setTimeout(i.bind(null,u));return}typeof s=="string"&&(e=s,r(e)),typeof s=="object"&&(e=s,r(e)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>t}}class r5e{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?e(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function n5e(){return t5e(new r5e)}var a5e=C.createContext(n5e);function i5e(t,e){var r=C.useContext(a5e);return C.useMemo(()=>e??r(t),[t,e,r])}var s5e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ME={isSsr:s5e()},o5e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Pq={t:0},UD={t:1};function FE(t){var e=So(t,o5e),{isActive:r,canBegin:n,duration:a,easing:i,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=e,h=r==="auto"?!ME.isSsr:r,f=i5e(e.animationId,e.animationManager),[m,g]=C.useState(h?Pq:UD),b=C.useRef(null);return C.useEffect(()=>{h||g(UD)},[h]),C.useEffect(()=>{if(!h||!n)return OE;var y=Kwe(Pq,UD,e5e(i),a,g,f.getTimeoutController()),w=()=>{b.current=y()};return f.start([l,s,w,a,o]),()=>{f.stop(),b.current&&b.current(),o()}},[h,n,a,i,s,l,o,f]),u(m.t)}function BE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=C.useRef($_(e)),n=C.useRef(t);return n.current!==t&&(r.current=$_(e),n.current=t),r.current}var l5e=["radius"],c5e=["radius"],Oq,Dq,Rq,Iq,Lq,Mq,Fq,Bq,Uq,zq;function $q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$q(Object(r),!0).forEach(function(n){u5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$q(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u5e(t,e,r){return(e=d5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d5e(t){var e=h5e(t,"string");return typeof e=="symbol"?e:e+""}function h5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jj(){return Jj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jj.apply(null,arguments)}function Hq(t,e){if(t==null)return{};var r,n,a=f5e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function f5e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Qf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var qq=(t,e,r,n,a)=>{var i=Ex(r),s=Ex(n),o=Math.min(Math.abs(i)/2,Math.abs(s)/2),l=s>=0?1:-1,u=i>=0?1:-1,h=s>=0&&i>=0||s<0&&i<0?1:0,f;if(o>0&&a instanceof Array){for(var m=[0,0,0,0],g=0,b=4;g<b;g++)m[g]=a[g]>o?o:a[g];f=ss(Oq||(Oq=Qf(["M",",",""])),t,e+l*m[0]),m[0]>0&&(f+=ss(Dq||(Dq=Qf(["A ",",",",0,0,",",",",",""])),m[0],m[0],h,t+u*m[0],e)),f+=ss(Rq||(Rq=Qf(["L ",",",""])),t+r-u*m[1],e),m[1]>0&&(f+=ss(Iq||(Iq=Qf(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],h,t+r,e+l*m[1])),f+=ss(Lq||(Lq=Qf(["L ",",",""])),t+r,e+n-l*m[2]),m[2]>0&&(f+=ss(Mq||(Mq=Qf(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],h,t+r-u*m[2],e+n)),f+=ss(Fq||(Fq=Qf(["L ",",",""])),t+u*m[3],e+n),m[3]>0&&(f+=ss(Bq||(Bq=Qf(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],h,t,e+n-l*m[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);f=ss(Uq||(Uq=Qf(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+l*y,y,y,h,t+u*y,e,t+r-u*y,e,y,y,h,t+r,e+l*y,t+r,e+n-l*y,y,y,h,t+r-u*y,e+n,t+u*y,e+n,y,y,h,t,e+n-l*y)}else f=ss(zq||(zq=Qf(["M ",","," h "," v "," h "," Z"])),t,e,r,n,-r);return f},Gq={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xre=t=>{var e=So(t,Gq),r=C.useRef(null),[n,a]=C.useState(-1);C.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var X=r.current.getTotalLength();X&&a(X)}catch{}},[]);var{x:i,y:s,width:o,height:l,radius:u,className:h}=e,{animationEasing:f,animationDuration:m,animationBegin:g,isAnimationActive:b,isUpdateAnimationActive:y}=e,w=C.useRef(o),A=C.useRef(l),S=C.useRef(i),N=C.useRef(s),T=C.useMemo(()=>({x:i,y:s,width:o,height:l,radius:u}),[i,s,o,l,u]),k=BE(T,"rectangle-");if(i!==+i||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var R=sa("recharts-rectangle",h);if(!y){var O=ic(e),{radius:U}=O,H=Hq(O,l5e);return C.createElement("path",Jj({},H,{x:Ex(i),y:Ex(s),width:Ex(o),height:Ex(l),radius:typeof u=="number"?u:void 0,className:R,d:qq(i,s,o,l,u)}))}var G=w.current,F=A.current,L=S.current,re=N.current,Z="0px ".concat(n===-1?1:n,"px"),pe="".concat(n,"px 0px"),Q=Gre(["strokeDasharray"],m,typeof f=="string"?f:Gq.animationEasing);return C.createElement(FE,{animationId:k,key:k,canBegin:n>0,duration:m,easing:f,isActive:y,begin:g},X=>{var oe=hs(G,o,X),ce=hs(F,l,X),Ne=hs(L,i,X),ne=hs(re,s,X);r.current&&(w.current=oe,A.current=ce,S.current=Ne,N.current=ne);var B;b?X>0?B={transition:Q,strokeDasharray:pe}:B={strokeDasharray:Z}:B={strokeDasharray:pe};var V=ic(e),{radius:Y}=V,K=Hq(V,c5e);return C.createElement("path",Jj({},K,{radius:typeof u=="number"?u:void 0,className:R,d:qq(Ne,ne,oe,ce,u),ref:r,style:Vq(Vq({},B),e.style)}))})};function Wq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Kq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wq(Object(r),!0).forEach(function(n){p5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p5e(t,e,r){return(e=m5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m5e(t){var e=g5e(t,"string");return typeof e=="symbol"?e:e+""}function g5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zj=Math.PI/180,x5e=t=>t*180/Math.PI,Vs=(t,e,r,n)=>({x:t+Math.cos(-Zj*n)*r,y:e+Math.sin(-Zj*n)*r}),Jre=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},v5e=(t,e)=>{var{x:r,y:n}=t,{x:a,y:i}=e;return Math.sqrt((r-a)**2+(n-i)**2)},y5e=(t,e)=>{var{x:r,y:n}=t,{cx:a,cy:i}=e,s=v5e({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var o=(r-a)/s,l=Math.acos(o);return n>i&&(l=2*Math.PI-l),{radius:s,angle:x5e(l),angleInRadian:l}},b5e=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:e-i*360,endAngle:r-i*360}},w5e=(t,e)=>{var{startAngle:r,endAngle:n}=e,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return t+s*360},A5e=(t,e)=>{var{chartX:r,chartY:n}=t,{radius:a,angle:i}=y5e({x:r,y:n},e),{innerRadius:s,outerRadius:o}=e;if(a<s||a>o||a===0)return null;var{startAngle:l,endAngle:u}=b5e(e),h=i,f;if(l<=u){for(;h>u;)h-=360;for(;h<l;)h+=360;f=h>=l&&h<=u}else{for(;h>l;)h-=360;for(;h<u;)h+=360;f=h>=u&&h<=l}return f?Kq(Kq({},e),{},{radius:a,angle:w5e(h,e)}):null};function Zre(t){var{cx:e,cy:r,radius:n,startAngle:a,endAngle:i}=t,s=Vs(e,r,n,a),o=Vs(e,r,n,i);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}var Yq,Xq,Jq,Zq,Qq,eG,tG;function NM(){return NM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NM.apply(null,arguments)}function Dv(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var _5e=(t,e)=>{var r=tc(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},CT=t=>{var{cx:e,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:l}=t,u=o*(s?1:-1)+n,h=Math.asin(o/u)/Zj,f=l?a:a+i*h,m=Vs(e,r,u,f),g=Vs(e,r,n,f),b=l?a-i*h:a,y=Vs(e,r,u*Math.cos(h*Zj),b);return{center:m,circleTangency:g,lineTangency:y,theta:h}},Qre=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=t,o=_5e(i,s),l=i+o,u=Vs(e,r,a,i),h=Vs(e,r,a,l),f=ss(Yq||(Yq=Dv(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(o)>180),+(i>l),h.x,h.y);if(n>0){var m=Vs(e,r,n,i),g=Vs(e,r,n,l);f+=ss(Xq||(Xq=Dv(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),g.x,g.y,n,n,+(Math.abs(o)>180),+(i<=l),m.x,m.y)}else f+=ss(Jq||(Jq=Dv(["L ",","," Z"])),e,r);return f},S5e=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=t,h=tc(u-l),{circleTangency:f,lineTangency:m,theta:g}=CT({cx:e,cy:r,radius:a,angle:l,sign:h,cornerRadius:i,cornerIsExternal:o}),{circleTangency:b,lineTangency:y,theta:w}=CT({cx:e,cy:r,radius:a,angle:u,sign:-h,cornerRadius:i,cornerIsExternal:o}),A=o?Math.abs(l-u):Math.abs(l-u)-g-w;if(A<0)return s?ss(Zq||(Zq=Dv(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,i,i,i*2,i,i,-i*2):Qre({cx:e,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:u});var S=ss(Qq||(Qq=Dv(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,i,i,+(h<0),f.x,f.y,a,a,+(A>180),+(h<0),b.x,b.y,i,i,+(h<0),y.x,y.y);if(n>0){var{circleTangency:N,lineTangency:T,theta:k}=CT({cx:e,cy:r,radius:n,angle:l,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:R,lineTangency:O,theta:U}=CT({cx:e,cy:r,radius:n,angle:u,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),H=o?Math.abs(l-u):Math.abs(l-u)-k-U;if(H<0&&i===0)return"".concat(S,"L").concat(e,",").concat(r,"Z");S+=ss(eG||(eG=Dv(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),O.x,O.y,i,i,+(h<0),R.x,R.y,n,n,+(H>180),+(h>0),N.x,N.y,i,i,+(h<0),T.x,T.y)}else S+=ss(tG||(tG=Dv(["L",",","Z"])),e,r);return S},N5e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ene=t=>{var e=So(t,N5e),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:h,className:f}=e;if(i<a||u===h)return null;var m=sa("recharts-sector",f),g=i-a,b=xd(s,g,0,!0),y;return b>0&&Math.abs(u-h)<360?y=S5e({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(b,g/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:h}):y=Qre({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:h}),C.createElement("path",NM({},ic(e),{className:m,d:y}))};function E5e(t,e,r){if(t==="horizontal")return[{x:e.x,y:r.top},{x:e.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:e.y},{x:r.left+r.width,y:e.y}];if(Pte(e)){if(t==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:s,angle:o}=e,l=Vs(n,a,i,o),u=Vs(n,a,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return Zre(e)}}var zD={},$D={},VD={},rG;function T5e(){return rG||(rG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vte();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(VD)),VD}var nG;function j5e(){return nG||(nG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T5e();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})($D)),$D}var aG;function C5e(){return aG||(aG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hte(),r=j5e();function n(a,i,s){s&&typeof s!="number"&&e.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((i-a)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=a,a+=s;return l}t.range=n})(zD)),zD}var HD,iG;function k5e(){return iG||(iG=1,HD=C5e().range),HD}var P5e=k5e();const tne=ph(P5e);function Rx(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function O5e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function c7(t){let e,r,n;t.length!==2?(e=Rx,r=(o,l)=>Rx(t(o),l),n=(o,l)=>t(o)-l):(e=t===Rx||t===O5e?t:D5e,r=t,n=t);function a(o,l,u=0,h=o.length){if(u<h){if(e(l,l)!==0)return h;do{const f=u+h>>>1;r(o[f],l)<0?u=f+1:h=f}while(u<h)}return u}function i(o,l,u=0,h=o.length){if(u<h){if(e(l,l)!==0)return h;do{const f=u+h>>>1;r(o[f],l)<=0?u=f+1:h=f}while(u<h)}return u}function s(o,l,u=0,h=o.length){const f=a(o,l,u,h-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function D5e(){return 0}function rne(t){return t===null?NaN:+t}function*R5e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const I5e=c7(Rx),UE=I5e.right;c7(rne).center;class sG extends Map{constructor(e,r=F5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(oG(this,e))}has(e){return super.has(oG(this,e))}set(e,r){return super.set(L5e(this,e),r)}delete(e){return super.delete(M5e(this,e))}}function oG({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function L5e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function M5e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function F5e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function B5e(t=Rx){if(t===Rx)return nne;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function nne(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const U5e=Math.sqrt(50),z5e=Math.sqrt(10),$5e=Math.sqrt(2);function Qj(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=U5e?10:i>=z5e?5:i>=$5e?2:1;let o,l,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,a)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?Qj(t,e,r*2):[o,l,u]}function EM(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,s]=n?Qj(e,t,r):Qj(t,e,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(i-u)/-s;else for(let u=0;u<o;++u)l[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(a+u)/-s;else for(let u=0;u<o;++u)l[u]=(a+u)*s;return l}function TM(t,e,r){return e=+e,t=+t,r=+r,Qj(t,e,r)[2]}function jM(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?TM(e,t,r):TM(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function lG(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function cG(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function ane(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?nne:B5e(a);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,h=Math.log(l),f=.5*Math.exp(2*h/3),m=.5*Math.sqrt(h*f*(l-f)/l)*(u-l/2<0?-1:1),g=Math.max(r,Math.floor(e-u*f/l+m)),b=Math.min(n,Math.floor(e+(l-u)*f/l+m));ane(t,e,g,b,a)}const i=t[e];let s=r,o=n;for(_A(t,r,e),a(t[n],i)>0&&_A(t,r,n);s<o;){for(_A(t,s,o),++s,--o;a(t[s],i)<0;)++s;for(;a(t[o],i)>0;)--o}a(t[r],i)===0?_A(t,r,o):(++o,_A(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function _A(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function V5e(t,e,r){if(t=Float64Array.from(R5e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return cG(t);if(e>=1)return lG(t);var n,a=(n-1)*e,i=Math.floor(a),s=lG(ane(t,i).subarray(0,i+1)),o=cG(t.subarray(i+1));return s+(o-s)*(a-i)}}function H5e(t,e,r=rne){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),s=+r(t[i],i,t),o=+r(t[i+1],i+1,t);return s+(o-s)*(a-i)}}function q5e(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function gh(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function $m(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const CM=Symbol("implicit");function u7(){var t=new sG,e=[],r=[],n=CM;function a(i){let s=t.get(i);if(s===void 0){if(n!==CM)return n;t.set(i,s=e.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new sG;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return u7(e,r).unknown(n)},gh.apply(a,arguments),a}function d7(){var t=u7().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,s,o=!1,l=0,u=0,h=.5;delete t.unknown;function f(){var m=e().length,g=a<n,b=g?a:n,y=g?n:a;i=(y-b)/Math.max(1,m-l+u*2),o&&(i=Math.floor(i)),b+=(y-b-i*(m-l))*h,s=i*(1-l),o&&(b=Math.round(b),s=Math.round(s));var w=q5e(m).map(function(A){return b+i*A});return r(g?w.reverse():w)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,o=!0,f()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(m){return arguments.length?(o=!!m,f()):o},t.padding=function(m){return arguments.length?(l=Math.min(1,u=+m),f()):l},t.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),f()):l},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(h=Math.max(0,Math.min(1,m)),f()):h},t.copy=function(){return d7(e(),[n,a]).round(o).paddingInner(l).paddingOuter(u).align(h)},gh.apply(f(),arguments)}function ine(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ine(e())},t}function G5e(){return ine(d7.apply(null,arguments).paddingInner(1))}function h7(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function sne(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function zE(){}var X_=.7,eC=1/X_,w2="\\s*([+-]?\\d+)\\s*",J_="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",L0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",W5e=/^#([0-9a-f]{3,8})$/,K5e=new RegExp(`^rgb\\(${w2},${w2},${w2}\\)$`),Y5e=new RegExp(`^rgb\\(${L0},${L0},${L0}\\)$`),X5e=new RegExp(`^rgba\\(${w2},${w2},${w2},${J_}\\)$`),J5e=new RegExp(`^rgba\\(${L0},${L0},${L0},${J_}\\)$`),Z5e=new RegExp(`^hsl\\(${J_},${L0},${L0}\\)$`),Q5e=new RegExp(`^hsla\\(${J_},${L0},${L0},${J_}\\)$`),uG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};h7(zE,Z_,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:dG,formatHex:dG,formatHex8:eAe,formatHsl:tAe,formatRgb:hG,toString:hG});function dG(){return this.rgb().formatHex()}function eAe(){return this.rgb().formatHex8()}function tAe(){return one(this).formatHsl()}function hG(){return this.rgb().formatRgb()}function Z_(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=W5e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?fG(e):r===3?new xu(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?kT(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?kT(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=K5e.exec(t))?new xu(e[1],e[2],e[3],1):(e=Y5e.exec(t))?new xu(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=X5e.exec(t))?kT(e[1],e[2],e[3],e[4]):(e=J5e.exec(t))?kT(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Z5e.exec(t))?gG(e[1],e[2]/100,e[3]/100,1):(e=Q5e.exec(t))?gG(e[1],e[2]/100,e[3]/100,e[4]):uG.hasOwnProperty(t)?fG(uG[t]):t==="transparent"?new xu(NaN,NaN,NaN,0):null}function fG(t){return new xu(t>>16&255,t>>8&255,t&255,1)}function kT(t,e,r,n){return n<=0&&(t=e=r=NaN),new xu(t,e,r,n)}function rAe(t){return t instanceof zE||(t=Z_(t)),t?(t=t.rgb(),new xu(t.r,t.g,t.b,t.opacity)):new xu}function kM(t,e,r,n){return arguments.length===1?rAe(t):new xu(t,e,r,n??1)}function xu(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}h7(xu,kM,sne(zE,{brighter(t){return t=t==null?eC:Math.pow(eC,t),new xu(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?X_:Math.pow(X_,t),new xu(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xu(iy(this.r),iy(this.g),iy(this.b),tC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pG,formatHex:pG,formatHex8:nAe,formatRgb:mG,toString:mG}));function pG(){return`#${Rv(this.r)}${Rv(this.g)}${Rv(this.b)}`}function nAe(){return`#${Rv(this.r)}${Rv(this.g)}${Rv(this.b)}${Rv((isNaN(this.opacity)?1:this.opacity)*255)}`}function mG(){const t=tC(this.opacity);return`${t===1?"rgb(":"rgba("}${iy(this.r)}, ${iy(this.g)}, ${iy(this.b)}${t===1?")":`, ${t})`}`}function tC(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function iy(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Rv(t){return t=iy(t),(t<16?"0":"")+t.toString(16)}function gG(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new uf(t,e,r,n)}function one(t){if(t instanceof uf)return new uf(t.h,t.s,t.l,t.opacity);if(t instanceof zE||(t=Z_(t)),!t)return new uf;if(t instanceof uf)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(e===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-e)/o+2:s=(e-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new uf(s,o,l,t.opacity)}function aAe(t,e,r,n){return arguments.length===1?one(t):new uf(t,e,r,n??1)}function uf(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}h7(uf,aAe,sne(zE,{brighter(t){return t=t==null?eC:Math.pow(eC,t),new uf(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?X_:Math.pow(X_,t),new uf(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new xu(qD(t>=240?t-240:t+120,a,n),qD(t,a,n),qD(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new uf(xG(this.h),PT(this.s),PT(this.l),tC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=tC(this.opacity);return`${t===1?"hsl(":"hsla("}${xG(this.h)}, ${PT(this.s)*100}%, ${PT(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xG(t){return t=(t||0)%360,t<0?t+360:t}function PT(t){return Math.max(0,Math.min(1,t||0))}function qD(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const f7=t=>()=>t;function iAe(t,e){return function(r){return t+r*e}}function sAe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function oAe(t){return(t=+t)==1?lne:function(e,r){return r-e?sAe(e,r,t):f7(isNaN(e)?r:e)}}function lne(t,e){var r=e-t;return r?iAe(t,r):f7(isNaN(t)?e:t)}const vG=(function t(e){var r=oAe(e);function n(a,i){var s=r((a=kM(a)).r,(i=kM(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),u=lne(a.opacity,i.opacity);return function(h){return a.r=s(h),a.g=o(h),a.b=l(h),a.opacity=u(h),a+""}}return n.gamma=t,n})(1);function lAe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function cAe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function uAe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=v5(t[s],e[s]);for(;s<r;++s)i[s]=e[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function dAe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function rC(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function hAe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=v5(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var PM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,GD=new RegExp(PM.source,"g");function fAe(t){return function(){return t}}function pAe(t){return function(e){return t(e)+""}}function mAe(t,e){var r=PM.lastIndex=GD.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(t=t+"",e=e+"";(n=PM.exec(t))&&(a=GD.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:rC(n,a)})),r=GD.lastIndex;return r<e.length&&(i=e.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?pAe(l[0].x):fAe(e):(e=l.length,function(u){for(var h=0,f;h<e;++h)o[(f=l[h]).i]=f.x(u);return o.join("")})}function v5(t,e){var r=typeof e,n;return e==null||r==="boolean"?f7(e):(r==="number"?rC:r==="string"?(n=Z_(e))?(e=n,vG):mAe:e instanceof Z_?vG:e instanceof Date?dAe:cAe(e)?lAe:Array.isArray(e)?uAe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?hAe:rC)(t,e)}function p7(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function gAe(t,e){e===void 0&&(e=t,t=v5);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function xAe(t){return function(){return t}}function nC(t){return+t}var yG=[0,1];function Oc(t){return t}function OM(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:xAe(isNaN(e)?NaN:.5)}function vAe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function yAe(t,e,r){var n=t[0],a=t[1],i=e[0],s=e[1];return a<n?(n=OM(a,n),i=r(s,i)):(n=OM(n,a),i=r(i,s)),function(o){return i(n(o))}}function bAe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)a[s]=OM(t[s],t[s+1]),i[s]=r(e[s],e[s+1]);return function(o){var l=UE(t,o,1,n)-1;return i[l](a[l](o))}}function $E(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function sP(){var t=yG,e=yG,r=v5,n,a,i,s=Oc,o,l,u;function h(){var m=Math.min(t.length,e.length);return s!==Oc&&(s=vAe(t[0],t[m-1])),o=m>2?bAe:yAe,l=u=null,f}function f(m){return m==null||isNaN(m=+m)?i:(l||(l=o(t.map(n),e,r)))(n(s(m)))}return f.invert=function(m){return s(a((u||(u=o(e,t.map(n),rC)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,nC),h()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),h()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),r=p7,h()},f.clamp=function(m){return arguments.length?(s=m?!0:Oc,h()):s!==Oc},f.interpolate=function(m){return arguments.length?(r=m,h()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,g){return n=m,a=g,h()}}function m7(){return sP()(Oc,Oc)}function wAe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function aC(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function s5(t){return t=aC(Math.abs(t)),t?t[1]:NaN}function AAe(t,e){return function(r,n){for(var a=r.length,i=[],s=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return i.reverse().join(e)}}function _Ae(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var SAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Q_(t){if(!(e=SAe.exec(t)))throw new Error("invalid format: "+t);var e;return new g7({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Q_.prototype=g7.prototype;function g7(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}g7.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function NAe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var cne;function EAe(t,e){var r=aC(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(cne=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+aC(t,Math.max(0,e+i-1))[0]}function bG(t,e){var r=aC(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const wG={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wAe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>bG(t*100,e),r:bG,s:EAe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function AG(t){return t}var _G=Array.prototype.map,SG=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function TAe(t){var e=t.grouping===void 0||t.thousands===void 0?AG:AAe(_G.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?AG:_Ae(_G.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Q_(f);var m=f.fill,g=f.align,b=f.sign,y=f.symbol,w=f.zero,A=f.width,S=f.comma,N=f.precision,T=f.trim,k=f.type;k==="n"?(S=!0,k="g"):wG[k]||(N===void 0&&(N=12),T=!0,k="g"),(w||m==="0"&&g==="=")&&(w=!0,m="0",g="=");var R=y==="$"?r:y==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",O=y==="$"?n:/[%p]/.test(k)?s:"",U=wG[k],H=/[defgprs%]/.test(k);N=N===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function G(F){var L=R,re=O,Z,pe,Q;if(k==="c")re=U(F)+re,F="";else{F=+F;var X=F<0||1/F<0;if(F=isNaN(F)?l:U(Math.abs(F),N),T&&(F=NAe(F)),X&&+F==0&&b!=="+"&&(X=!1),L=(X?b==="("?b:o:b==="-"||b==="("?"":b)+L,re=(k==="s"?SG[8+cne/3]:"")+re+(X&&b==="("?")":""),H){for(Z=-1,pe=F.length;++Z<pe;)if(Q=F.charCodeAt(Z),48>Q||Q>57){re=(Q===46?a+F.slice(Z+1):F.slice(Z))+re,F=F.slice(0,Z);break}}}S&&!w&&(F=e(F,1/0));var oe=L.length+F.length+re.length,ce=oe<A?new Array(A-oe+1).join(m):"";switch(S&&w&&(F=e(ce+F,ce.length?A-re.length:1/0),ce=""),g){case"<":F=L+F+re+ce;break;case"=":F=L+ce+F+re;break;case"^":F=ce.slice(0,oe=ce.length>>1)+L+F+re+ce.slice(oe);break;default:F=ce+L+F+re;break}return i(F)}return G.toString=function(){return f+""},G}function h(f,m){var g=u((f=Q_(f),f.type="f",f)),b=Math.max(-8,Math.min(8,Math.floor(s5(m)/3)))*3,y=Math.pow(10,-b),w=SG[8+b/3];return function(A){return g(y*A)+w}}return{format:u,formatPrefix:h}}var OT,x7,une;jAe({thousands:",",grouping:[3],currency:["$",""]});function jAe(t){return OT=TAe(t),x7=OT.format,une=OT.formatPrefix,OT}function CAe(t){return Math.max(0,-s5(Math.abs(t)))}function kAe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(s5(e)/3)))*3-s5(Math.abs(t)))}function PAe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,s5(e)-s5(t))+1}function dne(t,e,r,n){var a=jM(t,e,r),i;switch(n=Q_(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=kAe(a,s))&&(n.precision=i),une(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=PAe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=CAe(a))&&(n.precision=i-(n.type==="%")*2);break}}return x7(n)}function Zx(t){var e=t.domain;return t.ticks=function(r){var n=e();return EM(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return dne(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,s=n[a],o=n[i],l,u,h=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);h-- >0;){if(u=TM(s,o,r),u===l)return n[a]=s,n[i]=o,e(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function hne(){var t=m7();return t.copy=function(){return $E(t,hne())},gh.apply(t,arguments),Zx(t)}function fne(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,nC),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return fne(t).unknown(e)},t=arguments.length?Array.from(t,nC):[0,1],Zx(r)}function pne(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),t[r]=e.floor(a),t[n]=e.ceil(i),t}function NG(t){return Math.log(t)}function EG(t){return Math.exp(t)}function OAe(t){return-Math.log(-t)}function DAe(t){return-Math.exp(-t)}function RAe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function IAe(t){return t===10?RAe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function LAe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function TG(t){return(e,r)=>-t(-e,r)}function v7(t){const e=t(NG,EG),r=e.domain;let n=10,a,i;function s(){return a=LAe(n),i=IAe(n),r()[0]<0?(a=TG(a),i=TG(i),t(OAe,DAe)):t(NG,EG),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const l=r();let u=l[0],h=l[l.length-1];const f=h<u;f&&([u,h]=[h,u]);let m=a(u),g=a(h),b,y;const w=o==null?10:+o;let A=[];if(!(n%1)&&g-m<w){if(m=Math.floor(m),g=Math.ceil(g),u>0){for(;m<=g;++m)for(b=1;b<n;++b)if(y=m<0?b/i(-m):b*i(m),!(y<u)){if(y>h)break;A.push(y)}}else for(;m<=g;++m)for(b=n-1;b>=1;--b)if(y=m>0?b/i(-m):b*i(m),!(y<u)){if(y>h)break;A.push(y)}A.length*2<w&&(A=EM(u,h,w))}else A=EM(m,g,Math.min(g-m,w)).map(i);return f?A.reverse():A},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Q_(l)).precision==null&&(l.trim=!0),l=x7(l)),o===1/0)return l;const u=Math.max(1,n*o/e.ticks().length);return h=>{let f=h/i(Math.round(a(h)));return f*n<n-.5&&(f*=n),f<=u?l(h):""}},e.nice=()=>r(pne(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),e}function mne(){const t=v7(sP()).domain([1,10]);return t.copy=()=>$E(t,mne()).base(t.base()),gh.apply(t,arguments),t}function jG(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function CG(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function y7(t){var e=1,r=t(jG(e),CG(e));return r.constant=function(n){return arguments.length?t(jG(e=+n),CG(e)):e},Zx(r)}function gne(){var t=y7(sP());return t.copy=function(){return $E(t,gne()).constant(t.constant())},gh.apply(t,arguments)}function kG(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function MAe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function FAe(t){return t<0?-t*t:t*t}function b7(t){var e=t(Oc,Oc),r=1;function n(){return r===1?t(Oc,Oc):r===.5?t(MAe,FAe):t(kG(r),kG(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Zx(e)}function w7(){var t=b7(sP());return t.copy=function(){return $E(t,w7()).exponent(t.exponent())},gh.apply(t,arguments),t}function BAe(){return w7.apply(null,arguments).exponent(.5)}function PG(t){return Math.sign(t)*t*t}function UAe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function xne(){var t=m7(),e=[0,1],r=!1,n;function a(i){var s=UAe(t(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return t.invert(PG(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,nC)).map(PG)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return xne(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},gh.apply(a,arguments),Zx(a)}function vne(){var t=[],e=[],r=[],n;function a(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=H5e(t,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:e[UE(r,s)]}return i.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Rx),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return vne().domain(t).range(e).unknown(n)},gh.apply(i,arguments)}function yne(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[UE(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return yne().domain([t,e]).range(a).unknown(i)},gh.apply(Zx(s),arguments)}function bne(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[UE(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return bne().domain(t).range(e).unknown(r)},gh.apply(a,arguments)}const WD=new Date,KD=new Date;function No(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let u;do l.push(u=new Date(+i)),e(i,o),t(i);while(u<i&&i<s);return l},a.filter=i=>No(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!i(s););else for(;--o>=0;)for(;e(s,1),!i(s););}),r&&(a.count=(i,s)=>(WD.setTime(+i),KD.setTime(+s),t(WD),t(KD),Math.floor(r(WD,KD))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const iC=No(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);iC.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?No(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):iC);iC.range;const cm=1e3,sh=cm*60,um=sh*60,jm=um*24,A7=jm*7,OG=jm*30,YD=jm*365,Iv=No(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*cm)},(t,e)=>(e-t)/cm,t=>t.getUTCSeconds());Iv.range;const _7=No(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*cm)},(t,e)=>{t.setTime(+t+e*sh)},(t,e)=>(e-t)/sh,t=>t.getMinutes());_7.range;const S7=No(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*sh)},(t,e)=>(e-t)/sh,t=>t.getUTCMinutes());S7.range;const N7=No(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*cm-t.getMinutes()*sh)},(t,e)=>{t.setTime(+t+e*um)},(t,e)=>(e-t)/um,t=>t.getHours());N7.range;const E7=No(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*um)},(t,e)=>(e-t)/um,t=>t.getUTCHours());E7.range;const VE=No(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*sh)/jm,t=>t.getDate()-1);VE.range;const oP=No(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/jm,t=>t.getUTCDate()-1);oP.range;const wne=No(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/jm,t=>Math.floor(t/jm));wne.range;function By(t){return No(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*sh)/A7)}const lP=By(0),sC=By(1),zAe=By(2),$Ae=By(3),o5=By(4),VAe=By(5),HAe=By(6);lP.range;sC.range;zAe.range;$Ae.range;o5.range;VAe.range;HAe.range;function Uy(t){return No(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/A7)}const cP=Uy(0),oC=Uy(1),qAe=Uy(2),GAe=Uy(3),l5=Uy(4),WAe=Uy(5),KAe=Uy(6);cP.range;oC.range;qAe.range;GAe.range;l5.range;WAe.range;KAe.range;const T7=No(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());T7.range;const j7=No(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());j7.range;const Cm=No(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Cm.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:No(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Cm.range;const km=No(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());km.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:No(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});km.range;function Ane(t,e,r,n,a,i){const s=[[Iv,1,cm],[Iv,5,5*cm],[Iv,15,15*cm],[Iv,30,30*cm],[i,1,sh],[i,5,5*sh],[i,15,15*sh],[i,30,30*sh],[a,1,um],[a,3,3*um],[a,6,6*um],[a,12,12*um],[n,1,jm],[n,2,2*jm],[r,1,A7],[e,1,OG],[e,3,3*OG],[t,1,YD]];function o(u,h,f){const m=h<u;m&&([u,h]=[h,u]);const g=f&&typeof f.range=="function"?f:l(u,h,f),b=g?g.range(u,+h+1):[];return m?b.reverse():b}function l(u,h,f){const m=Math.abs(h-u)/f,g=c7(([,,w])=>w).right(s,m);if(g===s.length)return t.every(jM(u/YD,h/YD,f));if(g===0)return iC.every(Math.max(jM(u,h,f),1));const[b,y]=s[m/s[g-1][2]<s[g][2]/m?g-1:g];return b.every(y)}return[o,l]}const[YAe,XAe]=Ane(km,j7,cP,wne,E7,S7),[JAe,ZAe]=Ane(Cm,T7,lP,VE,N7,_7);function XD(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function JD(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function SA(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function QAe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=NA(a),h=EA(a),f=NA(i),m=EA(i),g=NA(s),b=EA(s),y=NA(o),w=EA(o),A=NA(l),S=EA(l),N={a:X,A:oe,b:ce,B:Ne,c:null,d:FG,e:FG,f:A_e,g:O_e,G:R_e,H:y_e,I:b_e,j:w_e,L:_ne,m:__e,M:S_e,p:ne,q:B,Q:zG,s:$G,S:N_e,u:E_e,U:T_e,V:j_e,w:C_e,W:k_e,x:null,X:null,y:P_e,Y:D_e,Z:I_e,"%":UG},T={a:V,A:Y,b:K,B:le,c:null,d:BG,e:BG,f:B_e,g:Y_e,G:J_e,H:L_e,I:M_e,j:F_e,L:Nne,m:U_e,M:z_e,p:Ae,q:De,Q:zG,s:$G,S:$_e,u:V_e,U:H_e,V:q_e,w:G_e,W:W_e,x:null,X:null,y:K_e,Y:X_e,Z:Z_e,"%":UG},k={a:G,A:F,b:L,B:re,c:Z,d:LG,e:LG,f:m_e,g:IG,G:RG,H:MG,I:MG,j:d_e,L:p_e,m:u_e,M:h_e,p:H,q:c_e,Q:x_e,s:v_e,S:f_e,u:a_e,U:i_e,V:s_e,w:n_e,W:o_e,x:pe,X:Q,y:IG,Y:RG,Z:l_e,"%":g_e};N.x=R(r,N),N.X=R(n,N),N.c=R(e,N),T.x=R(r,T),T.X=R(n,T),T.c=R(e,T);function R(de,Le){return function(Ge){var Re=[],wt=-1,St=0,rt=de.length,Te,Nt,rr;for(Ge instanceof Date||(Ge=new Date(+Ge));++wt<rt;)de.charCodeAt(wt)===37&&(Re.push(de.slice(St,wt)),(Nt=DG[Te=de.charAt(++wt)])!=null?Te=de.charAt(++wt):Nt=Te==="e"?" ":"0",(rr=Le[Te])&&(Te=rr(Ge,Nt)),Re.push(Te),St=wt+1);return Re.push(de.slice(St,wt)),Re.join("")}}function O(de,Le){return function(Ge){var Re=SA(1900,void 0,1),wt=U(Re,de,Ge+="",0),St,rt;if(wt!=Ge.length)return null;if("Q"in Re)return new Date(Re.Q);if("s"in Re)return new Date(Re.s*1e3+("L"in Re?Re.L:0));if(Le&&!("Z"in Re)&&(Re.Z=0),"p"in Re&&(Re.H=Re.H%12+Re.p*12),Re.m===void 0&&(Re.m="q"in Re?Re.q:0),"V"in Re){if(Re.V<1||Re.V>53)return null;"w"in Re||(Re.w=1),"Z"in Re?(St=JD(SA(Re.y,0,1)),rt=St.getUTCDay(),St=rt>4||rt===0?oC.ceil(St):oC(St),St=oP.offset(St,(Re.V-1)*7),Re.y=St.getUTCFullYear(),Re.m=St.getUTCMonth(),Re.d=St.getUTCDate()+(Re.w+6)%7):(St=XD(SA(Re.y,0,1)),rt=St.getDay(),St=rt>4||rt===0?sC.ceil(St):sC(St),St=VE.offset(St,(Re.V-1)*7),Re.y=St.getFullYear(),Re.m=St.getMonth(),Re.d=St.getDate()+(Re.w+6)%7)}else("W"in Re||"U"in Re)&&("w"in Re||(Re.w="u"in Re?Re.u%7:"W"in Re?1:0),rt="Z"in Re?JD(SA(Re.y,0,1)).getUTCDay():XD(SA(Re.y,0,1)).getDay(),Re.m=0,Re.d="W"in Re?(Re.w+6)%7+Re.W*7-(rt+5)%7:Re.w+Re.U*7-(rt+6)%7);return"Z"in Re?(Re.H+=Re.Z/100|0,Re.M+=Re.Z%100,JD(Re)):XD(Re)}}function U(de,Le,Ge,Re){for(var wt=0,St=Le.length,rt=Ge.length,Te,Nt;wt<St;){if(Re>=rt)return-1;if(Te=Le.charCodeAt(wt++),Te===37){if(Te=Le.charAt(wt++),Nt=k[Te in DG?Le.charAt(wt++):Te],!Nt||(Re=Nt(de,Ge,Re))<0)return-1}else if(Te!=Ge.charCodeAt(Re++))return-1}return Re}function H(de,Le,Ge){var Re=u.exec(Le.slice(Ge));return Re?(de.p=h.get(Re[0].toLowerCase()),Ge+Re[0].length):-1}function G(de,Le,Ge){var Re=g.exec(Le.slice(Ge));return Re?(de.w=b.get(Re[0].toLowerCase()),Ge+Re[0].length):-1}function F(de,Le,Ge){var Re=f.exec(Le.slice(Ge));return Re?(de.w=m.get(Re[0].toLowerCase()),Ge+Re[0].length):-1}function L(de,Le,Ge){var Re=A.exec(Le.slice(Ge));return Re?(de.m=S.get(Re[0].toLowerCase()),Ge+Re[0].length):-1}function re(de,Le,Ge){var Re=y.exec(Le.slice(Ge));return Re?(de.m=w.get(Re[0].toLowerCase()),Ge+Re[0].length):-1}function Z(de,Le,Ge){return U(de,e,Le,Ge)}function pe(de,Le,Ge){return U(de,r,Le,Ge)}function Q(de,Le,Ge){return U(de,n,Le,Ge)}function X(de){return s[de.getDay()]}function oe(de){return i[de.getDay()]}function ce(de){return l[de.getMonth()]}function Ne(de){return o[de.getMonth()]}function ne(de){return a[+(de.getHours()>=12)]}function B(de){return 1+~~(de.getMonth()/3)}function V(de){return s[de.getUTCDay()]}function Y(de){return i[de.getUTCDay()]}function K(de){return l[de.getUTCMonth()]}function le(de){return o[de.getUTCMonth()]}function Ae(de){return a[+(de.getUTCHours()>=12)]}function De(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var Le=R(de+="",N);return Le.toString=function(){return de},Le},parse:function(de){var Le=O(de+="",!1);return Le.toString=function(){return de},Le},utcFormat:function(de){var Le=R(de+="",T);return Le.toString=function(){return de},Le},utcParse:function(de){var Le=O(de+="",!0);return Le.toString=function(){return de},Le}}}var DG={"-":"",_:" ",0:"0"},Zo=/^\s*\d+/,e_e=/^%/,t_e=/[\\^$*+?|[\]().{}]/g;function Zn(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function r_e(t){return t.replace(t_e,"\\$&")}function NA(t){return new RegExp("^(?:"+t.map(r_e).join("|")+")","i")}function EA(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function n_e(t,e,r){var n=Zo.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function a_e(t,e,r){var n=Zo.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function i_e(t,e,r){var n=Zo.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function s_e(t,e,r){var n=Zo.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function o_e(t,e,r){var n=Zo.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function RG(t,e,r){var n=Zo.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function IG(t,e,r){var n=Zo.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function l_e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function c_e(t,e,r){var n=Zo.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function u_e(t,e,r){var n=Zo.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function LG(t,e,r){var n=Zo.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function d_e(t,e,r){var n=Zo.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function MG(t,e,r){var n=Zo.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function h_e(t,e,r){var n=Zo.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function f_e(t,e,r){var n=Zo.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function p_e(t,e,r){var n=Zo.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function m_e(t,e,r){var n=Zo.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function g_e(t,e,r){var n=e_e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function x_e(t,e,r){var n=Zo.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function v_e(t,e,r){var n=Zo.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function FG(t,e){return Zn(t.getDate(),e,2)}function y_e(t,e){return Zn(t.getHours(),e,2)}function b_e(t,e){return Zn(t.getHours()%12||12,e,2)}function w_e(t,e){return Zn(1+VE.count(Cm(t),t),e,3)}function _ne(t,e){return Zn(t.getMilliseconds(),e,3)}function A_e(t,e){return _ne(t,e)+"000"}function __e(t,e){return Zn(t.getMonth()+1,e,2)}function S_e(t,e){return Zn(t.getMinutes(),e,2)}function N_e(t,e){return Zn(t.getSeconds(),e,2)}function E_e(t){var e=t.getDay();return e===0?7:e}function T_e(t,e){return Zn(lP.count(Cm(t)-1,t),e,2)}function Sne(t){var e=t.getDay();return e>=4||e===0?o5(t):o5.ceil(t)}function j_e(t,e){return t=Sne(t),Zn(o5.count(Cm(t),t)+(Cm(t).getDay()===4),e,2)}function C_e(t){return t.getDay()}function k_e(t,e){return Zn(sC.count(Cm(t)-1,t),e,2)}function P_e(t,e){return Zn(t.getFullYear()%100,e,2)}function O_e(t,e){return t=Sne(t),Zn(t.getFullYear()%100,e,2)}function D_e(t,e){return Zn(t.getFullYear()%1e4,e,4)}function R_e(t,e){var r=t.getDay();return t=r>=4||r===0?o5(t):o5.ceil(t),Zn(t.getFullYear()%1e4,e,4)}function I_e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Zn(e/60|0,"0",2)+Zn(e%60,"0",2)}function BG(t,e){return Zn(t.getUTCDate(),e,2)}function L_e(t,e){return Zn(t.getUTCHours(),e,2)}function M_e(t,e){return Zn(t.getUTCHours()%12||12,e,2)}function F_e(t,e){return Zn(1+oP.count(km(t),t),e,3)}function Nne(t,e){return Zn(t.getUTCMilliseconds(),e,3)}function B_e(t,e){return Nne(t,e)+"000"}function U_e(t,e){return Zn(t.getUTCMonth()+1,e,2)}function z_e(t,e){return Zn(t.getUTCMinutes(),e,2)}function $_e(t,e){return Zn(t.getUTCSeconds(),e,2)}function V_e(t){var e=t.getUTCDay();return e===0?7:e}function H_e(t,e){return Zn(cP.count(km(t)-1,t),e,2)}function Ene(t){var e=t.getUTCDay();return e>=4||e===0?l5(t):l5.ceil(t)}function q_e(t,e){return t=Ene(t),Zn(l5.count(km(t),t)+(km(t).getUTCDay()===4),e,2)}function G_e(t){return t.getUTCDay()}function W_e(t,e){return Zn(oC.count(km(t)-1,t),e,2)}function K_e(t,e){return Zn(t.getUTCFullYear()%100,e,2)}function Y_e(t,e){return t=Ene(t),Zn(t.getUTCFullYear()%100,e,2)}function X_e(t,e){return Zn(t.getUTCFullYear()%1e4,e,4)}function J_e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?l5(t):l5.ceil(t),Zn(t.getUTCFullYear()%1e4,e,4)}function Z_e(){return"+0000"}function UG(){return"%"}function zG(t){return+t}function $G(t){return Math.floor(+t/1e3)}var jb,Tne,jne;Q_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Q_e(t){return jb=QAe(t),Tne=jb.format,jb.parse,jne=jb.utcFormat,jb.utcParse,jb}function eSe(t){return new Date(t)}function tSe(t){return t instanceof Date?+t:+new Date(+t)}function C7(t,e,r,n,a,i,s,o,l,u){var h=m7(),f=h.invert,m=h.domain,g=u(".%L"),b=u(":%S"),y=u("%I:%M"),w=u("%I %p"),A=u("%a %d"),S=u("%b %d"),N=u("%B"),T=u("%Y");function k(R){return(l(R)<R?g:o(R)<R?b:s(R)<R?y:i(R)<R?w:n(R)<R?a(R)<R?A:S:r(R)<R?N:T)(R)}return h.invert=function(R){return new Date(f(R))},h.domain=function(R){return arguments.length?m(Array.from(R,tSe)):m().map(eSe)},h.ticks=function(R){var O=m();return t(O[0],O[O.length-1],R??10)},h.tickFormat=function(R,O){return O==null?k:u(O)},h.nice=function(R){var O=m();return(!R||typeof R.range!="function")&&(R=e(O[0],O[O.length-1],R??10)),R?m(pne(O,R)):h},h.copy=function(){return $E(h,C7(t,e,r,n,a,i,s,o,l,u))},h}function rSe(){return gh.apply(C7(JAe,ZAe,Cm,T7,lP,VE,N7,_7,Iv,Tne).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nSe(){return gh.apply(C7(YAe,XAe,km,j7,cP,oP,E7,S7,Iv,jne).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function uP(){var t=0,e=1,r,n,a,i,s=Oc,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function h(f){return function(m){var g,b;return arguments.length?([g,b]=m,s=f(g,b),u):[s(0),s(1)]}}return u.range=h(v5),u.rangeRound=h(p7),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function Qx(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Cne(){var t=Zx(uP()(Oc));return t.copy=function(){return Qx(t,Cne())},$m.apply(t,arguments)}function kne(){var t=v7(uP()).domain([1,10]);return t.copy=function(){return Qx(t,kne()).base(t.base())},$m.apply(t,arguments)}function Pne(){var t=y7(uP());return t.copy=function(){return Qx(t,Pne()).constant(t.constant())},$m.apply(t,arguments)}function k7(){var t=b7(uP());return t.copy=function(){return Qx(t,k7()).exponent(t.exponent())},$m.apply(t,arguments)}function aSe(){return k7.apply(null,arguments).exponent(.5)}function One(){var t=[],e=Oc;function r(n){if(n!=null&&!isNaN(n=+n))return e((UE(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Rx),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>V5e(t,i/n))},r.copy=function(){return One(e).domain(t)},$m.apply(r,arguments)}function dP(){var t=0,e=.5,r=1,n=1,a,i,s,o,l,u=Oc,h,f=!1,m;function g(y){return isNaN(y=+y)?m:(y=.5+((y=+h(y))-i)*(n*y<n*i?o:l),u(f?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,r]=y,a=h(t=+t),i=h(e=+e),s=h(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,g):[t,e,r]},g.clamp=function(y){return arguments.length?(f=!!y,g):f},g.interpolator=function(y){return arguments.length?(u=y,g):u};function b(y){return function(w){var A,S,N;return arguments.length?([A,S,N]=w,u=gAe(y,[A,S,N]),g):[u(0),u(.5),u(1)]}}return g.range=b(v5),g.rangeRound=b(p7),g.unknown=function(y){return arguments.length?(m=y,g):m},function(y){return h=y,a=y(t),i=y(e),s=y(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,g}}function Dne(){var t=Zx(dP()(Oc));return t.copy=function(){return Qx(t,Dne())},$m.apply(t,arguments)}function Rne(){var t=v7(dP()).domain([.1,1,10]);return t.copy=function(){return Qx(t,Rne()).base(t.base())},$m.apply(t,arguments)}function Ine(){var t=y7(dP());return t.copy=function(){return Qx(t,Ine()).constant(t.constant())},$m.apply(t,arguments)}function P7(){var t=b7(dP());return t.copy=function(){return Qx(t,P7()).exponent(t.exponent())},$m.apply(t,arguments)}function iSe(){return P7.apply(null,arguments).exponent(.5)}const o_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:d7,scaleDiverging:Dne,scaleDivergingLog:Rne,scaleDivergingPow:P7,scaleDivergingSqrt:iSe,scaleDivergingSymlog:Ine,scaleIdentity:fne,scaleImplicit:CM,scaleLinear:hne,scaleLog:mne,scaleOrdinal:u7,scalePoint:G5e,scalePow:w7,scaleQuantile:vne,scaleQuantize:yne,scaleRadial:xne,scaleSequential:Cne,scaleSequentialLog:kne,scaleSequentialPow:k7,scaleSequentialQuantile:One,scaleSequentialSqrt:aSe,scaleSequentialSymlog:Pne,scaleSqrt:BAe,scaleSymlog:gne,scaleThreshold:bne,scaleTime:rSe,scaleUtc:nSe,tickFormat:dne},Symbol.toStringTag,{value:"Module"}));var Vm=t=>t.chartData,hP=mt([Vm],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),O7=(t,e,r,n)=>n?hP(t):Vm(t),sSe=(t,e,r)=>r?hP(t):Vm(t);function Ux(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(Pi(e)&&Pi(r))return!0}return!1}function VG(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Lne(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,a,i;if(Pi(r))a=r;else if(typeof r=="function")return;if(Pi(n))i=n;else if(typeof n=="function")return;var s=[a,i];if(Ux(s))return s}}function oSe(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(Ux(n))return VG(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[a,i]=t,s,o;if(a==="auto")e!=null&&(s=Math.min(...e));else if(Pr(a))s=a;else if(typeof a=="function")try{e!=null&&(s=a(e==null?void 0:e[0]))}catch{}else if(typeof a=="string"&&rq.test(a)){var l=rq.exec(a);if(l==null||l[1]==null||e==null)s=void 0;else{var u=+l[1];s=e[0]-u}}else s=e==null?void 0:e[0];if(i==="auto")e!=null&&(o=Math.max(...e));else if(Pr(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e==null?void 0:e[1]))}catch{}else if(typeof i=="string"&&nq.test(i)){var h=nq.exec(i);if(h==null||h[1]==null||e==null)o=void 0;else{var f=+h[1];o=e[1]+f}}else o=e==null?void 0:e[1];var m=[s,o];if(Ux(m))return e==null?m:VG(m,e,r)}}}var y5=1e9,lSe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},R7,Ci=!0,fh="[DecimalError] ",sy=fh+"Invalid argument: ",D7=fh+"Exponent out of range: ",b5=Math.floor,Sv=Math.pow,cSe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pd,Ho=1e7,di=7,Mne=9007199254740991,lC=b5(Mne/di),jr={};jr.absoluteValue=jr.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};jr.comparedTo=jr.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};jr.decimalPlaces=jr.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*di;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};jr.dividedBy=jr.div=function(t){return hm(this,new this.constructor(t))};jr.dividedToIntegerBy=jr.idiv=function(t){var e=this,r=e.constructor;return Xa(hm(e,new r(t),0,1),r.precision)};jr.equals=jr.eq=function(t){return!this.cmp(t)};jr.exponent=function(){return Gs(this)};jr.greaterThan=jr.gt=function(t){return this.cmp(t)>0};jr.greaterThanOrEqualTo=jr.gte=function(t){return this.cmp(t)>=0};jr.isInteger=jr.isint=function(){return this.e>this.d.length-2};jr.isNegative=jr.isneg=function(){return this.s<0};jr.isPositive=jr.ispos=function(){return this.s>0};jr.isZero=function(){return this.s===0};jr.lessThan=jr.lt=function(t){return this.cmp(t)<0};jr.lessThanOrEqualTo=jr.lte=function(t){return this.cmp(t)<1};jr.logarithm=jr.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(pd))throw Error(fh+"NaN");if(r.s<1)throw Error(fh+(r.s?"NaN":"-Infinity"));return r.eq(pd)?new n(0):(Ci=!1,e=hm(eS(r,i),eS(t,i),i),Ci=!0,Xa(e,a))};jr.minus=jr.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Une(e,t):Fne(e,(t.s=-t.s,t))};jr.modulo=jr.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(fh+"NaN");return r.s?(Ci=!1,e=hm(r,t,0,1).times(t),Ci=!0,r.minus(e)):Xa(new n(r),a)};jr.naturalExponential=jr.exp=function(){return Bne(this)};jr.naturalLogarithm=jr.ln=function(){return eS(this)};jr.negated=jr.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};jr.plus=jr.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Fne(e,t):Une(e,(t.s=-t.s,t))};jr.precision=jr.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(sy+t);if(e=Gs(a)+1,n=a.d.length-1,r=n*di+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};jr.squareRoot=jr.sqrt=function(){var t,e,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(fh+"NaN")}for(t=Gs(o),Ci=!1,a=Math.sqrt(+o),a==0||a==1/0?(e=R0(o.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=b5((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(hm(o,i,s+2)).times(.5),R0(i.d).slice(0,s)===(e=R0(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(Xa(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(e!="9999")break;s+=4}return Ci=!0,Xa(n,r)};jr.times=jr.mul=function(t){var e,r,n,a,i,s,o,l,u,h=this,f=h.constructor,m=h.d,g=(t=new f(t)).d;if(!h.s||!t.s)return new f(0);for(t.s*=h.s,r=h.e+t.e,l=m.length,u=g.length,l<u&&(i=m,m=g,g=i,s=l,l=u,u=s),i=[],s=l+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(e=0,a=l+n;a>n;)o=i[a]+g[n]*m[a-n-1]+e,i[a--]=o%Ho|0,e=o/Ho|0;i[a]=(i[a]+e)%Ho|0}for(;!i[--s];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Ci?Xa(t,f.precision):t};jr.toDecimalPlaces=jr.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(V0(t,0,y5),e===void 0?e=n.rounding:V0(e,0,8),Xa(r,t+Gs(r)+1,e))};jr.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=Cy(n,!0):(V0(t,0,y5),e===void 0?e=a.rounding:V0(e,0,8),n=Xa(new a(n),t+1,e),r=Cy(n,!0,t+1)),r};jr.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?Cy(a):(V0(t,0,y5),e===void 0?e=i.rounding:V0(e,0,8),n=Xa(new i(a),t+Gs(a)+1,e),r=Cy(n.abs(),!1,t+Gs(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};jr.toInteger=jr.toint=function(){var t=this,e=t.constructor;return Xa(new e(t),Gs(t)+1,e.rounding)};jr.toNumber=function(){return+this};jr.toPower=jr.pow=function(t){var e,r,n,a,i,s,o=this,l=o.constructor,u=12,h=+(t=new l(t));if(!t.s)return new l(pd);if(o=new l(o),!o.s){if(t.s<1)throw Error(fh+"Infinity");return o}if(o.eq(pd))return o;if(n=l.precision,t.eq(pd))return Xa(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,i=o.s,s){if((r=h<0?-h:h)<=Mne){for(a=new l(pd),e=Math.ceil(n/di+4),Ci=!1;r%2&&(a=a.times(o),qG(a.d,e)),r=b5(r/2),r!==0;)o=o.times(o),qG(o.d,e);return Ci=!0,t.s<0?new l(pd).div(a):Xa(a,n)}}else if(i<0)throw Error(fh+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Ci=!1,a=t.times(eS(o,n+u)),Ci=!0,a=Bne(a),a.s=i,a};jr.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=Gs(a),n=Cy(a,r<=i.toExpNeg||r>=i.toExpPos)):(V0(t,1,y5),e===void 0?e=i.rounding:V0(e,0,8),a=Xa(new i(a),t,e),r=Gs(a),n=Cy(a,t<=r||r<=i.toExpNeg,t)),n};jr.toSignificantDigits=jr.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(V0(t,1,y5),e===void 0?e=n.rounding:V0(e,0,8)),Xa(new n(r),t,e)};jr.toString=jr.valueOf=jr.val=jr.toJSON=jr[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Gs(t),r=t.constructor;return Cy(t,e<=r.toExpNeg||e>=r.toExpPos)};function Fne(t,e){var r,n,a,i,s,o,l,u,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Ci?Xa(e,f):e;if(l=t.d,u=e.d,s=t.e,a=e.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=u.length):(n=u,a=s,o=l.length),s=Math.ceil(f/di),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=u.length,o-i<0&&(i=o,n=u,u=l,l=n),r=0;i;)r=(l[--i]=l[i]+u[i]+r)/Ho|0,l[i]%=Ho;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=a,Ci?Xa(e,f):e}function V0(t,e,r){if(t!==~~t||t<e||t>r)throw Error(sy+t)}function R0(t){var e,r,n,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)n=t[e]+"",r=di-n.length,r&&(i+=jg(r)),i+=n;s=t[e],n=s+"",r=di-n.length,r&&(i+=jg(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var hm=(function(){function t(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Ho|0,s=i/Ho|0;return s&&n.unshift(s),n}function e(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Ho+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,u,h,f,m,g,b,y,w,A,S,N,T,k,R,O,U,H=n.constructor,G=n.s==a.s?1:-1,F=n.d,L=a.d;if(!n.s)return new H(n);if(!a.s)throw Error(fh+"Division by zero");for(l=n.e-a.e,O=L.length,k=F.length,g=new H(G),b=g.d=[],u=0;L[u]==(F[u]||0);)++u;if(L[u]>(F[u]||0)&&--l,i==null?S=i=H.precision:s?S=i+(Gs(n)-Gs(a))+1:S=i,S<0)return new H(0);if(S=S/di+2|0,u=0,O==1)for(h=0,L=L[0],S++;(u<k||h)&&S--;u++)N=h*Ho+(F[u]||0),b[u]=N/L|0,h=N%L|0;else{for(h=Ho/(L[0]+1)|0,h>1&&(L=t(L,h),F=t(F,h),O=L.length,k=F.length),T=O,y=F.slice(0,O),w=y.length;w<O;)y[w++]=0;U=L.slice(),U.unshift(0),R=L[0],L[1]>=Ho/2&&++R;do h=0,o=e(L,y,O,w),o<0?(A=y[0],O!=w&&(A=A*Ho+(y[1]||0)),h=A/R|0,h>1?(h>=Ho&&(h=Ho-1),f=t(L,h),m=f.length,w=y.length,o=e(f,y,m,w),o==1&&(h--,r(f,O<m?U:L,m))):(h==0&&(o=h=1),f=L.slice()),m=f.length,m<w&&f.unshift(0),r(y,f,w),o==-1&&(w=y.length,o=e(L,y,O,w),o<1&&(h++,r(y,O<w?U:L,w))),w=y.length):o===0&&(h++,y=[0]),b[u++]=h,o&&y[0]?y[w++]=F[T]||0:(y=[F[T]],w=1);while((T++<k||y[0]!==void 0)&&S--)}return b[0]||b.shift(),g.e=l,Xa(g,s?i+Gs(g)+1:i)}})();function Bne(t,e){var r,n,a,i,s,o,l=0,u=0,h=t.constructor,f=h.precision;if(Gs(t)>16)throw Error(D7+Gs(t));if(!t.s)return new h(pd);for(Ci=!1,o=f,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(Sv(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new h(pd),h.precision=o;;){if(a=Xa(a.times(t),o),r=r.times(++l),s=i.plus(hm(a,r,o)),R0(s.d).slice(0,o)===R0(i.d).slice(0,o)){for(;u--;)i=Xa(i.times(i),o);return h.precision=f,e==null?(Ci=!0,Xa(i,f)):i}i=s}}function Gs(t){for(var e=t.e*di,r=t.d[0];r>=10;r/=10)e++;return e}function ZD(t,e,r){if(e>t.LN10.sd())throw Ci=!0,r&&(t.precision=r),Error(fh+"LN10 precision limit exceeded");return Xa(new t(t.LN10),e)}function jg(t){for(var e="";t--;)e+="0";return e}function eS(t,e){var r,n,a,i,s,o,l,u,h,f=1,m=10,g=t,b=g.d,y=g.constructor,w=y.precision;if(g.s<1)throw Error(fh+(g.s?"NaN":"-Infinity"));if(g.eq(pd))return new y(0);if(e==null?(Ci=!1,u=w):u=e,g.eq(10))return e==null&&(Ci=!0),ZD(y,u);if(u+=m,y.precision=u,r=R0(b),n=r.charAt(0),i=Gs(g),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=R0(g.d),n=r.charAt(0),f++;i=Gs(g),n>1?(g=new y("0."+r),i++):g=new y(n+"."+r.slice(1))}else return l=ZD(y,u+2,w).times(i+""),g=eS(new y(n+"."+r.slice(1)),u-m).plus(l),y.precision=w,e==null?(Ci=!0,Xa(g,w)):g;for(o=s=g=hm(g.minus(pd),g.plus(pd),u),h=Xa(g.times(g),u),a=3;;){if(s=Xa(s.times(h),u),l=o.plus(hm(s,new y(a),u)),R0(l.d).slice(0,u)===R0(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(ZD(y,u+2,w).times(i+""))),o=hm(o,new y(f),u),y.precision=w,e==null?(Ci=!0,Xa(o,w)):o;o=l,a+=2}}function HG(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=b5(r/di),t.d=[],n=(r+1)%di,r<0&&(n+=di),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=di;n<a;)t.d.push(+e.slice(n,n+=di));e=e.slice(n),n=di-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Ci&&(t.e>lC||t.e<-lC))throw Error(D7+r)}else t.s=0,t.e=0,t.d=[0];return t}function Xa(t,e,r){var n,a,i,s,o,l,u,h,f=t.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=e-s,n<0)n+=di,a=e,u=f[h=0];else{if(h=Math.ceil((n+1)/di),i=f.length,h>=i)return t;for(u=i=f[h],s=1;i>=10;i/=10)s++;n%=di,a=n-di+s}if(r!==void 0&&(i=Sv(10,s-a-1),o=u/i%10|0,l=e<0||f[h+1]!==void 0||u%i,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?u/Sv(10,s-a):0:f[h-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(i=Gs(t),f.length=1,e=e-i-1,f[0]=Sv(10,(di-e%di)%di),t.e=b5(-e/di)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=h,i=1,h--):(f.length=h+1,i=Sv(10,di-n),f[h]=a>0?(u/Sv(10,s-a)%Sv(10,a)|0)*i:0),l)for(;;)if(h==0){(f[0]+=i)==Ho&&(f[0]=1,++t.e);break}else{if(f[h]+=i,f[h]!=Ho)break;f[h--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ci&&(t.e>lC||t.e<-lC))throw Error(D7+Gs(t));return t}function Une(t,e){var r,n,a,i,s,o,l,u,h,f,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Ci?Xa(e,g):e;if(l=t.d,f=e.d,n=e.e,u=t.e,l=l.slice(),s=u-n,s){for(h=s<0,h?(r=l,s=-s,o=f.length):(r=f,n=u,o=l.length),a=Math.max(Math.ceil(g/di),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,h=a<o,h&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){h=l[a]<f[a];break}s=0}for(h&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Ho-1;--l[i],l[a]+=Ho}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Ci?Xa(e,g):e):new m(0)}function Cy(t,e,r){var n,a=Gs(t),i=R0(t.d),s=i.length;return e?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+jg(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+jg(-a-1)+i,r&&(n=r-s)>0&&(i+=jg(n))):a>=s?(i+=jg(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+jg(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=jg(n))),t.s<0?"-"+i:i}function qG(t,e){if(t.length>e)return t.length=e,!0}function zne(t){var e,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(sy+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return HG(s,i.toString())}else if(typeof i!="string")throw Error(sy+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,cSe.test(i))HG(s,i);else throw Error(sy+i)}if(a.prototype=jr,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=zne,a.config=a.set=uSe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function uSe(t){if(!t||typeof t!="object")throw Error(fh+"Object expected");var e,r,n,a=["precision",1,y5,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(b5(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(sy+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(sy+r+": "+n);return this}var R7=zne(lSe);pd=new R7(1);const ba=R7;var dSe=t=>t,$ne={},Vne=t=>t===$ne,GG=t=>function e(){return arguments.length===0||arguments.length===1&&Vne(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},Hne=(t,e)=>t===1?e:GG(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==$ne).length;return i>=t?e(...n):Hne(t-i,GG(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=n.map(h=>Vne(h)?o.shift():h);return e(...u,...o)}))}),hSe=t=>Hne(t.length,t),DM=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},fSe=hSe((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),pSe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return dSe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((o,l)=>l(o),i(...arguments))}};function qne(t){var e;return t===0?e=1:e=Math.floor(new ba(t).abs().log(10).toNumber())+1,e}function Gne(t,e,r){for(var n=new ba(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Wne=t=>{var[e,r]=t,[n,a]=[e,r];return e>r&&([n,a]=[r,e]),[n,a]},Kne=(t,e,r)=>{if(t.lte(0))return new ba(0);var n=qne(t.toNumber()),a=new ba(10).pow(n),i=t.div(a),s=n!==1?.05:.1,o=new ba(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return e?new ba(l.toNumber()):new ba(Math.ceil(l.toNumber()))},mSe=(t,e,r)=>{var n=new ba(1),a=new ba(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new ba(10).pow(qne(t)-1),a=new ba(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ba(Math.floor(t)))}else t===0?a=new ba(Math.floor((e-1)/2)):r||(a=new ba(Math.floor(t)));var s=Math.floor((e-1)/2),o=pSe(fSe(l=>a.add(new ba(l-s).mul(n)).toNumber()),DM);return o(0,e)},Yne=function(e,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new ba(0),tickMin:new ba(0),tickMax:new ba(0)};var s=Kne(new ba(r).sub(e).div(n-1),a,i),o;e<=0&&r>=0?o=new ba(0):(o=new ba(e).add(r).div(2),o=o.sub(new ba(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),u=Math.ceil(new ba(r).sub(o).div(s).toNumber()),h=l+u+1;return h>n?Yne(e,r,n,a,i+1):(h<n&&(u=r>0?u+(n-h):u,l=r>0?l:l+(n-h)),{step:s,tickMin:o.sub(new ba(l).mul(s)),tickMax:o.add(new ba(u).mul(s))})},gSe=function(e){var[r,n]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),[o,l]=Wne([r,n]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...DM(0,a-1).map(()=>1/0)]:[...DM(0,a-1).map(()=>-1/0),l];return r>n?u.reverse():u}if(o===l)return mSe(o,a,i);var{step:h,tickMin:f,tickMax:m}=Yne(o,l,s,i,0),g=Gne(f,m.add(new ba(.1).mul(h)),h);return r>n?g.reverse():g},xSe=function(e,r){var[n,a]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=Wne([n,a]);if(s===-1/0||o===1/0)return[n,a];if(s===o)return[s];var l=Math.max(r,2),u=Kne(new ba(o).sub(s).div(l-1),i,0),h=[...Gne(new ba(s),new ba(o),u),o];return i===!1&&(h=h.map(f=>Math.round(f))),n>a?h.reverse():h},vSe=t=>t.rootProps.barCategoryGap,HE=t=>t.rootProps.stackOffset,Xne=t=>t.rootProps.reverseStackOrder,I7=t=>t.options.chartName,L7=t=>t.rootProps.syncId,Jne=t=>t.rootProps.syncMethod,M7=t=>t.options.eventEmitter,ySe=t=>t.rootProps.baseValue,Go={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},om={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},cd={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},fP=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},bSe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:om.angleAxisId,includeHidden:!1,name:void 0,reversed:om.reversed,scale:om.scale,tick:om.tick,tickCount:void 0,ticks:void 0,type:om.type,unit:void 0},wSe={allowDataOverflow:cd.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cd.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cd.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cd.scale,tick:cd.tick,tickCount:cd.tickCount,ticks:void 0,type:cd.type,unit:void 0},ASe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:om.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:om.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:om.scale,tick:om.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},_Se={allowDataOverflow:cd.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cd.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cd.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cd.scale,tick:cd.tick,tickCount:cd.tickCount,ticks:void 0,type:"category",unit:void 0},F7=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?ASe:bSe,B7=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?_Se:wSe,pP=t=>t.polarOptions,U7=mt([Um,zm,Jo],Jre),Zne=mt([pP,U7],(t,e)=>{if(t!=null)return xd(t.innerRadius,e,0)}),Qne=mt([pP,U7],(t,e)=>{if(t!=null)return xd(t.outerRadius,e,e*.8)}),SSe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},eae=mt([pP],SSe);mt([F7,eae],fP);var tae=mt([U7,Zne,Qne],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});mt([B7,tae],fP);var rae=mt([oa,pP,Zne,Qne,Um,zm],(t,e,r,n,a,i)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=e;return{cx:xd(s,a,a/2),cy:xd(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),Di=(t,e)=>e,qE=(t,e,r)=>r;function z7(t){return t==null?void 0:t.id}function nae(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:a,dataKey:i}=r,s=new Map;return t.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var h=z7(o);u.forEach((f,m)=>{var g=i==null||a?m:String(Ya(f,i,null)),b=Ya(f,o.dataKey,0),y;s.has(g)?y=s.get(g):y={},Object.assign(y,{[h]:b}),s.set(g,y)})}}),Array.from(s.values())}function $7(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var mP=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function gP(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function NSe(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}var Eo=t=>{var e=oa(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},w5=t=>t.tooltip.settings.axisId;function WG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WG(Object(r),!0).forEach(function(n){ESe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ESe(t,e,r){return(e=TSe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TSe(t){var e=jSe(t,"string");return typeof e=="symbol"?e:e+""}function jSe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RM=[0,"auto"],Ro={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},aae=(t,e)=>t.cartesianAxis.xAxis[e],Hm=(t,e)=>{var r=aae(t,e);return r??Ro},Io={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:RM,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:IE},iae=(t,e)=>t.cartesianAxis.yAxis[e],qm=(t,e)=>{var r=iae(t,e);return r??Io},CSe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},V7=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??CSe},qi=(t,e,r)=>{switch(e){case"xAxis":return Hm(t,r);case"yAxis":return qm(t,r);case"zAxis":return V7(t,r);case"angleAxis":return F7(t,r);case"radiusAxis":return B7(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},kSe=(t,e,r)=>{switch(e){case"xAxis":return Hm(t,r);case"yAxis":return qm(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},GE=(t,e,r)=>{switch(e){case"xAxis":return Hm(t,r);case"yAxis":return qm(t,r);case"angleAxis":return F7(t,r);case"radiusAxis":return B7(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},sae=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function H7(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var q7=t=>t.graphicalItems.cartesianItems,PSe=mt([Di,qE],H7),G7=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),WE=mt([q7,qi,PSe],G7,{memoizeOptions:{resultEqualityCheck:gP}}),oae=mt([WE],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter($7)),lae=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),OSe=mt([WE],lae),W7=t=>t.map(e=>e.data).filter(Boolean).flat(1),DSe=mt([WE],W7,{memoizeOptions:{resultEqualityCheck:gP}}),K7=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=e;return t.length>0?t:r.slice(n,a+1)},Y7=mt([DSe,O7],K7),X7=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:Ya(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(a=>({value:Ya(a,n)}))):t.map(n=>({value:n})),xP=mt([Y7,qi,WE],X7);function cae(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Y3(t){if(z0(t)||t instanceof Date){var e=Number(t);if(Pi(e))return e}}function KG(t){if(Array.isArray(t)){var e=[Y3(t[0]),Y3(t[1])];return Ux(e)?e:void 0}var r=Y3(t);if(r!=null)return[r,r]}function Pm(t){return t.map(Y3).filter(X1e)}function RSe(t,e,r){return!r||typeof e!="number"||yf(e)?[]:r.length?Pm(r.flatMap(n=>{var a=Ya(t,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!Pi(i)||!Pi(s)))return[e-i,e+s]})):[]}var To=t=>{var e=Eo(t),r=w5(t);return GE(t,e,r)},KE=mt([To],t=>t==null?void 0:t.dataKey),ISe=mt([oae,O7,To],nae),uae=(t,e,r,n)=>{var a={},i=e.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},a);return Object.fromEntries(Object.entries(i).map(s=>{var[o,l]=s,u=n?[...l].reverse():l,h=u.map(z7);return[o,{stackedData:p2e(t,h,r),graphicalItems:u}]}))},dae=mt([ISe,oae,HE,Xne],uae),hae=(t,e,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=e;if(n==null&&r!=="zAxis"){var s=v2e(t,a,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},LSe=mt([qi],t=>t.allowDataOverflow),J7=t=>{var e;if(t==null||!("domain"in t))return RM;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var r=Pm(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:RM},Z7=mt([qi],J7),Q7=mt([Z7,LSe],Lne),MSe=mt([dae,Vm,Di,Q7],hae,{memoizeOptions:{resultEqualityCheck:mP}}),vP=t=>t.errorBars,FSe=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>cae(r,n)),uC=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),o=Math.max(...i);return[s,o]}},eB=(t,e,r,n,a)=>{var i,s;if(r.length>0&&t.forEach(o=>{r.forEach(l=>{var u,h,f=(u=n[l.id])===null||u===void 0?void 0:u.filter(A=>cae(a,A)),m=Ya(o,(h=e.dataKey)!==null&&h!==void 0?h:l.dataKey),g=RSe(o,m,f);if(g.length>=2){var b=Math.min(...g),y=Math.max(...g);(i==null||b<i)&&(i=b),(s==null||y>s)&&(s=y)}var w=KG(m);w!=null&&(i=i==null?w[0]:Math.min(i,w[0]),s=s==null?w[1]:Math.max(s,w[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var l=KG(Ya(o,e.dataKey));l!=null&&(i=i==null?l[0]:Math.min(i,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),Pi(i)&&Pi(s))return[i,s]},BSe=mt([Y7,qi,OSe,vP,Di],eB,{memoizeOptions:{resultEqualityCheck:mP}});function USe(t){var{value:e}=t;if(z0(e)||e instanceof Date)return e}var zSe=(t,e,r)=>{var n=t.map(USe).filter(a=>a!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&Tte(n))?tne(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},fae=t=>t.referenceElements.dots,A5=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),$Se=mt([fae,Di,qE],A5),pae=t=>t.referenceElements.areas,VSe=mt([pae,Di,qE],A5),mae=t=>t.referenceElements.lines,HSe=mt([mae,Di,qE],A5),gae=(t,e)=>{if(t!=null){var r=Pm(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},qSe=mt($Se,Di,gae),xae=(t,e)=>{if(t!=null){var r=Pm(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},GSe=mt([VSe,Di],xae);function WSe(t){var e;if(t.x!=null)return Pm([t.x]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.x);return r==null||r.length===0?[]:Pm(r)}function KSe(t){var e;if(t.y!=null)return Pm([t.y]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.y);return r==null||r.length===0?[]:Pm(r)}var vae=(t,e)=>{if(t!=null){var r=t.flatMap(n=>e==="xAxis"?WSe(n):KSe(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},YSe=mt([HSe,Di],vae),XSe=mt(qSe,YSe,GSe,(t,e,r)=>uC(t,r,e)),tB=(t,e,r,n,a,i,s,o)=>{if(r!=null)return r;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?uC(n,i,a):uC(i,a);return oSe(e,u,t.allowDataOverflow)},JSe=mt([qi,Z7,Q7,MSe,BSe,XSe,oa,Di],tB,{memoizeOptions:{resultEqualityCheck:mP}}),ZSe=[0,1],rB=(t,e,r,n,a,i,s)=>{if(!((t==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=t,u=W0(e,i);if(u&&o==null){var h;return tne(0,(h=r==null?void 0:r.length)!==null&&h!==void 0?h:0)}return l==="category"?zSe(n,t,u):a==="expand"?ZSe:s}},nB=mt([qi,oa,Y7,xP,HE,Di,JSe],rB),yae=(t,e,r,n,a)=>{if(t!=null){var{scale:i,type:s}=t;if(i==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(PE(i));return o in o_?o:"point"}}},_5=mt([qi,oa,sae,I7,Di],yae);function QSe(t){if(t!=null){if(t in o_)return o_[t]();var e="scale".concat(PE(t));if(e in o_)return o_[e]()}}function aB(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var a=QSe(e);if(a!=null){var i=a.domain(r).range(n);return u2e(i),i}}}var iB=(t,e,r)=>{var n=J7(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ux(t))return gSe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ux(t))return xSe(t,e.tickCount,e.allowDecimals)}},sB=mt([nB,GE,_5],iB),oB=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Ux(e)&&Array.isArray(r)&&r.length>0){var a=e[0],i=r[0],s=e[1],o=r[r.length-1];return[Math.min(a,i),Math.max(s,o)]}return e},eNe=mt([qi,nB,sB,Di],oB),tNe=mt(xP,qi,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(Pm(t.map(f=>f.value))).sort((f,m)=>f-m),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var s=i-a;if(s===0)return 1/0;for(var o=0;o<n.length-1;o++){var l=n[o],u=n[o+1];if(!(l==null||u==null)){var h=u-l;r=Math.min(r,h)}}return r/s}}),bae=mt(tNe,oa,vSe,Jo,(t,e,r,n,a)=>a,(t,e,r,n,a)=>{if(!Pi(t))return 0;var i=e==="vertical"?n.height:n.width;if(a==="gap")return t*i/2;if(a==="no-gap"){var s=xd(r,t*i),o=t*i/2;return o-s-(o-s)/i*s}return 0}),rNe=(t,e,r)=>{var n=Hm(t,e);return n==null||typeof n.padding!="string"?0:bae(t,"xAxis",e,r,n.padding)},nNe=(t,e,r)=>{var n=qm(t,e);return n==null||typeof n.padding!="string"?0:bae(t,"yAxis",e,r,n.padding)},aNe=mt(Hm,rNe,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((r=a.left)!==null&&r!==void 0?r:0)+e,right:((n=a.right)!==null&&n!==void 0?n:0)+e}}),iNe=mt(qm,nNe,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((r=a.top)!==null&&r!==void 0?r:0)+e,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+e}}),sNe=mt([Jo,aNe,eP,Qk,(t,e,r)=>r],(t,e,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[t.left+e.left,t.left+t.width-e.right]}),oNe=mt([Jo,oa,iNe,eP,Qk,(t,e,r)=>r],(t,e,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),YE=(t,e,r,n)=>{var a;switch(e){case"xAxis":return sNe(t,r,n);case"yAxis":return oNe(t,r,n);case"zAxis":return(a=V7(t,r))===null||a===void 0?void 0:a.range;case"angleAxis":return eae(t);case"radiusAxis":return tae(t,r);default:return}},wae=mt([qi,YE],fP),yP=mt([qi,_5,eNe,wae],aB);mt([WE,vP,Di],FSe);function Aae(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var bP=(t,e)=>e,wP=(t,e,r)=>r,lNe=mt(Jk,bP,wP,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(Aae)),cNe=mt(Zk,bP,wP,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(Aae)),_ae=(t,e)=>({width:t.width,height:e.height}),uNe=(t,e)=>{var r=typeof e.width=="number"?e.width:IE;return{width:r,height:t.height}},dNe=mt(Jo,Hm,_ae),hNe=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},fNe=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},pNe=mt(zm,Jo,lNe,bP,wP,(t,e,r,n,a)=>{var i={},s;return r.forEach(o=>{var l=_ae(e,o);s==null&&(s=hNe(e,n,t));var u=n==="top"&&!a||n==="bottom"&&a;i[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),i}),mNe=mt(Um,Jo,cNe,bP,wP,(t,e,r,n,a)=>{var i={},s;return r.forEach(o=>{var l=uNe(e,o);s==null&&(s=fNe(e,n,t));var u=n==="left"&&!a||n==="right"&&a;i[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),i}),gNe=(t,e)=>{var r=Hm(t,e);if(r!=null)return pNe(t,r.orientation,r.mirror)},xNe=mt([Jo,Hm,gNe,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var a=r==null?void 0:r[n];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),vNe=(t,e)=>{var r=qm(t,e);if(r!=null)return mNe(t,r.orientation,r.mirror)},yNe=mt([Jo,qm,vNe,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),bNe=mt(Jo,qm,(t,e)=>{var r=typeof e.width=="number"?e.width:IE;return{width:r,height:t.height}}),Sae=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,o=W0(t,n),l=e.map(u=>u.value);if(s&&o&&i==="category"&&a&&Tte(l))return l}},lB=mt([oa,xP,qi,Di],Sae),Nae=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=W0(t,n);if(s&&(a==="number"||i!=="auto"))return e.map(o=>o.value)}},cB=mt([oa,xP,GE,Di],Nae),YG=mt([oa,kSe,_5,yP,lB,cB,YE,sB,Di],(t,e,r,n,a,i,s,o,l)=>{if(e!=null){var u=W0(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),wNe=(t,e,r,n,a,i,s,o,l)=>{if(!(e==null||n==null)){var u=W0(t,l),{type:h,ticks:f,tickCount:m}=e,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=h==="category"&&n.bandwidth?n.bandwidth()/g:0;b=l==="angleAxis"&&i!=null&&i.length>=2?tc(i[0]-i[1])*2*b:b;var y=f||a;if(y){var w=y.map((A,S)=>{var N=s?s.indexOf(A):A;return{index:S,coordinate:n(N)+b,value:A,offset:b}});return w.filter(A=>Pi(A.coordinate))}return u&&o?o.map((A,S)=>({coordinate:n(A)+b,value:A,index:S,offset:b})).filter(A=>Pi(A.coordinate)):n.ticks?n.ticks(m).map(A=>({coordinate:n(A)+b,value:A,offset:b})):n.domain().map((A,S)=>({coordinate:n(A)+b,value:s?s[A]:A,index:S,offset:b}))}},Eae=mt([oa,GE,_5,yP,sB,YE,lB,cB,Di],wNe),ANe=(t,e,r,n,a,i,s)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=W0(t,s),{tickCount:l}=e,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?tc(n[0]-n[1])*2*u:u,o&&i?i.map((h,f)=>({coordinate:r(h)+u,value:h,index:f,offset:u})):r.ticks?r.ticks(l).map(h=>({coordinate:r(h)+u,value:h,offset:u})):r.domain().map((h,f)=>({coordinate:r(h)+u,value:a?a[h]:h,index:f,offset:u}))}},AP=mt([oa,GE,yP,YE,lB,cB,Di],ANe),_P=mt(qi,yP,(t,e)=>{if(!(t==null||e==null))return cC(cC({},t),{},{scale:e})}),_Ne=mt([qi,_5,nB,wae],aB);mt((t,e,r)=>V7(t,r),_Ne,(t,e)=>{if(!(t==null||e==null))return cC(cC({},t),{},{scale:e})});var SNe=mt([oa,Jk,Zk],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Tae=t=>t.options.defaultTooltipEventType,jae=t=>t.options.validateTooltipEventTypes;function Cae(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function uB(t,e){var r=Tae(t),n=jae(t);return Cae(e,r,n)}function NNe(t){return Ir(e=>uB(e,t))}var kae=(t,e)=>{var r,n=Number(e);if(!(yf(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},ENe=t=>t.tooltip.settings,Pg={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},TNe={itemInteraction:{click:Pg,hover:Pg},axisInteraction:{click:Pg,hover:Pg},keyboardInteraction:Pg,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Pae=_u({name:"tooltip",initialState:TNe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Ti()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:r,next:n}=e.payload,a=gf(t).tooltipItemPayloads.indexOf(r);a>-1&&(t.tooltipItemPayloads[a]=n)},prepare:Ti()},removeTooltipEntrySettings:{reducer(t,e){var r=gf(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:Ti()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:jNe,replaceTooltipEntrySettings:CNe,removeTooltipEntrySettings:kNe,setTooltipSettingsState:PNe,setActiveMouseOverItemIndex:Oae,mouseLeaveItem:ONe,mouseLeaveChart:Dae,setActiveClickItemIndex:DNe,setMouseOverAxisIndex:Rae,setMouseClickAxisIndex:RNe,setSyncInteraction:IM,setKeyboardInteraction:LM}=Pae.actions,INe=Pae.reducer;function XG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function DT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XG(Object(r),!0).forEach(function(n){LNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LNe(t,e,r){return(e=MNe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MNe(t){var e=FNe(t,"string");return typeof e=="symbol"?e:e+""}function FNe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BNe(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function UNe(t){return t.index!=null}var Iae=(t,e,r,n)=>{if(e==null)return Pg;var a=BNe(t,e,r);if(a==null)return Pg;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var i=t.settings.active===!0;if(UNe(a)){if(i)return DT(DT({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return DT(DT({},Pg),{},{coordinate:a.coordinate})};function zNe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var r=Number(t);return Number.isFinite(r)?r:void 0}function $Ne(t,e){var r=zNe(t),n=e[0],a=e[1];if(r===void 0)return!1;var i=Math.min(n,a),s=Math.max(n,a);return r>=i&&r<=s}function VNe(t,e,r){if(r==null||e==null)return!0;var n=Ya(t,e);return n==null||!Ux(r)?!0:$Ne(n,r)}var dB=(t,e,r,n)=>{var a=t==null?void 0:t.index;if(a==null)return null;var i=Number(a);if(!Pi(i))return a;var s=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(s,Math.min(i,o)),u=e[l];return u==null||VNe(u,r,n)?String(l):null},Lae=(t,e,r,n,a,i,s,o)=>{if(!(i==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,i);if(u!=null)return u;var h=a==null?void 0:a[Number(i)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:h.coordinate}}}},Mae=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=t.itemInteraction.hover.graphicalItemId:a=t.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=t.tooltipItemPayloads[0];return i!=null?[i]:[]}return t.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===a})},XE=t=>t.options.tooltipPayloadSearcher,S5=t=>t.tooltip;function JG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ZG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JG(Object(r),!0).forEach(function(n){HNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HNe(t,e,r){return(e=qNe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qNe(t){var e=GNe(t,"string");return typeof e=="symbol"?e:e+""}function GNe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WNe(t,e){return t??e}var Fae=(t,e,r,n,a,i,s)=>{if(!(e==null||i==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:h}=r,f=[];return t.reduce((m,g)=>{var b,{dataDefinedOnItem:y,settings:w}=g,A=WNe(y,o),S=Array.isArray(A)?wre(A,u,h):A,N=(b=w==null?void 0:w.dataKey)!==null&&b!==void 0?b:n,T=w==null?void 0:w.nameKey,k;if(n&&Array.isArray(S)&&!Array.isArray(S[0])&&s==="axis"?k=jte(S,n,a):k=i(S,e,l,T),Array.isArray(k))k.forEach(O=>{var U=ZG(ZG({},w),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});m.push(aq({tooltipEntrySettings:U,dataKey:O.dataKey,payload:O.payload,value:Ya(O.payload,O.dataKey),name:O.name}))});else{var R;m.push(aq({tooltipEntrySettings:w,dataKey:N,payload:k,value:Ya(k,N),name:(R=Ya(k,T))!==null&&R!==void 0?R:w==null?void 0:w.name}))}return m},f)}},hB=mt([To,oa,sae,I7,Eo],yae),KNe=mt([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),YNe=mt([Eo,w5],H7),N5=mt([KNe,To,YNe],G7,{memoizeOptions:{resultEqualityCheck:gP}}),XNe=mt([N5],t=>t.filter($7)),JNe=mt([N5],W7,{memoizeOptions:{resultEqualityCheck:gP}}),E5=mt([JNe,Vm],K7),ZNe=mt([XNe,Vm,To],nae),fB=mt([E5,To,N5],X7),Bae=mt([To],J7),QNe=mt([To],t=>t.allowDataOverflow),Uae=mt([Bae,QNe],Lne),eEe=mt([N5],t=>t.filter($7)),tEe=mt([ZNe,eEe,HE,Xne],uae),rEe=mt([tEe,Vm,Eo,Uae],hae),nEe=mt([N5],lae),aEe=mt([E5,To,nEe,vP,Eo],eB,{memoizeOptions:{resultEqualityCheck:mP}}),iEe=mt([fae,Eo,w5],A5),sEe=mt([iEe,Eo],gae),oEe=mt([pae,Eo,w5],A5),lEe=mt([oEe,Eo],xae),cEe=mt([mae,Eo,w5],A5),uEe=mt([cEe,Eo],vae),dEe=mt([sEe,uEe,lEe],uC),hEe=mt([To,Bae,Uae,rEe,aEe,dEe,oa,Eo],tB),JE=mt([To,oa,E5,fB,HE,Eo,hEe],rB),fEe=mt([JE,To,hB],iB),pEe=mt([To,JE,fEe,Eo],oB),zae=t=>{var e=Eo(t),r=w5(t),n=!1;return YE(t,e,r,n)},$ae=mt([To,zae],fP),Vae=mt([To,hB,pEe,$ae],aB),mEe=mt([oa,fB,To,Eo],Sae),gEe=mt([oa,fB,To,Eo],Nae),xEe=(t,e,r,n,a,i,s,o)=>{if(e){var{type:l}=e,u=W0(t,o);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/h:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?tc(a[0]-a[1])*2*f:f,u&&s?s.map((m,g)=>({coordinate:n(m)+f,value:m,index:g,offset:f})):n.domain().map((m,g)=>({coordinate:n(m)+f,value:i?i[m]:m,index:g,offset:f}))}}},Gm=mt([oa,To,hB,Vae,zae,mEe,gEe,Eo],xEe),pB=mt([Tae,jae,ENe],(t,e,r)=>Cae(r.shared,t,e)),Hae=t=>t.tooltip.settings.trigger,mB=t=>t.tooltip.settings.defaultIndex,ZE=mt([S5,pB,Hae,mB],Iae),c5=mt([ZE,E5,KE,JE],dB),qae=mt([Gm,c5],kae),Gae=mt([ZE],t=>{if(t)return t.dataKey}),vEe=mt([ZE],t=>{if(t)return t.graphicalItemId}),Wae=mt([S5,pB,Hae,mB],Mae),yEe=mt([Um,zm,oa,Jo,Gm,mB,Wae,XE],Lae),bEe=mt([ZE,yEe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),wEe=mt([ZE],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),AEe=mt([Wae,c5,Vm,KE,qae,XE,pB],Fae),_Ee=mt([AEe],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function QG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function eW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QG(Object(r),!0).forEach(function(n){SEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SEe(t,e,r){return(e=NEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NEe(t){var e=EEe(t,"string");return typeof e=="symbol"?e:e+""}function EEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TEe=()=>Ir(To),jEe=()=>{var t=TEe(),e=Ir(Gm),r=Ir(Vae);return a5(!t||!r?void 0:eW(eW({},t),{},{scale:r}),e)};function tW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tW(Object(r),!0).forEach(function(n){CEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CEe(t,e,r){return(e=kEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kEe(t){var e=PEe(t,"string");return typeof e=="symbol"?e:e+""}function PEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OEe=(t,e,r,n)=>{var a=e.find(i=>i&&i.index===r);if(a){if(t==="horizontal")return{x:a.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},DEe=(t,e,r,n)=>{var a=e.find(u=>u&&u.index===r);if(a){if(t==="centric"){var i=a.coordinate,{radius:s}=n;return Cb(Cb(Cb({},n),Vs(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,{angle:l}=n;return Cb(Cb(Cb({},n),Vs(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function REe(t,e){var{chartX:r,chartY:n}=t;return r>=e.left&&r<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var Kae=(t,e,r,n,a)=>{var i,s=(i=e==null?void 0:e.length)!==null&&i!==void 0?i:0;if(s<=1||t==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,u,h,f,m,g=o>0?(l=r[o-1])===null||l===void 0?void 0:l.coordinate:(u=r[s-1])===null||u===void 0?void 0:u.coordinate,b=(h=r[o])===null||h===void 0?void 0:h.coordinate,y=o>=s-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(m=r[o+1])===null||m===void 0?void 0:m.coordinate,w=void 0;if(!(g==null||b==null||y==null))if(tc(b-g)!==tc(y-b)){var A=[];if(tc(y-b)===tc(a[1]-a[0])){w=y;var S=b+a[1]-a[0];A[0]=Math.min(S,(S+g)/2),A[1]=Math.max(S,(S+g)/2)}else{w=g;var N=y+a[1]-a[0];A[0]=Math.min(b,(N+b)/2),A[1]=Math.max(b,(N+b)/2)}var T=[Math.min(b,(w+b)/2),Math.max(b,(w+b)/2)];if(t>T[0]&&t<=T[1]||t>=A[0]&&t<=A[1]){var k;return(k=r[o])===null||k===void 0?void 0:k.index}}else{var R=Math.min(g,y),O=Math.max(g,y);if(t>(R+b)/2&&t<=(O+b)/2){var U;return(U=r[o])===null||U===void 0?void 0:U.index}}}else if(e)for(var H=0;H<s;H++){var G=e[H];if(G!=null){var F=e[H+1],L=e[H-1];if(H===0&&F!=null&&t<=(G.coordinate+F.coordinate)/2||H===s-1&&L!=null&&t>(G.coordinate+L.coordinate)/2||H>0&&H<s-1&&L!=null&&F!=null&&t>(G.coordinate+L.coordinate)/2&&t<=(G.coordinate+F.coordinate)/2)return G.index}}return-1},Yae=()=>Ir(I7),gB=(t,e)=>e,Xae=(t,e,r)=>r,xB=(t,e,r,n)=>n,IEe=mt(Gm,t=>zk(t,e=>e.coordinate)),vB=mt([S5,gB,Xae,xB],Iae),yB=mt([vB,E5,KE,JE],dB),LEe=(t,e,r)=>{if(e!=null){var n=S5(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Jae=mt([S5,gB,Xae,xB],Mae),dC=mt([Um,zm,oa,Jo,Gm,xB,Jae,XE],Lae),MEe=mt([vB,dC],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),Zae=mt([Gm,yB],kae),FEe=mt([Jae,yB,Vm,KE,Zae,XE,gB],Fae),BEe=mt([vB,yB],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),UEe=(t,e,r,n,a,i,s)=>{if(!(!t||!r||!n||!a)&&REe(t,s)){var o=y2e(t,e),l=Kae(o,i,a,r,n),u=OEe(e,a,l,t);return{activeIndex:String(l),activeCoordinate:u}}},zEe=(t,e,r,n,a,i,s)=>{if(!(!t||!n||!a||!i||!r)){var o=A5e(t,r);if(o){var l=b2e(o,e),u=Kae(l,s,i,n,a),h=DEe(e,i,u,o);return{activeIndex:String(u),activeCoordinate:h}}}},$Ee=(t,e,r,n,a,i,s,o)=>{if(!(!t||!e||!n||!a||!i))return e==="horizontal"||e==="vertical"?UEe(t,e,n,a,i,s,o):zEe(t,e,r,n,a,i,s)},VEe=mt(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>{if(e!=null){var n=t[e];if(n!=null)return r?n.panoramaElement:n.element}}),HEe=mt(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(Go)),r=Array.from(new Set(e));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:NSe}});function rW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rW(Object(r),!0).forEach(function(n){qEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qEe(t,e,r){return(e=GEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GEe(t){var e=WEe(t,"string");return typeof e=="symbol"?e:e+""}function WEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KEe={},YEe={zIndexMap:Object.values(Go).reduce((t,e)=>nW(nW({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),KEe)},XEe=new Set(Object.values(Go));function JEe(t){return XEe.has(t)}var Qae=_u({name:"zIndex",initialState:YEe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Ti()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!JEe(r)&&delete t.zIndexMap[r])},prepare:Ti()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r,element:n,isPanorama:a}=e.payload;t.zIndexMap[r]?a?t.zIndexMap[r].panoramaElement=n:t.zIndexMap[r].element=n:t.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Ti()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(e.payload.isPanorama?t.zIndexMap[r].panoramaElement=void 0:t.zIndexMap[r].element=void 0)},prepare:Ti()}}}),{registerZIndexPortal:ZEe,unregisterZIndexPortal:QEe,registerZIndexPortalElement:e4e,unregisterZIndexPortalElement:t4e}=Qae.actions,r4e=Qae.reducer;function xh(t){var{zIndex:e,children:r}=t,n=J2e(),a=n&&e!==void 0&&e!==0,i=sc(),s=Oi();C.useLayoutEffect(()=>a?(s(ZEe({zIndex:e})),()=>{s(QEe({zIndex:e}))}):OE,[s,e,a]);var o=Ir(l=>VEe(l,e,i));return a?o?vJ.createPortal(r,o):null:r}function MM(){return MM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MM.apply(null,arguments)}function aW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function RT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aW(Object(r),!0).forEach(function(n){n4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n4e(t,e,r){return(e=a4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a4e(t){var e=i4e(t,"string");return typeof e=="symbol"?e:e+""}function i4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s4e(t){var{cursor:e,cursorComp:r,cursorProps:n}=t;return C.isValidElement(e)?C.cloneElement(e,n):C.createElement(r,n)}function o4e(t){var e,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:h}=t,f=r,m=n,g=a;if(!l||!f||h!=="ScatterChart"&&u!=="axis")return null;var b,y,w;if(h==="ScatterChart")b=f,y=Lwe,w=Go.cursorLine;else if(h==="BarChart")b=Mwe(o,f,i,s),y=Xre,w=Go.cursorRectangle;else if(o==="radial"&&Pte(f)){var{cx:A,cy:S,radius:N,startAngle:T,endAngle:k}=Zre(f);b={cx:A,cy:S,startAngle:T,endAngle:k,innerRadius:N,outerRadius:N},y=ene,w=Go.cursorLine}else b={points:E5e(o,f,i)},y=b2,w=Go.cursorLine;var R=typeof l=="object"&&"className"in l?l.className:void 0,O=RT(RT(RT(RT({stroke:"#ccc",pointerEvents:"none"},i),b),r5(l)),{},{payload:m,payloadIndex:g,className:sa("recharts-tooltip-cursor",R)});return C.createElement(xh,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:w},C.createElement(s4e,{cursor:l,cursorComp:y,cursorProps:O}))}function l4e(t){var e=jEe(),r=Ore(),n=Fy(),a=Yae();return e==null||r==null||n==null||a==null?null:C.createElement(o4e,MM({},t,{offset:r,layout:n,tooltipAxisBandSize:e,chartName:a}))}var eie=C.createContext(null),c4e=()=>C.useContext(eie),QD={exports:{}},iW;function u4e(){return iW||(iW=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,h){this.fn=l,this.context=u,this.once=h||!1}function i(l,u,h,f,m){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new a(h,f||l,m),b=r?r+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],g]:l._events[b].push(g):(l._events[b]=g,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],h,f;if(this._eventsCount===0)return u;for(f in h=this._events)e.call(h,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},o.prototype.listeners=function(u){var h=r?r+u:u,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,g=f.length,b=new Array(g);m<g;m++)b[m]=f[m].fn;return b},o.prototype.listenerCount=function(u){var h=r?r+u:u,f=this._events[h];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,h,f,m,g,b){var y=r?r+u:u;if(!this._events[y])return!1;var w=this._events[y],A=arguments.length,S,N;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,f),!0;case 4:return w.fn.call(w.context,h,f,m),!0;case 5:return w.fn.call(w.context,h,f,m,g),!0;case 6:return w.fn.call(w.context,h,f,m,g,b),!0}for(N=1,S=new Array(A-1);N<A;N++)S[N-1]=arguments[N];w.fn.apply(w.context,S)}else{var T=w.length,k;for(N=0;N<T;N++)switch(w[N].once&&this.removeListener(u,w[N].fn,void 0,!0),A){case 1:w[N].fn.call(w[N].context);break;case 2:w[N].fn.call(w[N].context,h);break;case 3:w[N].fn.call(w[N].context,h,f);break;case 4:w[N].fn.call(w[N].context,h,f,m);break;default:if(!S)for(k=1,S=new Array(A-1);k<A;k++)S[k-1]=arguments[k];w[N].fn.apply(w[N].context,S)}}return!0},o.prototype.on=function(u,h,f){return i(this,u,h,f,!1)},o.prototype.once=function(u,h,f){return i(this,u,h,f,!0)},o.prototype.removeListener=function(u,h,f,m){var g=r?r+u:u;if(!this._events[g])return this;if(!h)return s(this,g),this;var b=this._events[g];if(b.fn)b.fn===h&&(!m||b.once)&&(!f||b.context===f)&&s(this,g);else{for(var y=0,w=[],A=b.length;y<A;y++)(b[y].fn!==h||m&&!b[y].once||f&&b[y].context!==f)&&w.push(b[y]);w.length?this._events[g]=w.length===1?w[0]:w:s(this,g)}return this},o.prototype.removeAllListeners=function(u){var h;return u?(h=r?r+u:u,this._events[h]&&s(this,h)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(QD)),QD.exports}var d4e=u4e();const h4e=ph(d4e);var tS=new h4e,FM="recharts.syncEvent.tooltip",sW="recharts.syncEvent.brush";function bB(t,e){if(e){var r=Number.parseInt(e,10);if(!yf(r))return t==null?void 0:t[r]}}var f4e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},tie=_u({name:"options",initialState:f4e,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),p4e=tie.reducer,{createEventEmitter:m4e}=tie.actions;function g4e(t){return t.tooltip.syncInteraction}var x4e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},rie=_u({name:"chartData",initialState:x4e,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:oW,setDataStartEndIndexes:v4e,setComputedData:hHe}=rie.actions,y4e=rie.reducer,b4e=["x","y"];function lW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lW(Object(r),!0).forEach(function(n){w4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w4e(t,e,r){return(e=A4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A4e(t){var e=_4e(t,"string");return typeof e=="symbol"?e:e+""}function _4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S4e(t,e){if(t==null)return{};var r,n,a=N4e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function N4e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function E4e(){var t=Ir(L7),e=Ir(M7),r=Oi(),n=Ir(Jne),a=Ir(Gm),i=Fy(),s=tP(),o=Ir(l=>l.rootProps.className);C.useEffect(()=>{if(t==null)return OE;var l=(u,h,f)=>{if(e!==f&&t===u){if(n==="index"){var m;if(s&&h!==null&&h!==void 0&&(m=h.payload)!==null&&m!==void 0&&m.coordinate&&h.payload.sourceViewBox){var g=h.payload.coordinate,{x:b,y}=g,w=S4e(g,b4e),{x:A,y:S,width:N,height:T}=h.payload.sourceViewBox,k=kb(kb({},w),{},{x:s.x+(N?(b-A)/N:0)*s.width,y:s.y+(T?(y-S)/T:0)*s.height});r(kb(kb({},h),{},{payload:kb(kb({},h.payload),{},{coordinate:k})}))}else r(h);return}if(a!=null){var R;if(typeof n=="function"){var O={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},U=n(a,O);R=a[U]}else n==="value"&&(R=a.find(Q=>String(Q.value)===h.payload.label));var{coordinate:H}=h.payload;if(R==null||h.payload.active===!1||H==null||s==null){r(IM({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:G,y:F}=H,L=Math.min(G,s.x+s.width),re=Math.min(F,s.y+s.height),Z={x:i==="horizontal"?R.coordinate:L,y:i==="horizontal"?re:R.coordinate},pe=IM({active:h.payload.active,coordinate:Z,dataKey:h.payload.dataKey,index:String(R.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});r(pe)}}};return tS.on(FM,l),()=>{tS.off(FM,l)}},[o,r,e,t,n,a,i,s])}function T4e(){var t=Ir(L7),e=Ir(M7),r=Oi();C.useEffect(()=>{if(t==null)return OE;var n=(a,i,s)=>{e!==s&&t===a&&r(v4e(i))};return tS.on(sW,n),()=>{tS.off(sW,n)}},[r,e,t])}function j4e(){var t=Oi();C.useEffect(()=>{t(m4e())},[t]),E4e(),T4e()}function C4e(t,e,r,n,a,i){var s=Ir(g=>LEe(g,t,e)),o=Ir(M7),l=Ir(L7),u=Ir(Jne),h=Ir(g4e),f=h==null?void 0:h.active,m=tP();C.useEffect(()=>{if(!f&&l!=null&&o!=null){var g=IM({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:m,graphicalItemId:void 0});tS.emit(FM,l,g,o)}},[f,r,s,a,n,o,l,u,i,m])}function cW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cW(Object(r),!0).forEach(function(n){k4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k4e(t,e,r){return(e=P4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P4e(t){var e=O4e(t,"string");return typeof e=="symbol"?e:e+""}function O4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D4e(t){return t.dataKey}function R4e(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(mwe,e)}var dW=[],I4e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function nie(t){var e,r,n=So(t,I4e),{active:a,allowEscapeViewBox:i,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:h,offset:f,payloadUniqBy:m,position:g,reverseDirection:b,useTranslate3d:y,wrapperStyle:w,cursor:A,shared:S,trigger:N,defaultIndex:T,portal:k,axisId:R}=n,O=Oi(),U=typeof T=="number"?String(T):T;C.useEffect(()=>{O(PNe({shared:S,trigger:N,axisId:R,active:a,defaultIndex:U}))},[O,S,N,R,a,U]);var H=tP(),G=qre(),F=NNe(S),{activeIndex:L,isActive:re}=(e=Ir(Ae=>BEe(Ae,F,N,U)))!==null&&e!==void 0?e:{},Z=Ir(Ae=>FEe(Ae,F,N,U)),pe=Ir(Ae=>Zae(Ae,F,N,U)),Q=Ir(Ae=>MEe(Ae,F,N,U)),X=Z,oe=c4e(),ce=(r=a??re)!==null&&r!==void 0?r:!1,[Ne,ne]=ibe([X,ce]),B=F==="axis"?pe:void 0;C4e(F,N,Q,B,L,ce);var V=k??oe;if(V==null||H==null||F==null)return null;var Y=X??dW;ce||(Y=dW),u&&Y.length&&(Y=Pye(Y.filter(Ae=>Ae.value!=null&&(Ae.hide!==!0||n.includeHidden)),m,D4e));var K=Y.length>0,le=C.createElement(Awe,{allowEscapeViewBox:i,animationDuration:s,animationEasing:o,isAnimationActive:h,active:ce,coordinate:Q,hasPayload:K,offset:f,position:g,reverseDirection:b,useTranslate3d:y,viewBox:H,wrapperStyle:w,lastBoundingBox:Ne,innerRef:ne,hasPortalFromProps:!!k},R4e(l,uW(uW({},n),{},{payload:Y,label:B,active:ce,activeIndex:L,coordinate:Q,accessibilityLayer:G})));return C.createElement(C.Fragment,null,vJ.createPortal(le,V),ce&&C.createElement(l4e,{cursor:A,tooltipEventType:F,coordinate:Q,payload:Y,index:L}))}var rS=t=>null;rS.displayName="Cell";function L4e(t,e,r){return(e=M4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M4e(t){var e=F4e(t,"string");return typeof e=="symbol"?e:e+""}function F4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class B4e{constructor(e){L4e(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function hW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function U4e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hW(Object(r),!0).forEach(function(n){z4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z4e(t,e,r){return(e=$4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $4e(t){var e=V4e(t,"string");return typeof e=="symbol"?e:e+""}function V4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H4e={cacheSize:2e3,enableCache:!0},aie=U4e({},H4e),fW=new B4e(aie.cacheSize),q4e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pW="recharts_measurement_span";function G4e(t,e){var r=e.fontSize||"",n=e.fontFamily||"",a=e.fontWeight||"",i=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(o)}var mW=(t,e)=>{try{var r=document.getElementById(pW);r||(r=document.createElement("span"),r.setAttribute("id",pW),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,q4e,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},g_=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ME.isSsr)return{width:0,height:0};if(!aie.enableCache)return mW(e,r);var n=G4e(e,r),a=fW.get(n);if(a)return a;var i=mW(e,r);return fW.set(n,i),i},iie;function W4e(t,e,r){return(e=K4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K4e(t){var e=Y4e(t,"string");return typeof e=="symbol"?e:e+""}function Y4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gW=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xW=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,X4e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,J4e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Z4e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Q4e=["cm","mm","pt","pc","in","Q","px"];function eTe(t){return Q4e.includes(t)}var n2="NaN";function tTe(t,e){return t*Z4e[e]}class yl{static parse(e){var r,[,n,a]=(r=J4e.exec(e))!==null&&r!==void 0?r:[];return n==null?yl.NaN:new yl(parseFloat(n),a??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,yf(e)&&(this.unit=""),r!==""&&!X4e.test(r)&&(this.num=NaN,this.unit=""),eTe(r)&&(this.num=tTe(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new yl(NaN,""):new yl(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new yl(NaN,""):new yl(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new yl(NaN,""):new yl(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new yl(NaN,""):new yl(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return yf(this.num)}}iie=yl;W4e(yl,"NaN",new iie(NaN,""));function sie(t){if(t==null||t.includes(n2))return n2;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,a,i]=(r=gW.exec(e))!==null&&r!==void 0?r:[],s=yl.parse(n??""),o=yl.parse(i??""),l=a==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return n2;e=e.replace(gW,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,h,f,m]=(u=xW.exec(e))!==null&&u!==void 0?u:[],g=yl.parse(h??""),b=yl.parse(m??""),y=f==="+"?g.add(b):g.subtract(b);if(y.isNaN())return n2;e=e.replace(xW,y.toString())}return e}var vW=/\(([^()]*)\)/;function rTe(t){for(var e=t,r;(r=vW.exec(e))!=null;){var[,n]=r;e=e.replace(vW,sie(n))}return e}function nTe(t){var e=t.replace(/\s+/g,"");return e=rTe(e),e=sie(e),e}function aTe(t){try{return nTe(t)}catch{return n2}}function eR(t){var e=aTe(t.slice(5,-1));return e===n2?"":e}var iTe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],sTe=["dx","dy","angle","className","breakAll"];function BM(){return BM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BM.apply(null,arguments)}function yW(t,e){if(t==null)return{};var r,n,a=oTe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function oTe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var oie=/[ \f\n\r\t\v\u2028\u2029]+/,lie=t=>{var{children:e,breakAll:r,style:n}=t;try{var a=[];qs(e)||(r?a=e.toString().split(""):a=e.toString().split(oie));var i=a.map(o=>({word:o,width:g_(o,n).width})),s=r?0:g_("",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}};function lTe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var cie=(t,e,r,n)=>t.reduce((a,i)=>{var{word:s,width:o}=i,l=a[a.length-1];if(l&&o!=null&&(e==null||n||l.width+o+r<Number(e)))l.words.push(s),l.width+=o+r;else{var u={words:[s],width:o};a.push(u)}return a},[]),uie=t=>t.reduce((e,r)=>e.width>r.width?e:r),cTe="",bW=(t,e,r,n,a,i,s,o)=>{var l=t.slice(0,e),u=lie({breakAll:r,style:n,children:l+cTe});if(!u)return[!1,[]];var h=cie(u.wordsWithComputedWidth,i,s,o),f=h.length>a||uie(h).width>Number(i);return[f,h]},uTe=(t,e,r,n,a)=>{var{maxLines:i,children:s,style:o,breakAll:l}=t,u=Pr(i),h=String(s),f=cie(e,n,r,a);if(!u||a)return f;var m=f.length>i||uie(f).width>Number(n);if(!m)return f;for(var g=0,b=h.length-1,y=0,w;g<=b&&y<=h.length-1;){var A=Math.floor((g+b)/2),S=A-1,[N,T]=bW(h,S,l,o,i,n,r,a),[k]=bW(h,A,l,o,i,n,r,a);if(!N&&!k&&(g=A+1),N&&k&&(b=A-1),!N&&k){w=T;break}y++}return w||f},wW=t=>{var e=qs(t)?[]:t.toString().split(oie);return[{words:e,width:void 0}]},dTe=t=>{var{width:e,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=t;if((e||r)&&!ME.isSsr){var o,l,u=lie({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:h,spaceWidth:f}=u;o=h,l=f}else return wW(n);return uTe({breakAll:i,children:n,maxLines:s,style:a},o,l,e,!!r)}return wW(n)},die="#808080",hTe={angle:0,breakAll:!1,capHeight:"0.71em",fill:die,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},SP=C.forwardRef((t,e)=>{var r=So(t,hTe),{x:n,y:a,lineHeight:i,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:h}=r,f=yW(r,iTe),m=C.useMemo(()=>dTe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:g,dy:b,angle:y,className:w,breakAll:A}=f,S=yW(f,sTe);if(!z0(n)||!z0(a)||m.length===0)return null;var N=Number(n)+(Pr(g)?g:0),T=Number(a)+(Pr(b)?b:0);if(!Pi(N)||!Pi(T))return null;var k;switch(h){case"start":k=eR("calc(".concat(s,")"));break;case"middle":k=eR("calc(".concat((m.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:k=eR("calc(".concat(m.length-1," * -").concat(i,")"));break}var R=[];if(l){var O=m[0].width,{width:U}=f;R.push("scale(".concat(Pr(U)&&Pr(O)?U/O:1,")"))}return y&&R.push("rotate(".concat(y,", ").concat(N,", ").concat(T,")")),R.length&&(S.transform=R.join(" ")),C.createElement("text",BM({},ic(S),{ref:e,x:N,y:T,className:sa("recharts-text",w),textAnchor:u,fill:o.includes("url")?die:o}),m.map((H,G)=>{var F=H.words.join(A?"":" ");return C.createElement("tspan",{x:N,dy:G===0?k:i,key:"".concat(F,"-").concat(G)},F)}))});SP.displayName="Text";var fTe=["labelRef"],pTe=["content"];function AW(t,e){if(t==null)return{};var r,n,a=mTe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function mTe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function _W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ys(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_W(Object(r),!0).forEach(function(n){gTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_W(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gTe(t,e,r){return(e=xTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xTe(t){var e=vTe(t,"string");return typeof e=="symbol"?e:e+""}function vTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lm.apply(null,arguments)}var hie=C.createContext(null),yTe=t=>{var{x:e,y:r,upperWidth:n,lowerWidth:a,width:i,height:s,children:o}=t,l=C.useMemo(()=>({x:e,y:r,upperWidth:n,lowerWidth:a,width:i,height:s}),[e,r,n,a,i,s]);return C.createElement(hie.Provider,{value:l},o)},fie=()=>{var t=C.useContext(hie),e=tP();return t||Pre(e)},bTe=C.createContext(null),wTe=()=>{var t=C.useContext(bTe),e=Ir(rae);return t||e},ATe=t=>{var{value:e,formatter:r}=t,n=qs(t.children)?e:t.children;return typeof r=="function"?r(n):n},wB=t=>t!=null&&typeof t=="function",_Te=(t,e)=>{var r=tc(e-t),n=Math.min(Math.abs(e-t),360);return r*n},STe=(t,e,r,n,a)=>{var{offset:i,className:s}=t,{cx:o,cy:l,innerRadius:u,outerRadius:h,startAngle:f,endAngle:m,clockWise:g}=a,b=(u+h)/2,y=_Te(f,m),w=y>=0?1:-1,A,S;switch(e){case"insideStart":A=f+w*i,S=g;break;case"insideEnd":A=m-w*i,S=!g;break;case"end":A=m+w*i,S=g;break;default:throw new Error("Unsupported position ".concat(e))}S=y<=0?S:!S;var N=Vs(o,l,b,A),T=Vs(o,l,b,A+(S?1:-1)*359),k="M".concat(N.x,",").concat(N.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(S?0:1,`,
    `).concat(T.x,",").concat(T.y),R=qs(t.id)?$_("recharts-radial-line-"):t.id;return C.createElement("text",lm({},n,{dominantBaseline:"central",className:sa("recharts-radial-bar-label",s)}),C.createElement("defs",null,C.createElement("path",{id:R,d:k})),C.createElement("textPath",{xlinkHref:"#".concat(R)},r))},NTe=(t,e,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:o,endAngle:l}=t,u=(o+l)/2;if(r==="outside"){var{x:h,y:f}=Vs(n,a,s+e,u);return{x:h,y:f,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(i+s)/2,{x:g,y:b}=Vs(n,a,m,u);return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},UM=t=>"cx"in t&&Pr(t.cx),ETe=(t,e)=>{var{parentViewBox:r,offset:n,position:a}=t,i;r!=null&&!UM(r)&&(i=r);var{x:s,y:o,upperWidth:l,lowerWidth:u,height:h}=e,f=s,m=s+(l-u)/2,g=(f+m)/2,b=(l+u)/2,y=f+l/2,w=h>=0?1:-1,A=w*n,S=w>0?"end":"start",N=w>0?"start":"end",T=l>=0?1:-1,k=T*n,R=T>0?"end":"start",O=T>0?"start":"end";if(a==="top"){var U={x:f+l/2,y:o-A,textAnchor:"middle",verticalAnchor:S};return ys(ys({},U),i?{height:Math.max(o-i.y,0),width:l}:{})}if(a==="bottom"){var H={x:m+u/2,y:o+h+A,textAnchor:"middle",verticalAnchor:N};return ys(ys({},H),i?{height:Math.max(i.y+i.height-(o+h),0),width:u}:{})}if(a==="left"){var G={x:g-k,y:o+h/2,textAnchor:R,verticalAnchor:"middle"};return ys(ys({},G),i?{width:Math.max(G.x-i.x,0),height:h}:{})}if(a==="right"){var F={x:g+b+k,y:o+h/2,textAnchor:O,verticalAnchor:"middle"};return ys(ys({},F),i?{width:Math.max(i.x+i.width-F.x,0),height:h}:{})}var L=i?{width:b,height:h}:{};return a==="insideLeft"?ys({x:g+k,y:o+h/2,textAnchor:O,verticalAnchor:"middle"},L):a==="insideRight"?ys({x:g+b-k,y:o+h/2,textAnchor:R,verticalAnchor:"middle"},L):a==="insideTop"?ys({x:f+l/2,y:o+A,textAnchor:"middle",verticalAnchor:N},L):a==="insideBottom"?ys({x:m+u/2,y:o+h-A,textAnchor:"middle",verticalAnchor:S},L):a==="insideTopLeft"?ys({x:f+k,y:o+A,textAnchor:O,verticalAnchor:N},L):a==="insideTopRight"?ys({x:f+l-k,y:o+A,textAnchor:R,verticalAnchor:N},L):a==="insideBottomLeft"?ys({x:m+k,y:o+h-A,textAnchor:O,verticalAnchor:S},L):a==="insideBottomRight"?ys({x:m+u-k,y:o+h-A,textAnchor:R,verticalAnchor:S},L):a&&typeof a=="object"&&(Pr(a.x)||Em(a.x))&&(Pr(a.y)||Em(a.y))?ys({x:s+xd(a.x,b),y:o+xd(a.y,h),textAnchor:"end",verticalAnchor:"end"},L):ys({x:y,y:o+h/2,textAnchor:"middle",verticalAnchor:"middle"},L)},TTe={angle:0,offset:5,zIndex:Go.label,position:"middle",textBreakAll:!1};function Cg(t){var e=So(t,TTe),{viewBox:r,position:n,value:a,children:i,content:s,className:o="",textBreakAll:l,labelRef:u}=e,h=wTe(),f=fie(),m=n==="center"?f:h??f,g,b,y;if(r==null?g=m:UM(r)?g=r:g=Pre(r),!g||qs(a)&&qs(i)&&!C.isValidElement(s)&&typeof s!="function")return null;var w=ys(ys({},e),{},{viewBox:g});if(C.isValidElement(s)){var{labelRef:A}=w,S=AW(w,fTe);return C.cloneElement(s,S)}if(typeof s=="function"){var{content:N}=w,T=AW(w,pTe);if(b=C.createElement(s,T),C.isValidElement(b))return b}else b=ATe(e);var k=ic(e);if(UM(g)){if(n==="insideStart"||n==="insideEnd"||n==="end")return STe(e,n,b,k,g);y=NTe(g,e.offset,e.position)}else y=ETe(e,g);return C.createElement(xh,{zIndex:e.zIndex},C.createElement(SP,lm({ref:u,className:sa("recharts-label",o)},k,y,{textAnchor:lTe(k.textAnchor)?k.textAnchor:y.textAnchor,breakAll:l}),b))}Cg.displayName="Label";var jTe=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?C.createElement(Cg,lm({key:"label-implicit"},n)):z0(t)?C.createElement(Cg,lm({key:"label-implicit",value:t},n)):C.isValidElement(t)?t.type===Cg?C.cloneElement(t,ys({key:"label-implicit"},n)):C.createElement(Cg,lm({key:"label-implicit",content:t},n)):wB(t)?C.createElement(Cg,lm({key:"label-implicit",content:t},n)):t&&typeof t=="object"?C.createElement(Cg,lm({},t,{key:"label-implicit"},n)):null};function CTe(t){var{label:e,labelRef:r}=t,n=fie();return jTe(e,n,r)||null}var tR={},rR={},SW;function kTe(){return SW||(SW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(rR)),rR}var nR={},NW;function PTe(){return NW||(NW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(nR)),nR}var EW;function OTe(){return EW||(EW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kTe(),r=PTe(),n=JF();function a(i){if(n.isArrayLike(i))return e.last(r.toArray(i))}t.last=a})(tR)),tR}var aR,TW;function DTe(){return TW||(TW=1,aR=OTe().last),aR}var RTe=DTe();const ITe=ph(RTe);var LTe=["valueAccessor"],MTe=["dataKey","clockWise","id","textBreakAll","zIndex"];function hC(){return hC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hC.apply(null,arguments)}function jW(t,e){if(t==null)return{};var r,n,a=FTe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function FTe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var BTe=t=>Array.isArray(t.value)?ITe(t.value):t.value,pie=C.createContext(void 0),mie=pie.Provider,gie=C.createContext(void 0),UTe=gie.Provider;function zTe(){return C.useContext(pie)}function $Te(){return C.useContext(gie)}function X3(t){var{valueAccessor:e=BTe}=t,r=jW(t,LTe),{dataKey:n,clockWise:a,id:i,textBreakAll:s,zIndex:o}=r,l=jW(r,MTe),u=zTe(),h=$Te(),f=u||h;return!f||!f.length?null:C.createElement(xh,{zIndex:o??Go.label},C.createElement(Xo,{className:"recharts-label-list"},f.map((m,g)=>{var b,y=qs(n)?e(m,g):Ya(m&&m.payload,n),w=qs(i)?{}:{id:"".concat(i,"-").concat(g)};return C.createElement(Cg,hC({key:"label-".concat(g)},ic(m),l,w,{fill:(b=r.fill)!==null&&b!==void 0?b:m.fill,parentViewBox:m.parentViewBox,value:y,textBreakAll:s,viewBox:m.viewBox,index:g,zIndex:0}))})))}X3.displayName="LabelList";function AB(t){var{label:e}=t;return e?e===!0?C.createElement(X3,{key:"labelList-implicit"}):C.isValidElement(e)||wB(e)?C.createElement(X3,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(X3,hC({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function zM(){return zM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zM.apply(null,arguments)}var xie=t=>{var{cx:e,cy:r,r:n,className:a}=t,i=sa("recharts-dot",a);return Pr(e)&&Pr(r)&&Pr(n)?C.createElement("circle",zM({},bu(t),XF(t),{className:i,cx:e,cy:r,r:n})):null},vie=t=>t.graphicalItems.polarItems,VTe=mt([Di,qE],H7),NP=mt([vie,qi,VTe],G7),HTe=mt([NP],W7),EP=mt([HTe,hP],K7),qTe=mt([EP,qi,NP],X7);mt([EP,qi,NP],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(a=>{var i,s=Ya(n,(i=e.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:Ya(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]})));var CW=()=>{},GTe=mt([EP,qi,NP,vP,Di],eB),WTe=mt([qi,Z7,Q7,CW,GTe,CW,oa,Di],tB),yie=mt([qi,oa,EP,qTe,HE,Di,WTe],rB),KTe=mt([yie,qi,_5],iB);mt([qi,yie,KTe,Di],oB);var YTe={radiusAxis:{},angleAxis:{}},bie=_u({name:"polarAxis",initialState:YTe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:fHe,removeRadiusAxis:pHe,addAngleAxis:mHe,removeAngleAxis:gHe}=bie.actions,XTe=bie.reducer;function kW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function PW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kW(Object(r),!0).forEach(function(n){JTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JTe(t,e,r){return(e=ZTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZTe(t){var e=QTe(t,"string");return typeof e=="symbol"?e:e+""}function QTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e3e=(t,e)=>e,_B=mt([vie,e3e],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),t3e=[],SB=(t,e,r)=>(r==null?void 0:r.length)===0?t3e:r,wie=mt([hP,_B,SB],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var a;if((e==null?void 0:e.data)!=null&&e.data.length>0?a=e.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>PW(PW({},e.presentationProps),i.props))),a!=null)return a}}),r3e=mt([wie,_B,SB],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,a)=>{var i,s=Ya(n,e.nameKey,e.name),o;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=e.fill,{value:x5(s,e.dataKey),color:o,payload:n,type:e.legendType}})}),n3e=mt([wie,_B,SB,Jo],(t,e,r,n)=>{if(!(e==null||t==null))return lje({offset:n,pieSettings:e,displayedData:t,cells:r})}),iR={exports:{}},ka={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OW;function a3e(){if(OW)return ka;OW=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function b(y){if(typeof y=="object"&&y!==null){var w=y.$$typeof;switch(w){case t:switch(y=y.type,y){case r:case a:case n:case l:case u:case m:return y;default:switch(y=y&&y.$$typeof,y){case s:case o:case f:case h:return y;case i:return y;default:return w}}case e:return w}}}return ka.ContextConsumer=i,ka.ContextProvider=s,ka.Element=t,ka.ForwardRef=o,ka.Fragment=r,ka.Lazy=f,ka.Memo=h,ka.Portal=e,ka.Profiler=a,ka.StrictMode=n,ka.Suspense=l,ka.SuspenseList=u,ka.isContextConsumer=function(y){return b(y)===i},ka.isContextProvider=function(y){return b(y)===s},ka.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},ka.isForwardRef=function(y){return b(y)===o},ka.isFragment=function(y){return b(y)===r},ka.isLazy=function(y){return b(y)===f},ka.isMemo=function(y){return b(y)===h},ka.isPortal=function(y){return b(y)===e},ka.isProfiler=function(y){return b(y)===a},ka.isStrictMode=function(y){return b(y)===n},ka.isSuspense=function(y){return b(y)===l},ka.isSuspenseList=function(y){return b(y)===u},ka.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===a||y===n||y===l||y===u||typeof y=="object"&&y!==null&&(y.$$typeof===f||y.$$typeof===h||y.$$typeof===s||y.$$typeof===i||y.$$typeof===o||y.$$typeof===g||y.getModuleId!==void 0)},ka.typeOf=b,ka}var DW;function i3e(){return DW||(DW=1,iR.exports=a3e()),iR.exports}var s3e=i3e(),RW=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",IW=null,sR=null,Aie=t=>{if(t===IW&&Array.isArray(sR))return sR;var e=[];return C.Children.forEach(t,r=>{qs(r)||(s3e.isFragment(r)?e=e.concat(Aie(r.props.children)):e.push(r))}),sR=e,IW=t,e};function _ie(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(a=>RW(a)):n=[RW(e)],Aie(t).forEach(a=>{var i=Ny(a,"type.displayName")||Ny(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var NB=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,oR={},LW;function o3e(){return LW||(LW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(oR)),oR}var lR,MW;function l3e(){return MW||(MW=1,lR=o3e().isPlainObject),lR}var c3e=l3e();const u3e=ph(c3e);var FW,BW,UW,zW,$W;function VW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function HW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VW(Object(r),!0).forEach(function(n){d3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d3e(t,e,r){return(e=h3e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h3e(t){var e=f3e(t,"string");return typeof e=="symbol"?e:e+""}function f3e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fC(){return fC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fC.apply(null,arguments)}function TA(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var qW=(t,e,r,n,a)=>{var i=r-n,s;return s=ss(FW||(FW=TA(["M ",",",""])),t,e),s+=ss(BW||(BW=TA(["L ",",",""])),t+r,e),s+=ss(UW||(UW=TA(["L ",",",""])),t+r-i/2,e+a),s+=ss(zW||(zW=TA(["L ",",",""])),t+r-i/2-n,e+a),s+=ss($W||($W=TA(["L ",","," Z"])),t,e),s},p3e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},m3e=t=>{var e=So(t,p3e),{x:r,y:n,upperWidth:a,lowerWidth:i,height:s,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:h,isUpdateAnimationActive:f}=e,m=C.useRef(null),[g,b]=C.useState(-1),y=C.useRef(a),w=C.useRef(i),A=C.useRef(s),S=C.useRef(r),N=C.useRef(n),T=BE(t,"trapezoid-");if(C.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var Z=m.current.getTotalLength();Z&&b(Z)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||s!==+s||a===0&&i===0||s===0)return null;var k=sa("recharts-trapezoid",o);if(!f)return C.createElement("g",null,C.createElement("path",fC({},ic(e),{className:k,d:qW(r,n,a,i,s)})));var R=y.current,O=w.current,U=A.current,H=S.current,G=N.current,F="0px ".concat(g===-1?1:g,"px"),L="".concat(g,"px 0px"),re=Gre(["strokeDasharray"],u,l);return C.createElement(FE,{animationId:T,key:T,canBegin:g>0,duration:u,easing:l,isActive:f,begin:h},Z=>{var pe=hs(R,a,Z),Q=hs(O,i,Z),X=hs(U,s,Z),oe=hs(H,r,Z),ce=hs(G,n,Z);m.current&&(y.current=pe,w.current=Q,A.current=X,S.current=oe,N.current=ce);var Ne=Z>0?{transition:re,strokeDasharray:L}:{strokeDasharray:F};return C.createElement("path",fC({},ic(e),{className:k,d:qW(oe,ce,pe,Q,X),ref:m,style:HW(HW({},Ne),e.style)}))})},g3e=["option","shapeType","activeClassName"];function x3e(t,e){if(t==null)return{};var r,n,a=v3e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function v3e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function GW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GW(Object(r),!0).forEach(function(n){y3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y3e(t,e,r){return(e=b3e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b3e(t){var e=w3e(t,"string");return typeof e=="symbol"?e:e+""}function w3e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A3e(t,e){return pC(pC({},e),t)}function _3e(t,e){return t==="symbols"}function WW(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return C.createElement(Xre,r);case"trapezoid":return C.createElement(m3e,r);case"sector":return C.createElement(ene,r);case"symbols":if(_3e(e))return C.createElement(kte,r);break;case"curve":return C.createElement(b2,r);default:return null}}function S3e(t){return C.isValidElement(t)?t.props:t}function Sie(t){var{option:e,shapeType:r,activeClassName:n="recharts-active-shape"}=t,a=x3e(t,g3e),i;if(C.isValidElement(e))i=C.cloneElement(e,pC(pC({},a),S3e(e)));else if(typeof e=="function")i=e(a,a.index);else if(u3e(e)&&typeof e!="boolean"){var s=A3e(e,a);i=C.createElement(WW,{shapeType:r,elementProps:s})}else{var o=a;i=C.createElement(WW,{shapeType:r,elementProps:o})}return a.isActive?C.createElement(Xo,{className:n},i):i}var N3e=(t,e,r)=>{var n=Oi();return(a,i)=>s=>{t==null||t(a,i,s),n(Oae({activeIndex:String(i),activeDataKey:e,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},E3e=t=>{var e=Oi();return(r,n)=>a=>{t==null||t(r,n,a),e(ONe())}},T3e=(t,e,r)=>{var n=Oi();return(a,i)=>s=>{t==null||t(a,i,s),n(DNe({activeIndex:String(i),activeDataKey:e,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function EB(t){var{tooltipEntrySettings:e}=t,r=Oi(),n=sc(),a=C.useRef(null);return C.useLayoutEffect(()=>{n||(a.current===null?r(jNe(e)):a.current!==e&&r(CNe({prev:a.current,next:e})),a.current=e)},[e,r,n]),C.useLayoutEffect(()=>()=>{a.current&&(r(kNe(a.current)),a.current=null)},[r]),null}function Nie(t){var{legendPayload:e}=t,r=Oi(),n=sc(),a=C.useRef(null);return C.useLayoutEffect(()=>{n||(a.current===null?r($re(e)):a.current!==e&&r(Vre({prev:a.current,next:e})),a.current=e)},[r,n,e]),C.useLayoutEffect(()=>()=>{a.current&&(r(Hre(a.current)),a.current=null)},[r]),null}function j3e(t){var{legendPayload:e}=t,r=Oi(),n=Ir(oa),a=C.useRef(null);return C.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r($re(e)):a.current!==e&&r(Vre({prev:a.current,next:e})),a.current=e)},[r,n,e]),C.useLayoutEffect(()=>()=>{a.current&&(r(Hre(a.current)),a.current=null)},[r]),null}var cR,C3e=()=>{var[t]=C.useState(()=>$_("uid-"));return t},k3e=(cR=Nde.useId)!==null&&cR!==void 0?cR:C3e;function P3e(t,e){var r=k3e();return e||(t?"".concat(t,"-").concat(r):r)}var O3e=C.createContext(void 0),TB=t=>{var{id:e,type:r,children:n}=t,a=P3e("recharts-".concat(r),e);return C.createElement(O3e.Provider,{value:a},n(a))},D3e={cartesianItems:[],polarItems:[]},Eie=_u({name:"graphicalItems",initialState:D3e,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Ti()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:r,next:n}=e.payload,a=gf(t).cartesianItems.indexOf(r);a>-1&&(t.cartesianItems[a]=n)},prepare:Ti()},removeCartesianGraphicalItem:{reducer(t,e){var r=gf(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:Ti()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Ti()},removePolarGraphicalItem:{reducer(t,e){var r=gf(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)},prepare:Ti()}}}),{addCartesianGraphicalItem:R3e,replaceCartesianGraphicalItem:I3e,removeCartesianGraphicalItem:L3e,addPolarGraphicalItem:M3e,removePolarGraphicalItem:F3e}=Eie.actions,B3e=Eie.reducer,U3e=t=>{var e=Oi(),r=C.useRef(null);return C.useLayoutEffect(()=>{r.current===null?e(R3e(t)):r.current!==t&&e(I3e({prev:r.current,next:t})),r.current=t},[e,t]),C.useLayoutEffect(()=>()=>{r.current&&(e(L3e(r.current)),r.current=null)},[e]),null},Tie=C.memo(U3e);function z3e(t){var e=Oi();return C.useLayoutEffect(()=>(e(M3e(t)),()=>{e(F3e(t))}),[e,t]),null}var $3e=["key"],V3e=["onMouseEnter","onClick","onMouseLeave"],H3e=["id"],q3e=["id"];function KW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function us(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KW(Object(r),!0).forEach(function(n){G3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G3e(t,e,r){return(e=W3e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W3e(t){var e=K3e(t,"string");return typeof e=="symbol"?e:e+""}function K3e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zx(){return zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zx.apply(null,arguments)}function TP(t,e){if(t==null)return{};var r,n,a=Y3e(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function Y3e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function X3e(t){var e=C.useMemo(()=>_ie(t.children,rS),[t.children]),r=Ir(n=>r3e(n,t.id,e));return r==null?null:C.createElement(j3e,{legendPayload:r})}var J3e=C.memo(t=>{var{dataKey:e,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:s,name:o,hide:l,tooltipType:u,id:h}=t,f={dataDefinedOnItem:n.map(m=>m.tooltipPayload),positions:n.map(m=>m.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:s,dataKey:e,nameKey:r,name:x5(o,e),hide:l,type:u,color:s,unit:"",graphicalItemId:h}};return C.createElement(EB,{tooltipEntrySettings:f})}),Z3e=(t,e)=>t>e?"start":t<e?"end":"middle",Q3e=(t,e,r)=>xd(typeof e=="function"?e(t):e,r,r*.8),eje=(t,e,r)=>{var{top:n,left:a,width:i,height:s}=e,o=Jre(i,s),l=a+xd(t.cx,i,i/2),u=n+xd(t.cy,s,s/2),h=xd(t.innerRadius,o,0),f=Q3e(r,t.outerRadius,o),m=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:u,innerRadius:h,outerRadius:f,maxRadius:m}},tje=(t,e)=>{var r=tc(e-t),n=Math.min(Math.abs(e-t),360);return r*n};function rje(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var nje=(t,e)=>{if(C.isValidElement(t))return C.cloneElement(t,e);if(typeof t=="function")return t(e);var r=sa("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:n}=e,a=TP(e,$3e);return C.createElement(b2,zx({},a,{type:"linear",className:r}))},aje=(t,e,r)=>{if(C.isValidElement(t))return C.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),C.isValidElement(n)))return n;var a=sa("recharts-pie-label-text",rje(t));return C.createElement(SP,zx({},e,{alignmentBaseline:"middle",className:a}),n)};function ije(t){var{sectors:e,props:r,showLabels:n}=t,{label:a,labelLine:i,dataKey:s}=r;if(!n||!a||!e)return null;var o=bu(r),l=r5(a),u=r5(i),h=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=e.map((m,g)=>{var b=(m.startAngle+m.endAngle)/2,y=Vs(m.cx,m.cy,m.outerRadius+h,b),w=us(us(us(us({},o),m),{},{stroke:"none"},l),{},{index:g,textAnchor:Z3e(y.x,m.cx)},y),A=us(us(us(us({},o),m),{},{fill:"none",stroke:m.fill},u),{},{index:g,points:[Vs(m.cx,m.cy,m.outerRadius,b),y],key:"line"});return C.createElement(xh,{zIndex:Go.label,key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},C.createElement(Xo,null,i&&nje(i,A),aje(a,w,Ya(m,s))))});return C.createElement(Xo,{className:"recharts-pie-labels"},f)}function sje(t){var{sectors:e,props:r,showLabels:n}=t,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?C.createElement(AB,{label:a}):C.createElement(ije,{sectors:e,props:r,showLabels:n})}function oje(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:i,id:s}=t,o=Ir(c5),l=Ir(Gae),u=Ir(vEe),{onMouseEnter:h,onClick:f,onMouseLeave:m}=a,g=TP(a,V3e),b=N3e(h,a.dataKey,s),y=E3e(m),w=T3e(f,a.dataKey,s);return e==null||e.length===0?null:C.createElement(C.Fragment,null,e.map((A,S)=>{if((A==null?void 0:A.startAngle)===0&&(A==null?void 0:A.endAngle)===0&&e.length!==1)return null;var N=u==null||u===s,T=String(S)===o&&(l==null||a.dataKey===l)&&N,k=o?n:null,R=r&&T?r:k,O=us(us({},A),{},{stroke:A.stroke,tabIndex:-1,[Nre]:S,[Ere]:s});return C.createElement(Xo,zx({key:"sector-".concat(A==null?void 0:A.startAngle,"-").concat(A==null?void 0:A.endAngle,"-").concat(A.midAngle,"-").concat(S),tabIndex:-1,className:"recharts-pie-sector"},Ote(g,A,S),{onMouseEnter:b(A,S),onMouseLeave:y(A,S),onClick:w(A,S)}),C.createElement(Sie,zx({option:i??R,index:S,shapeType:"sector",isActive:T},O)))}))}function lje(t){var e,{pieSettings:r,displayedData:n,cells:a,offset:i}=t,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:h,tooltipType:f}=r,m=Math.abs(r.minAngle),g=tje(o,l),b=Math.abs(g),y=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,w=n.filter(R=>Ya(R,u,0)!==0).length,A=(b>=360?w:w-1)*y,S=b-w*m-A,N=n.reduce((R,O)=>{var U=Ya(O,u,0);return R+(Pr(U)?U:0)},0),T;if(N>0){var k;T=n.map((R,O)=>{var U=Ya(R,u,0),H=Ya(R,h,O),G=eje(r,i,R),F=(Pr(U)?U:0)/N,L,re=us(us({},R),a&&a[O]&&a[O].props);O?L=k.endAngle+tc(g)*y*(U!==0?1:0):L=o;var Z=L+tc(g)*((U!==0?m:0)+F*S),pe=(L+Z)/2,Q=(G.innerRadius+G.outerRadius)/2,X=[{name:H,value:U,payload:re,dataKey:u,type:f,graphicalItemId:r.id}],oe=Vs(G.cx,G.cy,Q,pe);return k=us(us(us(us({},r.presentationProps),{},{percent:F,cornerRadius:typeof s=="string"?parseFloat(s):s,name:H,tooltipPayload:X,midAngle:pe,middleRadius:Q,tooltipPosition:oe},re),G),{},{value:U,dataKey:u,startAngle:L,endAngle:Z,payload:re,paddingAngle:tc(g)*y}),k})}return T}function cje(t){var{showLabels:e,sectors:r,children:n}=t,a=C.useMemo(()=>!e||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,e]);return C.createElement(UTe,{value:e?a:void 0},n)}function uje(t){var{props:e,previousSectorsRef:r,id:n}=t,{sectors:a,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:h,onAnimationStart:f,onAnimationEnd:m}=e,g=BE(e,"recharts-pie-"),b=r.current,[y,w]=C.useState(!1),A=C.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),S=C.useCallback(()=>{typeof f=="function"&&f(),w(!0)},[f]);return C.createElement(cje,{showLabels:!y,sectors:a},C.createElement(FE,{animationId:g,begin:s,duration:o,isActive:i,easing:l,onAnimationStart:S,onAnimationEnd:A,key:g},N=>{var T=[],k=a&&a[0],R=k==null?void 0:k.startAngle;return a==null||a.forEach((O,U)=>{var H=b&&b[U],G=U>0?Ny(O,"paddingAngle",0):0;if(H){var F=hs(H.endAngle-H.startAngle,O.endAngle-O.startAngle,N),L=us(us({},O),{},{startAngle:R+G,endAngle:R+F+G});T.push(L),R=L.endAngle}else{var{endAngle:re,startAngle:Z}=O,pe=hs(0,re-Z,N),Q=us(us({},O),{},{startAngle:R+G,endAngle:R+pe+G});T.push(Q),R=Q.endAngle}}),r.current=T,C.createElement(Xo,null,C.createElement(oje,{sectors:T,activeShape:u,inactiveShape:h,allOtherPieProps:e,shape:e.shape,id:n}))}),C.createElement(sje,{showLabels:!y,sectors:a,props:e}),e.children)}var dje={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Go.area};function hje(t){var{id:e}=t,r=TP(t,H3e),{hide:n,className:a,rootTabIndex:i}=t,s=C.useMemo(()=>_ie(t.children,rS),[t.children]),o=Ir(h=>n3e(h,e,s)),l=C.useRef(null),u=sa("recharts-pie",a);return n||o==null?(l.current=null,C.createElement(Xo,{tabIndex:i,className:u})):C.createElement(xh,{zIndex:t.zIndex},C.createElement(J3e,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:o,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),C.createElement(Xo,{tabIndex:i,className:u},C.createElement(uje,{props:us(us({},r),{},{sectors:o}),previousSectorsRef:l,id:e})))}function jie(t){var e=So(t,dje),{id:r}=e,n=TP(e,q3e),a=bu(n);return C.createElement(TB,{id:r,type:"pie"},i=>C.createElement(C.Fragment,null,C.createElement(z3e,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),C.createElement(X3e,zx({},n,{id:i})),C.createElement(hje,zx({},n,{id:i}))))}jie.displayName="Pie";var fje=["points"];function YW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YW(Object(r),!0).forEach(function(n){pje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pje(t,e,r){return(e=mje(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mje(t){var e=gje(t,"string");return typeof e=="symbol"?e:e+""}function gje(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mC(){return mC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mC.apply(null,arguments)}function xje(t,e){if(t==null)return{};var r,n,a=vje(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function vje(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function yje(t){var{option:e,dotProps:r,className:n}=t;if(C.isValidElement(e))return C.cloneElement(e,r);if(typeof e=="function")return e(r);var a=sa(n,typeof e!="boolean"?e.className:""),i=r??{},{points:s}=i,o=xje(i,fje);return C.createElement(xie,mC({},o,{className:a}))}function bje(t,e){return t==null?!1:e?!0:t.length===1}function Cie(t){var{points:e,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:s,needClip:o,clipPathId:l,zIndex:u=Go.scatter}=t;if(!bje(e,r))return null;var h=NB(r),f=n1e(r),m=e.map((b,y)=>{var w,A,S=uR(uR(uR({r:3},s),f),{},{index:y,cx:(w=b.x)!==null&&w!==void 0?w:void 0,cy:(A=b.y)!==null&&A!==void 0?A:void 0,dataKey:i,value:b.value,payload:b.payload,points:e});return C.createElement(yje,{key:"dot-".concat(y),option:r,dotProps:S,className:a})}),g={};return o&&l!=null&&(g.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(l,")")),C.createElement(xh,{zIndex:u},C.createElement(Xo,mC({className:n},g),m))}function XW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function JW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XW(Object(r),!0).forEach(function(n){wje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wje(t,e,r){return(e=Aje(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Aje(t){var e=_je(t,"string");return typeof e=="symbol"?e:e+""}function _je(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kie=0,Sje={xAxis:{},yAxis:{},zAxis:{}},Pie=_u({name:"cartesianAxis",initialState:Sje,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Ti()},replaceXAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.xAxis[r.id],t.xAxis[n.id]=n)},prepare:Ti()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Ti()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Ti()},replaceYAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.yAxis[r.id],t.yAxis[n.id]=n)},prepare:Ti()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Ti()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Ti()},replaceZAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.zAxis[r.id],t.zAxis[n.id]=n)},prepare:Ti()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Ti()},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload,a=t.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var s=[...i,n].slice(-3);t.yAxis[r]=JW(JW({},t.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:Nje,replaceXAxis:Eje,removeXAxis:Tje,addYAxis:jje,replaceYAxis:Cje,removeYAxis:kje,addZAxis:xHe,replaceZAxis:vHe,removeZAxis:yHe,updateYAxisWidth:Pje}=Pie.actions,Oje=Pie.reducer,Dje=mt([Jo],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Rje=mt([Dje,Um,zm],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),jP=()=>Ir(Rje),Ije=()=>Ir(_Ee);function ZW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZW(Object(r),!0).forEach(function(n){Lje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lje(t,e,r){return(e=Mje(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mje(t){var e=Fje(t,"string");return typeof e=="symbol"?e:e+""}function Fje(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bje=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:a,dataKey:i,clipPath:s}=t;if(a===!1||e.x==null||e.y==null)return null;var o={index:r,dataKey:i,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=dR(dR(dR({},o),r5(a)),XF(a)),u;return C.isValidElement(a)?u=C.cloneElement(a,l):typeof a=="function"?u=a(l):u=C.createElement(xie,l),C.createElement(Xo,{className:"recharts-active-dot",clipPath:s},u)};function $M(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:a,clipPath:i,zIndex:s=Go.activeDot}=t,o=Ir(c5),l=Ije();if(e==null||l==null)return null;var u=e.find(h=>l.includes(h.payload));return qs(u)?null:C.createElement(xh,{zIndex:s},C.createElement(Bje,{point:u,childIndex:Number(o),mainColor:r,dataKey:a,activeDot:n,clipPath:i}))}var Oie=t=>{var{chartData:e}=t,r=Oi(),n=sc();return C.useEffect(()=>n?()=>{}:(r(oW(e)),()=>{r(oW(void 0))}),[e,r,n]),null},QW={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Die=_u({name:"brush",initialState:QW,reducers:{setBrushSettings(t,e){return e.payload==null?QW:e.payload}}}),{setBrushSettings:bHe}=Die.actions,Uje=Die.reducer;function zje(t,e,r){return(e=$je(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $je(t){var e=Vje(t,"string");return typeof e=="symbol"?e:e+""}function Vje(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jB{static create(e){return new jB(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}default:return this.scale(e)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?e>=n&&e<=a:e>=a&&e<=n}}zje(jB,"EPS",1e-4);function Hje(t){return(t%180+180)%180}var qje=function(e){var{width:r,height:n}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Hje(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},Gje={dots:[],areas:[],lines:[]},Rie=_u({name:"referenceElements",initialState:Gje,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=gf(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=gf(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=gf(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:wHe,removeDot:AHe,addArea:_He,removeArea:SHe,addLine:NHe,removeLine:EHe}=Rie.actions,Wje=Rie.reducer,Kje=C.createContext(void 0),Yje=t=>{var{children:e}=t,[r]=C.useState("".concat($_("recharts"),"-clip")),n=jP();if(n==null)return null;var{x:a,y:i,width:s,height:o}=n;return C.createElement(Kje.Provider,{value:r},C.createElement("defs",null,C.createElement("clipPath",{id:r},C.createElement("rect",{x:a,y:i,height:o,width:s}))),e)};function Iie(t,e){if(e<1)return[];if(e===1)return t;for(var r=[],n=0;n<t.length;n+=e){var a=t[n];a!==void 0&&r.push(a)}return r}function Xje(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return qje(n,r)}function Jje(t,e,r){var n=r==="width",{x:a,y:i,width:s,height:o}=t;return e===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function nS(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function Zje(t,e){return Iie(t,e+1)}function Qje(t,e,r,n,a){for(var i=(n||[]).slice(),{start:s,end:o}=e,l=0,u=1,h=s,f=function(){var b=n==null?void 0:n[l];if(b===void 0)return{v:Iie(n,u)};var y=l,w,A=()=>(w===void 0&&(w=r(b,y)),w),S=b.coordinate,N=l===0||nS(t,S,A,h,o);N||(l=0,h=s,u+=1),N&&(h=S+t*(A()/2+a),l+=u)},m;u<=i.length;)if(m=f(),m)return m.v;return[]}function eCe(t,e,r,n,a){var i=(n||[]).slice(),s=i.length;if(s===0)return[];for(var{start:o,end:l}=e,u=1;u<=s;u++){for(var h=(s-1)%u,f=o,m=!0,g=function(){var S=n[b],N=b,T,k=()=>(T===void 0&&(T=r(S,N)),T),R=S.coordinate,O=b===h||nS(t,R,k,f,l);if(!O)return m=!1,1;O&&(f=R+t*(k()/2+a))},b=h;b<s&&!g();b+=u);if(m){for(var y=[],w=h;w<s;w+=u)y.push(n[w]);return y}}return[]}function eK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eK(Object(r),!0).forEach(function(n){tCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tCe(t,e,r){return(e=rCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rCe(t){var e=nCe(t,"string");return typeof e=="symbol"?e:e+""}function nCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aCe(t,e,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:o}=e,{end:l}=e,u=function(m){var g=i[m],b,y=()=>(b===void 0&&(b=r(g,m)),b);if(m===s-1){var w=t*(g.coordinate+t*y()/2-l);i[m]=g=Zl(Zl({},g),{},{tickCoord:w>0?g.coordinate-w*t:g.coordinate})}else i[m]=g=Zl(Zl({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var A=nS(t,g.tickCoord,y,o,l);A&&(l=g.tickCoord-t*(y()/2+a),i[m]=Zl(Zl({},g),{},{isShow:!0}))}},h=s-1;h>=0;h--)u(h);return i}function iCe(t,e,r,n,a,i){var s=(n||[]).slice(),o=s.length,{start:l,end:u}=e;if(i){var h=n[o-1],f=r(h,o-1),m=t*(h.coordinate+t*f/2-u);if(s[o-1]=h=Zl(Zl({},h),{},{tickCoord:m>0?h.coordinate-m*t:h.coordinate}),h.tickCoord!=null){var g=nS(t,h.tickCoord,()=>f,l,u);g&&(u=h.tickCoord-t*(f/2+a),s[o-1]=Zl(Zl({},h),{},{isShow:!0}))}}for(var b=i?o-1:o,y=function(S){var N=s[S],T,k=()=>(T===void 0&&(T=r(N,S)),T);if(S===0){var R=t*(N.coordinate-t*k()/2-l);s[S]=N=Zl(Zl({},N),{},{tickCoord:R<0?N.coordinate-R*t:N.coordinate})}else s[S]=N=Zl(Zl({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var O=nS(t,N.tickCoord,k,l,u);O&&(l=N.tickCoord+t*(k()/2+a),s[S]=Zl(Zl({},N),{},{isShow:!0}))}},w=0;w<b;w++)y(w);return s}function CB(t,e,r){var{tick:n,ticks:a,viewBox:i,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:h,angle:f}=t;if(!a||!a.length||!n)return[];if(Pr(l)||ME.isSsr){var m;return(m=Zje(a,Pr(l)?l:0))!==null&&m!==void 0?m:[]}var g=[],b=o==="top"||o==="bottom"?"width":"height",y=h&&b==="width"?g_(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=(N,T)=>{var k=typeof u=="function"?u(N.value,T):N.value;return b==="width"?Xje(g_(k,{fontSize:e,letterSpacing:r}),y,f):g_(k,{fontSize:e,letterSpacing:r})[b]},A=a.length>=2?tc(a[1].coordinate-a[0].coordinate):1,S=Jje(i,A,b);return l==="equidistantPreserveStart"?Qje(A,S,w,a,s):l==="equidistantPreserveEnd"?eCe(A,S,w,a,s):(l==="preserveStart"||l==="preserveStartEnd"?g=iCe(A,S,w,a,s,l==="preserveStartEnd"):g=aCe(A,S,w,a,s),g.filter(N=>N.isShow))}var sCe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=t,s=0;if(e){Array.from(e).forEach(h=>{if(h){var f=h.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=a+i,u=s+l+o+(r?n:0);return Math.round(u)}return 0},oCe=["axisLine","width","height","className","hide","ticks","axisType"];function lCe(t,e){if(t==null)return{};var r,n,a=cCe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function cCe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ky(){return ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ky.apply(null,arguments)}function tK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Us(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tK(Object(r),!0).forEach(function(n){uCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uCe(t,e,r){return(e=dCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dCe(t){var e=hCe(t,"string");return typeof e=="symbol"?e:e+""}function hCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fm={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Go.axis};function fCe(t){var{x:e,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:o,otherSvgProps:l}=t;if(!o)return null;var u=Us(Us(Us({},l),bu(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var h=+(i==="top"&&!s||i==="bottom"&&s);u=Us(Us({},u),{},{x1:e,y1:r+h*a,x2:e+n,y2:r+h*a})}else{var f=+(i==="left"&&!s||i==="right"&&s);u=Us(Us({},u),{},{x1:e+f*n,y1:r,x2:e+f*n,y2:r+a})}return C.createElement("line",ky({},u,{className:sa("recharts-cartesian-axis-line",Ny(o,"className"))}))}function pCe(t,e,r,n,a,i,s,o,l){var u,h,f,m,g,b,y=o?-1:1,w=t.tickSize||s,A=Pr(t.tickCoord)?t.tickCoord:t.coordinate;switch(i){case"top":u=h=t.coordinate,m=r+ +!o*a,f=m-y*w,b=f-y*l,g=A;break;case"left":f=m=t.coordinate,h=e+ +!o*n,u=h-y*w,g=u-y*l,b=A;break;case"right":f=m=t.coordinate,h=e+ +o*n,u=h+y*w,g=u+y*l,b=A;break;default:u=h=t.coordinate,m=r+ +o*a,f=m+y*w,b=f+y*l,g=A;break}return{line:{x1:u,y1:f,x2:h,y2:m},tick:{x:g,y:b}}}function mCe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function gCe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function xCe(t){var{option:e,tickProps:r,value:n}=t,a,i=sa(r.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))a=C.cloneElement(e,Us(Us({},r),{},{className:i}));else if(typeof e=="function")a=e(Us(Us({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=sa(s,e==null?void 0:e.className)),a=C.createElement(SP,ky({},r,{className:s}),n)}return a}var vCe=C.forwardRef((t,e)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:h,mirror:f,x:m,y:g,width:b,height:y,tickSize:w,tickMargin:A,fontSize:S,letterSpacing:N,getTicksConfig:T,events:k,axisType:R}=t,O=CB(Us(Us({},T),{},{ticks:r}),S,N),U=mCe(h,f),H=gCe(h,f),G=bu(T),F=r5(n),L={};typeof a=="object"&&(L=a);var re=Us(Us({},G),{},{fill:"none"},L),Z=O.map(X=>Us({entry:X},pCe(X,m,g,b,y,h,w,f,A))),pe=Z.map(X=>{var{entry:oe,line:ce}=X;return C.createElement(Xo,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},a&&C.createElement("line",ky({},re,ce,{className:sa("recharts-cartesian-axis-tick-line",Ny(a,"className"))})))}),Q=Z.map((X,oe)=>{var{entry:ce,tick:Ne}=X,ne=Us(Us(Us(Us({textAnchor:U,verticalAnchor:H},G),{},{stroke:"none",fill:i},F),Ne),{},{index:oe,payload:ce,visibleTicksCount:O.length,tickFormatter:s,padding:l},u);return C.createElement(Xo,ky({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ce.value,"-").concat(ce.coordinate,"-").concat(ce.tickCoord)},Ote(k,ce,oe)),n&&C.createElement(xCe,{option:n,tickProps:ne,value:"".concat(typeof s=="function"?s(ce.value,oe):ce.value).concat(o||"")}))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},Q.length>0&&C.createElement(xh,{zIndex:Go.label},C.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:e},Q)),pe.length>0&&C.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},pe))}),yCe=C.forwardRef((t,e)=>{var{axisLine:r,width:n,height:a,className:i,hide:s,ticks:o,axisType:l}=t,u=lCe(t,oCe),[h,f]=C.useState(""),[m,g]=C.useState(""),b=C.useRef(null);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return sCe({ticks:b.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var y=C.useCallback(w=>{if(w){var A=w.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=A;var S=A[0];if(S){var N=window.getComputedStyle(S),T=N.fontSize,k=N.letterSpacing;(T!==h||k!==m)&&(f(T),g(k))}}},[h,m]);return s||n!=null&&n<=0||a!=null&&a<=0?null:C.createElement(xh,{zIndex:t.zIndex},C.createElement(Xo,{className:sa("recharts-cartesian-axis",i)},C.createElement(fCe,{x:t.x,y:t.y,width:n,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:bu(t)}),C.createElement(vCe,{ref:y,axisType:l,events:u,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:m,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),C.createElement(yTe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},C.createElement(CTe,{label:t.label,labelRef:t.labelRef}),t.children)))}),kB=C.forwardRef((t,e)=>{var r=So(t,fm);return C.createElement(yCe,ky({},r,{ref:e}))});kB.displayName="CartesianAxis";var bCe=["x1","y1","x2","y2","key"],wCe=["offset"],ACe=["xAxisId","yAxisId"],_Ce=["xAxisId","yAxisId"];function rK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ql(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rK(Object(r),!0).forEach(function(n){SCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SCe(t,e,r){return(e=NCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NCe(t){var e=ECe(t,"string");return typeof e=="symbol"?e:e+""}function ECe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lv.apply(null,arguments)}function gC(t,e){if(t==null)return{};var r,n,a=TCe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function TCe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var jCe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:s,ry:o}=t;return C.createElement("rect",{x:n,y:a,ry:o,width:i,height:s,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Lie(t){var{option:e,lineItemProps:r}=t,n;if(C.isValidElement(e))n=C.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var a,{x1:i,y1:s,x2:o,y2:l,key:u}=r,h=gC(r,bCe),f=(a=bu(h))!==null&&a!==void 0?a:{},{offset:m}=f,g=gC(f,wCe);n=C.createElement("line",Lv({},g,{x1:i,y1:s,x2:o,y2:l,fill:"none",key:u}))}return n}function CCe(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:a}=t;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=t,o=gC(t,ACe),l=a.map((u,h)=>{var f=Ql(Ql({},o),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(h),index:h});return C.createElement(Lie,{key:"line-".concat(h),option:n,lineItemProps:f})});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function kCe(t){var{y:e,height:r,vertical:n=!0,verticalPoints:a}=t;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=t,o=gC(t,_Ce),l=a.map((u,h)=>{var f=Ql(Ql({},o),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(h),index:h});return C.createElement(Lie,{option:n,lineItemProps:f,key:"line-".concat(h)})});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function PCe(t){var{horizontalFill:e,fillOpacity:r,x:n,y:a,width:i,height:s,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length||o==null)return null;var u=o.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var h=u.map((f,m)=>{var g=!u[m+1],b=g?a+s-f:u[m+1]-f;if(b<=0)return null;var y=m%e.length;return C.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:b,width:i,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function OCe(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:s,height:o,verticalPoints:l}=t;if(!e||!r||!r.length)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,m)=>f-m);a!==u[0]&&u.unshift(0);var h=u.map((f,m)=>{var g=!u[m+1],b=g?a+s-f:u[m+1]-f;if(b<=0)return null;var y=m%r.length;return C.createElement("rect",{key:"react-".concat(m),x:f,y:i,width:b,height:o,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var DCe=(t,e)=>{var{xAxis:r,width:n,height:a,offset:i}=t;return Are(CB(Ql(Ql(Ql({},fm),r),{},{ticks:_re(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,e)},RCe=(t,e)=>{var{yAxis:r,width:n,height:a,offset:i}=t;return Are(CB(Ql(Ql(Ql({},fm),r),{},{ticks:_re(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,e)},ICe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Go.grid};function PB(t){var e=Dre(),r=Rre(),n=Ore(),a=Ql(Ql({},So(t,ICe)),{},{x:Pr(t.x)?t.x:n.left,y:Pr(t.y)?t.y:n.top,width:Pr(t.width)?t.width:n.width,height:Pr(t.height)?t.height:n.height}),{xAxisId:i,yAxisId:s,x:o,y:l,width:u,height:h,syncWithTicks:f,horizontalValues:m,verticalValues:g}=a,b=sc(),y=Ir(H=>YG(H,"xAxis",i,b)),w=Ir(H=>YG(H,"yAxis",s,b));if(!$0(u)||!$0(h)||!Pr(o)||!Pr(l))return null;var A=a.verticalCoordinatesGenerator||DCe,S=a.horizontalCoordinatesGenerator||RCe,{horizontalPoints:N,verticalPoints:T}=a;if((!N||!N.length)&&typeof S=="function"){var k=m&&m.length,R=S({yAxis:w?Ql(Ql({},w),{},{ticks:k?m:w.ticks}):void 0,width:e??u,height:r??h,offset:n},k?!0:f);Hj(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(N=R)}if((!T||!T.length)&&typeof A=="function"){var O=g&&g.length,U=A({xAxis:y?Ql(Ql({},y),{},{ticks:O?g:y.ticks}):void 0,width:e??u,height:r??h,offset:n},O?!0:f);Hj(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(T=U)}return C.createElement(xh,{zIndex:a.zIndex},C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(jCe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),C.createElement(PCe,Lv({},a,{horizontalPoints:N})),C.createElement(OCe,Lv({},a,{verticalPoints:T})),C.createElement(CCe,Lv({},a,{offset:n,horizontalPoints:N,xAxis:y,yAxis:w})),C.createElement(kCe,Lv({},a,{offset:n,verticalPoints:T,xAxis:y,yAxis:w}))))}PB.displayName="CartesianGrid";var LCe={},Mie=_u({name:"errorBars",initialState:LCe,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:a}=e.payload;t[r]&&(t[r]=t[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:THe,replaceErrorBar:jHe,removeErrorBar:CHe}=Mie.actions,MCe=Mie.reducer,FCe=["children"];function BCe(t,e){if(t==null)return{};var r,n,a=UCe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function UCe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var zCe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},$Ce=C.createContext(zCe);function VCe(t){var{children:e}=t,r=BCe(t,FCe);return C.createElement($Ce.Provider,{value:r},e)}function OB(t,e){var r,n,a=Ir(u=>Hm(u,t)),i=Ir(u=>qm(u,e)),s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Ro.allowDataOverflow,o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Io.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function Fie(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,a=jP(),{needClipX:i,needClipY:s,needClip:o}=OB(e,r);if(!o||!a)return null;var{x:l,y:u,width:h,height:f}=a;return C.createElement("clipPath",{id:"clipPath-".concat(n)},C.createElement("rect",{x:i?l:l-h/2,y:s?u:u-f/2,width:i?h:h*2,height:s?f:f*2}))}var Bie=(t,e,r,n)=>_P(t,"xAxis",e,n),Uie=(t,e,r,n)=>AP(t,"xAxis",e,n),zie=(t,e,r,n)=>_P(t,"yAxis",r,n),$ie=(t,e,r,n)=>AP(t,"yAxis",r,n),HCe=mt([oa,Bie,zie,Uie,$ie],(t,e,r,n,a)=>W0(t,"xAxis")?a5(e,n,!1):a5(r,a,!1)),qCe=(t,e,r,n,a)=>a;function GCe(t){return t.type==="line"}var WCe=mt([q7,qCe],(t,e)=>t.filter(GCe).find(r=>r.id===e)),KCe=mt([oa,Bie,zie,Uie,$ie,WCe,HCe,O7],(t,e,r,n,a,i,s,o)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:h}=o;if(!(i==null||e==null||r==null||n==null||a==null||n.length===0||a.length===0||s==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:f,data:m}=i,g;if(m!=null&&m.length>0?g=m:g=l==null?void 0:l.slice(u,h+1),g!=null)return Oke({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:s,displayedData:g})}});function Vie(t){var e=r5(t),r=3,n=2;if(e!=null){var{r:a,strokeWidth:i}=e,s=Number(a),o=Number(i);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var hR={exports:{}},fR={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nK;function YCe(){if(nK)return fR;nK=1;var t=h5();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,a=t.useRef,i=t.useEffect,s=t.useMemo,o=t.useDebugValue;return fR.useSyncExternalStoreWithSelector=function(l,u,h,f,m){var g=a(null);if(g.current===null){var b={hasValue:!1,value:null};g.current=b}else b=g.current;g=s(function(){function w(k){if(!A){if(A=!0,S=k,k=f(k),m!==void 0&&b.hasValue){var R=b.value;if(m(R,k))return N=R}return N=k}if(R=N,r(S,k))return R;var O=f(k);return m!==void 0&&m(R,O)?(S=k,R):(S=k,N=O)}var A=!1,S,N,T=h===void 0?null:h;return[function(){return w(u())},T===null?void 0:function(){return w(T())}]},[u,h,f,m]);var y=n(l,g[0],g[1]);return i(function(){b.hasValue=!0,b.value=y},[y]),o(y),y},fR}var aK;function XCe(){return aK||(aK=1,hR.exports=YCe()),hR.exports}XCe();function JCe(t){t()}function ZCe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){JCe(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=e={callback:r,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!n||t===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var iK={notify(){},get:()=>[]};function QCe(t,e){let r,n=iK,a=0,i=!1;function s(y){h();const w=n.subscribe(y);let A=!1;return()=>{A||(A=!0,w(),f())}}function o(){n.notify()}function l(){b.onStateChange&&b.onStateChange()}function u(){return i}function h(){a++,r||(r=t.subscribe(l),n=ZCe())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=iK)}function m(){i||(i=!0,h())}function g(){i&&(i=!1,f())}const b={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:m,tryUnsubscribe:g,getListeners:()=>n};return b}var eke=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tke=eke(),rke=()=>typeof navigator<"u"&&navigator.product==="ReactNative",nke=rke(),ake=()=>tke||nke?C.useLayoutEffect:C.useEffect,ike=ake();function sK(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ske(t,e){if(sK(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(e,r[a])||!sK(t[r[a]],e[r[a]]))return!1;return!0}var pR=Symbol.for("react-redux-context"),mR=typeof globalThis<"u"?globalThis:{};function oke(){if(!C.createContext)return{};const t=mR[pR]??(mR[pR]=new Map);let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var lke=oke();function cke(t){const{children:e,context:r,serverState:n,store:a}=t,i=C.useMemo(()=>{const l=QCe(a);return{store:a,subscription:l,getServerState:n?()=>n:void 0}},[a,n]),s=C.useMemo(()=>a.getState(),[a]);ike(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,s]);const o=r||lke;return C.createElement(o.Provider,{value:i},e)}var uke=cke,dke=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function hke(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function CP(t,e){var r=new Set([...Object.keys(t),...Object.keys(e)]);for(var n of r)if(dke.has(n)){if(t[n]==null&&e[n]==null)continue;if(!ske(t[n],e[n]))return!1}else if(!hke(t[n],e[n]))return!1;return!0}var fke=["id"],pke=["type","layout","connectNulls","needClip","shape"],mke=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aS.apply(null,arguments)}function oK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function C0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oK(Object(r),!0).forEach(function(n){gke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gke(t,e,r){return(e=xke(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xke(t){var e=vke(t,"string");return typeof e=="symbol"?e:e+""}function vke(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DB(t,e){if(t==null)return{};var r,n,a=yke(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function yke(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var bke=t=>{var{dataKey:e,name:r,stroke:n,legendType:a,hide:i}=t;return[{inactive:i,dataKey:e,type:a,color:n,value:x5(r,e),payload:t}]},wke=C.memo(t=>{var{dataKey:e,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:l,tooltipType:u,id:h}=t,f={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:e,nameKey:void 0,name:x5(s,e),hide:o,type:u,color:n,unit:l,graphicalItemId:h}};return C.createElement(EB,{tooltipEntrySettings:f})}),Hie=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Ake(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],a=0;a<e;++a)n=[...n,...r];return n}var _ke=(t,e,r)=>{var n=r.reduce((f,m)=>f+m);if(!n)return Hie(e,t);for(var a=Math.floor(t/n),i=t%n,s=e-t,o=[],l=0,u=0;l<r.length;u+=r[l],++l)if(u+r[l]>i){o=[...r.slice(0,l),i-u];break}var h=o.length%2===0?[0,s]:[s];return[...Ake(r,a),...o,...h].map(f=>"".concat(f,"px")).join(", ")};function Ske(t){var{clipPathId:e,points:r,props:n}=t,{dot:a,dataKey:i,needClip:s}=n,{id:o}=n,l=DB(n,fke),u=bu(l);return C.createElement(Cie,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:u,needClip:s,clipPathId:e})}function Nke(t){var{showLabels:e,children:r,points:n}=t,a=C.useMemo(()=>n==null?void 0:n.map(i=>{var s,o,l={x:(s=i.x)!==null&&s!==void 0?s:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return C0(C0({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return C.createElement(mie,{value:e?a:void 0},r)}function lK(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:a,props:i}=t,{type:s,layout:o,connectNulls:l,needClip:u,shape:h}=i,f=DB(i,pke),m=C0(C0({},ic(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):void 0,points:n,type:s,layout:o,connectNulls:l,strokeDasharray:a??i.strokeDasharray});return C.createElement(C.Fragment,null,(n==null?void 0:n.length)>1&&C.createElement(Sie,aS({shapeType:"curve",option:h},m,{pathRef:r})),C.createElement(Ske,{points:n,clipPathId:e,props:i}))}function Eke(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Tke(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=t,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:u,animationDuration:h,animationEasing:f,animateNewValues:m,width:g,height:b,onAnimationEnd:y,onAnimationStart:w}=r,A=a.current,S=BE(s,"recharts-line-"),N=C.useRef(S),[T,k]=C.useState(!1),R=!T,O=C.useCallback(()=>{typeof y=="function"&&y(),k(!1)},[y]),U=C.useCallback(()=>{typeof w=="function"&&w(),k(!0)},[w]),H=Eke(n.current),G=C.useRef(0);N.current!==S&&(G.current=i.current,N.current=S);var F=G.current;return C.createElement(Nke,{points:s,showLabels:R},r.children,C.createElement(FE,{animationId:S,begin:u,duration:h,isActive:l,easing:f,onAnimationEnd:O,onAnimationStart:U,key:S},L=>{var re=hs(F,H+F,L),Z=Math.min(re,H),pe;if(l)if(o){var Q="".concat(o).split(/[,\s]+/gim).map(ce=>parseFloat(ce));pe=_ke(Z,H,Q)}else pe=Hie(H,Z);else pe=o==null?void 0:String(o);if(L>0&&H>0&&(a.current=s,i.current=Math.max(i.current,Z)),A){var X=A.length/s.length,oe=L===1?s:s.map((ce,Ne)=>{var ne=Math.floor(Ne*X);if(A[ne]){var B=A[ne];return C0(C0({},ce),{},{x:hs(B.x,ce.x,L),y:hs(B.y,ce.y,L)})}return m?C0(C0({},ce),{},{x:hs(g*2,ce.x,L),y:hs(b/2,ce.y,L)}):C0(C0({},ce),{},{x:ce.x,y:ce.y})});return a.current=oe,C.createElement(lK,{props:r,points:oe,clipPathId:e,pathRef:n,strokeDasharray:pe})}return C.createElement(lK,{props:r,points:s,clipPathId:e,pathRef:n,strokeDasharray:pe})}),C.createElement(AB,{label:r.label}))}function jke(t){var{clipPathId:e,props:r}=t,n=C.useRef(null),a=C.useRef(0),i=C.useRef(null);return C.createElement(Tke,{props:r,clipPathId:e,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var Cke=(t,e)=>{var r,n;return{x:(r=t.x)!==null&&r!==void 0?r:void 0,y:(n=t.y)!==null&&n!==void 0?n:void 0,value:t.value,errorVal:Ya(t.payload,e)}};class kke extends C.Component{render(){var{hide:e,dot:r,points:n,className:a,xAxisId:i,yAxisId:s,top:o,left:l,width:u,height:h,id:f,needClip:m,zIndex:g}=this.props;if(e)return null;var b=sa("recharts-line",a),y=f,{r:w,strokeWidth:A}=Vie(r),S=NB(r),N=w*2+A,T=m?"url(#clipPath-".concat(S?"":"dots-").concat(y,")"):void 0;return C.createElement(xh,{zIndex:g},C.createElement(Xo,{className:b},m&&C.createElement("defs",null,C.createElement(Fie,{clipPathId:y,xAxisId:i,yAxisId:s}),!S&&C.createElement("clipPath",{id:"clipPath-dots-".concat(y)},C.createElement("rect",{x:l-N/2,y:o-N/2,width:u+N,height:h+N}))),C.createElement(VCe,{xAxisId:i,yAxisId:s,data:n,dataPointFormatter:Cke,errorBarOffset:0},C.createElement(jke,{props:this.props,clipPathId:y}))),C.createElement($M,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:T}))}}var qie={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Go.line,type:"linear"};function Pke(t){var e=So(t,qie),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:o,dot:l,hide:u,isAnimationActive:h,label:f,legendType:m,xAxisId:g,yAxisId:b,id:y}=e,w=DB(e,mke),{needClip:A}=OB(g,b),S=jP(),N=Fy(),T=sc(),k=Ir(G=>KCe(G,g,b,T,y));if(N!=="horizontal"&&N!=="vertical"||k==null||S==null)return null;var{height:R,width:O,x:U,y:H}=S;return C.createElement(kke,aS({},w,{id:y,connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,isAnimationActive:h,hide:u,label:f,legendType:m,xAxisId:g,yAxisId:b,points:k,layout:N,height:R,width:O,left:U,top:H,needClip:A}))}function Oke(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:l}=t;return l.map((u,h)=>{var f=Ya(u,s);if(e==="horizontal"){var m=Vj({axis:r,ticks:a,bandSize:o,entry:u,index:h}),g=qs(f)?null:n.scale(f);return{x:m,y:g,value:f,payload:u}}var b=qs(f)?null:r.scale(f),y=Vj({axis:n,ticks:i,bandSize:o,entry:u,index:h});return b==null||y==null?null:{x:b,y,value:f,payload:u}}).filter(Boolean)}function Dke(t){var e=So(t,qie),r=sc();return C.createElement(TB,{id:e.id,type:"line"},n=>C.createElement(C.Fragment,null,C.createElement(Nie,{legendPayload:bke(e)}),C.createElement(wke,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:n}),C.createElement(Tie,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),C.createElement(Pke,aS({},e,{id:n}))))}var Gie=C.memo(Dke,CP);Gie.displayName="Line";function RB(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(a=>a.id===e))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:kie}function IB(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(a=>a.id===e))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:kie}var Wie=(t,e,r)=>_P(t,"xAxis",RB(t,e),r),Kie=(t,e,r)=>AP(t,"xAxis",RB(t,e),r),Yie=(t,e,r)=>_P(t,"yAxis",IB(t,e),r),Xie=(t,e,r)=>AP(t,"yAxis",IB(t,e),r),Rke=mt([oa,Wie,Yie,Kie,Xie],(t,e,r,n,a)=>W0(t,"xAxis")?a5(e,n,!1):a5(r,a,!1)),Ike=(t,e)=>e,Jie=mt([q7,Ike],(t,e)=>t.filter(r=>r.type==="area").find(r=>r.id===e)),Zie=t=>{var e=oa(t),r=W0(e,"xAxis");return r?"yAxis":"xAxis"},Lke=(t,e)=>{var r=Zie(t);return r==="yAxis"?IB(t,e):RB(t,e)},Mke=(t,e,r)=>dae(t,Zie(t),Lke(t,e),r),Fke=mt([Jie,Mke],(t,e)=>{var r;if(!(t==null||e==null)){var{stackId:n}=t,a=z7(t);if(!(n==null||a==null)){var i=(r=e[n])===null||r===void 0?void 0:r.stackedData,s=i==null?void 0:i.find(o=>o.key===a);if(s!=null)return s.map(o=>[o[0],o[1]])}}}),Bke=mt([oa,Wie,Yie,Kie,Xie,Fke,sSe,Rke,Jie,ySe],(t,e,r,n,a,i,s,o,l,u)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:m}=s;if(!(l==null||t!=="horizontal"&&t!=="vertical"||e==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{data:g}=l,b;if(g&&g.length>0?b=g:b=h==null?void 0:h.slice(f,m+1),b!=null)return aPe({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:f,areaSettings:l,stackedData:i,displayedData:b,chartBaseValue:u,bandSize:o})}}),Uke=["id"],zke=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function oy(){return oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oy.apply(null,arguments)}function Qie(t,e){if(t==null)return{};var r,n,a=$ke(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function $ke(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function cK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function a2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cK(Object(r),!0).forEach(function(n){Vke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vke(t,e,r){return(e=Hke(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hke(t){var e=qke(t,"string");return typeof e=="symbol"?e:e+""}function qke(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xC(t,e){return t&&t!=="none"?t:e}var Gke=t=>{var{dataKey:e,name:r,stroke:n,fill:a,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:xC(n,a),value:x5(r,e),payload:t}]},Wke=C.memo(t=>{var{dataKey:e,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:l,tooltipType:u,id:h}=t,f={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:e,nameKey:void 0,name:x5(s,e),hide:o,type:u,color:xC(n,i),unit:l,graphicalItemId:h}};return C.createElement(EB,{tooltipEntrySettings:f})});function Kke(t){var{clipPathId:e,points:r,props:n}=t,{needClip:a,dot:i,dataKey:s}=n,o=bu(n);return C.createElement(Cie,{points:r,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:a,clipPathId:e})}function Yke(t){var{showLabels:e,children:r,points:n}=t,a=n.map(i=>{var s,o,l={x:(s=i.x)!==null&&s!==void 0?s:0,y:(o=i.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return a2(a2({},l),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return C.createElement(mie,{value:e?a:void 0},r)}function uK(t){var{points:e,baseLine:r,needClip:n,clipPathId:a,props:i}=t,{layout:s,type:o,stroke:l,connectNulls:u,isRange:h}=i,{id:f}=i,m=Qie(i,Uke),g=bu(m),b=ic(m);return C.createElement(C.Fragment,null,(e==null?void 0:e.length)>1&&C.createElement(Xo,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},C.createElement(b2,oy({},b,{id:f,points:e,connectNulls:u,type:o,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),l!=="none"&&C.createElement(b2,oy({},g,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:e})),l!=="none"&&h&&C.createElement(b2,oy({},g,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:r}))),C.createElement(Kke,{points:e,props:m,clipPathId:a}))}function Xke(t){var e,r,{alpha:n,baseLine:a,points:i,strokeWidth:s}=t,o=(e=i[0])===null||e===void 0?void 0:e.y,l=(r=i[i.length-1])===null||r===void 0?void 0:r.y;if(!Pi(o)||!Pi(l))return null;var u=n*Math.abs(o-l),h=Math.max(...i.map(f=>f.x||0));return Pr(a)?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(...a.map(f=>f.x||0),h)),Pr(h)?C.createElement("rect",{x:0,y:o<l?o:o-u,width:h+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}function Jke(t){var e,r,{alpha:n,baseLine:a,points:i,strokeWidth:s}=t,o=(e=i[0])===null||e===void 0?void 0:e.x,l=(r=i[i.length-1])===null||r===void 0?void 0:r.x;if(!Pi(o)||!Pi(l))return null;var u=n*Math.abs(o-l),h=Math.max(...i.map(f=>f.y||0));return Pr(a)?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(...a.map(f=>f.y||0),h)),Pr(h)?C.createElement("rect",{x:o<l?o:o-u,y:0,width:u,height:Math.floor(h+(s?parseInt("".concat(s),10):1))}):null}function Zke(t){var{alpha:e,layout:r,points:n,baseLine:a,strokeWidth:i}=t;return r==="vertical"?C.createElement(Xke,{alpha:e,points:n,baseLine:a,strokeWidth:i}):C.createElement(Jke,{alpha:e,points:n,baseLine:a,strokeWidth:i})}function Qke(t){var{needClip:e,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=t,{points:s,baseLine:o,isAnimationActive:l,animationBegin:u,animationDuration:h,animationEasing:f,onAnimationStart:m,onAnimationEnd:g}=n,b=C.useMemo(()=>({points:s,baseLine:o}),[s,o]),y=BE(b,"recharts-area-"),w=X2e(),[A,S]=C.useState(!1),N=!A,T=C.useCallback(()=>{typeof g=="function"&&g(),S(!1)},[g]),k=C.useCallback(()=>{typeof m=="function"&&m(),S(!0)},[m]);if(w==null)return null;var R=a.current,O=i.current;return C.createElement(Yke,{showLabels:N,points:s},n.children,C.createElement(FE,{animationId:y,begin:u,duration:h,isActive:l,easing:f,onAnimationEnd:T,onAnimationStart:k,key:y},U=>{if(R){var H=R.length/s.length,G=U===1?s:s.map((L,re)=>{var Z=Math.floor(re*H);if(R[Z]){var pe=R[Z];return a2(a2({},L),{},{x:hs(pe.x,L.x,U),y:hs(pe.y,L.y,U)})}return L}),F;return Pr(o)?F=hs(O,o,U):qs(o)||yf(o)?F=hs(O,0,U):F=o.map((L,re)=>{var Z=Math.floor(re*H);if(Array.isArray(O)&&O[Z]){var pe=O[Z];return a2(a2({},L),{},{x:hs(pe.x,L.x,U),y:hs(pe.y,L.y,U)})}return L}),U>0&&(a.current=G,i.current=F),C.createElement(uK,{points:G,baseLine:F,needClip:e,clipPathId:r,props:n})}return U>0&&(a.current=s,i.current=o),C.createElement(Xo,null,l&&C.createElement("defs",null,C.createElement("clipPath",{id:"animationClipPath-".concat(r)},C.createElement(Zke,{alpha:U,points:s,baseLine:o,layout:w,strokeWidth:n.strokeWidth}))),C.createElement(Xo,{clipPath:"url(#animationClipPath-".concat(r,")")},C.createElement(uK,{points:s,baseLine:o,needClip:e,clipPathId:r,props:n})))}),C.createElement(AB,{label:n.label}))}function ePe(t){var{needClip:e,clipPathId:r,props:n}=t,a=C.useRef(null),i=C.useRef();return C.createElement(Qke,{needClip:e,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class tPe extends C.PureComponent{render(){var{hide:e,dot:r,points:n,className:a,top:i,left:s,needClip:o,xAxisId:l,yAxisId:u,width:h,height:f,id:m,baseLine:g,zIndex:b}=this.props;if(e)return null;var y=sa("recharts-area",a),w=m,{r:A,strokeWidth:S}=Vie(r),N=NB(r),T=A*2+S,k=o?"url(#clipPath-".concat(N?"":"dots-").concat(w,")"):void 0;return C.createElement(xh,{zIndex:b},C.createElement(Xo,{className:y},o&&C.createElement("defs",null,C.createElement(Fie,{clipPathId:w,xAxisId:l,yAxisId:u}),!N&&C.createElement("clipPath",{id:"clipPath-dots-".concat(w)},C.createElement("rect",{x:s-T/2,y:i-T/2,width:h+T,height:f+T}))),C.createElement(ePe,{needClip:o,clipPathId:w,props:this.props})),C.createElement($M,{points:n,mainColor:xC(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:k}),this.props.isRange&&Array.isArray(g)&&C.createElement($M,{points:g,mainColor:xC(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:k}))}}var ese={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Go.area};function rPe(t){var e,r=So(t,ese),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:o,dot:l,fill:u,fillOpacity:h,hide:f,isAnimationActive:m,legendType:g,stroke:b,xAxisId:y,yAxisId:w}=r,A=Qie(r,zke),S=Fy(),N=Yae(),{needClip:T}=OB(y,w),k=sc(),{points:R,isRange:O,baseLine:U}=(e=Ir(Z=>Bke(Z,t.id,k)))!==null&&e!==void 0?e:{},H=jP();if(S!=="horizontal"&&S!=="vertical"||H==null||N!=="AreaChart"&&N!=="ComposedChart")return null;var{height:G,width:F,x:L,y:re}=H;return!R||!R.length?null:C.createElement(tPe,oy({},A,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:s,baseLine:U,connectNulls:o,dot:l,fill:u,fillOpacity:h,height:G,hide:f,layout:S,isAnimationActive:m==="auto"?!ME.isSsr:m,isRange:O,legendType:g,needClip:T,points:R,stroke:b,width:F,left:L,top:re,xAxisId:y,yAxisId:w}))}var nPe=(t,e,r,n,a)=>{var i=r??e;if(Pr(i))return i;var s=t==="horizontal"?a:n,o=s.scale.domain();if(s.type==="number"){var l=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return i==="dataMin"?u:i==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return i==="dataMin"?o[0]:i==="dataMax"?o[1]:o[0]};function aPe(t){var{areaSettings:{connectNulls:e,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:s,xAxis:o,yAxis:l,displayedData:u,dataStartIndex:h,xAxisTicks:f,yAxisTicks:m,bandSize:g}=t,b=a&&a.length,y=nPe(i,s,r,o,l),w=i==="horizontal",A=!1,S=u.map((T,k)=>{var R,O,U;if(b)U=a[h+k];else{var H=Ya(T,n);Array.isArray(H)?(U=H,A=!0):U=[y,H]}var G=(R=(O=U)===null||O===void 0?void 0:O[1])!==null&&R!==void 0?R:null,F=G==null||b&&!e&&Ya(T,n)==null;return w?{x:Vj({axis:o,ticks:f,bandSize:g,entry:T,index:k}),y:F?null:l.scale(G),value:U,payload:T}:{x:F?null:o.scale(G),y:Vj({axis:l,ticks:m,bandSize:g,entry:T,index:k}),value:U,payload:T}}),N;return b||A?N=S.map(T=>{var k=Array.isArray(T.value)?T.value[0]:null;return w?{x:T.x,y:k!=null&&T.y!=null?l.scale(k):null,payload:T.payload}:{x:k!=null?o.scale(k):null,y:T.y,payload:T.payload}}):N=w?l.scale(y):o.scale(y),{points:S,baseLine:N,isRange:A}}function iPe(t){var e=So(t,ese),r=sc();return C.createElement(TB,{id:e.id,type:"area"},n=>C.createElement(C.Fragment,null,C.createElement(Nie,{legendPayload:Gke(e)}),C.createElement(Wke,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:n}),C.createElement(Tie,{type:"area",id:n,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:m2e(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:r,connectNulls:e.connectNulls}),C.createElement(rPe,oy({},e,{id:n}))))}var vC=C.memo(iPe,CP);vC.displayName="Area";var sPe=["domain","range"],oPe=["domain","range"];function dK(t,e){if(t==null)return{};var r,n,a=lPe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function lPe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function hK(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function tse(t,e){if(t===e)return!0;var{domain:r,range:n}=t,a=dK(t,sPe),{domain:i,range:s}=e,o=dK(e,oPe);return!hK(r,i)||!hK(n,s)?!1:CP(a,o)}var cPe=["dangerouslySetInnerHTML","ticks","scale"],uPe=["id","scale"];function VM(){return VM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VM.apply(null,arguments)}function fK(t,e){if(t==null)return{};var r,n,a=dPe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function dPe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function hPe(t){var e=Oi(),r=C.useRef(null);return C.useLayoutEffect(()=>{r.current===null?e(Nje(t)):r.current!==t&&e(Eje({prev:r.current,next:t})),r.current=t},[t,e]),C.useLayoutEffect(()=>()=>{r.current&&(e(Tje(r.current)),r.current=null)},[e]),null}var fPe=t=>{var{xAxisId:e,className:r}=t,n=Ir(Tre),a=sc(),i="xAxis",s=Ir(A=>Eae(A,i,e,a)),o=Ir(A=>dNe(A,e)),l=Ir(A=>xNe(A,e)),u=Ir(A=>aae(A,e));if(o==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:h,ticks:f,scale:m}=t,g=fK(t,cPe),{id:b,scale:y}=u,w=fK(u,uPe);return C.createElement(kB,VM({},g,w,{x:l.x,y:l.y,width:o.width,height:o.height,className:sa("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:s,axisType:i}))},pPe={allowDataOverflow:Ro.allowDataOverflow,allowDecimals:Ro.allowDecimals,allowDuplicatedCategory:Ro.allowDuplicatedCategory,angle:Ro.angle,axisLine:fm.axisLine,height:Ro.height,hide:!1,includeHidden:Ro.includeHidden,interval:Ro.interval,minTickGap:Ro.minTickGap,mirror:Ro.mirror,orientation:Ro.orientation,padding:Ro.padding,reversed:Ro.reversed,scale:Ro.scale,tick:Ro.tick,tickCount:Ro.tickCount,tickLine:fm.tickLine,tickSize:fm.tickSize,type:Ro.type,xAxisId:0},mPe=t=>{var e=So(t,pPe);return C.createElement(C.Fragment,null,C.createElement(hPe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),C.createElement(fPe,e))},LB=C.memo(mPe,tse);LB.displayName="XAxis";var gPe=["dangerouslySetInnerHTML","ticks","scale"],xPe=["id","scale"];function HM(){return HM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HM.apply(null,arguments)}function pK(t,e){if(t==null)return{};var r,n,a=vPe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function vPe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function yPe(t){var e=Oi(),r=C.useRef(null);return C.useLayoutEffect(()=>{r.current===null?e(jje(t)):r.current!==t&&e(Cje({prev:r.current,next:t})),r.current=t},[t,e]),C.useLayoutEffect(()=>()=>{r.current&&(e(kje(r.current)),r.current=null)},[e]),null}var bPe=t=>{var{yAxisId:e,className:r,width:n,label:a}=t,i=C.useRef(null),s=C.useRef(null),o=Ir(Tre),l=sc(),u=Oi(),h="yAxis",f=Ir(R=>bNe(R,e)),m=Ir(R=>yNe(R,e)),g=Ir(R=>Eae(R,h,e,l)),b=Ir(R=>iae(R,e));if(C.useLayoutEffect(()=>{if(!(n!=="auto"||!f||wB(a)||C.isValidElement(a)||b==null)){var R=i.current;if(R){var O=R.getCalculatedWidth();Math.round(f.width)!==Math.round(O)&&u(Pje({id:e,width:O}))}}},[g,f,u,a,e,n,b]),f==null||m==null||b==null)return null;var{dangerouslySetInnerHTML:y,ticks:w,scale:A}=t,S=pK(t,gPe),{id:N,scale:T}=b,k=pK(b,xPe);return C.createElement(kB,HM({},S,k,{ref:i,labelRef:s,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:sa("recharts-".concat(h," ").concat(h),r),viewBox:o,ticks:g,axisType:h}))},wPe={allowDataOverflow:Io.allowDataOverflow,allowDecimals:Io.allowDecimals,allowDuplicatedCategory:Io.allowDuplicatedCategory,angle:Io.angle,axisLine:fm.axisLine,hide:!1,includeHidden:Io.includeHidden,interval:Io.interval,minTickGap:Io.minTickGap,mirror:Io.mirror,orientation:Io.orientation,padding:Io.padding,reversed:Io.reversed,scale:Io.scale,tick:Io.tick,tickCount:Io.tickCount,tickLine:fm.tickLine,tickSize:fm.tickSize,type:Io.type,width:Io.width,yAxisId:0},APe=t=>{var e=So(t,wPe);return C.createElement(C.Fragment,null,C.createElement(yPe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),C.createElement(bPe,e))},MB=C.memo(APe,tse);MB.displayName="YAxis";var _Pe=(t,e)=>e,FB=mt([_Pe,oa,rae,Eo,$ae,Gm,IEe,Jo],$Ee),BB=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},rse=hh("mouseClick"),nse=RE();nse.startListening({actionCreator:rse,effect:(t,e)=>{var r=t.payload,n=FB(e.getState(),BB(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(RNe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var qM=hh("mouseMove"),ase=RE(),IT=null;ase.startListening({actionCreator:qM,effect:(t,e)=>{var r=t.payload;IT!==null&&cancelAnimationFrame(IT);var n=BB(r);IT=requestAnimationFrame(()=>{var a=e.getState(),i=uB(a,a.tooltip.settings.shared);if(i==="axis"){var s=FB(a,n);(s==null?void 0:s.activeIndex)!=null?e.dispatch(Rae({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(Dae())}IT=null})}});function SPe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var mK={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},ise=_u({name:"rootProps",initialState:mK,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:mK.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),NPe=ise.reducer,{updateOptions:EPe}=ise.actions,sse=_u({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:TPe}=sse.actions,jPe=sse.reducer,ose=hh("keyDown"),lse=hh("focus"),UB=RE();UB.startListening({actionCreator:ose,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=t.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=dB(a,E5(r),KE(r),JE(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=Gm(r);if(i==="Enter"){var u=dC(r,"axis","hover",String(a.index));e.dispatch(LM({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var h=SNe(r),f=h==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,g=o+m*f;if(!(l==null||g>=l.length||g<0)){var b=dC(r,"axis","hover",String(g));e.dispatch(LM({active:!0,activeIndex:g.toString(),activeCoordinate:b}))}}}}}});UB.startListening({actionCreator:lse,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=dC(r,"axis","hover",String(i));e.dispatch(LM({active:!0,activeIndex:i,activeCoordinate:s}))}}}});var $d=hh("externalEvent"),cse=RE(),gR=new Map;cse.startListening({actionCreator:$d,effect:(t,e)=>{var{handler:r,reactEvent:n}=t.payload;if(r!=null){n.persist();var a=n.type,i=gR.get(a);i!==void 0&&cancelAnimationFrame(i);var s=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:bEe(o),activeDataKey:Gae(o),activeIndex:c5(o),activeLabel:qae(o),activeTooltipIndex:c5(o),isTooltipActive:wEe(o)};r(l,n)}finally{gR.delete(a)}});gR.set(a,s)}}});var CPe=mt([S5],t=>t.tooltipItemPayloads),kPe=mt([CPe,XE,(t,e)=>e,(t,e,r)=>r],(t,e,r,n)=>{var a=t.find(o=>o.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=e(i,r);return s}}}),use=hh("touchMove"),dse=RE();dse.startListening({actionCreator:use,effect:(t,e)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=e.getState(),a=uB(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var s=FB(n,BB({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(Rae({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var o,l=r.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var h=u.getAttribute(Nre),f=(o=u.getAttribute(Ere))!==null&&o!==void 0?o:void 0,m=N5(n).find(y=>y.id===f);if(h==null||m==null||f==null)return;var{dataKey:g}=m,b=kPe(n,h,f);e.dispatch(Oae({activeDataKey:g,activeIndex:h,activeCoordinate:b,activeGraphicalItemId:f}))}}}});var PPe=Wte({brush:Uje,cartesianAxis:Oje,chartData:y4e,errorBars:MCe,graphicalItems:B3e,layout:i2e,legend:uwe,options:p4e,polarAxis:XTe,polarOptions:jPe,referenceElements:Wje,rootProps:NPe,tooltip:INe,zIndex:r4e}),OPe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return kbe({reducer:PPe,preloadedState:e,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([nse.middleware,ase.middleware,UB.middleware,cse.middleware,dse.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(lre({type:"raf"}))},devTools:{serialize:{replacer:SPe},name:"recharts-".concat(r)}})};function hse(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,a=sc(),i=C.useRef(null);if(a)return r;i.current==null&&(i.current=OPe(e,n));var s=ZF;return C.createElement(uke,{context:s,store:i.current},r)}function DPe(t){var{layout:e,margin:r}=t,n=Oi(),a=sc();return C.useEffect(()=>{a||(n(r2e(e)),n(t2e(r)))},[n,a,e,r]),null}var fse=C.memo(DPe,CP);function pse(t){var e=Oi();return C.useEffect(()=>{e(EPe(t))},[e,t]),null}function gK(t){var{zIndex:e,isPanorama:r}=t,n=C.useRef(null),a=Oi();return C.useLayoutEffect(()=>(n.current&&a(e4e({zIndex:e,element:n.current,isPanorama:r})),()=>{a(t4e({zIndex:e,isPanorama:r}))}),[a,e,r]),C.createElement("g",{tabIndex:-1,ref:n})}function xK(t){var{children:e,isPanorama:r}=t,n=Ir(HEe);if(!n||n.length===0)return e;var a=n.filter(s=>s<0),i=n.filter(s=>s>0);return C.createElement(C.Fragment,null,a.map(s=>C.createElement(gK,{key:s,zIndex:s,isPanorama:r})),e,i.map(s=>C.createElement(gK,{key:s,zIndex:s,isPanorama:r})))}var RPe=["children"];function IPe(t,e){if(t==null)return{};var r,n,a=LPe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function LPe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function yC(){return yC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yC.apply(null,arguments)}var MPe={width:"100%",height:"100%",display:"block"},FPe=C.forwardRef((t,e)=>{var r=Dre(),n=Rre(),a=qre();if(!$0(r)||!$0(n))return null;var{children:i,otherAttributes:s,title:o,desc:l}=t,u,h;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=a?0:void 0,typeof s.role=="string"?h=s.role:h=a?"application":void 0),C.createElement(cte,yC({},s,{title:o,desc:l,role:h,tabIndex:u,width:r,height:n,style:MPe,ref:e}),i)}),BPe=t=>{var{children:e}=t,r=Ir(eP);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return C.createElement(cte,{width:n,height:a,x:s,y:i},e)},vK=C.forwardRef((t,e)=>{var{children:r}=t,n=IPe(t,RPe),a=sc();return a?C.createElement(BPe,null,C.createElement(xK,{isPanorama:!0},r)):C.createElement(FPe,yC({ref:e},n),C.createElement(xK,{isPanorama:!1},r))});function UPe(){var t=Oi(),[e,r]=C.useState(null),n=Ir(w2e);return C.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),i=a.width/e.offsetWidth;Pi(i)&&i!==n&&t(a2e(i))}},[e,t,n]),r}function yK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zPe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yK(Object(r),!0).forEach(function(n){$Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Pe(t,e,r){return(e=VPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VPe(t){var e=HPe(t,"string");return typeof e=="symbol"?e:e+""}function HPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Py(){return Py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Py.apply(null,arguments)}var qPe=()=>(j4e(),null);function bC(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var GPe=C.forwardRef((t,e)=>{var r,n,a=C.useRef(null),[i,s]=C.useState({containerWidth:bC((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:bC((n=t.style)===null||n===void 0?void 0:n.height)}),o=C.useCallback((u,h)=>{s(f=>{var m=Math.round(u),g=Math.round(h);return f.containerWidth===m&&f.containerHeight===g?f:{containerWidth:m,containerHeight:g}})},[]),l=C.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:h,height:f}=u.getBoundingClientRect();o(h,f);var m=b=>{var{width:y,height:w}=b[0].contentRect;o(y,w)},g=new ResizeObserver(m);g.observe(u),a.current=g}},[e,o]);return C.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[o]),C.createElement(C.Fragment,null,C.createElement(rP,{width:i.containerWidth,height:i.containerHeight}),C.createElement("div",Py({ref:l},t)))}),WPe=C.forwardRef((t,e)=>{var{width:r,height:n}=t,[a,i]=C.useState({containerWidth:bC(r),containerHeight:bC(n)}),s=C.useCallback((l,u)=>{i(h=>{var f=Math.round(l),m=Math.round(u);return h.containerWidth===f&&h.containerHeight===m?h:{containerWidth:f,containerHeight:m}})},[]),o=C.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:h}=l.getBoundingClientRect();s(u,h)}},[e,s]);return C.createElement(C.Fragment,null,C.createElement(rP,{width:a.containerWidth,height:a.containerHeight}),C.createElement("div",Py({ref:o},t)))}),KPe=C.forwardRef((t,e)=>{var{width:r,height:n}=t;return C.createElement(C.Fragment,null,C.createElement(rP,{width:r,height:n}),C.createElement("div",Py({ref:e},t)))}),YPe=C.forwardRef((t,e)=>{var{width:r,height:n}=t;return Em(r)||Em(n)?C.createElement(WPe,Py({},t,{ref:e})):C.createElement(KPe,Py({},t,{ref:e}))});function XPe(t){return t===!0?GPe:YPe}var JPe=C.forwardRef((t,e)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:h,onMouseMove:f,onMouseUp:m,onTouchEnd:g,onTouchMove:b,onTouchStart:y,style:w,width:A,responsive:S,dispatchTouchEvents:N=!0}=t,T=C.useRef(null),k=Oi(),[R,O]=C.useState(null),[U,H]=C.useState(null),G=UPe(),F=i7(),L=(F==null?void 0:F.width)>0?F.width:A,re=(F==null?void 0:F.height)>0?F.height:a,Z=C.useCallback(de=>{G(de),typeof e=="function"&&e(de),O(de),H(de),de!=null&&(T.current=de)},[G,e,O,H]),pe=C.useCallback(de=>{k(rse(de)),k($d({handler:i,reactEvent:de}))},[k,i]),Q=C.useCallback(de=>{k(qM(de)),k($d({handler:u,reactEvent:de}))},[k,u]),X=C.useCallback(de=>{k(Dae()),k($d({handler:h,reactEvent:de}))},[k,h]),oe=C.useCallback(de=>{k(qM(de)),k($d({handler:f,reactEvent:de}))},[k,f]),ce=C.useCallback(()=>{k(lse())},[k]),Ne=C.useCallback(de=>{k(ose(de.key))},[k]),ne=C.useCallback(de=>{k($d({handler:s,reactEvent:de}))},[k,s]),B=C.useCallback(de=>{k($d({handler:o,reactEvent:de}))},[k,o]),V=C.useCallback(de=>{k($d({handler:l,reactEvent:de}))},[k,l]),Y=C.useCallback(de=>{k($d({handler:m,reactEvent:de}))},[k,m]),K=C.useCallback(de=>{k($d({handler:y,reactEvent:de}))},[k,y]),le=C.useCallback(de=>{N&&k(use(de)),k($d({handler:b,reactEvent:de}))},[k,N,b]),Ae=C.useCallback(de=>{k($d({handler:g,reactEvent:de}))},[k,g]),De=XPe(S);return C.createElement(eie.Provider,{value:R},C.createElement(u1e.Provider,{value:U},C.createElement(De,{width:L??(w==null?void 0:w.width),height:re??(w==null?void 0:w.height),className:sa("recharts-wrapper",n),style:zPe({position:"relative",cursor:"default",width:L,height:re},w),onClick:pe,onContextMenu:ne,onDoubleClick:B,onFocus:ce,onKeyDown:Ne,onMouseDown:V,onMouseEnter:Q,onMouseLeave:X,onMouseMove:oe,onMouseUp:Y,onTouchEnd:Ae,onTouchMove:le,onTouchStart:K,ref:Z},C.createElement(qPe,null),r)))}),ZPe=["width","height","responsive","children","className","style","compact","title","desc"];function QPe(t,e){if(t==null)return{};var r,n,a=eOe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function eOe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var mse=C.forwardRef((t,e)=>{var{width:r,height:n,responsive:a,children:i,className:s,style:o,compact:l,title:u,desc:h}=t,f=QPe(t,ZPe),m=bu(f);return l?C.createElement(C.Fragment,null,C.createElement(rP,{width:r,height:n}),C.createElement(vK,{otherAttributes:m,title:u,desc:h},i)):C.createElement(JPe,{className:s,style:o,width:r,height:n,responsive:a??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement(vK,{otherAttributes:m,title:u,desc:h,ref:e},C.createElement(Yje,null,i)))});function GM(){return GM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GM.apply(null,arguments)}var tOe={top:5,right:5,bottom:5,left:5},rOe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:tOe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},gse=C.forwardRef(function(e,r){var n,a=So(e.categoricalChartProps,rOe),{chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,h={chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return C.createElement(hse,{preloadedState:{options:h},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},C.createElement(Oie,{chartData:u.data}),C.createElement(fse,{layout:a.layout,margin:a.margin}),C.createElement(pse,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),C.createElement(mse,GM({},a,{ref:r})))});function nOe(t){var e=Oi();return C.useEffect(()=>{e(TPe(t))},[e,t]),null}var aOe=["layout"];function WM(){return WM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WM.apply(null,arguments)}function iOe(t,e){if(t==null)return{};var r,n,a=sOe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function sOe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var oOe={top:5,right:5,bottom:5,left:5},xse={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:oOe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},lOe=C.forwardRef(function(e,r){var n,a=So(e.categoricalChartProps,xse),{layout:i}=a,s=iOe(a,aOe),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:h}=e,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,eventEmitter:void 0};return C.createElement(hse,{preloadedState:{options:f},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:o},C.createElement(Oie,{chartData:a.data}),C.createElement(fse,{layout:i,margin:a.margin}),C.createElement(pse,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),C.createElement(nOe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),C.createElement(mse,WM({},s,{ref:r})))});function bK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bK(Object(r),!0).forEach(function(n){cOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cOe(t,e,r){return(e=uOe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uOe(t){var e=dOe(t,"string");return typeof e=="symbol"?e:e+""}function dOe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hOe=["item"],fOe=wK(wK({},xse),{},{layout:"centric",startAngle:0,endAngle:360}),pOe=C.forwardRef((t,e)=>{var r=So(t,fOe);return C.createElement(lOe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:hOe,tooltipPayloadSearcher:bB,categoricalChartProps:r,ref:e})}),mOe=["axis"],gOe=C.forwardRef((t,e)=>C.createElement(gse,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mOe,tooltipPayloadSearcher:bB,categoricalChartProps:t,ref:e})),xOe=["axis"],vOe=C.forwardRef((t,e)=>C.createElement(gse,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xOe,tooltipPayloadSearcher:bB,categoricalChartProps:t,ref:e}));const vse=C.createContext({isOnline:!0,isSyncing:!1,pendingCount:0,setPendingCount:()=>{},setIsSyncing:()=>{}}),yOe=()=>C.useContext(vse),bOe=({children:t})=>{const[e,r]=C.useState(navigator.onLine),[n,a]=C.useState(!1),[i,s]=C.useState(0);return C.useEffect(()=>{const o=()=>r(!0),l=()=>r(!1);return window.addEventListener("online",o),window.addEventListener("offline",l),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",l)}},[]),c.jsx(vse.Provider,{value:{isOnline:e,isSyncing:n,pendingCount:i,setPendingCount:s,setIsSyncing:a},children:t})},LT={async getHeadlineMetrics(t,e){const r=localStorage.getItem("auth_token"),n=await fetch(`/api/dashboard/metrics?companyId=${t}&period=${e}`,{headers:{Authorization:`Bearer ${r}`}});if(!n.ok)throw new Error("Erro ao carregar mtricas");return await n.json()},async getSpendingTrend(t,e){const r=localStorage.getItem("auth_token"),n=await fetch(`/api/dashboard/spending-trend?companyId=${t}&period=${e}`,{headers:{Authorization:`Bearer ${r}`}});if(!n.ok)throw new Error("Erro ao carregar tendncias");return(await n.json()).map(i=>({name:new Date(i.date).toLocaleDateString("pt-AO",{day:"2-digit",month:"short"}),amount:parseFloat(i.amount),fullDate:i.date}))},async getCategoryDistribution(t){const e=localStorage.getItem("auth_token"),r=await fetch(`/api/dashboard/category-distribution?companyId=${t}`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw new Error("Erro ao carregar distribuio");return(await r.json()).map(a=>({name:a.name,value:parseFloat(a.value)}))},async getRecentActivity(t){const e=localStorage.getItem("auth_token"),r=await fetch(`/api/dashboard/recent-activity?companyId=${t}`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw new Error("Erro ao carregar atividade recente");return await r.json()},async getPortfolioHealth(){const t=localStorage.getItem("auth_token"),e=await fetch("/api/dashboard/portfolio-health",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Erro ao carregar sade do portflio");return(await e.json()).map(n=>{let a="N/A";if(n.lastDoc){const i=new Date(n.lastDoc),s=(new Date().getTime()-i.getTime())/(1e3*3600);s<24?a="Hoje":s<48?a="Ontem":a=`${Math.floor(s/24)} dias atrs`}return{id:n.id,name:n.name,status:n.status,issues:n.issues,lastDoc:a}})},async getAiInsights(t){const e=t||"",r=localStorage.getItem("auth_token"),n=await fetch(`/api/dashboard/ai-insights?companyId=${e}`,{headers:{Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.error||"Erro ao carregar insights de IA")}return await n.json()},async getFiscalAnalytics(t){const e=localStorage.getItem("auth_token"),r=await fetch(`/api/reports/analytics?companyId=${t}`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw new Error("Erro ao carregar anlise fiscal");return await r.json()},async getFiscalDistribution(t,e,r){const n=localStorage.getItem("auth_token");let a=`/api/reports/distribution?companyId=${t}`;e&&(a+=`&startDate=${e}`),r&&(a+=`&endDate=${r}`);const i=await fetch(a,{headers:{Authorization:`Bearer ${n}`}});if(!i.ok)throw new Error("Erro ao carregar distribuio fiscal");return await i.json()},async generateVatMap(t,e,r){const n=localStorage.getItem("auth_token"),a=await fetch(`/api/reports/vat-map?companyId=${t}&month=${e}&year=${r}`,{headers:{Authorization:`Bearer ${n}`}});if(!a.ok)throw new Error("Erro ao gerar mapa de IVA");return await a.json()},async getComplianceLogs(t){const e=localStorage.getItem("auth_token"),r=await fetch(`/api/system/compliance-logs?companyId=${t}`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw new Error("Erro ao carregar logs de conformidade");return await r.json()},async getTaxPosition(t,e,r){const n=localStorage.getItem("auth_token"),a=await fetch(`/api/reports/tax-position?companyId=${t}&month=${e}&year=${r}`,{headers:{Authorization:`Bearer ${n}`}});if(!a.ok)throw new Error("Erro ao carregar posio fiscal");return await a.json()}},is=t=>{const e=typeof t=="string"?parseFloat(t):t;return e==null||isNaN(e)?"0,00 Kz":new Intl.NumberFormat("pt-AO",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e).replace(/\./g," ")+" Kz"},J3=t=>{const e=parseFloat(t)||0;return e>=1e6?`${(e/1e6).toFixed(1)}M Kz`:e>=1e3?`${(e/1e3).toFixed(0)}k Kz`:is(e)},Z3=({children:t,className:e="",title:r,subtitle:n,label:a,action:i,neonColor:s="cyan"})=>c.jsxs("div",{className:`relative bg-[#080808] border border-white/[0.03] rounded-[32px] p-6 md:p-8 flex flex-col overflow-hidden shadow-2xl ${e}`,children:[(r||a)&&c.jsxs("div",{className:"flex justify-between items-start mb-6 z-10",children:[c.jsxs("div",{className:"space-y-1",children:[a&&c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${s==="cyan"?"bg-cyan-500":"bg-teal-500"}`}),c.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:a})]}),r&&c.jsx("h3",{className:"text-2xl font-bold text-white tracking-tight",children:r}),n&&c.jsx("p",{className:"text-slate-400 text-xs mt-1",children:n})]}),i&&c.jsx("div",{children:i})]}),c.jsx("div",{className:"relative z-10 flex-1",children:t}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-[rgba(20,184,166,0.02)] to-transparent pointer-events-none"})]}),MT=({value:t,label:e,subtext:r,icon:n,trend:a,color:i="cyan",loading:s})=>{const o={cyan:"text-cyan-400",blue:"text-blue-400",teal:"text-teal-400",emerald:"text-emerald-400",indigo:"text-indigo-400",rose:"text-rose-400"},l={cyan:"bg-cyan-500/10",blue:"bg-blue-500/10",teal:"bg-teal-500/10",emerald:"bg-emerald-500/10",indigo:"bg-indigo-500/10",rose:"bg-rose-500/10"};return c.jsxs("div",{className:"bg-[#0c0c0c] rounded-[28px] border border-white/[0.04] p-6 relative group hover:border-white/10 transition-colors",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsx("div",{className:`p-3 rounded-xl border border-white/5 ${l[i]} ${o[i]}`,children:c.jsx(n,{className:"w-5 h-5"})}),a&&c.jsxs("div",{className:"px-2 py-1 rounded-lg bg-[#151515] border border-white/5 text-[10px] font-bold text-slate-300",children:[a>0?"+":"",a,"%"]})]}),c.jsxs("div",{children:[s?c.jsx("div",{className:"h-10 w-24 bg-white/5 animate-pulse rounded-lg mb-2"}):c.jsx("h2",{className:"text-4xl font-bold text-white mb-1 tracking-tighter",children:t}),c.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:e}),r&&c.jsx("p",{className:"text-[10px] text-slate-600 mt-2 font-mono",children:r})]})]})},wOe=({approved:t,approvedManual:e,rejected:r,error:n,total:a})=>{const i=a>0?t/a*100:0,s=a>0?e/a*100:0,o=a>0?r/a*100:0,l=a>0?n/a*100:0;return c.jsx(Z3,{title:"Sade Documental",label:"Processamento",className:"h-full",children:c.jsxs("div",{className:"flex flex-col h-full justify-center space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-end",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ia,{className:"w-4 h-4 text-emerald-400"}),c.jsx("span",{className:"text-xs font-bold text-slate-300",children:"Validados AI"})]}),c.jsxs("span",{className:"text-sm font-mono font-bold text-white",children:[t," ",c.jsxs("span",{className:"text-slate-600 text-[10px]",children:["(",isNaN(i)?0:i.toFixed(0),"%)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-[#151515] rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-emerald-500/60",style:{width:`${i}%`}})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-end",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ns,{className:"w-4 h-4 text-cyan-400"}),c.jsx("span",{className:"text-xs font-bold text-slate-300",children:"Aprovados (Manual)"})]}),c.jsxs("span",{className:"text-sm font-mono font-bold text-white",children:[e," ",c.jsxs("span",{className:"text-slate-600 text-[10px]",children:["(",isNaN(s)?0:s.toFixed(0),"%)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-[#151515] rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-cyan-500",style:{width:`${s}%`}})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-end",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ty,{className:"w-4 h-4 text-rose-500"}),c.jsx("span",{className:"text-xs font-bold text-slate-300",children:"Rejeitados"})]}),c.jsxs("span",{className:"text-sm font-mono font-bold text-white",children:[r," ",c.jsxs("span",{className:"text-slate-600 text-[10px]",children:["(",isNaN(o)?0:o.toFixed(0),"%)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-[#151515] rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-rose-500",style:{width:`${o}%`}})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-end",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(fE,{className:"w-4 h-4 text-amber-500"}),c.jsx("span",{className:"text-xs font-bold text-slate-300",children:"Erros"})]}),c.jsxs("span",{className:"text-sm font-mono font-bold text-white",children:[n," ",c.jsxs("span",{className:"text-slate-600 text-[10px]",children:["(",isNaN(l)?0:l.toFixed(0),"%)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-[#151515] rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-amber-500",style:{width:`${l}%`}})})]})]})})},AOe=({companyName:t,isAccounting:e,isVerified:r})=>c.jsxs("div",{className:"w-full bg-[#080808] border border-white/[0.03] rounded-[32px] p-8 mb-8 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-teal-500/5 blur-[120px] rounded-full pointer-events-none -translate-y-1/2 translate-x-1/2"}),c.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row justify-between items-start lg:items-end gap-6 text-left",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsxs("span",{className:"relative flex h-2 w-2",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-teal-400 opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-teal-500"})]}),c.jsx("span",{className:"text-[10px] font-bold text-teal-500 uppercase tracking-widest",children:"Sistema Operacional"})]}),c.jsx("div",{className:"mb-4",children:c.jsx(Bx,{className:"w-48 h-12 md:w-72 md:h-20",iconClassName:"w-full h-full"})}),c.jsxs("div",{className:"flex items-center gap-2 flex-wrap max-w-lg",children:[c.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed",children:["Visualizao central de inteligncia documental para",c.jsx("span",{className:"text-white font-bold mx-1",children:e?"Carteira Global":t}),"."]}),!e&&(r?c.jsx(ki,{className:"w-5 h-5 text-cyan-400 drop-shadow-[0_0_8px_rgba(34,211,238,0.6)]",title:"Entidade Verificada AGT"}):c.jsx(Ys,{className:"w-5 h-5 text-red-500",title:"Entidade No Verificada"}))]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row lg:flex-row gap-6 items-start lg:items-end w-full lg:w-auto",children:[c.jsxs("div",{className:"text-left lg:text-right",children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Agentes AI"}),c.jsxs("p",{className:"text-xl font-bold text-white font-mono flex items-center lg:justify-end gap-2",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"})," Online"]})]}),c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-[#151515] border border-white/10 hover:border-teal-500/50 hover:text-teal-400 transition-all text-xs font-bold text-white uppercase tracking-wider w-fit",children:[c.jsx($s,{className:"w-3 h-3"})," Relatrios"]})]})]})]}),xR=()=>{var G,F;const{selectedCompany:t,isAccountingMode:e,documents:r,isLoadingData:n}=_o(),{user:a}=uh(),[i,s]=C.useState("30D"),[o,l]=C.useState(!0),[u,h]=C.useState(null),[f,m]=C.useState([]),[g,b]=C.useState([]),[y,w]=C.useState([]),A=t==="ALL"||!t?"ALL":t.id,S=t==="ALL"?"Carteira Global":t==null?void 0:t.name,N=t!=="ALL"&&(t==null?void 0:t.isVerified),T=t==="ALL"||(t==null?void 0:t.id)&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t.id),k=!n&&T;C.useEffect(()=>{if(!k)return;(async()=>{console.log("[DASHBOARD DIAGNOSTIC] Fetching data.",{companyName:S,companyId:A,idType:typeof A,selectedCompId:t==null?void 0:t.id}),l(!0);try{const[re,Z,pe,Q]=await Promise.all([LT.getHeadlineMetrics(A,i),LT.getSpendingTrend(A,i),LT.getAiInsights(A),LT.getRecentActivity(A)]),X=Z.length>0?Z[Z.length-1].amount:0,oe=Z.map(ce=>({...ce,prediction:null}));for(let ce=1;ce<=3;ce++)oe.push({name:`Proj +${ce}`,amount:0,prediction:X*(1+ce*.05),isProjection:!0});h(re),m(oe),b(pe),w(Q)}catch(re){console.error("Dashboard Load Error:",re)}finally{l(!1)}})()},[A,i,k]);const R=((F=(G=g.find(L=>L.severity==="OPPORTUNITY"))==null?void 0:G.metadata)==null?void 0:F.potential_savings)||0,O=(u==null?void 0:u.statusCounts)||{approved:0,approvedManual:0,rejected:0,error:0},{isOnline:U,pendingCount:H}=yOe();return n&&!u?c.jsx("div",{className:"flex h-full w-full items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-teal-500/20 border-t-teal-500"}),c.jsx("p",{className:"animate-pulse text-sm font-medium text-slate-500",children:"A carregar dashboard..."})]})}):c.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-8 duration-700 pb-10",children:[!U&&c.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-[24px] p-6 flex items-center gap-4 animate-in fade-in slide-in-from-top-4 duration-500 mb-8",children:[c.jsx("div",{className:"p-3 bg-amber-500/20 rounded-xl",children:c.jsx(TJ,{className:"w-6 h-6 text-amber-500"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-white font-bold text-lg",children:"Modo Offline"}),c.jsx("p",{className:"text-slate-400",children:"Voc est desconectado. Documentos capturados sero salvos no dispositivo e sincronizados automaticamente quando a conexo retornar."})]}),H>0&&c.jsxs("div",{className:"ml-auto bg-amber-500/20 px-4 py-2 rounded-full border border-amber-500/30",children:[c.jsx("span",{className:"text-amber-400 font-mono font-bold",children:H}),c.jsx("span",{className:"text-amber-500/70 text-sm ml-2",children:"pendentes"})]})]}),c.jsx(AOe,{companyName:S,isAccounting:e,isVerified:N}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx(MT,{loading:o,label:"Volume Analisado",value:(u==null?void 0:u.docCount)||0,trend:u==null?void 0:u.growthRate,icon:Yo,color:"blue",subtext:"Documentos processados"}),c.jsx(MT,{value:o?"-":J3((u==null?void 0:u.totalSpend)||0),label:"Total Despesas",subtext:`Mdia: ${J3((u==null?void 0:u.avgSpend)||0)}`,icon:ry,color:"indigo",loading:o}),c.jsx(MT,{value:o?"-":`${(u==null?void 0:u.efficiencyScore)??100}%`,label:"Conformidade AGT",subtext:"Validao Tcnica SAFT (AO)",icon:ki,trend:.5,color:"teal",loading:o}),c.jsx(MT,{value:o?"-":J3(R),label:"Eficincia Fiscal",subtext:"Poupana Estimada (Modelo 6)",icon:vk,trend:R>0?100:0,color:"emerald",loading:o})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[c.jsx(Z3,{className:"lg:col-span-2 min-h-[400px]",title:"Anlise Neural de Fluxo",label:"Predictor AI Forecast",neonColor:"cyan",action:c.jsx("div",{className:"flex bg-[#111] p-1 rounded-xl border border-white/5",children:["7D","30D","90D"].map(L=>c.jsx("button",{onClick:()=>s(L),className:`px-3 py-1 text-[10px] font-bold rounded-lg transition-all ${i===L?"bg-[#14b8a6] text-black":"text-slate-500 hover:text-white"}`,children:L},L))}),children:c.jsxs("div",{className:"w-full h-[300px] mt-6",children:[o?c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx("div",{className:"w-12 h-12 border-4 border-[#151515] border-t-[#14b8a6] rounded-full animate-spin"})}):c.jsx("div",{className:"w-full h-[300px] relative",children:c.jsx(s7,{width:"100%",height:"100%",children:c.jsxs(vOe,{data:f,margin:{top:10,right:0,left:-20,bottom:0},children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"colorTeal",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#14b8a6",stopOpacity:.3}),c.jsx("stop",{offset:"95%",stopColor:"#14b8a6",stopOpacity:0})]})}),c.jsx(PB,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(255,255,255,0.03)"}),c.jsx(LB,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#475569",fontSize:10,fontWeight:700,fontFamily:"monospace"},dy:15}),c.jsx(MB,{axisLine:!1,tickLine:!1,tick:{fill:"#475569",fontSize:10,fontWeight:700,fontFamily:"monospace"},tickFormatter:L=>`${(L/1e3).toFixed(0)}k`}),c.jsx(nie,{contentStyle:{backgroundColor:"#050505",borderColor:"#333",borderRadius:"12px"},itemStyle:{color:"#fff",fontSize:"12px",fontWeight:"bold"}}),c.jsx(vC,{type:"monotone",dataKey:"amount",stroke:"#14b8a6",strokeWidth:3,fillOpacity:1,fill:"url(#colorTeal)",name:"Realizado"}),c.jsx(Gie,{type:"monotone",dataKey:"prediction",stroke:"#10b981",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:"Projeo AI"})]})})}),c.jsxs("div",{className:"flex justify-center gap-6 mt-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-[#14b8a6]"}),c.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Histrico"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),c.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Projeo Predictor"})]})]})]})}),c.jsx(wOe,{approved:O.approved,approvedManual:O.approvedManual,rejected:O.rejected,error:O.error,total:(u==null?void 0:u.docCount)||0})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(Z3,{title:"ltimas Anlises",label:"Live Feed",className:"h-full",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-white/5",children:[c.jsx("th",{className:"pb-3 text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Documento"}),c.jsx("th",{className:"pb-3 text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"pb-3 text-[10px] font-bold text-slate-500 uppercase tracking-wider text-right",children:"Valor"}),c.jsx("th",{className:"pb-3 text-[10px] font-bold text-slate-500 uppercase tracking-wider text-right",children:"Data"})]})}),c.jsx("tbody",{className:"divide-y divide-white/5",children:y.length>0?y.map((L,re)=>c.jsxs("tr",{className:"group hover:bg-white/[0.02] transition-colors",children:[c.jsx("td",{className:"py-3 pr-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-lg bg-[#151515] border border-white/5 text-slate-400",children:c.jsx(Yo,{className:"w-4 h-4"})}),c.jsx("span",{className:"text-xs font-bold text-white truncate max-w-[120px]",children:L.filename})]})}),c.jsx("td",{className:"py-3",children:c.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase border ${L.status==="APROVADO"?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":L.status==="REJEITADO"?"bg-rose-500/10 text-rose-400 border-rose-500/20":"bg-amber-500/10 text-amber-400 border-amber-500/20"}`,children:L.status})}),c.jsx("td",{className:"py-3 text-right",children:c.jsx("span",{className:"text-xs font-mono font-bold text-slate-300",children:is(L.amount)})}),c.jsx("td",{className:"py-3 text-right",children:c.jsx("span",{className:"text-[10px] text-slate-500 font-mono",children:new Date(L.date).toLocaleDateString()})})]},re)):c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"py-8 text-center text-xs text-slate-500",children:"Nenhuma atividade recente."})})})]})})}),c.jsx(Z3,{title:"Alertas do Sistema",label:"Sentinel & Optimizer",className:"h-full",children:c.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:g.length>0?g.map((L,re)=>c.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-white/[0.02] border border-white/5 hover:bg-white/[0.04] transition-colors group",children:[c.jsx("div",{className:`mt-1 p-1.5 rounded-lg border ${L.severity==="CRITICAL"?"bg-red-500/10 text-red-400 border-red-500/10":L.severity==="WARNING"?"bg-amber-500/10 text-amber-400 border-amber-500/10":L.severity==="OPPORTUNITY"?"bg-emerald-500/10 text-emerald-400 border-emerald-500/10":"bg-blue-500/10 text-blue-400 border-blue-500/10"}`,children:L.severity==="CRITICAL"?c.jsx(wo,{className:"w-3 h-3"}):L.severity==="OPPORTUNITY"?c.jsx(ry,{className:"w-3 h-3"}):c.jsx(Ys,{className:"w-3 h-3"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[c.jsx("h4",{className:"text-xs font-bold text-slate-200",children:L.title}),c.jsx("span",{className:"text-[9px] font-bold text-slate-500 bg-white/5 px-1.5 py-0.5 rounded uppercase",children:L.agent_name})]}),c.jsx("p",{className:"text-[10px] text-slate-400 leading-relaxed mb-2 break-words",children:L.message}),L.metadata&&c.jsxs("div",{className:"space-y-2 mt-2",children:[Array.isArray(L.metadata.risks)&&L.metadata.risks.length>0&&c.jsxs("div",{className:"bg-rose-500/5 border border-rose-500/10 rounded-lg p-2",children:[c.jsx("p",{className:"text-[9px] font-bold text-rose-400 uppercase mb-1 flex items-center gap-1",children:" Riscos Identificados"}),c.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:L.metadata.risks.slice(0,3).map((Z,pe)=>c.jsx("li",{className:"text-[9px] text-slate-400 pl-1",children:Z},pe))})]}),Array.isArray(L.metadata.opportunities)&&L.metadata.opportunities.length>0&&c.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/10 rounded-lg p-2",children:[c.jsx("p",{className:"text-[9px] font-bold text-emerald-400 uppercase mb-1 flex items-center gap-1",children:" Oportunidades"}),c.jsx("ul",{className:"space-y-1",children:L.metadata.opportunities.slice(0,2).map((Z,pe)=>c.jsxs("li",{className:"text-[9px] text-slate-400 flex justify-between",children:[c.jsx("span",{children:Z.title||Z}),Z.potential_savings&&c.jsx("span",{className:"font-mono text-emerald-500",children:Z.potential_savings})]},pe))})]})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx("span",{className:"text-[9px] text-slate-600 font-mono",children:new Date(L.created_at||Date.now()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),!L.is_resolved&&c.jsx("button",{className:"text-[9px] font-bold text-emerald-500 hover:underline",children:"MARCAR COMO RESOLVIDO"})]})]})]},re)):c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-500",children:[c.jsx(Ns,{className:"w-8 h-8 mb-3 opacity-20 text-emerald-500"}),c.jsx("p",{className:"text-xs font-medium text-emerald-500/50",children:"Fluxo Limpo"})]})})})]})]})},_Oe="modulepreload",SOe=function(t){return"/"+t},AK={},Om=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let s=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=s(r.map(u=>{if(u=SOe(u),u in AK)return;AK[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":_Oe,h||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),h)return new Promise((g,b)=>{m.addEventListener("load",g),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},gv=({children:t,className:e="",title:r,icon:n,color:a="slate",delay:i=0,fullWidth:s=!1})=>{const o={slate:"bg-slate-500/10 text-slate-400",blue:"bg-blue-500/10 text-blue-400",emerald:"bg-emerald-500/10 text-emerald-400",amber:"bg-amber-500/10 text-amber-400",red:"bg-red-500/10 text-red-400",cyan:"bg-cyan-500/10 text-cyan-400",purple:"bg-purple-500/10 text-purple-400",indigo:"bg-indigo-500/10 text-indigo-400"};return c.jsxs("div",{className:`
                relative overflow-hidden rounded-[20px] bg-[#0c0c0c] border border-white/[0.05] hover:border-white/10 
                shadow-xl transition-all duration-300 animate-in fade-in slide-in-from-bottom-4 group
                ${s?"col-span-1 lg:col-span-2 xl:col-span-3":""}
                ${e}
            `,style:{animationDelay:`${i}ms`,animationFillMode:"both"},children:[r&&c.jsxs("div",{className:"flex items-center gap-3 px-6 py-4 border-b border-white/[0.05] bg-[#0f0f0f]/50",children:[c.jsx("div",{className:`p-1.5 rounded-lg ${o[a]}`,children:c.jsx(n,{className:"w-4 h-4"})}),c.jsx("h3",{className:"font-bold text-white text-xs uppercase tracking-wider",children:r})]}),c.jsx("div",{className:"p-6",children:t})]})},wg=({label:t,value:e,sub:r,highlight:n=!1,warning:a=!1})=>c.jsxs("div",{className:"mb-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider mb-1",children:t}),c.jsx("p",{className:`text-sm font-medium ${a?"text-red-400":n?"text-white":"text-slate-300"} truncate`,children:e||"-"}),r&&c.jsx("p",{className:"text-[10px] text-slate-500 font-mono mt-0.5",children:r})]}),jA=({children:t,color:e="slate"})=>{const r={slate:"bg-slate-500/10 text-slate-400 border-slate-500/20",emerald:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",red:"bg-red-500/10 text-red-400 border-red-500/20",amber:"bg-amber-500/10 text-amber-400 border-amber-500/20",blue:"bg-blue-500/10 text-blue-400 border-blue-500/20",cyan:"bg-cyan-500/10 text-cyan-400 border-cyan-500/20",purple:"bg-purple-500/10 text-purple-400 border-purple-500/20",indigo:"bg-indigo-500/10 text-indigo-400 border-indigo-500/20"};return c.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase tracking-wider border ${r[e]}`,children:t})},Ag=(t,e="AOA")=>t==null?"-":is(t),zB=({document:t})=>{var ne,B;const[e,r]=C.useState(!1),[n,a]=C.useState(t==null?void 0:t.fileBase64),[i,s]=C.useState(!1),[o,l]=C.useState(1),u=C.useRef(null),{stopNotificationSound:h}=_o();gu.useEffect(()=>{(async()=>{if(!n&&(t!=null&&t.id)&&!i){s(!0);try{const{documentService:Y}=await Om(async()=>{const{documentService:le}=await Promise.resolve().then(()=>ate);return{documentService:le}},[]),K=await Y.getDocumentById(t.id);K&&K.fileBase64&&a(K.fileBase64)}catch(Y){console.error("Auto-load failed",Y)}finally{s(!1)}}})()},[t==null?void 0:t.id,n,i]),gu.useEffect(()=>{a(t==null?void 0:t.fileBase64)},[t==null?void 0:t.id,t==null?void 0:t.fileBase64]),gu.useEffect(()=>{h()},[h]);const f=()=>l(V=>Math.min(V+.2,4)),m=()=>l(V=>Math.max(V-.2,.5)),g=V=>{if(V.ctrlKey){V.preventDefault();const Y=V.deltaY>0?-.1:.1;l(K=>Math.min(Math.max(.5,K+Y),4))}},b=gu.useMemo(()=>{var Y;const V=n;if(V){if(V.startsWith("data:"))return V;const K=(Y=t.fileName.split(".").pop())==null?void 0:Y.toLowerCase();let le="image/jpeg";return K==="pdf"?le="application/pdf":K==="png"&&(le="image/png"),`data:${le};base64,${V}`}return t.fileUrl!=="DB_STORED"?t.fileUrl:null},[n,t.fileUrl,t.fileName]);if(!t)return null;const y=t.rawN8nResponse||{},A=(Array.isArray(y)?(ne=y[0])==null?void 0:ne.output:y.output||y.json||t.data||{})||{},S=A.emitente||{},N=A.cliente||{},T=A.documento||{},k=A.totais||{},R=A.resumo_por_agente||{},O=A.classificacao_fiscal||R.classificacao_fiscal||{},U=O.tipo_operacao||"INDETERMINADA",H=A.decisao_final||R.decisao_final||{},G=H.status||t.status,F=(G==null?void 0:G.includes("APROVADA"))||G==="CONFORME",L=G==null?void 0:G.includes("REJEITADA"),re=A.motivos_rejeicao_ou_ressalvas||R.motivos_rejeicao_ou_ressalvas||[],Z=A.orientacao_ao_contabilista||R.orientacao_ao_contabilista||{},pe=A.impacto_fiscal||R.impacto_fiscal||{},Q=A.conclusao_executiva||R.conclusao_executiva||{},X=R;let oe=X.agente_6_risco;!oe&&((B=X.agente_5_compliance)!=null&&B.agente_6_risco)&&(oe=X.agente_5_compliance.agente_6_risco);const ce=[{key:"agente_1_ocr",label:"1 OCR",icon:Mpe},{key:"agente_2_consulta_agt",label:"2 Consulta AGT",icon:Wa},{key:"agente_3_regime_fiscal",label:"3 Regime Fiscal",icon:K8},{key:"agente_4_confronto",label:"4 Confronto",icon:gk},{key:"agente_5_compliance",label:"5 Compliance",icon:l0e},{key:"agente_6_risco",label:"6 Risco",icon:Ype,dataOverride:oe}],Ne=Object.keys(R).length>0;return c.jsxs("div",{className:"flex h-full bg-[#080808] overflow-hidden",children:[c.jsxs("div",{className:"hidden lg:flex lg:w-[40%] flex-col border-r border-white/5 relative z-10 bg-[#050505]",children:[c.jsx("div",{ref:u,className:"flex-1 overflow-auto flex items-start justify-center p-4 custom-scrollbar scroll-smooth",onWheel:g,children:b?t.fileName.toLowerCase().endsWith(".pdf")?c.jsx("iframe",{src:`${b}#toolbar=0`,className:"w-full h-full rounded-lg bg-white shadow-2xl"},`pdf-${t.id}`):c.jsx("img",{src:b,className:"shadow-2xl transition-all duration-300",style:{transform:`scale(${o})`,transformOrigin:"top center",maxWidth:o>1?"none":"100%"}},`img-${t.id}`):c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 opacity-50",children:[c.jsx(Yo,{className:"w-16 h-16 mb-4"}),c.jsx("p",{children:"Sem Pr-visualizao"})]})}),c.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 z-50 flex items-center gap-2 bg-black/60 backdrop-blur-md px-3 py-2 rounded-full border border-white/10",children:[c.jsx("button",{onClick:m,className:"p-2 hover:bg-white/10 rounded-full text-slate-400",children:c.jsx(Dme,{className:"w-4 h-4"})}),c.jsxs("span",{className:"text-xs font-mono text-cyan-500 w-12 text-center",children:[Math.round(o*100),"%"]}),c.jsx("button",{onClick:f,className:"p-2 hover:bg-white/10 rounded-full text-slate-400",children:c.jsx(Pme,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"flex-1 flex flex-col h-full bg-[#080808] custom-scrollbar overflow-y-auto pb-32 pt-6 border-l border-white/5",children:[c.jsx("div",{className:`
                    relative overflow-hidden border-b border-white/5 p-6 flex-shrink-0
                    bg-gradient-to-r ${L?"from-red-900/10":F?"from-emerald-900/10":"from-amber-900/10"} to-transparent
                `,children:c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(jA,{color:L?"red":F?"emerald":"amber",children:G}),c.jsx(jA,{color:U==="SAIDA"?"blue":U==="ENTRADA"?"purple":"slate",children:U})]}),c.jsx("h1",{className:"text-2xl font-bold text-white mt-1",children:S.nome||"Emitente Desconhecido"}),c.jsxs("div",{className:"text-sm text-slate-400 font-mono flex flex-col gap-0.5",children:[c.jsxs("span",{children:["NIF: ",S.nif||"N/A"]}),S.endereco&&c.jsx("span",{className:"text-xs opacity-70 truncate max-w-[300px]",children:S.endereco})]})]}),c.jsxs("div",{className:"flex flex-col items-end gap-4",children:[c.jsx("div",{className:"flex gap-2",children:c.jsxs("button",{onClick:()=>{Om(()=>Promise.resolve().then(()=>qB),void 0).then(async V=>{const Y=V.default,K=new Y;if(K.setFillColor(10,10,12),K.rect(0,0,210,30,"F"),K.setFontSize(22),K.setTextColor(255,255,255),K.setFont("helvetica","bold"),K.text("KwikDocs AI",15,20),K.setFontSize(10),K.setTextColor(150,150,150),K.text("Relatrio de Anlise Fiscal",200,20,{align:"right"}),K.setFillColor(245,247,250),K.rect(14,40,182,35,"F"),K.setFontSize(14),K.setTextColor(0,0,0),K.text(S.nome||"Emitente Desconhecido",20,52),K.setFontSize(10),K.setTextColor(100,100,100),K.text(`NIF: ${S.nif||"N/A"}`,20,60),K.text(`Data: ${T.data_emissao||"-"}`,20,66),K.setFillColor(F?220:255,F?255:220,220),K.setTextColor(F?0:200,F?100:0,0),K.setFont("helvetica","bold"),K.text(G||"PENDENTE",188,52,{align:"right"}),K.setFontSize(10),K.setTextColor(100,100,100),K.text("SUBTOTAL",130,95,{align:"right"}),K.text("IVA",130,102,{align:"right"}),K.setFontSize(12),K.setTextColor(0,0,0),K.text(Ag(k.subtotal||0,T.moeda),190,95,{align:"right"}),K.text(Ag(k.total_iva||0,T.moeda),190,102,{align:"right"}),K.setDrawColor(200,200,200),K.line(120,108,190,108),K.setFontSize(16),K.setFont("helvetica","bold"),K.setTextColor(0,0,0),K.text("TOTAL",130,118,{align:"right"}),K.text(Ag(k.total_geral||T.total||0,T.moeda),190,118,{align:"right"}),Q.resumo_geral){K.setFontSize(12),K.setTextColor(0,100,200),K.text("Concluso Executiva",14,135),K.setFontSize(10),K.setTextColor(50,50,50);const le=K.splitTextToSize(Q.resumo_geral,180);K.text(le,14,145)}K.save(`Analise_${t.fileName||"Doc"}.pdf`)})},className:"px-3 py-1.5 bg-white/5 hover:bg-white/10 border border-white/10 rounded-lg text-xs font-bold text-white flex items-center gap-2 transition-all uppercase tracking-wider",children:[c.jsx(py,{className:"w-3.5 h-3.5 text-cyan-400"}),"Exportar PDF"]})}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:`text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r ${F?"from-white to-slate-400":"from-amber-400 to-amber-600"}`,children:Ag(k.total_geral||T.total||0,T.moeda)}),c.jsxs("div",{className:"flex items-center gap-3 text-xs font-mono text-slate-500 mt-1",children:[c.jsxs("span",{className:"px-2 py-0.5 rounded bg-white/5 border border-white/5",children:["Sub: ",c.jsx("span",{className:"text-slate-300",children:Ag(k.subtotal||0,T.moeda)})]}),c.jsxs("span",{className:"px-2 py-0.5 rounded bg-white/5 border border-white/5",children:["IVA: ",c.jsx("span",{className:"text-slate-300",children:Ag(k.total_iva||0,T.moeda)})]})]})]})]})]})}),c.jsxs("div",{className:"p-6 grid grid-cols-1 gap-6",children:[(Q.resumo_geral||Q.descricao_simplificada)&&c.jsx(gv,{title:"Concluso Executiva",icon:nI,color:L?"red":"blue",fullWidth:!0,children:c.jsxs("div",{className:"flex gap-4 items-start",children:[c.jsx("div",{className:"p-3 bg-white/5 rounded-xl shrink-0",children:c.jsx(B0,{className:`w-6 h-6 ${L?"text-red-400":"text-blue-400"}`})}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{className:"text-sm font-medium text-white",children:['"',Q.resumo_geral||Q.descricao_simplificada,'"']}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(jA,{color:"slate",children:Q.estado_documento_perante_agt||"N/A"}),O.justificacao&&c.jsxs("span",{className:"text-xs text-slate-500 mt-1 italic",children:["- ",O.justificacao]})]})]})]})}),Ne&&c.jsx(gv,{title:"Anlise Multi-Agente AI",icon:e5,color:"indigo",fullWidth:!0,children:c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:ce.map(V=>{const Y=V.dataOverride||R[V.key]||{resultado:"PENDENTE",objetivo:"A aguardar..."},K=Y.resultado,le=["CONFORME","COERENTE","BAIXO"].includes(K),Ae=["INCOMPLETO","INCONSISTENTE","NAO_CONFORME","ALTO","INCOERENTE","NAO_CONFIRMADO"].includes(K);return c.jsxs("div",{className:"p-4 bg-white/[0.02] rounded-xl border border-white/5 hover:bg-white/[0.04] transition-colors flex flex-col h-full",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:V.label})}),c.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded ${le?"bg-emerald-500/10 text-emerald-400":Ae?"bg-red-500/10 text-red-400":"bg-amber-500/10 text-amber-400"}`,children:K||"N/A"})]}),c.jsx("p",{className:"text-xs text-white font-medium mb-1 line-clamp-2",children:Y.objetivo}),c.jsx("div",{className:"mt-auto pt-2 space-y-1",children:Y.detalhes&&Object.entries(Y.detalhes).map(([De,de])=>{if(!de||Array.isArray(de)&&de.length===0||typeof de=="object"&&Object.keys(de).length===0)return null;const Le=De.replace(/_/g," ");return Array.isArray(de)?c.jsxs("div",{className:"mt-1",children:[c.jsx("p",{className:"text-[9px] uppercase text-slate-600 font-bold mb-0.5",children:Le}),de.slice(0,3).map((Ge,Re)=>c.jsxs("div",{className:"text-[10px] text-slate-400 flex items-start gap-1 ml-1",children:[c.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-600 mt-1 shrink-0"}),c.jsx("span",{className:"truncate w-full",children:typeof Ge=="string"?Ge:Ge.descricao||JSON.stringify(Ge)})]},Re))]},De):c.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500",children:[c.jsxs("span",{children:[Le,":"]}),c.jsx("span",{className:"text-slate-300 ml-1",children:typeof de=="string"?de:JSON.stringify(de)})]},De)}).slice(0,3)})]},V.key)})})}),re&&re.length>0&&c.jsx(gv,{title:"Motivos & Ressalvas",icon:Z0e,color:"red",fullWidth:!0,children:c.jsx("div",{className:"space-y-3",children:re.map((V,Y)=>c.jsxs("div",{className:"flex gap-4 items-start p-3 bg-red-500/5 border border-red-500/10 rounded-xl",children:[c.jsx("div",{className:"p-2 bg-red-500/10 rounded-lg text-red-400 shrink-0",children:c.jsx(wo,{className:"w-4 h-4"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:"text-[10px] font-bold text-red-400 uppercase tracking-wider",children:V.origem||"SISTEMA"}),c.jsx("span",{className:"w-1 h-1 rounded-full bg-red-900"}),c.jsx("span",{className:"text-[10px] text-red-300/70 uppercase tracking-wider",children:V.gravidade||"ALERTA"})]}),c.jsx("p",{className:"text-sm text-slate-200",children:V.descricao})]})]},Y))})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 col-span-1 lg:col-span-2 xl:col-span-3",children:[c.jsx(gv,{title:"Deciso & Risco",icon:w0e,color:L?"red":"emerald",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] uppercase text-slate-500 font-bold mb-1",children:"Deciso"}),c.jsx("p",{className:`text-lg font-bold ${L?"text-red-400":"text-emerald-400"}`,children:G})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] uppercase text-slate-500 font-bold mb-1",children:"Risco"}),c.jsx("p",{className:`text-lg font-bold ${H.nivel_risco==="ALTO"?"text-red-400":"text-white"}`,children:H.nivel_risco})]})]}),c.jsxs("div",{className:"bg-[#111] p-3 rounded-xl border border-white/5",children:[c.jsx("p",{className:"text-[10px] uppercase text-slate-500 font-bold mb-1",children:"Fundamentao"}),c.jsx("p",{className:"text-xs text-slate-300 leading-relaxed",children:H.fundamentacao_tecnica||"Sem dados."})]})]})}),c.jsx(gv,{title:"Contabilidade & Compliance",icon:K0e,color:"cyan",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsxs(jA,{color:pe.iva_dedutivel?"emerald":"amber",children:["IVA DEDUTVEL: ",pe.iva_dedutivel?"SIM":"NO"]}),c.jsxs(jA,{color:pe.risco_multa?"red":"emerald",children:["RISCO MULTA: ",pe.risco_multa?"SIM":"NO"]})]}),Z.acoes_recomendadas&&c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] uppercase text-slate-500 font-bold mb-2",children:"Recomendaes"}),c.jsx("ul",{className:"space-y-2",children:Z.acoes_recomendadas.map((V,Y)=>c.jsxs("li",{className:"flex gap-2 items-start text-xs text-cyan-300",children:[c.jsx(Ns,{className:"w-3.5 h-3.5 mt-0.5 shrink-0 text-cyan-500"}),c.jsx("span",{children:V})]},Y))})]})]})})]}),A.itens&&A.itens.length>0&&c.jsx(gv,{title:`Itens da Fatura (${A.itens.length})`,icon:Wpe,color:"slate",fullWidth:!0,children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left text-xs text-slate-400",children:[c.jsx("thead",{className:"text-[10px] uppercase bg-white/5 text-slate-300",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-2 rounded-l-lg",children:"Descrio"}),c.jsx("th",{className:"p-2 text-right",children:"Qtd"}),c.jsx("th",{className:"p-2 text-right",children:"Preo"}),c.jsx("th",{className:"p-2 text-right",children:"IVA"}),c.jsx("th",{className:"p-2 text-right rounded-r-lg",children:"Total"})]})}),c.jsx("tbody",{className:"divide-y divide-white/5",children:A.itens.map((V,Y)=>c.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[c.jsx("td",{className:"p-2 font-medium text-white",children:V.descricao}),c.jsx("td",{className:"p-2 text-right",children:V.quantidade}),c.jsx("td",{className:"p-2 text-right",children:Ag(V.preco_unitario,T.moeda)}),c.jsxs("td",{className:"p-2 text-right",children:[V.taxa_iva,"%"]}),c.jsx("td",{className:"p-2 text-right font-bold text-slate-200",children:Ag(V.total_item,T.moeda)})]},Y))})]})})}),c.jsx(gv,{title:"Detalhes do Documento",icon:Yo,color:"slate",fullWidth:!0,children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx(wg,{label:"Nmero",value:T.numero}),c.jsx(wg,{label:"Srie",value:T.serie}),c.jsx(wg,{label:"Data Emisso",value:T.data_emissao}),c.jsx(wg,{label:"Vencimento",value:T.data_fornecimento}),c.jsx(wg,{label:"Moeda",value:T.moeda}),c.jsx(wg,{label:"Pagamento",value:T.forma_pagamento}),c.jsx(wg,{label:"Cliente",value:N.nome,sub:N.nif}),c.jsx(wg,{label:"Software",value:S.software_faturacao})]})})]}),c.jsxs("div",{className:"flex justify-center pb-8 border-t border-white/5 pt-6 mx-8 mt-auto",children:[c.jsxs("button",{onClick:()=>r(!e),className:"flex items-center gap-2 px-4 py-2 rounded-xl border border-white/10 text-[10px] font-bold text-slate-500 hover:text-white hover:bg-white/5 transition-all uppercase tracking-wider",children:[e?c.jsx($8,{className:"w-3 h-3"}):c.jsx(Px,{className:"w-3 h-3"})," ",e?"Ocultar JSON":"Inspecionar JSON"]}),e&&c.jsx("pre",{className:"mt-4 p-4 text-[10px] font-mono text-emerald-500/80 bg-black/50 rounded-xl overflow-x-auto w-full",children:JSON.stringify(A,null,2)})]})]})]})},NOe=({document:t,isOpen:e,onClose:r})=>{if(!e||!t||!t.data)return null;const{data:n}=t,a=n.fiscal_validation==="APROVADO";return c.jsxs("div",{className:"fixed inset-0 z-[9999] flex flex-col bg-[#020202]/95 backdrop-blur-sm animate-in fade-in duration-300 w-screen h-screen overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-white/5 bg-[#080808] flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-2 rounded-xl border flex items-center justify-center shadow-lg ${a?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":"bg-red-500/10 border-red-500/20 text-red-400"}`,children:a?c.jsx(Ns,{className:"w-5 h-5"}):c.jsx(gk,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-base font-bold text-white tracking-tight",children:"Workstation de Validao"}),c.jsx("p",{className:"text-[10px] text-slate-500 font-mono uppercase tracking-widest",children:t.id})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{className:"p-2 text-slate-500 hover:text-white transition-colors hidden md:block",children:c.jsx(cpe,{className:"w-5 h-5"})}),c.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-xl text-slate-400 hover:text-white transition-colors border border-transparent hover:border-white/5",children:c.jsx(Hs,{className:"w-6 h-6"})})]})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[#020202] relative flex flex-col",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03] pointer-events-none"}),c.jsx("div",{className:"flex-1 p-4 md:p-8 max-w-[1920px] mx-auto w-full relative z-10",children:c.jsx(zB,{document:t})})]}),c.jsxs("div",{className:"px-6 py-4 border-t border-white/5 bg-[#080808] flex justify-end items-center gap-4 flex-shrink-0",children:[c.jsx("button",{onClick:r,className:"px-6 py-3 rounded-xl border border-white/10 text-white font-bold text-xs uppercase tracking-widest hover:bg-white/5 transition-colors",children:"Fechar"}),c.jsx("button",{onClick:r,className:"px-8 py-3 rounded-xl bg-white text-black font-black text-xs uppercase tracking-widest hover:bg-cyan-50 transition-all shadow-lg hover:shadow-white/20",children:"Concluir Reviso"})]})]})},EOe=({isOpen:t,onClose:e,onConfirm:r,count:n,title:a="Zona de Perigo",description:i="Voc est prestes a remover itens permanentemente.",itemType:s="itens"})=>{const[o,l]=gu.useState(!1);if(!t)return null;const u=async()=>{l(!0);try{await r(),e()}finally{l(!1)}};return c.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md",onClick:e}),c.jsxs("div",{className:"relative w-full max-w-md bg-[#0f111a] border border-red-500/20 rounded-2xl shadow-[0_0_50px_rgba(239,68,68,0.2)] flex flex-col animate-in fade-in zoom-in-95 duration-300 overflow-hidden",children:[c.jsxs("div",{className:"p-6 bg-red-500/5 border-b border-red-500/10 flex items-start gap-4",children:[c.jsx("div",{className:"p-3 bg-red-500/10 rounded-full text-red-500 border border-red-500/20 flex-shrink-0",children:c.jsx(wo,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-bold text-white",children:a}),c.jsx("p",{className:"text-sm text-slate-400 mt-1",children:i})]}),c.jsx("button",{onClick:e,className:"ml-auto text-slate-500 hover:text-white",children:c.jsx(Hs,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"p-6 space-y-6",children:c.jsxs("div",{className:"bg-red-500/5 border border-red-500/10 rounded-xl p-4 space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-red-400 uppercase",children:[c.jsx(fE,{className:"w-4 h-4"})," Ao Irreversvel"]}),c.jsxs("ul",{className:"text-sm text-slate-300 space-y-1 list-disc list-inside",children:[c.jsxs("li",{children:[c.jsxs("span",{className:"font-bold text-white",children:[n," ",s]})," selecionado(s) ser(o) removido(s)."]}),c.jsx("li",{children:"Esta ao no pode ser desfeita."})]})]})}),c.jsxs("div",{className:"p-4 bg-[#05060a] border-t border-white/5 flex justify-end gap-3",children:[c.jsx("button",{onClick:e,disabled:o,className:"px-4 py-2 rounded-xl text-slate-400 hover:text-white hover:bg-white/5 font-medium transition-colors disabled:opacity-50",children:"Cancelar"}),c.jsx("button",{onClick:u,disabled:o,className:"px-4 py-2 rounded-xl bg-red-500 text-white font-bold hover:bg-red-600 transition-all shadow-[0_0_20px_rgba(239,68,68,0.2)] disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:o?"Processando...":c.jsxs(c.Fragment,{children:[c.jsx(Sm,{className:"w-4 h-4"})," Confirmar Excluso"]})})]})]})]})};function Aa(t){"@babel/helpers - typeof";return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(t)}var ec=Uint8Array,gd=Uint16Array,$B=Int32Array,kP=new ec([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),PP=new ec([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),KM=new ec([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yse=function(t,e){for(var r=new gd(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new $B(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},bse=yse(kP,2),wse=bse.b,YM=bse.r;wse[28]=258,YM[258]=28;var Ase=yse(PP,0),TOe=Ase.b,_K=Ase.r,XM=new gd(32768);for(var hi=0;hi<32768;++hi){var _g=(hi&43690)>>1|(hi&21845)<<1;_g=(_g&52428)>>2|(_g&13107)<<2,_g=(_g&61680)>>4|(_g&3855)<<4,XM[hi]=((_g&65280)>>8|(_g&255)<<8)>>1}var M0=(function(t,e,r){for(var n=t.length,a=0,i=new gd(e);a<n;++a)t[a]&&++i[t[a]-1];var s=new gd(e);for(a=1;a<e;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new gd(1<<e);var l=15-e;for(a=0;a<n;++a)if(t[a])for(var u=a<<4|t[a],h=e-t[a],f=s[t[a]-1]++<<h,m=f|(1<<h)-1;f<=m;++f)o[XM[f]>>l]=u}else for(o=new gd(n),a=0;a<n;++a)t[a]&&(o[a]=XM[s[t[a]-1]++]>>15-t[a]);return o}),$x=new ec(288);for(var hi=0;hi<144;++hi)$x[hi]=8;for(var hi=144;hi<256;++hi)$x[hi]=9;for(var hi=256;hi<280;++hi)$x[hi]=7;for(var hi=280;hi<288;++hi)$x[hi]=8;var iS=new ec(32);for(var hi=0;hi<32;++hi)iS[hi]=5;var jOe=M0($x,9,0),COe=M0($x,9,1),kOe=M0(iS,5,0),POe=M0(iS,5,1),vR=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Fh=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},yR=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},VB=function(t){return(t+7)/8|0},_se=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new ec(t.subarray(e,r))},OOe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Kh=function(t,e,r){var n=new Error(e||OOe[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Kh),!r)throw n;return n},DOe=function(t,e,r,n){var a=t.length,i=0;if(!a||e.f&&!e.l)return r||new ec(0);var s=!r,o=s||e.i!=2,l=e.i;s&&(r=new ec(a*3));var u=function(Ge){var Re=r.length;if(Ge>Re){var wt=new ec(Math.max(Re*2,Ge));wt.set(r),r=wt}},h=e.f||0,f=e.p||0,m=e.b||0,g=e.l,b=e.d,y=e.m,w=e.n,A=a*8;do{if(!g){h=Fh(t,f,1);var S=Fh(t,f+1,3);if(f+=3,S)if(S==1)g=COe,b=POe,y=9,w=5;else if(S==2){var R=Fh(t,f,31)+257,O=Fh(t,f+10,15)+4,U=R+Fh(t,f+5,31)+1;f+=14;for(var H=new ec(U),G=new ec(19),F=0;F<O;++F)G[KM[F]]=Fh(t,f+F*3,7);f+=O*3;for(var L=vR(G),re=(1<<L)-1,Z=M0(G,L,1),F=0;F<U;){var pe=Z[Fh(t,f,re)];f+=pe&15;var N=pe>>4;if(N<16)H[F++]=N;else{var Q=0,X=0;for(N==16?(X=3+Fh(t,f,3),f+=2,Q=H[F-1]):N==17?(X=3+Fh(t,f,7),f+=3):N==18&&(X=11+Fh(t,f,127),f+=7);X--;)H[F++]=Q}}var oe=H.subarray(0,R),ce=H.subarray(R);y=vR(oe),w=vR(ce),g=M0(oe,y,1),b=M0(ce,w,1)}else Kh(1);else{var N=VB(f)+4,T=t[N-4]|t[N-3]<<8,k=N+T;if(k>a){l&&Kh(0);break}o&&u(m+T),r.set(t.subarray(N,k),m),e.b=m+=T,e.p=f=k*8,e.f=h;continue}if(f>A){l&&Kh(0);break}}o&&u(m+131072);for(var Ne=(1<<y)-1,ne=(1<<w)-1,B=f;;B=f){var Q=g[yR(t,f)&Ne],V=Q>>4;if(f+=Q&15,f>A){l&&Kh(0);break}if(Q||Kh(2),V<256)r[m++]=V;else if(V==256){B=f,g=null;break}else{var Y=V-254;if(V>264){var F=V-257,K=kP[F];Y=Fh(t,f,(1<<K)-1)+wse[F],f+=K}var le=b[yR(t,f)&ne],Ae=le>>4;le||Kh(3),f+=le&15;var ce=TOe[Ae];if(Ae>3){var K=PP[Ae];ce+=yR(t,f)&(1<<K)-1,f+=K}if(f>A){l&&Kh(0);break}o&&u(m+131072);var De=m+Y;if(m<ce){var de=i-ce,Le=Math.min(ce,De);for(de+m<0&&Kh(3);m<Le;++m)r[m]=n[de+m]}for(;m<De;++m)r[m]=r[m-ce]}}e.l=g,e.p=B,e.b=m,e.f=h,g&&(h=1,e.m=y,e.d=b,e.n=w)}while(!h);return m!=r.length&&s?_se(r,0,m):r.subarray(0,m)},xp=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},CA=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},bR=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:Nse,l:0};if(a==1){var s=new ec(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(k,R){return k.f-R.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,h=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};h!=a-1;)o=r[r[u].f<r[f].f?u++:f++],l=r[u!=h&&r[u].f<r[f].f?u++:f++],r[h++]={s:-1,f:o.f+l.f,l:o,r:l};for(var m=i[0].s,n=1;n<a;++n)i[n].s>m&&(m=i[n].s);var g=new gd(m+1),b=JM(r[h-1],g,0);if(b>e){var n=0,y=0,w=b-e,A=1<<w;for(i.sort(function(R,O){return g[O.s]-g[R.s]||R.f-O.f});n<a;++n){var S=i[n].s;if(g[S]>e)y+=A-(1<<b-g[S]),g[S]=e;else break}for(y>>=w;y>0;){var N=i[n].s;g[N]<e?y-=1<<e-g[N]++-1:++n}for(;n>=0&&y;--n){var T=i[n].s;g[T]==e&&(--g[T],++y)}b=e}return{t:new ec(g),l:b}},JM=function(t,e,r){return t.s==-1?Math.max(JM(t.l,e,r+1),JM(t.r,e,r+1)):e[t.s]=r},SK=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new gd(++e),n=0,a=t[0],i=1,s=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==a&&o!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=t[o]}return{c:r.subarray(0,n),n:e}},kA=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Sse=function(t,e,r){var n=r.length,a=VB(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},NK=function(t,e,r,n,a,i,s,o,l,u,h){xp(e,h++,r),++a[256];for(var f=bR(a,15),m=f.t,g=f.l,b=bR(i,15),y=b.t,w=b.l,A=SK(m),S=A.c,N=A.n,T=SK(y),k=T.c,R=T.n,O=new gd(19),U=0;U<S.length;++U)++O[S[U]&31];for(var U=0;U<k.length;++U)++O[k[U]&31];for(var H=bR(O,7),G=H.t,F=H.l,L=19;L>4&&!G[KM[L-1]];--L);var re=u+5<<3,Z=kA(a,$x)+kA(i,iS)+s,pe=kA(a,m)+kA(i,y)+s+14+3*L+kA(O,G)+2*O[16]+3*O[17]+7*O[18];if(l>=0&&re<=Z&&re<=pe)return Sse(e,h,t.subarray(l,l+u));var Q,X,oe,ce;if(xp(e,h,1+(pe<Z)),h+=2,pe<Z){Q=M0(m,g,0),X=m,oe=M0(y,w,0),ce=y;var Ne=M0(G,F,0);xp(e,h,N-257),xp(e,h+5,R-1),xp(e,h+10,L-4),h+=14;for(var U=0;U<L;++U)xp(e,h+3*U,G[KM[U]]);h+=3*L;for(var ne=[S,k],B=0;B<2;++B)for(var V=ne[B],U=0;U<V.length;++U){var Y=V[U]&31;xp(e,h,Ne[Y]),h+=G[Y],Y>15&&(xp(e,h,V[U]>>5&127),h+=V[U]>>12)}}else Q=jOe,X=$x,oe=kOe,ce=iS;for(var U=0;U<o;++U){var K=n[U];if(K>255){var Y=K>>18&31;CA(e,h,Q[Y+257]),h+=X[Y+257],Y>7&&(xp(e,h,K>>23&31),h+=kP[Y]);var le=K&31;CA(e,h,oe[le]),h+=ce[le],le>3&&(CA(e,h,K>>5&8191),h+=PP[le])}else CA(e,h,Q[K]),h+=X[K]}return CA(e,h,Q[256]),h+X[256]},ROe=new $B([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Nse=new ec(0),IOe=function(t,e,r,n,a,i){var s=i.z||t.length,o=new ec(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),u=i.l,h=(i.r||0)&7;if(e){h&&(l[0]=i.r>>3);for(var f=ROe[e-1],m=f>>13,g=f&8191,b=(1<<r)-1,y=i.p||new gd(32768),w=i.h||new gd(b+1),A=Math.ceil(r/3),S=2*A,N=function(St){return(t[St]^t[St+1]<<A^t[St+2]<<S)&b},T=new $B(25e3),k=new gd(288),R=new gd(32),O=0,U=0,H=i.i||0,G=0,F=i.w||0,L=0;H+2<s;++H){var re=N(H),Z=H&32767,pe=w[re];if(y[Z]=pe,w[re]=Z,F<=H){var Q=s-H;if((O>7e3||G>24576)&&(Q>423||!u)){h=NK(t,l,0,T,k,R,U,G,L,H-L,h),G=O=U=0,L=H;for(var X=0;X<286;++X)k[X]=0;for(var X=0;X<30;++X)R[X]=0}var oe=2,ce=0,Ne=g,ne=Z-pe&32767;if(Q>2&&re==N(H-ne))for(var B=Math.min(m,Q)-1,V=Math.min(32767,H),Y=Math.min(258,Q);ne<=V&&--Ne&&Z!=pe;){if(t[H+oe]==t[H+oe-ne]){for(var K=0;K<Y&&t[H+K]==t[H+K-ne];++K);if(K>oe){if(oe=K,ce=ne,K>B)break;for(var le=Math.min(ne,K-2),Ae=0,X=0;X<le;++X){var De=H-ne+X&32767,de=y[De],Le=De-de&32767;Le>Ae&&(Ae=Le,pe=De)}}}Z=pe,pe=y[Z],ne+=Z-pe&32767}if(ce){T[G++]=268435456|YM[oe]<<18|_K[ce];var Ge=YM[oe]&31,Re=_K[ce]&31;U+=kP[Ge]+PP[Re],++k[257+Ge],++R[Re],F=H+oe,++O}else T[G++]=t[H],++k[t[H]]}}for(H=Math.max(H,F);H<s;++H)T[G++]=t[H],++k[t[H]];h=NK(t,l,u,T,k,R,U,G,L,H-L,h),u||(i.r=h&7|l[h/8|0]<<3,h-=7,i.h=w,i.p=y,i.i=H,i.w=F)}else{for(var H=i.w||0;H<s+u;H+=65535){var wt=H+65535;wt>=s&&(l[h/8|0]=u,wt=s),h=Sse(l,h+1,t.subarray(H,wt))}i.i=s}return _se(o,0,n+VB(h)+a)},Ese=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},LOe=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),s=new ec(i.length+t.length);s.set(i),s.set(t,i.length),t=s,a.w=i.length}return IOe(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},Tse=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},MOe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=Ese();a.p(e.dictionary),Tse(t,2,a.d())}},FOe=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Kh(6,"invalid zlib data"),(t[1]>>5&1)==1&&Kh(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function ZM(t,e){e||(e={});var r=Ese();r.p(t);var n=LOe(t,e,e.dictionary?6:2,4);return MOe(n,e),Tse(n,n.length-4,r.d()),n}function BOe(t,e){return DOe(t.subarray(FOe(t),-4),{i:2},e,e)}var UOe=typeof TextDecoder<"u"&&new TextDecoder,zOe=0;try{UOe.decode(Nse,{stream:!0}),zOe=1}catch{}var Qr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function wR(){Qr.console&&typeof Qr.console.log=="function"&&Qr.console.log.apply(Qr.console,arguments)}var qa={log:wR,warn:function(t){Qr.console&&(typeof Qr.console.warn=="function"?Qr.console.warn.apply(Qr.console,arguments):wR.call(null,arguments))},error:function(t){Qr.console&&(typeof Qr.console.error=="function"?Qr.console.error.apply(Qr.console,arguments):wR(t))}};function AR(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Nv(n.response,e,r)},n.onerror=function(){qa.error("could not download file")},n.send()}function EK(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function FT(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var x_,QM,Nv=Qr.saveAs||((typeof window>"u"?"undefined":Aa(window))!=="object"||window!==Qr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Qr.URL||Qr.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?EK(a.href)?AR(t,e,r):FT(a,a.target="_blank"):FT(a)):(a.href=n.createObjectURL(t),setTimeout((function(){n.revokeObjectURL(a.href)}),4e4),setTimeout((function(){FT(a)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(EK(t))AR(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout((function(){FT(n)}))}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:Aa(i)!=="object"&&(qa.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return AR(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(Qr.HTMLElement)||Qr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":Aa(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(t)}else{var l=Qr.URL||Qr.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout((function(){l.revokeObjectURL(u)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function jse(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(t);s&&(e=i(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function _R(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=Ul(r,n,a,i,e[0],7,-680876936),i=Ul(i,r,n,a,e[1],12,-389564586),a=Ul(a,i,r,n,e[2],17,606105819),n=Ul(n,a,i,r,e[3],22,-1044525330),r=Ul(r,n,a,i,e[4],7,-176418897),i=Ul(i,r,n,a,e[5],12,1200080426),a=Ul(a,i,r,n,e[6],17,-1473231341),n=Ul(n,a,i,r,e[7],22,-45705983),r=Ul(r,n,a,i,e[8],7,1770035416),i=Ul(i,r,n,a,e[9],12,-1958414417),a=Ul(a,i,r,n,e[10],17,-42063),n=Ul(n,a,i,r,e[11],22,-1990404162),r=Ul(r,n,a,i,e[12],7,1804603682),i=Ul(i,r,n,a,e[13],12,-40341101),a=Ul(a,i,r,n,e[14],17,-1502002290),r=zl(r,n=Ul(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=zl(i,r,n,a,e[6],9,-1069501632),a=zl(a,i,r,n,e[11],14,643717713),n=zl(n,a,i,r,e[0],20,-373897302),r=zl(r,n,a,i,e[5],5,-701558691),i=zl(i,r,n,a,e[10],9,38016083),a=zl(a,i,r,n,e[15],14,-660478335),n=zl(n,a,i,r,e[4],20,-405537848),r=zl(r,n,a,i,e[9],5,568446438),i=zl(i,r,n,a,e[14],9,-1019803690),a=zl(a,i,r,n,e[3],14,-187363961),n=zl(n,a,i,r,e[8],20,1163531501),r=zl(r,n,a,i,e[13],5,-1444681467),i=zl(i,r,n,a,e[2],9,-51403784),a=zl(a,i,r,n,e[7],14,1735328473),r=$l(r,n=zl(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=$l(i,r,n,a,e[8],11,-2022574463),a=$l(a,i,r,n,e[11],16,1839030562),n=$l(n,a,i,r,e[14],23,-35309556),r=$l(r,n,a,i,e[1],4,-1530992060),i=$l(i,r,n,a,e[4],11,1272893353),a=$l(a,i,r,n,e[7],16,-155497632),n=$l(n,a,i,r,e[10],23,-1094730640),r=$l(r,n,a,i,e[13],4,681279174),i=$l(i,r,n,a,e[0],11,-358537222),a=$l(a,i,r,n,e[3],16,-722521979),n=$l(n,a,i,r,e[6],23,76029189),r=$l(r,n,a,i,e[9],4,-640364487),i=$l(i,r,n,a,e[12],11,-421815835),a=$l(a,i,r,n,e[15],16,530742520),r=Vl(r,n=$l(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Vl(i,r,n,a,e[7],10,1126891415),a=Vl(a,i,r,n,e[14],15,-1416354905),n=Vl(n,a,i,r,e[5],21,-57434055),r=Vl(r,n,a,i,e[12],6,1700485571),i=Vl(i,r,n,a,e[3],10,-1894986606),a=Vl(a,i,r,n,e[10],15,-1051523),n=Vl(n,a,i,r,e[1],21,-2054922799),r=Vl(r,n,a,i,e[8],6,1873313359),i=Vl(i,r,n,a,e[15],10,-30611744),a=Vl(a,i,r,n,e[6],15,-1560198380),n=Vl(n,a,i,r,e[13],21,1309151649),r=Vl(r,n,a,i,e[4],6,-145523070),i=Vl(i,r,n,a,e[11],10,-1120210379),a=Vl(a,i,r,n,e[2],15,718787259),n=Vl(n,a,i,r,e[9],21,-343485551),t[0]=Tx(r,t[0]),t[1]=Tx(n,t[1]),t[2]=Tx(a,t[2]),t[3]=Tx(i,t[3])}function OP(t,e,r,n,a,i){return e=Tx(Tx(e,t),Tx(n,i)),Tx(e<<a|e>>>32-a,r)}function Ul(t,e,r,n,a,i,s){return OP(e&r|~e&n,t,e,a,i,s)}function zl(t,e,r,n,a,i,s){return OP(e&n|r&~n,t,e,a,i,s)}function $l(t,e,r,n,a,i,s){return OP(e^r^n,t,e,a,i,s)}function Vl(t,e,r,n,a,i,s){return OP(r^(e|~n),t,e,a,i,s)}function Cse(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)_R(n,$Oe(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(_R(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,_R(n,a),n}function $Oe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}x_=Qr.atob.bind(Qr),QM=Qr.btoa.bind(Qr);var TK="0123456789abcdef".split("");function VOe(t){for(var e="",r=0;r<4;r++)e+=TK[t>>8*r+4&15]+TK[t>>8*r&15];return e}function HOe(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function e8(t){return Cse(t).map(HOe).join("")}var qOe=(function(t){for(var e=0;e<t.length;e++)t[e]=VOe(t[e]);return t.join("")})(Cse("hello"))!="5d41402abc4b2a76b9719d911017c592";function Tx(t,e){if(qOe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function t8(t,e){var r,n,a,i;if(t!==r){for(var s=(a=t,i=1+(256/t.length>>0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var h=o[l];u=(u+h+s.charCodeAt(l))%256,o[l]=o[u],o[u]=h}r=t,n=o}else o=n;var f=e.length,m=0,g=0,b="";for(l=0;l<f;l++)g=(g+(h=o[m=(m+1)%256]))%256,o[m]=o[g],o[g]=h,s=o[(o[m]+o[g])%256],b+=String.fromCharCode(e.charCodeAt(l)^s);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var jK={print:4,modify:8,copy:16,"annot-forms":32};function Yb(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach((function(o){if(jK.perm!==void 0)throw new Error("Invalid permission: "+o);a+=jK[o]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=e8(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=t8(this.encryptionKey,this.padding)}function Xb(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function CK(t){if(Aa(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var s=e[r][i];try{s[0].apply(t,n)}catch(o){Qr.console&&qa.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function sS(t){if(!(this instanceof sS))return new sS(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function kse(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Og(t,e,r,n,a){if(!(this instanceof Og))return new Og(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,kse.call(this,n,a)}function Mv(t,e,r,n,a){if(!(this instanceof Mv))return new Mv(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,kse.call(this,n,a)}function Gr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,u="S",h=null;Aa(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,m={},g={internal:{},__private__:{}};g.__private__.PubSub=CK;var b="1.3",y=g.__private__.getPdfVersion=function(){return b};g.__private__.setPdfVersion=function(z){b=z};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return w};var A=g.__private__.getPageFormat=function(z){return w[z]};a=a||"a4";var S={COMPAT:"compat",ADVANCED:"advanced"},N=S.COMPAT;function T(){this.saveGraphicsState(),Te(new Mr(bt,0,0,-bt,0,ku()*bt).toString()+" cm"),this.setFontSize(this.getFontSize()/bt),u="n",N=S.ADVANCED}function k(){this.restoreGraphicsState(),u="S",N=S.COMPAT}var R=g.__private__.combineFontStyleAndFontWeight=function(z,he){if(z=="bold"&&he=="normal"||z=="bold"&&he==400||z=="normal"&&he=="italic"||z=="bold"&&he=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return he&&(z=he==400||he==="normal"?z==="italic"?"italic":"normal":he!=700&&he!=="bold"||z!=="normal"?(he==700?"bold":he)+""+z:"bold"),z};g.advancedAPI=function(z){var he=N===S.COMPAT;return he&&T.call(this),typeof z!="function"||(z(this),he&&k.call(this)),this},g.compatAPI=function(z){var he=N===S.ADVANCED;return he&&k.call(this),typeof z!="function"||(z(this),he&&T.call(this)),this},g.isAdvancedAPI=function(){return N===S.ADVANCED};var O,U=function(z){if(N!==S.ADVANCED)throw new Error(z+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=g.roundToPrecision=g.__private__.roundToPrecision=function(z,he){var Oe=e||he;if(isNaN(z)||isNaN(Oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return z.toFixed(Oe).replace(/0+$/,"")};O=g.hpf=g.__private__.hpf=typeof l=="number"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return H(z,l)}:l==="smart"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return H(z,z>-1&&z<1?16:5)}:function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return H(z,16)};var G=g.f2=g.__private__.f2=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f2");return H(z,2)},F=g.__private__.f3=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f3");return H(z,3)},L=g.scale=g.__private__.scale=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.scale");return N===S.COMPAT?z*bt:N===S.ADVANCED?z:void 0},re=function(z){return N===S.COMPAT?ku()-z:N===S.ADVANCED?z:void 0},Z=function(z){return L(re(z))};g.__private__.setPrecision=g.setPrecision=function(z){typeof parseInt(z,10)=="number"&&(e=parseInt(z,10))};var pe,Q="00000000000000000000000000000000",X=g.__private__.getFileId=function(){return Q},oe=g.__private__.setFileId=function(z){return Q=z!==void 0&&/^[a-fA-F0-9]{32}$/.test(z)?z.toUpperCase():Q.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),h!==null&&(ea=new Yb(h.userPermissions,h.userPassword,h.ownerPassword,Q)),Q};g.setFileId=function(z){return oe(z),this},g.getFileId=function(){return X()};var ce=g.__private__.convertDateToPDFDate=function(z){var he=z.getTimezoneOffset(),Oe=he<0?"+":"-",$e=Math.floor(Math.abs(he/60)),at=Math.abs(he%60),jt=[Oe,Y($e),"'",Y(at),"'"].join("");return["D:",z.getFullYear(),Y(z.getMonth()+1),Y(z.getDate()),Y(z.getHours()),Y(z.getMinutes()),Y(z.getSeconds()),jt].join("")},Ne=g.__private__.convertPDFDateToDate=function(z){var he=parseInt(z.substr(2,4),10),Oe=parseInt(z.substr(6,2),10)-1,$e=parseInt(z.substr(8,2),10),at=parseInt(z.substr(10,2),10),jt=parseInt(z.substr(12,2),10),Wt=parseInt(z.substr(14,2),10);return new Date(he,Oe,$e,at,jt,Wt,0)},ne=g.__private__.setCreationDate=function(z){var he;if(z===void 0&&(z=new Date),z instanceof Date)he=ce(z);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(z))throw new Error("Invalid argument passed to jsPDF.setCreationDate");he=z}return pe=he},B=g.__private__.getCreationDate=function(z){var he=pe;return z==="jsDate"&&(he=Ne(pe)),he};g.setCreationDate=function(z){return ne(z),this},g.getCreationDate=function(z){return B(z)};var V,Y=g.__private__.padd2=function(z){return("0"+parseInt(z)).slice(-2)},K=g.__private__.padd2Hex=function(z){return("00"+(z=z.toString())).substr(z.length)},le=0,Ae=[],De=[],de=0,Le=[],Ge=[],Re=!1,wt=De,St=function(){le=0,de=0,De=[],Ae=[],Le=[],Se=Qn(),_e=Qn()};g.__private__.setCustomOutputDestination=function(z){Re=!0,wt=z};var rt=function(z){Re||(wt=z)};g.__private__.resetCustomOutputDestination=function(){Re=!1,wt=De};var Te=g.__private__.out=function(z){return z=z.toString(),de+=z.length+1,wt.push(z),wt},Nt=g.__private__.write=function(z){return Te(arguments.length===1?z.toString():Array.prototype.join.call(arguments," "))},rr=g.__private__.getArrayBuffer=function(z){for(var he=z.length,Oe=new ArrayBuffer(he),$e=new Uint8Array(Oe);he--;)$e[he]=z.charCodeAt(he);return Oe},Ot=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ot};var vt=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(z){return vt=N===S.ADVANCED?z/bt:z,this};var Dt,yt=g.__private__.getFontSize=g.getFontSize=function(){return N===S.COMPAT?vt:vt*bt},qt=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(z){return qt=z,this},g.__private__.getR2L=g.getR2L=function(){return qt};var We,Jt=g.__private__.setZoomMode=function(z){var he=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(z))Dt=z;else if(isNaN(z)){if(he.indexOf(z)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+z+'" is not recognized.');Dt=z}else Dt=parseInt(z,10)};g.__private__.getZoomMode=function(){return Dt};var ir,Vt=g.__private__.setPageMode=function(z){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(z)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+z+'" is not recognized.');We=z};g.__private__.getPageMode=function(){return We};var Ue=g.__private__.setLayoutMode=function(z){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(z)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+z+'" is not recognized.');ir=z};g.__private__.getLayoutMode=function(){return ir},g.__private__.setDisplayMode=g.setDisplayMode=function(z,he,Oe){return Jt(z),Ue(he),Vt(Oe),this};var ur={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(z){if(Object.keys(ur).indexOf(z)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ur[z]},g.__private__.getDocumentProperties=function(){return ur},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(z){for(var he in ur)ur.hasOwnProperty(he)&&z[he]&&(ur[he]=z[he]);return this},g.__private__.setDocumentProperty=function(z,he){if(Object.keys(ur).indexOf(z)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ur[z]=he};var xt,bt,br,gr,Lr,Tr={},Mt={},Dn=[],Wr={},Es={},Ht={},ri={},Gi=null,hn=0,Hr=[],fn=new CK(g),Nu=t.hotfixes||[],mi={},Ri={},ni=[],Mr=function z(he,Oe,$e,at,jt,Wt){if(!(this instanceof z))return new z(he,Oe,$e,at,jt,Wt);isNaN(he)&&(he=1),isNaN(Oe)&&(Oe=0),isNaN($e)&&($e=0),isNaN(at)&&(at=1),isNaN(jt)&&(jt=0),isNaN(Wt)&&(Wt=0),this._matrix=[he,Oe,$e,at,jt,Wt]};Object.defineProperty(Mr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(Mr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(Mr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(Mr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(Mr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(Mr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(Mr.prototype,"a",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(Mr.prototype,"b",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(Mr.prototype,"c",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(Mr.prototype,"d",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(Mr.prototype,"e",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(Mr.prototype,"f",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(Mr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Mr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Mr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Mr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Mr.prototype.join=function(z){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(z)},Mr.prototype.multiply=function(z){var he=z.sx*this.sx+z.shy*this.shx,Oe=z.sx*this.shy+z.shy*this.sy,$e=z.shx*this.sx+z.sy*this.shx,at=z.shx*this.shy+z.sy*this.sy,jt=z.tx*this.sx+z.ty*this.shx+this.tx,Wt=z.tx*this.shy+z.ty*this.sy+this.ty;return new Mr(he,Oe,$e,at,jt,Wt)},Mr.prototype.decompose=function(){var z=this.sx,he=this.shy,Oe=this.shx,$e=this.sy,at=this.tx,jt=this.ty,Wt=Math.sqrt(z*z+he*he),xr=(z/=Wt)*Oe+(he/=Wt)*$e;Oe-=z*xr,$e-=he*xr;var Rr=Math.sqrt(Oe*Oe+$e*$e);return xr/=Rr,z*($e/=Rr)<he*(Oe/=Rr)&&(z=-z,he=-he,xr=-xr,Wt=-Wt),{scale:new Mr(Wt,0,0,Rr,0,0),translate:new Mr(1,0,0,1,at,jt),rotate:new Mr(z,he,-he,z,0,0),skew:new Mr(1,0,xr,1,0,0)}},Mr.prototype.toString=function(z){return this.join(" ")},Mr.prototype.inversed=function(){var z=this.sx,he=this.shy,Oe=this.shx,$e=this.sy,at=this.tx,jt=this.ty,Wt=1/(z*$e-he*Oe),xr=$e*Wt,Rr=-he*Wt,Yr=-Oe*Wt,zr=z*Wt;return new Mr(xr,Rr,Yr,zr,-xr*at-Yr*jt,-Rr*at-zr*jt)},Mr.prototype.applyToPoint=function(z){var he=z.x*this.sx+z.y*this.shx+this.tx,Oe=z.x*this.shy+z.y*this.sy+this.ty;return new Cu(he,Oe)},Mr.prototype.applyToRectangle=function(z){var he=this.applyToPoint(z),Oe=this.applyToPoint(new Cu(z.x+z.w,z.y+z.h));return new Nh(he.x,he.y,Oe.x-he.x,Oe.y-he.y)},Mr.prototype.clone=function(){var z=this.sx,he=this.shy,Oe=this.shx,$e=this.sy,at=this.tx,jt=this.ty;return new Mr(z,he,Oe,$e,at,jt)},g.Matrix=Mr;var ps=g.matrixMult=function(z,he){return he.multiply(z)},pn=new Mr(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=pn;var Nn=function(z,he){if(!Es[z]){var Oe=(he instanceof Og?"Sh":"P")+(Object.keys(Wr).length+1).toString(10);he.id=Oe,Es[z]=Oe,Wr[Oe]=he,fn.publish("addPattern",he)}};g.ShadingPattern=Og,g.TilingPattern=Mv,g.addShadingPattern=function(z,he){return U("addShadingPattern()"),Nn(z,he),this},g.beginTilingPattern=function(z){U("beginTilingPattern()"),Ii(z.boundingBox[0],z.boundingBox[1],z.boundingBox[2]-z.boundingBox[0],z.boundingBox[3]-z.boundingBox[1],z.matrix)},g.endTilingPattern=function(z,he){U("endTilingPattern()"),he.stream=Ge[V].join(`
`),Nn(z,he),fn.publish("endTilingPattern",he),ni.pop().restore()};var Fa=g.__private__.newObject=function(){var z=Qn();return ge(z,!0),z},Qn=g.__private__.newObjectDeferred=function(){return le++,Ae[le]=function(){return de},le},ge=function(z,he){return he=typeof he=="boolean"&&he,Ae[z]=de,he&&Te(z+" 0 obj"),z},Pe=g.__private__.newAdditionalObject=function(){var z={objId:Qn(),content:""};return Le.push(z),z},Se=Qn(),_e=Qn(),je=g.__private__.decodeColorString=function(z){var he=z.split(" ");if(he.length!==2||he[1]!=="g"&&he[1]!=="G")he.length===5&&(he[4]==="k"||he[4]==="K")&&(he=[(1-he[0])*(1-he[3]),(1-he[1])*(1-he[3]),(1-he[2])*(1-he[3]),"r"]);else{var Oe=parseFloat(he[0]);he=[Oe,Oe,Oe,"r"]}for(var $e="#",at=0;at<3;at++)$e+=("0"+Math.floor(255*parseFloat(he[at])).toString(16)).slice(-2);return $e},ke=g.__private__.encodeColorString=function(z){var he;typeof z=="string"&&(z={ch1:z});var Oe=z.ch1,$e=z.ch2,at=z.ch3,jt=z.ch4,Wt=z.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Oe=="string"&&Oe.charAt(0)!=="#"){var xr=new jse(Oe);if(xr.ok)Oe=xr.toHex();else if(!/^\d*\.?\d*$/.test(Oe))throw new Error('Invalid color "'+Oe+'" passed to jsPDF.encodeColorString.')}if(typeof Oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Oe)&&(Oe="#"+Oe[1]+Oe[1]+Oe[2]+Oe[2]+Oe[3]+Oe[3]),typeof Oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Oe)){var Rr=parseInt(Oe.substr(1),16);Oe=Rr>>16&255,$e=Rr>>8&255,at=255&Rr}if($e===void 0||jt===void 0&&Oe===$e&&$e===at)if(typeof Oe=="string")he=Oe+" "+Wt[0];else switch(z.precision){case 2:he=G(Oe/255)+" "+Wt[0];break;case 3:default:he=F(Oe/255)+" "+Wt[0]}else if(jt===void 0||Aa(jt)==="object"){if(jt&&!isNaN(jt.a)&&jt.a===0)return he=["1.","1.","1.",Wt[1]].join(" ");if(typeof Oe=="string")he=[Oe,$e,at,Wt[1]].join(" ");else switch(z.precision){case 2:he=[G(Oe/255),G($e/255),G(at/255),Wt[1]].join(" ");break;default:case 3:he=[F(Oe/255),F($e/255),F(at/255),Wt[1]].join(" ")}}else if(typeof Oe=="string")he=[Oe,$e,at,jt,Wt[2]].join(" ");else switch(z.precision){case 2:he=[G(Oe),G($e),G(at),G(jt),Wt[2]].join(" ");break;case 3:default:he=[F(Oe),F($e),F(at),F(jt),Wt[2]].join(" ")}return he},ot=g.__private__.getFilters=function(){return s},_t=g.__private__.putStream=function(z){var he=(z=z||{}).data||"",Oe=z.filters||ot(),$e=z.alreadyAppliedFilters||[],at=z.addLength1||!1,jt=he.length,Wt=z.objectId,xr=function(Ji){return Ji};if(h!==null&&Wt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(xr=ea.encryptor(Wt,0));var Rr={};Oe===!0&&(Oe=["FlateEncode"]);var Yr=z.additionalKeyValues||[],zr=(Rr=Gr.API.processDataByFilters!==void 0?Gr.API.processDataByFilters(he,Oe):{data:he,reverseChain:[]}).reverseChain+(Array.isArray($e)?$e.join(" "):$e.toString());if(Rr.data.length!==0&&(Yr.push({key:"Length",value:Rr.data.length}),at===!0&&Yr.push({key:"Length1",value:jt})),zr.length!=0)if(zr.split("/").length-1==1)Yr.push({key:"Filter",value:zr});else{Yr.push({key:"Filter",value:"["+zr+"]"});for(var Tn=0;Tn<Yr.length;Tn+=1)if(Yr[Tn].key==="DecodeParms"){for(var la=[],ha=0;ha<Rr.reverseChain.split("/").length-1;ha+=1)la.push("null");la.push(Yr[Tn].value),Yr[Tn].value="["+la.join(" ")+"]"}}Te("<<");for(var ii=0;ii<Yr.length;ii++)Te("/"+Yr[ii].key+" "+Yr[ii].value);Te(">>"),Rr.data.length!==0&&(Te("stream"),Te(xr(Rr.data)),Te("endstream"))},it=g.__private__.putPage=function(z){var he=z.number,Oe=z.data,$e=z.objId,at=z.contentsObjId;ge($e,!0),Te("<</Type /Page"),Te("/Parent "+z.rootDictionaryObjId+" 0 R"),Te("/Resources "+z.resourceDictionaryObjId+" 0 R"),Te("/MediaBox ["+parseFloat(O(z.mediaBox.bottomLeftX))+" "+parseFloat(O(z.mediaBox.bottomLeftY))+" "+O(z.mediaBox.topRightX)+" "+O(z.mediaBox.topRightY)+"]"),z.cropBox!==null&&Te("/CropBox ["+O(z.cropBox.bottomLeftX)+" "+O(z.cropBox.bottomLeftY)+" "+O(z.cropBox.topRightX)+" "+O(z.cropBox.topRightY)+"]"),z.bleedBox!==null&&Te("/BleedBox ["+O(z.bleedBox.bottomLeftX)+" "+O(z.bleedBox.bottomLeftY)+" "+O(z.bleedBox.topRightX)+" "+O(z.bleedBox.topRightY)+"]"),z.trimBox!==null&&Te("/TrimBox ["+O(z.trimBox.bottomLeftX)+" "+O(z.trimBox.bottomLeftY)+" "+O(z.trimBox.topRightX)+" "+O(z.trimBox.topRightY)+"]"),z.artBox!==null&&Te("/ArtBox ["+O(z.artBox.bottomLeftX)+" "+O(z.artBox.bottomLeftY)+" "+O(z.artBox.topRightX)+" "+O(z.artBox.topRightY)+"]"),typeof z.userUnit=="number"&&z.userUnit!==1&&Te("/UserUnit "+z.userUnit),fn.publish("putPage",{objId:$e,pageContext:Hr[he],pageNumber:he,page:Oe}),Te("/Contents "+at+" 0 R"),Te(">>"),Te("endobj");var jt=Oe.join(`
`);return N===S.ADVANCED&&(jt+=`
Q`),ge(at,!0),_t({data:jt,filters:ot(),objectId:at}),Te("endobj"),$e},dt=g.__private__.putPages=function(){var z,he,Oe=[];for(z=1;z<=hn;z++)Hr[z].objId=Qn(),Hr[z].contentsObjId=Qn();for(z=1;z<=hn;z++)Oe.push(it({number:z,data:Ge[z],objId:Hr[z].objId,contentsObjId:Hr[z].contentsObjId,mediaBox:Hr[z].mediaBox,cropBox:Hr[z].cropBox,bleedBox:Hr[z].bleedBox,trimBox:Hr[z].trimBox,artBox:Hr[z].artBox,userUnit:Hr[z].userUnit,rootDictionaryObjId:Se,resourceDictionaryObjId:_e}));ge(Se,!0),Te("<</Type /Pages");var $e="/Kids [";for(he=0;he<hn;he++)$e+=Oe[he]+" 0 R ";Te($e+"]"),Te("/Count "+hn),Te(">>"),Te("endobj"),fn.publish("postPutPages")},lt=function(z){fn.publish("putFont",{font:z,out:Te,newObject:Fa,putStream:_t}),z.isAlreadyPutted!==!0&&(z.objectNumber=Fa(),Te("<<"),Te("/Type /Font"),Te("/BaseFont /"+Xb(z.postScriptName)),Te("/Subtype /Type1"),typeof z.encoding=="string"&&Te("/Encoding /"+z.encoding),Te("/FirstChar 32"),Te("/LastChar 255"),Te(">>"),Te("endobj"))},Gt=function(){for(var z in Tr)Tr.hasOwnProperty(z)&&(f===!1||f===!0&&m.hasOwnProperty(z))&&lt(Tr[z])},ar=function(z){z.objectNumber=Fa();var he=[];he.push({key:"Type",value:"/XObject"}),he.push({key:"Subtype",value:"/Form"}),he.push({key:"BBox",value:"["+[O(z.x),O(z.y),O(z.x+z.width),O(z.y+z.height)].join(" ")+"]"}),he.push({key:"Matrix",value:"["+z.matrix.toString()+"]"});var Oe=z.pages[1].join(`
`);_t({data:Oe,additionalKeyValues:he,objectId:z.objectNumber}),Te("endobj")},Xt=function(){for(var z in mi)mi.hasOwnProperty(z)&&ar(mi[z])},Yt=function(z,he){var Oe,$e=[],at=1/(he-1);for(Oe=0;Oe<1;Oe+=at)$e.push(Oe);if($e.push(1),z[0].offset!=0){var jt={offset:0,color:z[0].color};z.unshift(jt)}if(z[z.length-1].offset!=1){var Wt={offset:1,color:z[z.length-1].color};z.push(Wt)}for(var xr="",Rr=0,Yr=0;Yr<$e.length;Yr++){for(Oe=$e[Yr];Oe>z[Rr+1].offset;)Rr++;var zr=z[Rr].offset,Tn=(Oe-zr)/(z[Rr+1].offset-zr),la=z[Rr].color,ha=z[Rr+1].color;xr+=K(Math.round((1-Tn)*la[0]+Tn*ha[0]).toString(16))+K(Math.round((1-Tn)*la[1]+Tn*ha[1]).toString(16))+K(Math.round((1-Tn)*la[2]+Tn*ha[2]).toString(16))}return xr.trim()},lr=function(z,he){he||(he=21);var Oe=Fa(),$e=Yt(z.colors,he),at=[];at.push({key:"FunctionType",value:"0"}),at.push({key:"Domain",value:"[0.0 1.0]"}),at.push({key:"Size",value:"["+he+"]"}),at.push({key:"BitsPerSample",value:"8"}),at.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),at.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_t({data:$e,additionalKeyValues:at,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Oe}),Te("endobj"),z.objectNumber=Fa(),Te("<< /ShadingType "+z.type),Te("/ColorSpace /DeviceRGB");var jt="/Coords ["+O(parseFloat(z.coords[0]))+" "+O(parseFloat(z.coords[1]))+" ";z.type===2?jt+=O(parseFloat(z.coords[2]))+" "+O(parseFloat(z.coords[3])):jt+=O(parseFloat(z.coords[2]))+" "+O(parseFloat(z.coords[3]))+" "+O(parseFloat(z.coords[4]))+" "+O(parseFloat(z.coords[5])),Te(jt+="]"),z.matrix&&Te("/Matrix ["+z.matrix.toString()+"]"),Te("/Function "+Oe+" 0 R"),Te("/Extend [true true]"),Te(">>"),Te("endobj")},Ar=function(z,he){var Oe=Qn(),$e=Fa();he.push({resourcesOid:Oe,objectOid:$e}),z.objectNumber=$e;var at=[];at.push({key:"Type",value:"/Pattern"}),at.push({key:"PatternType",value:"1"}),at.push({key:"PaintType",value:"1"}),at.push({key:"TilingType",value:"1"}),at.push({key:"BBox",value:"["+z.boundingBox.map(O).join(" ")+"]"}),at.push({key:"XStep",value:O(z.xStep)}),at.push({key:"YStep",value:O(z.yStep)}),at.push({key:"Resources",value:Oe+" 0 R"}),z.matrix&&at.push({key:"Matrix",value:"["+z.matrix.toString()+"]"}),_t({data:z.stream,additionalKeyValues:at,objectId:z.objectNumber}),Te("endobj")},bn=function(z){var he;for(he in Wr)Wr.hasOwnProperty(he)&&(Wr[he]instanceof Og?lr(Wr[he]):Wr[he]instanceof Mv&&Ar(Wr[he],z))},Rn=function(z){for(var he in z.objectNumber=Fa(),Te("<<"),z)switch(he){case"opacity":Te("/ca "+G(z[he]));break;case"stroke-opacity":Te("/CA "+G(z[he]))}Te(">>"),Te("endobj")},Gn=function(){var z;for(z in Ht)Ht.hasOwnProperty(z)&&Rn(Ht[z])},Wi=function(){for(var z in Te("/XObject <<"),mi)mi.hasOwnProperty(z)&&mi[z].objectNumber>=0&&Te("/"+z+" "+mi[z].objectNumber+" 0 R");fn.publish("putXobjectDict"),Te(">>")},Js=function(){ea.oid=Fa(),Te("<<"),Te("/Filter /Standard"),Te("/V "+ea.v),Te("/R "+ea.r),Te("/U <"+ea.toHexString(ea.U)+">"),Te("/O <"+ea.toHexString(ea.O)+">"),Te("/P "+ea.P),Te(">>"),Te("endobj")},Cl=function(){for(var z in Te("/Font <<"),Tr)Tr.hasOwnProperty(z)&&(f===!1||f===!0&&m.hasOwnProperty(z))&&Te("/"+z+" "+Tr[z].objectNumber+" 0 R");Te(">>")},Zs=function(){if(Object.keys(Wr).length>0){for(var z in Te("/Shading <<"),Wr)Wr.hasOwnProperty(z)&&Wr[z]instanceof Og&&Wr[z].objectNumber>=0&&Te("/"+z+" "+Wr[z].objectNumber+" 0 R");fn.publish("putShadingPatternDict"),Te(">>")}},oc=function(z){if(Object.keys(Wr).length>0){for(var he in Te("/Pattern <<"),Wr)Wr.hasOwnProperty(he)&&Wr[he]instanceof g.TilingPattern&&Wr[he].objectNumber>=0&&Wr[he].objectNumber<z&&Te("/"+he+" "+Wr[he].objectNumber+" 0 R");fn.publish("putTilingPatternDict"),Te(">>")}},qr=function(){if(Object.keys(Ht).length>0){var z;for(z in Te("/ExtGState <<"),Ht)Ht.hasOwnProperty(z)&&Ht[z].objectNumber>=0&&Te("/"+z+" "+Ht[z].objectNumber+" 0 R");fn.publish("putGStateDict"),Te(">>")}},ua=function(z){ge(z.resourcesOid,!0),Te("<<"),Te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Cl(),Zs(),oc(z.objectOid),qr(),Wi(),Te(">>"),Te("endobj")},Qo=function(){var z=[];Gt(),Gn(),Xt(),bn(z),fn.publish("putResources"),z.forEach(ua),ua({resourcesOid:_e,objectOid:Number.MAX_SAFE_INTEGER}),fn.publish("postPutResources")},Ki=function(){fn.publish("putAdditionalObjects");for(var z=0;z<Le.length;z++){var he=Le[z];ge(he.objId,!0),Te(he.content),Te("endobj")}fn.publish("postPutAdditionalObjects")},Eu=function(z){Mt[z.fontName]=Mt[z.fontName]||{},Mt[z.fontName][z.fontStyle]=z.id},Nf=function(z,he,Oe,$e,at){var jt={id:"F"+(Object.keys(Tr).length+1).toString(10),postScriptName:z,fontName:he,fontStyle:Oe,encoding:$e,isStandardFont:at||!1,metadata:{}};return fn.publish("addFont",{font:jt,instance:this}),Tr[jt.id]=jt,Eu(jt),jt.id},Ef=function(z){for(var he=0,Oe=Ot.length;he<Oe;he++){var $e=Nf.call(this,z[he][0],z[he][1],z[he][2],Ot[he][3],!0);f===!1&&(m[$e]=!0);var at=z[he][0].split("-");Eu({id:$e,fontName:at[0],fontStyle:at[1]||""})}fn.publish("addFonts",{fonts:Tr,dictionary:Mt})},el=function(z){return z.foo=function(){try{return z.apply(this,arguments)}catch($e){var he=$e.stack||"";~he.indexOf(" at ")&&(he=he.split(" at ")[1]);var Oe="Error in function "+he.split(`
`)[0].split("<")[0]+": "+$e.message;if(!Qr.console)throw new Error(Oe);Qr.console.error(Oe,$e),Qr.alert&&alert(Oe)}},z.foo.bar=z,z.foo},En=function(z,he){var Oe,$e,at,jt,Wt,xr,Rr,Yr,zr;if(at=(he=he||{}).sourceEncoding||"Unicode",Wt=he.outputEncoding,(he.autoencode||Wt)&&Tr[xt].metadata&&Tr[xt].metadata[at]&&Tr[xt].metadata[at].encoding&&(jt=Tr[xt].metadata[at].encoding,!Wt&&Tr[xt].encoding&&(Wt=Tr[xt].encoding),!Wt&&jt.codePages&&(Wt=jt.codePages[0]),typeof Wt=="string"&&(Wt=jt[Wt]),Wt)){for(Rr=!1,xr=[],Oe=0,$e=z.length;Oe<$e;Oe++)(Yr=Wt[z.charCodeAt(Oe)])?xr.push(String.fromCharCode(Yr)):xr.push(z[Oe]),xr[Oe].charCodeAt(0)>>8&&(Rr=!0);z=xr.join("")}for(Oe=z.length;Rr===void 0&&Oe!==0;)z.charCodeAt(Oe-1)>>8&&(Rr=!0),Oe--;if(!Rr)return z;for(xr=he.noBOM?[]:[254,255],Oe=0,$e=z.length;Oe<$e;Oe++){if((zr=(Yr=z.charCodeAt(Oe))>>8)>>8)throw new Error("Character at position "+Oe+" of string '"+z+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");xr.push(zr),xr.push(Yr-(zr<<8))}return String.fromCharCode.apply(void 0,xr)},Yi=g.__private__.pdfEscape=g.pdfEscape=function(z,he){return En(z,he).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gi=g.__private__.beginPage=function(z){Ge[++hn]=[],Hr[hn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(z[0]),topRightY:Number(z[1])}},Ad(hn),rt(Ge[V])},lc=function(z,he){var Oe,$e,at;switch(r=he||r,typeof z=="string"&&(Oe=A(z.toLowerCase()),Array.isArray(Oe)&&($e=Oe[0],at=Oe[1])),Array.isArray(z)&&($e=z[0]*bt,at=z[1]*bt),isNaN($e)&&($e=a[0],at=a[1]),($e>14400||at>14400)&&(qa.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),$e=Math.min(14400,$e),at=Math.min(14400,at)),a=[$e,at],r.substr(0,1)){case"l":at>$e&&(a=[at,$e]);break;case"p":$e>at&&(a=[at,$e])}gi(a),_h(Ja),Te(al),X0!==0&&Te(X0+" J"),$c!==0&&Te($c+" j"),fn.publish("addPage",{pageNumber:hn})},Tf=function(z){z>0&&z<=hn&&(Ge.splice(z,1),Hr.splice(z,1),hn--,V>hn&&(V=hn),this.setPage(V))},Ad=function(z){z>0&&z<=hn&&(V=z)},cc=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ge.length-1},jf=function(z,he,Oe){var $e,at=void 0;return Oe=Oe||{},z=z!==void 0?z:Tr[xt].fontName,he=he!==void 0?he:Tr[xt].fontStyle,$e=z.toLowerCase(),Mt[$e]!==void 0&&Mt[$e][he]!==void 0?at=Mt[$e][he]:Mt[z]!==void 0&&Mt[z][he]!==void 0?at=Mt[z][he]:Oe.disableWarning===!1&&qa.warn("Unable to look up font label for font '"+z+"', '"+he+"'. Refer to getFontList() for available fonts."),at||Oe.noFallback||(at=Mt.times[he])==null&&(at=Mt.times.normal),at},yh=g.__private__.putInfo=function(){var z=Fa(),he=function($e){return $e};for(var Oe in h!==null&&(he=ea.encryptor(z,0)),Te("<<"),Te("/Producer ("+Yi(he("jsPDF "+Gr.version))+")"),ur)ur.hasOwnProperty(Oe)&&ur[Oe]&&Te("/"+Oe.substr(0,1).toUpperCase()+Oe.substr(1)+" ("+Yi(he(ur[Oe]))+")");Te("/CreationDate ("+Yi(he(pe))+")"),Te(">>"),Te("endobj")},uc=g.__private__.putCatalog=function(z){var he=(z=z||{}).rootDictionaryObjId||Se;switch(Fa(),Te("<<"),Te("/Type /Catalog"),Te("/Pages "+he+" 0 R"),Dt||(Dt="fullwidth"),Dt){case"fullwidth":Te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Te("/OpenAction [3 0 R /Fit]");break;case"original":Te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Oe=""+Dt;Oe.substr(Oe.length-1)==="%"&&(Dt=parseInt(Dt)/100),typeof Dt=="number"&&Te("/OpenAction [3 0 R /XYZ null null "+G(Dt)+"]")}switch(ir||(ir="continuous"),ir){case"continuous":Te("/PageLayout /OneColumn");break;case"single":Te("/PageLayout /SinglePage");break;case"two":case"twoleft":Te("/PageLayout /TwoColumnLeft");break;case"tworight":Te("/PageLayout /TwoColumnRight")}We&&Te("/PageMode /"+We),fn.publish("putCatalog"),Te(">>"),Te("endobj")},nv=g.__private__.putTrailer=function(){Te("trailer"),Te("<<"),Te("/Size "+(le+1)),Te("/Root "+le+" 0 R"),Te("/Info "+(le-1)+" 0 R"),h!==null&&Te("/Encrypt "+ea.oid+" 0 R"),Te("/ID [ <"+Q+"> <"+Q+"> ]"),Te(">>")},Sn=g.__private__.putHeader=function(){Te("%PDF-"+b),Te("%")},Y0=g.__private__.putXRef=function(){var z="0000000000";Te("xref"),Te("0 "+(le+1)),Te("0000000000 65535 f ");for(var he=1;he<=le;he++)typeof Ae[he]=="function"?Te((z+Ae[he]()).slice(-10)+" 00000 n "):Ae[he]!==void 0?Te((z+Ae[he]).slice(-10)+" 00000 n "):Te("0000000000 00000 n ")},dc=g.__private__.buildDocument=function(){St(),rt(De),fn.publish("buildDocument"),Sn(),dt(),Ki(),Qo(),h!==null&&Js(),yh(),uc();var z=de;return Y0(),nv(),Te("startxref"),Te(""+z),Te("%%EOF"),rt(Ge[V]),De.join(`
`)},Cf=g.__private__.getBlob=function(z){return new Blob([rr(z)],{type:"application/pdf"})},Xi=g.output=g.__private__.output=el((function(z,he){switch(typeof(he=he||{})=="string"?he={filename:he}:he.filename=he.filename||"generated.pdf",z){case void 0:return dc();case"save":g.save(he.filename);break;case"arraybuffer":return rr(dc());case"blob":return Cf(dc());case"bloburi":case"bloburl":if(Qr.URL!==void 0&&typeof Qr.URL.createObjectURL=="function")return Qr.URL&&Qr.URL.createObjectURL(Cf(dc()))||void 0;qa.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Oe="",$e=dc();try{Oe=QM($e)}catch{Oe=QM(unescape(encodeURIComponent($e)))}return"data:application/pdf;filename="+he.filename+";base64,"+Oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Qr)==="[object Window]"){var at="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",jt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';he.pdfObjectUrl&&(at=he.pdfObjectUrl,jt="");var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+at+'"'+jt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(he)+");<\/script></body></html>",xr=Qr.open();return xr!==null&&xr.document.write(Wt),xr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Qr)==="[object Window]"){var Rr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(he.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+he.filename+'" width="500px" height="400px" /></body></html>',Yr=Qr.open();if(Yr!==null){Yr.document.write(Rr);var zr=this;Yr.document.documentElement.querySelector("#pdfViewer").onload=function(){Yr.document.title=he.filename,Yr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zr.output("bloburl"))}}return Yr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Qr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Tn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",he)+'"></iframe></body></html>',la=Qr.open();if(la!==null&&(la.document.write(Tn),la.document.title=he.filename),la||typeof safari>"u")return la;break;case"datauri":case"dataurl":return Qr.document.location.href=this.output("datauristring",he);default:return null}})),kl=function(z){return Array.isArray(Nu)===!0&&Nu.indexOf(z)>-1};switch(n){case"pt":bt=1;break;case"mm":bt=72/25.4;break;case"cm":bt=72/2.54;break;case"in":bt=72;break;case"px":bt=kl("px_scaling")==1?.75:96/72;break;case"pc":case"em":bt=12;break;case"ex":bt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);bt=n}var ea=null;ne(),oe();var Pl=function(z){return h!==null?ea.encryptor(z,0):function(he){return he}},bh=g.__private__.getPageInfo=g.getPageInfo=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Hr[z].objId,pageNumber:z,pageContext:Hr[z]}},Ur=g.__private__.getPageInfoByObjId=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var he in Hr)if(Hr[he].objId===z)break;return bh(he)},da=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Hr[V].objId,pageNumber:V,pageContext:Hr[V]}};g.addPage=function(){return lc.apply(this,arguments),this},g.setPage=function(){return Ad.apply(this,arguments),rt.call(this,Ge[V]),this},g.insertPage=function(z){return this.addPage(),this.movePage(V,z),this},g.movePage=function(z,he){var Oe,$e;if(z>he){Oe=Ge[z],$e=Hr[z];for(var at=z;at>he;at--)Ge[at]=Ge[at-1],Hr[at]=Hr[at-1];Ge[he]=Oe,Hr[he]=$e,this.setPage(he)}else if(z<he){Oe=Ge[z],$e=Hr[z];for(var jt=z;jt<he;jt++)Ge[jt]=Ge[jt+1],Hr[jt]=Hr[jt+1];Ge[he]=Oe,Hr[he]=$e,this.setPage(he)}return this},g.deletePage=function(){return Tf.apply(this,arguments),this},g.__private__.text=g.text=function(z,he,Oe,$e,at){var jt,Wt,xr,Rr,Yr,zr,Tn,la,ha,ii=($e=$e||{}).scope||this;if(typeof z=="number"&&typeof he=="number"&&(typeof Oe=="string"||Array.isArray(Oe))){var Ji=Oe;Oe=he,he=z,z=Ji}if(arguments[3]instanceof Mr?(U("The transform parameter of text() with a Matrix value"),ha=at):(xr=arguments[4],Rr=arguments[5],Aa(Tn=arguments[3])==="object"&&Tn!==null||(typeof xr=="string"&&(Rr=xr,xr=null),typeof Tn=="string"&&(Rr=Tn,Tn=null),typeof Tn=="number"&&(xr=Tn,Tn=null),$e={flags:Tn,angle:xr,align:Rr})),isNaN(he)||isNaN(Oe)||z==null)throw new Error("Invalid arguments passed to jsPDF.text");if(z.length===0)return ii;var Li="",ms=!1,jo=typeof $e.lineHeightFactor=="number"?$e.lineHeightFactor:_d,Vc=ii.internal.scaleFactor;function J0(It){return It=It.split("	").join(Array($e.TabLen||9).join(" ")),Yi(It,Tn)}function jd(It){for(var er,mr=It.concat(),Sr=[],Kr=mr.length;Kr--;)typeof(er=mr.shift())=="string"?Sr.push(er):Array.isArray(It)&&(er.length===1||er[1]===void 0&&er[2]===void 0)?Sr.push(er[0]):Sr.push([er[0],er[1],er[2]]);return Sr}function Ch(It,er){var mr;if(typeof It=="string")mr=er(It)[0];else if(Array.isArray(It)){for(var Sr,Kr,xi=It.concat(),$r=[],oi=xi.length;oi--;)typeof(Sr=xi.shift())=="string"?$r.push(er(Sr)[0]):Array.isArray(Sr)&&typeof Sr[0]=="string"&&(Kr=er(Sr[0],Sr[1],Sr[2]),$r.push([Kr[0],Kr[1],Kr[2]]));mr=$r}return mr}var pc=!1,Pu=!0;if(typeof z=="string")pc=!0;else if(Array.isArray(z)){var Z0=z.concat();Wt=[];for(var Ou,si=Z0.length;si--;)(typeof(Ou=Z0.shift())!="string"||Array.isArray(Ou)&&typeof Ou[0]!="string")&&(Pu=!1);pc=Pu}if(pc===!1)throw new Error('Type of text must be string or Array. "'+z+'" is not recognized.');typeof z=="string"&&(z=z.match(/[\r?\n]/)?z.split(/\r\n|\r|\n/g):[z]);var Qs=vt/ii.internal.scaleFactor,Wn=Qs*(jo-1);switch($e.baseline){case"bottom":Oe-=Wn;break;case"top":Oe+=Qs-Wn;break;case"hanging":Oe+=Qs-2*Wn;break;case"middle":Oe+=Qs/2-Wn}if((zr=$e.maxWidth||0)>0&&(typeof z=="string"?z=ii.splitTextToSize(z,zr):Object.prototype.toString.call(z)==="[object Array]"&&(z=z.reduce((function(It,er){return It.concat(ii.splitTextToSize(er,zr))}),[]))),jt={text:z,x:he,y:Oe,options:$e,mutex:{pdfEscape:Yi,activeFontKey:xt,fonts:Tr,activeFontSize:vt}},fn.publish("preProcessText",jt),z=jt.text,xr=($e=jt.options).angle,!(ha instanceof Mr)&&xr&&typeof xr=="number"){xr*=Math.PI/180,$e.rotationDirection===0&&(xr=-xr),N===S.ADVANCED&&(xr=-xr);var mc=Math.cos(xr),gs=Math.sin(xr);ha=new Mr(mc,gs,-gs,mc,0,0)}else xr&&xr instanceof Mr&&(ha=xr);N!==S.ADVANCED||ha||(ha=pn),(Yr=$e.charSpace||ju)!==void 0&&(Li+=O(L(Yr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(la=$e.horizontalScale)!==void 0&&(Li+=O(100*la)+` Tz
`),$e.lang;var eo=-1,Rf=$e.renderingMode!==void 0?$e.renderingMode:$e.stroke,If=ii.internal.getCurrentPageInfo().pageContext;switch(Rf){case 0:case!1:case"fill":eo=0;break;case 1:case!0:case"stroke":eo=1;break;case 2:case"fillThenStroke":eo=2;break;case 3:case"invisible":eo=3;break;case 4:case"fillAndAddForClipping":eo=4;break;case 5:case"strokeAndAddPathForClipping":eo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":eo=6;break;case 7:case"addToPathForClipping":eo=7}var Hc=If.usedRenderingMode!==void 0?If.usedRenderingMode:-1;eo!==-1?Li+=eo+` Tr
`:Hc!==-1&&(Li+=`0 Tr
`),eo!==-1&&(If.usedRenderingMode=eo),Rr=$e.align||"left";var Co,gc=vt*jo,xc=ii.internal.pageSize.getWidth(),xs=Tr[xt];Yr=$e.charSpace||ju,zr=$e.maxWidth||0,Tn=Object.assign({autoencode:!0,noBOM:!0},$e.flags);var j=[],I=function(It){return ii.getStringUnitWidth(It,{font:xs,charSpace:Yr,fontSize:vt,doKerning:!1})*vt/Vc};if(Object.prototype.toString.call(z)==="[object Array]"){var W;Wt=jd(z),Rr!=="left"&&(Co=Wt.map(I));var te,se=0;if(Rr==="right"){he-=Co[0],z=[],si=Wt.length;for(var me=0;me<si;me++)me===0?(te=Il(he),W=nl(Oe)):(te=L(se-Co[me]),W=-gc),z.push([Wt[me],te,W]),se=Co[me]}else if(Rr==="center"){he-=Co[0]/2,z=[],si=Wt.length;for(var Ee=0;Ee<si;Ee++)Ee===0?(te=Il(he),W=nl(Oe)):(te=L((se-Co[Ee])/2),W=-gc),z.push([Wt[Ee],te,W]),se=Co[Ee]}else if(Rr==="left"){z=[],si=Wt.length;for(var Ie=0;Ie<si;Ie++)z.push(Wt[Ie])}else if(Rr==="justify"&&xs.encoding==="Identity-H"){z=[],si=Wt.length,zr=zr!==0?zr:xc;for(var ze=0,Fe=0;Fe<si;Fe++)if(W=Fe===0?nl(Oe):-gc,te=Fe===0?Il(he):ze,Fe<si-1){var et=L((zr-Co[Fe])/(Wt[Fe].split(" ").length-1)),Me=Wt[Fe].split(" ");z.push([Me[0]+" ",te,W]),ze=0;for(var Ze=1;Ze<Me.length;Ze++){var Ve=(I(Me[Ze-1]+" "+Me[Ze])-I(Me[Ze]))*Vc+et;Ze==Me.length-1?z.push([Me[Ze],Ve,0]):z.push([Me[Ze]+" ",Ve,0]),ze-=Ve}}else z.push([Wt[Fe],te,W]);z.push(["",ze,0])}else{if(Rr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(z=[],si=Wt.length,zr=zr!==0?zr:xc,Fe=0;Fe<si;Fe++)W=Fe===0?nl(Oe):-gc,te=Fe===0?Il(he):0,Fe<si-1?j.push(O(L((zr-Co[Fe])/(Wt[Fe].split(" ").length-1)))):j.push(0),z.push([Wt[Fe],te,W])}}var Xe=typeof $e.R2L=="boolean"?$e.R2L:qt;Xe===!0&&(z=Ch(z,(function(It,er,mr){return[It.split("").reverse().join(""),er,mr]}))),jt={text:z,x:he,y:Oe,options:$e,mutex:{pdfEscape:Yi,activeFontKey:xt,fonts:Tr,activeFontSize:vt}},fn.publish("postProcessText",jt),z=jt.text,ms=jt.mutex.isHex||!1;var Je=Tr[xt].encoding;Je!=="WinAnsiEncoding"&&Je!=="StandardEncoding"||(z=Ch(z,(function(It,er,mr){return[J0(It),er,mr]}))),Wt=jd(z),z=[];for(var Qe,st,ht,Et=0,Rt=1,nr=Array.isArray(Wt[0])?Rt:Et,cr="",Zt=function(It,er,mr){var Sr="";return mr instanceof Mr?(mr=typeof $e.angle=="number"?ps(mr,new Mr(1,0,0,1,It,er)):ps(new Mr(1,0,0,1,It,er),mr),N===S.ADVANCED&&(mr=ps(new Mr(1,0,0,-1,0,0),mr)),Sr=mr.join(" ")+` Tm
`):Sr=O(It)+" "+O(er)+` Td
`,Sr},Qt=0;Qt<Wt.length;Qt++){switch(cr="",nr){case Rt:ht=(ms?"<":"(")+Wt[Qt][0]+(ms?">":")"),Qe=parseFloat(Wt[Qt][1]),st=parseFloat(Wt[Qt][2]);break;case Et:ht=(ms?"<":"(")+Wt[Qt]+(ms?">":")"),Qe=Il(he),st=nl(Oe)}j!==void 0&&j[Qt]!==void 0&&(cr=j[Qt]+` Tw
`),Qt===0?z.push(cr+Zt(Qe,st,ha)+ht):nr===Et?z.push(cr+ht):nr===Rt&&z.push(cr+Zt(Qe,st,ha)+ht)}z=nr===Et?z.join(` Tj
T* `):z.join(` Tj
`),z+=` Tj
`;var sr=`BT
/`;return sr+=xt+" "+vt+` Tf
`,sr+=O(vt*jo)+` TL
`,sr+=zc+`
`,sr+=Li,sr+=z,Te(sr+="ET"),m[xt]=!0,ii};var tl=g.__private__.clip=g.clip=function(z){return Te(z==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return tl("evenodd")},g.__private__.discardPath=g.discardPath=function(){return Te("n"),this};var Ts=g.__private__.isValidStyle=function(z){var he=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(z)!==-1&&(he=!0),he};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(z){return Ts(z)&&(u=z),this};var Tu=g.__private__.getStyle=g.getStyle=function(z){var he=u;switch(z){case"D":case"S":he="S";break;case"F":he="f";break;case"FD":case"DF":he="B";break;case"f":case"f*":case"B":case"B*":he=z}return he},Bc=g.close=function(){return Te("h"),this};g.stroke=function(){return Te("S"),this},g.fill=function(z){return ai("f",z),this},g.fillEvenOdd=function(z){return ai("f*",z),this},g.fillStroke=function(z){return ai("B",z),this},g.fillStrokeEvenOdd=function(z){return ai("B*",z),this};var ai=function(z,he){Aa(he)==="object"?Ol(he,z):Te(z)},wh=function(z){z===null||N===S.ADVANCED&&z===void 0||(z=Tu(z),Te(z))};function js(z,he,Oe,$e,at){var jt=new Mv(he||this.boundingBox,Oe||this.xStep,$e||this.yStep,this.gState,at||this.matrix);jt.stream=this.stream;var Wt=z+"$$"+this.cloneIndex+++"$$";return Nn(Wt,jt),jt}var Ol=function(z,he){var Oe=Es[z.key],$e=Wr[Oe];if($e instanceof Og)Te("q"),Te(kf(he)),$e.gState&&g.setGState($e.gState),Te(z.matrix.toString()+" cm"),Te("/"+Oe+" sh"),Te("Q");else if($e instanceof Mv){var at=new Mr(1,0,0,-1,0,ku());z.matrix&&(at=at.multiply(z.matrix||pn),Oe=js.call($e,z.key,z.boundingBox,z.xStep,z.yStep,at).id),Te("q"),Te("/Pattern cs"),Te("/"+Oe+" scn"),$e.gState&&g.setGState($e.gState),Te(he),Te("Q")}},kf=function(z){switch(z){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Uc=g.moveTo=function(z,he){return Te(O(L(z))+" "+O(Z(he))+" m"),this},Dl=g.lineTo=function(z,he){return Te(O(L(z))+" "+O(Z(he))+" l"),this},rl=g.curveTo=function(z,he,Oe,$e,at,jt){return Te([O(L(z)),O(Z(he)),O(L(Oe)),O(Z($e)),O(L(at)),O(Z(jt)),"c"].join(" ")),this};g.__private__.line=g.line=function(z,he,Oe,$e,at){if(isNaN(z)||isNaN(he)||isNaN(Oe)||isNaN($e)||!Ts(at))throw new Error("Invalid arguments passed to jsPDF.line");return N===S.COMPAT?this.lines([[Oe-z,$e-he]],z,he,[1,1],at||"S"):this.lines([[Oe-z,$e-he]],z,he,[1,1]).stroke()},g.__private__.lines=g.lines=function(z,he,Oe,$e,at,jt){var Wt,xr,Rr,Yr,zr,Tn,la,ha,ii,Ji,Li,ms;if(typeof z=="number"&&(ms=Oe,Oe=he,he=z,z=ms),$e=$e||[1,1],jt=jt||!1,isNaN(he)||isNaN(Oe)||!Array.isArray(z)||!Array.isArray($e)||!Ts(at)||typeof jt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Uc(he,Oe),Wt=$e[0],xr=$e[1],Yr=z.length,Ji=he,Li=Oe,Rr=0;Rr<Yr;Rr++)(zr=z[Rr]).length===2?(Ji=zr[0]*Wt+Ji,Li=zr[1]*xr+Li,Dl(Ji,Li)):(Tn=zr[0]*Wt+Ji,la=zr[1]*xr+Li,ha=zr[2]*Wt+Ji,ii=zr[3]*xr+Li,Ji=zr[4]*Wt+Ji,Li=zr[5]*xr+Li,rl(Tn,la,ha,ii,Ji,Li));return jt&&Bc(),wh(at),this},g.path=function(z){for(var he=0;he<z.length;he++){var Oe=z[he],$e=Oe.c;switch(Oe.op){case"m":Uc($e[0],$e[1]);break;case"l":Dl($e[0],$e[1]);break;case"c":rl.apply(this,$e);break;case"h":Bc()}}return this},g.__private__.rect=g.rect=function(z,he,Oe,$e,at){if(isNaN(z)||isNaN(he)||isNaN(Oe)||isNaN($e)||!Ts(at))throw new Error("Invalid arguments passed to jsPDF.rect");return N===S.COMPAT&&($e=-$e),Te([O(L(z)),O(Z(he)),O(L(Oe)),O(L($e)),"re"].join(" ")),wh(at),this},g.__private__.triangle=g.triangle=function(z,he,Oe,$e,at,jt,Wt){if(isNaN(z)||isNaN(he)||isNaN(Oe)||isNaN($e)||isNaN(at)||isNaN(jt)||!Ts(Wt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Oe-z,$e-he],[at-Oe,jt-$e],[z-at,he-jt]],z,he,[1,1],Wt,!0),this},g.__private__.roundedRect=g.roundedRect=function(z,he,Oe,$e,at,jt,Wt){if(isNaN(z)||isNaN(he)||isNaN(Oe)||isNaN($e)||isNaN(at)||isNaN(jt)||!Ts(Wt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var xr=4/3*(Math.SQRT2-1);return at=Math.min(at,.5*Oe),jt=Math.min(jt,.5*$e),this.lines([[Oe-2*at,0],[at*xr,0,at,jt-jt*xr,at,jt],[0,$e-2*jt],[0,jt*xr,-at*xr,jt,-at,jt],[2*at-Oe,0],[-at*xr,0,-at,-jt*xr,-at,-jt],[0,2*jt-$e],[0,-jt*xr,at*xr,-jt,at,-jt]],z+at,he,[1,1],Wt,!0),this},g.__private__.ellipse=g.ellipse=function(z,he,Oe,$e,at){if(isNaN(z)||isNaN(he)||isNaN(Oe)||isNaN($e)||!Ts(at))throw new Error("Invalid arguments passed to jsPDF.ellipse");var jt=4/3*(Math.SQRT2-1)*Oe,Wt=4/3*(Math.SQRT2-1)*$e;return Uc(z+Oe,he),rl(z+Oe,he-Wt,z+jt,he-$e,z,he-$e),rl(z-jt,he-$e,z-Oe,he-Wt,z-Oe,he),rl(z-Oe,he+Wt,z-jt,he+$e,z,he+$e),rl(z+jt,he+$e,z+Oe,he+Wt,z+Oe,he),wh(at),this},g.__private__.circle=g.circle=function(z,he,Oe,$e){if(isNaN(z)||isNaN(he)||isNaN(Oe)||!Ts($e))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(z,he,Oe,Oe,$e)},g.setFont=function(z,he,Oe){return Oe&&(he=R(he,Oe)),xt=jf(z,he,{disableWarning:!1}),this};var Ah=g.__private__.getFont=g.getFont=function(){return Tr[jf.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var z,he,Oe={};for(z in Mt)if(Mt.hasOwnProperty(z))for(he in Oe[z]=[],Mt[z])Mt[z].hasOwnProperty(he)&&Oe[z].push(he);return Oe},g.addFont=function(z,he,Oe,$e,at){var jt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&jt.indexOf(arguments[3])!==-1?at=arguments[3]:arguments[3]&&jt.indexOf(arguments[3])==-1&&(Oe=R(Oe,$e)),at=at||"Identity-H",Nf.call(this,z,he,Oe,at)};var _d,Ja=t.lineWidth||.200025,Rl=g.__private__.getLineWidth=g.getLineWidth=function(){return Ja},_h=g.__private__.setLineWidth=g.setLineWidth=function(z){return Ja=z,Te(O(L(z))+" w"),this};g.__private__.setLineDash=Gr.API.setLineDash=Gr.API.setLineDashPattern=function(z,he){if(z=z||[],he=he||0,isNaN(he)||!Array.isArray(z))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return z=z.map((function(Oe){return O(L(Oe))})).join(" "),he=O(L(he)),Te("["+z+"] "+he+" d"),this};var hc=g.__private__.getLineHeight=g.getLineHeight=function(){return vt*_d};g.__private__.getLineHeight=g.getLineHeight=function(){return vt*_d};var Sh=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(z){return typeof(z=z||1.15)=="number"&&(_d=z),this},Sd=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return _d};Sh(t.lineHeight);var Il=g.__private__.getHorizontalCoordinate=function(z){return L(z)},nl=g.__private__.getVerticalCoordinate=function(z){return N===S.ADVANCED?z:Hr[V].mediaBox.topRightY-Hr[V].mediaBox.bottomLeftY-L(z)},Pf=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(z){return O(Il(z))},fc=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(z){return O(nl(z))},al=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return je(al)},g.__private__.setStrokeColor=g.setDrawColor=function(z,he,Oe,$e){return al=ke({ch1:z,ch2:he,ch3:Oe,ch4:$e,pdfColorType:"draw",precision:2}),Te(al),this};var Of=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return je(Of)},g.__private__.setFillColor=g.setFillColor=function(z,he,Oe,$e){return Of=ke({ch1:z,ch2:he,ch3:Oe,ch4:$e,pdfColorType:"fill",precision:2}),Te(Of),this};var zc=t.textColor||"0 g",Nd=g.__private__.getTextColor=g.getTextColor=function(){return je(zc)};g.__private__.setTextColor=g.setTextColor=function(z,he,Oe,$e){return zc=ke({ch1:z,ch2:he,ch3:Oe,ch4:$e,pdfColorType:"text",precision:3}),this};var ju=t.charSpace,Km=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(ju||0)};g.__private__.setCharSpace=g.setCharSpace=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ju=z,this};var X0=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(z){var he=g.CapJoinStyles[z];if(he===void 0)throw new Error("Line cap style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return X0=he,Te(he+" J"),this};var $c=0;g.__private__.setLineJoin=g.setLineJoin=function(z){var he=g.CapJoinStyles[z];if(he===void 0)throw new Error("Line join style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $c=he,Te(he+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(z){if(z=z||0,isNaN(z))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Te(O(L(z))+" M"),this},g.GState=sS,g.setGState=function(z){(z=typeof z=="string"?Ht[ri[z]]:Df(null,z)).equals(Gi)||(Te("/"+z.id+" gs"),Gi=z)};var Df=function(z,he){if(!z||!ri[z]){var Oe=!1;for(var $e in Ht)if(Ht.hasOwnProperty($e)&&Ht[$e].equals(he)){Oe=!0;break}if(Oe)he=Ht[$e];else{var at="GS"+(Object.keys(Ht).length+1).toString(10);Ht[at]=he,he.id=at}return z&&(ri[z]=he.id),fn.publish("addGState",he),he}};g.addGState=function(z,he){return Df(z,he),this},g.saveGraphicsState=function(){return Te("q"),Dn.push({key:xt,size:vt,color:zc}),this},g.restoreGraphicsState=function(){Te("Q");var z=Dn.pop();return xt=z.key,vt=z.size,zc=z.color,Gi=null,this},g.setCurrentTransformationMatrix=function(z){return Te(z.toString()+" cm"),this},g.comment=function(z){return Te("#"+z),this};var Cu=function(z,he){var Oe=z||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Oe},set:function(jt){isNaN(jt)||(Oe=parseFloat(jt))}});var $e=he||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return $e},set:function(jt){isNaN(jt)||($e=parseFloat(jt))}});var at="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return at},set:function(jt){at=jt.toString()}}),this},Nh=function(z,he,Oe,$e){Cu.call(this,z,he),this.type="rect";var at=Oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return at},set:function(Wt){isNaN(Wt)||(at=parseFloat(Wt))}});var jt=$e||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return jt},set:function(Wt){isNaN(Wt)||(jt=parseFloat(Wt))}}),this},Eh=function(){this.page=hn,this.currentPage=V,this.pages=Ge.slice(0),this.pagesContext=Hr.slice(0),this.x=br,this.y=gr,this.matrix=Lr,this.width=Ed(V),this.height=ku(V),this.outputDestination=wt,this.id="",this.objectNumber=-1};Eh.prototype.restore=function(){hn=this.page,V=this.currentPage,Hr=this.pagesContext,Ge=this.pages,br=this.x,gr=this.y,Lr=this.matrix,Td(V,this.width),jh(V,this.height),wt=this.outputDestination};var Ii=function(z,he,Oe,$e,at){ni.push(new Eh),hn=V=0,Ge=[],br=z,gr=he,Lr=at,gi([Oe,$e])},Th=function(z){if(Ri[z])ni.pop().restore();else{var he=new Eh,Oe="Xo"+(Object.keys(mi).length+1).toString(10);he.id=Oe,Ri[z]=Oe,mi[Oe]=he,fn.publish("addFormObject",he),ni.pop().restore()}};for(var Ll in g.beginFormObject=function(z,he,Oe,$e,at){return Ii(z,he,Oe,$e,at),this},g.endFormObject=function(z){return Th(z),this},g.doFormObject=function(z,he){var Oe=mi[Ri[z]];return Te("q"),Te(he.toString()+" cm"),Te("/"+Oe.id+" Do"),Te("Q"),this},g.getFormObject=function(z){var he=mi[Ri[z]];return{x:he.x,y:he.y,width:he.width,height:he.height,matrix:he.matrix}},g.save=function(z,he){return z=z||"generated.pdf",(he=he||{}).returnPromise=he.returnPromise||!1,he.returnPromise===!1?(Nv(Cf(dc()),z),typeof Nv.unload=="function"&&Qr.setTimeout&&setTimeout(Nv.unload,911),this):new Promise((function(Oe,$e){try{var at=Nv(Cf(dc()),z);typeof Nv.unload=="function"&&Qr.setTimeout&&setTimeout(Nv.unload,911),Oe(at)}catch(jt){$e(jt.message)}}))},Gr.API)Gr.API.hasOwnProperty(Ll)&&(Ll==="events"&&Gr.API.events.length?(function(z,he){var Oe,$e,at;for(at=he.length-1;at!==-1;at--)Oe=he[at][0],$e=he[at][1],z.subscribe.apply(z,[Oe].concat(typeof $e=="function"?[$e]:$e))})(fn,Gr.API.events):g[Ll]=Gr.API[Ll]);var Ed=g.getPageWidth=function(z){return(Hr[z=z||V].mediaBox.topRightX-Hr[z].mediaBox.bottomLeftX)/bt},Td=g.setPageWidth=function(z,he){Hr[z].mediaBox.topRightX=he*bt+Hr[z].mediaBox.bottomLeftX},ku=g.getPageHeight=function(z){return(Hr[z=z||V].mediaBox.topRightY-Hr[z].mediaBox.bottomLeftY)/bt},jh=g.setPageHeight=function(z,he){Hr[z].mediaBox.topRightY=he*bt+Hr[z].mediaBox.bottomLeftY};return g.internal={pdfEscape:Yi,getStyle:Tu,getFont:Ah,getFontSize:yt,getCharSpace:Km,getTextColor:Nd,getLineHeight:hc,getLineHeightFactor:Sd,getLineWidth:Rl,write:Nt,getHorizontalCoordinate:Il,getVerticalCoordinate:nl,getCoordinateString:Pf,getVerticalCoordinateString:fc,collections:{},newObject:Fa,newAdditionalObject:Pe,newObjectDeferred:Qn,newObjectDeferredBegin:ge,getFilters:ot,putStream:_t,events:fn,scaleFactor:bt,pageSize:{getWidth:function(){return Ed(V)},setWidth:function(z){Td(V,z)},getHeight:function(){return ku(V)},setHeight:function(z){jh(V,z)}},encryptionOptions:h,encryption:ea,getEncryptor:Pl,output:Xi,getNumberOfPages:cc,pages:Ge,out:Te,f2:G,f3:F,getPageInfo:bh,getPageInfoByObjId:Ur,getCurrentPageInfo:da,getPDFVersion:y,Point:Cu,Rectangle:Nh,Matrix:Mr,hasHotfix:kl},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Ed(V)},set:function(z){Td(V,z)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return ku(V)},set:function(z){jh(V,z)},enumerable:!0,configurable:!0}),Ef.call(g,Ot),xt="F1",lc(a,r),fn.publish("initialized"),g}Yb.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Yb.prototype.toHexString=function(t){return t.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},Yb.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Yb.prototype.processOwnerPassword=function(t,e){return t8(e8(e).substr(0,5),t)},Yb.prototype.encryptor=function(t,e){var r=e8(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return t8(r,n)}},sS.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Aa(t)!==Aa(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Gr.API={events:[]},Gr.version="2.5.2";var as=Gr.API,HB=1,zy=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pb=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},sn=function(t){return t.toFixed(2)},Sg=function(t){return t.toFixed(5)};as.__acroform__={};var Su=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},kK=function(t){return t*HB},r0=function(t){var e=new Ose,r=kr.internal.getHeight(t)||0,n=kr.internal.getWidth(t)||0;return e.BBox=[0,0,Number(sn(n)),Number(sn(r))],e},GOe=as.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},WOe=as.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},KOe=as.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},As=as.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return KOe(t,e-1)},_s=as.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return GOe(t,e-1)},Ss=as.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return WOe(t,e-1)},YOe=as.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(sn(l.lowerLeft_X)),Number(sn(l.lowerLeft_Y)),Number(sn(l.upperRight_X)),Number(sn(l.upperRight_Y))]},XOe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=r8(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+sn(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=r0(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},r8=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map((function(F){return F.split(`
`)})):a.map((function(F){return[F]}));var i=r,s=kr.internal.getHeight(t)||0;s=s<0?-s:s;var o=kr.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(F,L,re){if(F+1<a.length){var Z=L+" "+a[F+1][0];return BT(Z,t,re).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var u,h,f=BT("3",t,i).height,m=t.multiline?s-i:(s-f)/2,g=m+=2,b=0,y=0,w=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+BT(e,t,i=12).width+", FieldWidth:"+o+`
`;break}for(var A="",S=0,N=0;N<a.length;N++)if(a.hasOwnProperty(N)){var T=!1;if(a[N].length!==1&&w!==a[N].length-1){if((f+2)*(S+2)+2>s)continue e;A+=a[N][w],T=!0,y=N,N--}else{A=(A+=a[N][w]+" ").substr(A.length-1)==" "?A.substr(0,A.length-1):A;var k=parseInt(N),R=l(k,A,i),O=N>=a.length-1;if(R&&!O){A+=" ",w=0;continue}if(R||O){if(O)y=k;else if(t.multiline&&(f+2)*(S+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(S+2)+2>s)continue e;y=k}}for(var U="",H=b;H<=y;H++){var G=a[H];if(t.multiline){if(H===y){U+=G[w]+" ",w=(w+1)%G.length;continue}if(H===b){U+=G[G.length-1]+" ";continue}}U+=G[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,h=BT(U,t,i).width,t.textAlign){case"right":u=o-h-2;break;case"center":u=(o-h)/2;break;case"left":default:u=2}e+=sn(u)+" "+sn(g)+` Td
`,e+="("+zy(U)+`) Tj
`,e+=-sn(u)+` 0 Td
`,g=-(i+2),h=0,b=T?y:y+1,S++,A=""}break}return n.text=e,n.fontSize=i,n},BT=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},JOe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ZOe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find((function(n){return n.type===r.type&&n.object===r.object}))===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},QOe=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),Aa(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},e6e=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(_f.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(JOe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");HB=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Dse,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",(function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)})),t.internal.events.subscribe("buildDocument",(function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&ZOe(i,r)}})(t)})),t.internal.events.subscribe("putCatalog",(function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)})),t.internal.events.subscribe("postPutPages",(function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],u=o.Rect;if(o.Rect&&(o.Rect=YOe(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=kr.createDefaultAppearanceStream(o),Aa(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=XOe(o);l.push({key:"AP",value:"<</N "+h+">>"}),a.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var f="";for(var m in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(m)){var g=o.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var s in g)if(g.hasOwnProperty(s)){var b=g[s];typeof b=="function"&&(b=b.call(a,o)),f+="/"+s+" "+b+" ",a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b)}}else typeof(b=g)=="function"&&(b=b.call(a,o)),f+="/"+s+" "+b,a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&QOe(a.internal.acroformPlugin.xForms,a)})(r,t)})),t.internal.acroformPlugin.isInitialized=!0}},Pse=as.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),Aa(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+zy(n(t[i].toString()))+")"):a+=t[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},SR=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+zy(n(t))+")"},I0=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};I0.prototype.toString=function(){return this.objId+" 0 R"},I0.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},I0.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter((function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"}));for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:Pse(a,this.objId,this.scope)}):a instanceof I0?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var Ose=function(){I0.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Su(Ose,I0);var Dse=function(){I0.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+zy(r(t))+")"}},set:function(r){t=r}})};Su(Dse,I0);var _f=function t(){I0.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');e=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!As(e,3)},set:function(A){A?this.F=_s(e,3):this.F=Ss(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');r=A}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(A){n=A!==void 0?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(A){n[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(A){n[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(A){n[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(A){n[3]=A}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof wC)return;i="FieldObject"+t.FieldNum++}var A=function(S){return S};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+zy(A(i))+")"},set:function(A){i=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(A){i=A}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(A){s=A}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(A){o=A}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(A){l=A}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/HB:u},set:function(A){u=A}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(A){h=A}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof wC||this instanceof Ix))return SR(f,this.objId,this.scope)},set:function(A){A=A.toString(),f=A}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof xo?m:SR(m,this.objId,this.scope)},set:function(A){A=A.toString(),m=this instanceof xo?A:A.substr(0,1)==="("?Pb(A.substr(1,A.length-2)):Pb(A)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xo?Pb(m.substr(1,m.length-1)):m},set:function(A){A=A.toString(),m=this instanceof xo?"/"+A:A}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof xo?g:SR(g,this.objId,this.scope)},set:function(A){A=A.toString(),g=this instanceof xo?A:A.substr(0,1)==="("?Pb(A.substr(1,A.length-2)):Pb(A)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xo?Pb(g.substr(1,g.length-1)):g},set:function(A){A=A.toString(),g=this instanceof xo?"/"+A:A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(A){A=!!A,y=A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(A){b=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,1)},set:function(A){A?this.Ff=_s(this.Ff,1):this.Ff=Ss(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,2)},set:function(A){A?this.Ff=_s(this.Ff,2):this.Ff=Ss(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,3)},set:function(A){A?this.Ff=_s(this.Ff,3):this.Ff=Ss(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(A){if([0,1,2].indexOf(A)===-1)throw new Error('Invalid value "'+A+'" for attribute Q supplied.');w=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(w){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:w=2;break;case"center":case 1:w=1;break;case"left":case 0:default:w=0}}})};Su(_f,I0);var ly=function(){_f.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Pse(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,s,o){o||(o=1);for(var l,u=[];l=s.exec(i);)u.push(l[o]);return u})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,18)},set:function(r){r?this.Ff=_s(this.Ff,18):this.Ff=Ss(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=_s(this.Ff,19):this.Ff=Ss(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,20)},set:function(r){r?(this.Ff=_s(this.Ff,20),e.sort()):this.Ff=Ss(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,22)},set:function(r){r?this.Ff=_s(this.Ff,22):this.Ff=Ss(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,23)},set:function(r){r?this.Ff=_s(this.Ff,23):this.Ff=Ss(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,27)},set:function(r){r?this.Ff=_s(this.Ff,27):this.Ff=Ss(this.Ff,27)}}),this.hasAppearanceStream=!1};Su(ly,_f);var cy=function(){ly.call(this),this.fontName="helvetica",this.combo=!1};Su(cy,ly);var uy=function(){cy.call(this),this.combo=!0};Su(uy,cy);var v_=function(){uy.call(this),this.edit=!0};Su(v_,uy);var xo=function(){_f.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,15)},set:function(r){r?this.Ff=_s(this.Ff,15):this.Ff=Ss(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,16)},set:function(r){r?this.Ff=_s(this.Ff,16):this.Ff=Ss(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,17)},set:function(r){r?this.Ff=_s(this.Ff,17):this.Ff=Ss(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,26)},set:function(r){r?this.Ff=_s(this.Ff,26):this.Ff=Ss(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+zy(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Aa(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Su(xo,_f);var y_=function(){xo.call(this),this.pushButton=!0};Su(y_,xo);var dy=function(){xo.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Su(dy,xo);var wC=function(){var t,e;_f.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+zy(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Aa(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=kr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Su(wC,_f),dy.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},dy.prototype.createOption=function(t){var e=new wC;return e.Parent=this,e.optionName=t,this.Kids.push(e),t6e.call(this.scope,e),e};var b_=function(){xo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=kr.CheckBox.createAppearanceStream()};Su(b_,xo);var Ix=function(){_f.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,13)},set:function(e){e?this.Ff=_s(this.Ff,13):this.Ff=Ss(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,21)},set:function(e){e?this.Ff=_s(this.Ff,21):this.Ff=Ss(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,23)},set:function(e){e?this.Ff=_s(this.Ff,23):this.Ff=Ss(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,24)},set:function(e){e?this.Ff=_s(this.Ff,24):this.Ff=Ss(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,25)},set:function(e){e?this.Ff=_s(this.Ff,25):this.Ff=Ss(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,26)},set:function(e){e?this.Ff=_s(this.Ff,26):this.Ff=Ss(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Su(Ix,_f);var w_=function(){Ix.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,14)},set:function(t){t?this.Ff=_s(this.Ff,14):this.Ff=Ss(this.Ff,14)}}),this.password=!0};Su(w_,Ix);var kr={CheckBox:{createAppearanceStream:function(){return{N:{On:kr.CheckBox.YesNormal},D:{On:kr.CheckBox.YesPushDown,Off:kr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=r0(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=r8(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+sn(kr.internal.getWidth(t))+" "+sn(kr.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+sn(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=r0(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=kr.internal.getHeight(t),s=kr.internal.getWidth(t),o=r8(t,t.caption);return a.push("1 g"),a.push("0 0 "+sn(s)+" "+sn(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+sn(s-1)+" "+sn(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+sn(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=r0(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+sn(kr.internal.getWidth(t))+" "+sn(kr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:kr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=kr.RadioButton.Circle.YesNormal,e.D[t]=kr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=r0(t);e.scope=t.scope;var r=[],n=kr.internal.getWidth(t)<=kr.internal.getHeight(t)?kr.internal.getWidth(t)/4:kr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=kr.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Sg(kr.internal.getWidth(t)/2)+" "+Sg(kr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=r0(t);e.scope=t.scope;var r=[],n=kr.internal.getWidth(t)<=kr.internal.getHeight(t)?kr.internal.getWidth(t)/4:kr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*kr.internal.Bezier_C).toFixed(5)),s=Number((n*kr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Sg(kr.internal.getWidth(t)/2)+" "+Sg(kr.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Sg(kr.internal.getWidth(t)/2)+" "+Sg(kr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=r0(t);e.scope=t.scope;var r=[],n=kr.internal.getWidth(t)<=kr.internal.getHeight(t)?kr.internal.getWidth(t)/4:kr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*kr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Sg(kr.internal.getWidth(t)/2)+" "+Sg(kr.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:kr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=kr.RadioButton.Cross.YesNormal,e.D[t]=kr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=r0(t);e.scope=t.scope;var r=[],n=kr.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+sn(kr.internal.getWidth(t)-2)+" "+sn(kr.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(sn(n.x1.x)+" "+sn(n.x1.y)+" m"),r.push(sn(n.x2.x)+" "+sn(n.x2.y)+" l"),r.push(sn(n.x4.x)+" "+sn(n.x4.y)+" m"),r.push(sn(n.x3.x)+" "+sn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=r0(t);e.scope=t.scope;var r=kr.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+sn(kr.internal.getWidth(t))+" "+sn(kr.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+sn(kr.internal.getWidth(t)-2)+" "+sn(kr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(sn(r.x1.x)+" "+sn(r.x1.y)+" m"),n.push(sn(r.x2.x)+" "+sn(r.x2.y)+" l"),n.push(sn(r.x4.x)+" "+sn(r.x4.y)+" m"),n.push(sn(r.x3.x)+" "+sn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=r0(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+sn(kr.internal.getWidth(t))+" "+sn(kr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};kr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=kr.internal.getWidth(t),r=kr.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},kr.internal.getWidth=function(t){var e=0;return Aa(t)==="object"&&(e=kK(t.Rect[2])),e},kr.internal.getHeight=function(t){var e=0;return Aa(t)==="object"&&(e=kK(t.Rect[3])),e};var t6e=as.addField=function(t){if(e6e(this,t),!(t instanceof _f))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};as.AcroFormChoiceField=ly,as.AcroFormListBox=cy,as.AcroFormComboBox=uy,as.AcroFormEditBox=v_,as.AcroFormButton=xo,as.AcroFormPushButton=y_,as.AcroFormRadioButton=dy,as.AcroFormCheckBox=b_,as.AcroFormTextField=Ix,as.AcroFormPasswordField=w_,as.AcroFormAppearance=kr,as.AcroForm={ChoiceField:ly,ListBox:cy,ComboBox:uy,EditBox:v_,Button:xo,PushButton:y_,RadioButton:dy,CheckBox:b_,TextField:Ix,PasswordField:w_,Appearance:kr},Gr.AcroForm={ChoiceField:ly,ListBox:cy,ComboBox:uy,EditBox:v_,Button:xo,PushButton:y_,RadioButton:dy,CheckBox:b_,TextField:Ix,PasswordField:w_,Appearance:kr};var r6e=Gr.AcroForm;function Rse(t){return t.reduce((function(e,r,n){return e[r]=n,e}),{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(F,L){var re,Z,pe,Q,X,oe=e;if((L=L||e)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(R(F))for(X in r)for(pe=r[X],re=0;re<pe.length;re+=1){for(Q=!0,Z=0;Z<pe[re].length;Z+=1)if(pe[re][Z]!==void 0&&pe[re][Z]!==F[Z]){Q=!1;break}if(Q===!0){oe=X;break}}else for(X in r)for(pe=r[X],re=0;re<pe.length;re+=1){for(Q=!0,Z=0;Z<pe[re].length;Z+=1)if(pe[re][Z]!==void 0&&pe[re][Z]!==F.charCodeAt(Z)){Q=!1;break}if(Q===!0){oe=X;break}}return oe===e&&L!==e&&(oe=L),oe},a=function F(L){for(var re=this.internal.write,Z=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:L.width}),Q.push({key:"Height",value:L.height}),L.colorSpace===w.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===w.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var X="",oe=0,ce=L.transparency.length;oe<ce;oe++)X+=L.transparency[oe]+" "+L.transparency[oe]+" ";Q.push({key:"Mask",value:"["+X+"]"})}L.sMask!==void 0&&Q.push({key:"SMask",value:L.objectId+1+" 0 R"});var Ne=L.filter!==void 0?["/"+L.filter]:void 0;if(Z({data:L.data,additionalKeyValues:Q,alreadyAppliedFilters:Ne,objectId:L.objectId}),re("endobj"),"sMask"in L&&L.sMask!==void 0){var ne="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,B={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:ne,data:L.sMask};"filter"in L&&(B.filter=L.filter),F.call(this,B)}if(L.colorSpace===w.INDEXED){var V=this.internal.newObject();Z({data:U(new Uint8Array(L.palette)),objectId:V}),re("endobj")}},i=function(){var F=this.internal.collections.addImage_images;for(var L in F)a.call(this,F[L])},s=function(){var F,L=this.internal.collections.addImage_images,re=this.internal.write;for(var Z in L)re("/I"+(F=L[Z]).index,F.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var F=this.internal.collections.addImage_images;return o.call(this),F},u=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(F){return typeof t["process"+F.toUpperCase()]=="function"},f=function(F){return Aa(F)==="object"&&F.nodeType===1},m=function(F,L){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var re=""+F.getAttribute("src");if(re.indexOf("data:image/")===0)return x_(unescape(re).split("base64,").pop());var Z=t.loadFile(re,!0);if(Z!==void 0)return Z}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var pe;switch(L){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;case"JPEG":case"JPG":default:pe="image/jpeg"}return x_(F.toDataURL(pe,1).split("base64,").pop())}},g=function(F){var L=this.internal.collections.addImage_images;if(L){for(var re in L)if(F===L[re].alias)return L[re]}},b=function(F,L,re){return F||L||(F=-96,L=-96),F<0&&(F=-1*re.width*72/F/this.internal.scaleFactor),L<0&&(L=-1*re.height*72/L/this.internal.scaleFactor),F===0&&(F=L*re.width/re.height),L===0&&(L=F*re.height/re.width),[F,L]},y=function(F,L,re,Z,pe,Q){var X=b.call(this,re,Z,pe),oe=this.internal.getCoordinateString,ce=this.internal.getVerticalCoordinateString,Ne=l.call(this);if(re=X[0],Z=X[1],Ne[pe.index]=pe,Q){Q*=Math.PI/180;var ne=Math.cos(Q),B=Math.sin(Q),V=function(K){return K.toFixed(4)},Y=[V(ne),V(B),V(-1*B),V(ne),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,oe(F),ce(L+Z),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([oe(re),"0","0",oe(Z),"0","0","cm"].join(" "))):this.internal.write([oe(re),"0","0",oe(Z),oe(F),ce(L+Z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=t.__addimage__.sHashCode=function(F){var L,re,Z=0;if(typeof F=="string")for(re=F.length,L=0;L<re;L++)Z=(Z<<5)-Z+F.charCodeAt(L),Z|=0;else if(R(F))for(re=F.byteLength/2,L=0;L<re;L++)Z=(Z<<5)-Z+F[L],Z|=0;return Z},N=t.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var L=!0;return F.length===0&&(L=!1),F.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(L=!1),L},T=t.__addimage__.extractImageFromDataUrl=function(F){var L=(F=F||"").split("base64,"),re=null;if(L.length===2){var Z=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(L[0]);Array.isArray(Z)&&(re={mimeType:Z[1],charset:Z[2],data:L[1]})}return re},k=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(F){return k()&&F instanceof ArrayBuffer};var R=t.__addimage__.isArrayBufferView=function(F){return k()&&typeof Uint32Array<"u"&&(F instanceof Int8Array||F instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array)},O=t.__addimage__.binaryStringToUint8Array=function(F){for(var L=F.length,re=new Uint8Array(L),Z=0;Z<L;Z++)re[Z]=F.charCodeAt(Z);return re},U=t.__addimage__.arrayBufferToBinaryString=function(F){for(var L="",re=R(F)?F:new Uint8Array(F),Z=0;Z<re.length;Z+=8192)L+=String.fromCharCode.apply(null,re.subarray(Z,Z+8192));return L};t.addImage=function(){var F,L,re,Z,pe,Q,X,oe,ce;if(typeof arguments[1]=="number"?(L=e,re=arguments[1],Z=arguments[2],pe=arguments[3],Q=arguments[4],X=arguments[5],oe=arguments[6],ce=arguments[7]):(L=arguments[1],re=arguments[2],Z=arguments[3],pe=arguments[4],Q=arguments[5],X=arguments[6],oe=arguments[7],ce=arguments[8]),Aa(F=arguments[0])==="object"&&!f(F)&&"imageData"in F){var Ne=F;F=Ne.imageData,L=Ne.format||L||e,re=Ne.x||re||0,Z=Ne.y||Z||0,pe=Ne.w||Ne.width||pe,Q=Ne.h||Ne.height||Q,X=Ne.alias||X,oe=Ne.compression||oe,ce=Ne.rotation||Ne.angle||ce}var ne=this.internal.getFilters();if(oe===void 0&&ne.indexOf("FlateEncode")!==-1&&(oe="SLOW"),isNaN(re)||isNaN(Z))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var B=H.call(this,F,L,X,oe);return y.call(this,re,Z,pe,Q,B,ce),this};var H=function(F,L,re,Z){var pe,Q,X;if(typeof F=="string"&&n(F)===e){F=unescape(F);var oe=G(F,!1);(oe!==""||(oe=t.loadFile(F,!0))!==void 0)&&(F=oe)}if(f(F)&&(F=m(F,L)),L=n(F,L),!h(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((X=re)==null||X.length===0)&&(re=(function(ce){return typeof ce=="string"||R(ce)?S(ce):R(ce.data)?S(ce.data):null})(F)),(pe=g.call(this,re))||(k()&&(F instanceof Uint8Array||L==="RGBA"||(Q=F,F=O(F))),pe=this["process"+L.toUpperCase()](F,u.call(this),re,(function(ce){return ce&&typeof ce=="string"&&(ce=ce.toUpperCase()),ce in t.image_compression?ce:A.NONE})(Z),Q)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},G=t.__addimage__.convertBase64ToBinaryString=function(F,L){var re;L=typeof L!="boolean"||L;var Z,pe="";if(typeof F=="string"){Z=(re=T(F))!==null?re.data:F;try{pe=x_(Z)}catch(Q){if(L)throw N(Z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return pe};t.getImageProperties=function(F){var L,re,Z="";if(f(F)&&(F=m(F)),typeof F=="string"&&n(F)===e&&((Z=G(F,!1))===""&&(Z=t.loadFile(F)||""),F=Z),re=n(F),!h(re))throw new Error("addImage does not support files of type '"+re+"', please ensure that a plugin for '"+re+"' support is added.");if(!k()||F instanceof Uint8Array||(F=O(F)),!(L=this["process"+re.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=re,L}})(Gr.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Gr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,h=!1,f=0;f<u.length&&!h;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var g=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(y.objId),S=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+g(A(n.contents))+")",i+=" /Popup "+w.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+g(A(S))+") >>",y.content=i;var N=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(i+=" /Open true"),i+=" >>",w.content=i,this.internal.write(y.objId,"0 R",w.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(b(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var k=this.annotations._nameMap[n.options.name];n.options.pageNumber=k.page,n.options.top=k.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var R=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+R+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+a),h:u(n+i)},options:s,type:"link"})},t.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var h=this.splitTextToSize(r,o).length;s=Math.ceil(u*h)}else o=l,s=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-u,o,s,i),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Gr.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=t.__arabicParser__.isArabicEndLetter=function(y){return s(y)&&i(y)&&e[y.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(y){return s(y)&&a.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return s(y)&&i(y)&&e[y.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return s(y)&&i(y)&&e[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return s(y)&&i(y)&&e[y.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return s(y)&&i(y)&&e[y.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(y){var w=0,A=r,S="",N=0;for(w=0;w<y.length;w+=1)A[y.charCodeAt(w)]!==void 0?(N++,typeof(A=A[y.charCodeAt(w)])=="number"&&(S+=String.fromCharCode(A),A=r,N=0),w===y.length-1&&(A=r,S+=y.charAt(w-(N-1)),w-=N-1,N=0)):(A=r,S+=y.charAt(w-N),w-=N,N=0);return S};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(y,w,A){return s(y)?i(y)===!1?-1:!u(y)||!s(w)&&!s(A)||!s(A)&&o(w)||o(y)&&!s(w)||o(y)&&l(w)||o(y)&&o(w)?0:h(y)&&s(w)&&!o(w)&&s(A)&&u(A)?3:o(y)||!s(A)?1:2:-1},g=function(y){var w=0,A=0,S=0,N="",T="",k="",R=(y=y||"").split("\\s+"),O=[];for(w=0;w<R.length;w+=1){for(O.push(""),A=0;A<R[w].length;A+=1)N=R[w][A],T=R[w][A-1],k=R[w][A+1],s(N)?(S=m(N,T,k),O[w]+=S!==-1?String.fromCharCode(e[N.charCodeAt(0)][S]):N):O[w]+=N;O[w]=f(O[w])}return O.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var y,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,A=[];if(Array.isArray(w)){var S=0;for(A=[],S=0;S<w.length;S+=1)Array.isArray(w[S])?A.push([g(w[S][0]),w[S][1],w[S][2]]):A.push([g(w[S])]);y=A}else y=g(w);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",b])})(Gr.API),Gr.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Gr.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(y){b=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,g=0,b=0,y=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var A=u.maxWidth;A>0?typeof l=="string"?l=this.splitTextToSize(l,A):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce((function(N,T){return N.concat(w.splitTextToSize(T,A))}),[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)g<(y=this.getStringUnitWidth(l[S],{font:f})*h)&&(g=y);return g!==0&&(b=l.length),{w:g/=m,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,g&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,h,f,m){if(n.call(this),!h)throw new Error("No data for PDF table.");var g,b,y,w,A=[],S=[],N=[],T={},k={},R=[],O=[],U=(m=m||{}).autoSize||!1,H=m.printHeaders!==!1,G=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,F=m.margins||Object.assign({width:this.getPageWidth()},e),L=typeof m.padding=="number"?m.padding:3,re=m.headerBackgroundColor||"#c8c8c8",Z=m.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=H,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=re,this.internal.__cell__.headerTextColor=Z,this.setFontSize(G),f==null)S=A=Object.keys(h[0]),N=A.map((function(){return"left"}));else if(Array.isArray(f)&&Aa(f[0])==="object")for(A=f.map((function(Ne){return Ne.name})),S=f.map((function(Ne){return Ne.prompt||Ne.name||""})),N=f.map((function(Ne){return Ne.align||"left"})),g=0;g<f.length;g+=1)k[f[g].name]=f[g].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(S=A=f,N=A.map((function(){return"left"})));if(U||Array.isArray(f)&&typeof f[0]=="string")for(g=0;g<A.length;g+=1){for(T[w=A[g]]=h.map((function(Ne){return Ne[w]})),this.setFont(void 0,"bold"),R.push(this.getTextDimensions(S[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=T[w],this.setFont(void 0,"normal"),y=0;y<b.length;y+=1)R.push(this.getTextDimensions(b[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[w]=Math.max.apply(null,R)+L+L,R=[]}if(H){var pe={};for(g=0;g<A.length;g+=1)pe[A[g]]={},pe[A[g]].text=S[g],pe[A[g]].align=N[g];var Q=o.call(this,pe,k);O=A.map((function(Ne){return new i(l,u,k[Ne],Q,pe[Ne].text,void 0,pe[Ne].align)})),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var X=f.reduce((function(Ne,ne){return Ne[ne.name]=ne.align,Ne}),{});for(g=0;g<h.length;g+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:g,data:h[g]},this);var oe=o.call(this,h[g],k);for(y=0;y<A.length;y+=1){var ce=h[g][A[y]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:g,col:y,data:ce},this),s.call(this,new i(l,u,k[A[y]],oe,ce,g+2,X[A[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map((function(g){var b=l[g];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[g]-h-h)}),this).map((function(g){return this.getLineHeightFactor()*g.length*f/m+h+h}),this).reduce((function(g,b){return Math.max(g,b)}),0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){h=this.internal.__cell__.tableHeaderRow[g].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,m.push(h)),h.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(b)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}})(Gr.API);var Ise={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Lse=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],n8=Rse(Lse),Mse=[100,200,300,400,500,600,700,800,900],n6e=Rse(Mse);function a8(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return Ise[i=i||"normal"]?i:"normal"})(t.style),n=(function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}})(t.weight),a=(function(i){return typeof n8[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function PK(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var a6e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},OK={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function DK(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function i6e(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},a6e,r.genericFontFamilies||{}),i=null,s=null,o=0;o<e.length;++o)if(a[(i=a8(e[o])).family]&&(i.family=a[i.family]),t.hasOwnProperty(i.family)){s=t[i.family];break}if(!(s=s||t[n]))throw new Error("Could not find a font-family for the rule '"+DK(i)+"' and default family '"+n+"'.");if(s=(function(l,u){if(u[l])return u[l];var h=n8[l],f=h<=n8.normal?-1:1,m=PK(u,Lse,h,f);if(!m)throw new Error("Could not find a matching font-stretch value for "+l);return m})(i.stretch,s),s=(function(l,u){if(u[l])return u[l];for(var h=Ise[l],f=0;f<h.length;++f)if(u[h[f]])return u[h[f]];throw new Error("Could not find a matching font-style for "+l)})(i.style,s),!(s=(function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var h=n6e[l],f=PK(u,Mse,h,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f})(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+DK(i)+"'.");return s}function RK(t){return t.trimLeft()}function s6e(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function o6e(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var UT,IK,LK,NR=["times"];(function(t){var e,r,n,a,i,s,o,l,u,h=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new l,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new s,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new s,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new h}]);var f=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=B;Object.defineProperty(this,"pdf",{get:function(){return V}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(rt){Y=!!rt}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(rt){K=!!rt}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(rt){isNaN(rt)||(le=rt)}});var Ae=0;Object.defineProperty(this,"posY",{get:function(){return Ae},set:function(rt){isNaN(rt)||(Ae=rt)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(rt){var Te;typeof rt=="number"?Te=[rt,rt,rt,rt]:((Te=new Array(4))[0]=rt[0],Te[1]=rt.length>=2?rt[1]:Te[0],Te[2]=rt.length>=3?rt[2]:Te[0],Te[3]=rt.length>=4?rt[3]:Te[1]),u.margin=Te}});var De=!1;Object.defineProperty(this,"autoPaging",{get:function(){return De},set:function(rt){De=rt}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(rt){de=rt}});var Le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Le},set:function(rt){Le=rt}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(rt){rt instanceof h&&(u=rt)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(rt){u.path=rt}});var Ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ge},set:function(rt){Ge=rt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(rt){var Te;Te=m(rt),this.ctx.fillStyle=Te.style,this.ctx.isFillTransparent=Te.a===0,this.ctx.fillOpacity=Te.a,this.pdf.setFillColor(Te.r,Te.g,Te.b,{a:Te.a}),this.pdf.setTextColor(Te.r,Te.g,Te.b,{a:Te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(rt){var Te=m(rt);this.ctx.strokeStyle=Te.style,this.ctx.isStrokeTransparent=Te.a===0,this.ctx.strokeOpacity=Te.a,Te.a===0?this.pdf.setDrawColor(255,255,255):(Te.a,this.pdf.setDrawColor(Te.r,Te.g,Te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(rt){["butt","round","square"].indexOf(rt)!==-1&&(this.ctx.lineCap=rt,this.pdf.setLineCap(rt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(rt){isNaN(rt)||(this.ctx.lineWidth=rt,this.pdf.setLineWidth(rt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(rt){["bevel","round","miter"].indexOf(rt)!==-1&&(this.ctx.lineJoin=rt,this.pdf.setLineJoin(rt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(rt){isNaN(rt)||(this.ctx.miterLimit=rt,this.pdf.setMiterLimit(rt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(rt){this.ctx.textBaseline=rt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(rt){["right","end","center","left","start"].indexOf(rt)!==-1&&(this.ctx.textAlign=rt)}});var Re=null;function wt(rt,Te){if(Re===null){var Nt=(function(rr){var Ot=[];return Object.keys(rr).forEach((function(vt){rr[vt].forEach((function(Dt){var yt=null;switch(Dt){case"bold":yt={family:vt,weight:"bold"};break;case"italic":yt={family:vt,style:"italic"};break;case"bolditalic":yt={family:vt,weight:"bold",style:"italic"};break;case"":case"normal":yt={family:vt}}yt!==null&&(yt.ref={name:vt,style:Dt},Ot.push(yt))}))})),Ot})(rt.getFontList());Re=(function(rr){for(var Ot={},vt=0;vt<rr.length;++vt){var Dt=a8(rr[vt]),yt=Dt.family,qt=Dt.stretch,We=Dt.style,Jt=Dt.weight;Ot[yt]=Ot[yt]||{},Ot[yt][qt]=Ot[yt][qt]||{},Ot[yt][qt][We]=Ot[yt][qt][We]||{},Ot[yt][qt][We][Jt]=Dt}return Ot})(Nt.concat(Te))}return Re}var St=null;Object.defineProperty(this,"fontFaces",{get:function(){return St},set:function(rt){Re=null,St=rt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(rt){var Te;if(this.ctx.font=rt,(Te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(rt))!==null){var Nt=Te[1],rr=(Te[2],Te[3]),Ot=Te[4],vt=(Te[5],Te[6]),Dt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ot)[2];Ot=Math.floor(Dt==="px"?parseFloat(Ot)*this.pdf.internal.scaleFactor:Dt==="em"?parseFloat(Ot)*this.pdf.getFontSize():parseFloat(Ot)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ot);var yt=(function(ur){var xt,bt,br=[],gr=ur.trim();if(gr==="")return NR;if(gr in OK)return[OK[gr]];for(;gr!=="";){switch(bt=null,xt=(gr=RK(gr)).charAt(0)){case'"':case"'":bt=s6e(gr.substring(1),xt);break;default:bt=o6e(gr)}if(bt===null||(br.push(bt[0]),(gr=RK(bt[1]))!==""&&gr.charAt(0)!==","))return NR;gr=gr.replace(/^,/,"")}return br})(vt);if(this.fontFaces){var qt=i6e(wt(this.pdf,this.fontFaces),yt.map((function(ur){return{family:ur,stretch:"normal",weight:rr,style:Nt}})));this.pdf.setFont(qt.ref.name,qt.ref.style)}else{var We="";(rr==="bold"||parseInt(rr,10)>=700||Nt==="bold")&&(We="bold"),Nt==="italic"&&(We+="italic"),We.length===0&&(We="normal");for(var Jt="",ir={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Vt=0;Vt<yt.length;Vt++){if(this.pdf.internal.getFont(yt[Vt],We,{noFallback:!0,disableWarning:!0})!==void 0){Jt=yt[Vt];break}if(We==="bolditalic"&&this.pdf.internal.getFont(yt[Vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Jt=yt[Vt],We="bold";else if(this.pdf.internal.getFont(yt[Vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Jt=yt[Vt],We="normal";break}}if(Jt===""){for(var Ue=0;Ue<yt.length;Ue++)if(ir[yt[Ue]]){Jt=ir[yt[Ue]];break}}Jt=Jt===""?"Times":Jt,this.pdf.setFont(Jt,We)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(rt){this.ctx.globalCompositeOperation=rt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(rt){this.ctx.globalAlpha=rt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(rt){this.ctx.lineDashOffset=rt,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(rt){this.ctx.lineDash=rt,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(rt){this.ctx.ignoreClearRect=!!rt}})};f.prototype.setLineDash=function(B){this.lineDash=B},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){T.call(this,"fill",!1)},f.prototype.stroke=function(){T.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(B,V){if(isNaN(B)||isNaN(V))throw qa.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new s(B,V));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new s(B,V)},f.prototype.closePath=function(){var B=new s(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&Aa(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){B=new s(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(B.x,B.y)},f.prototype.lineTo=function(B,V){if(isNaN(B)||isNaN(V))throw qa.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new s(B,V));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new s(Y.x,Y.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},f.prototype.quadraticCurveTo=function(B,V,Y,K){if(isNaN(Y)||isNaN(K)||isNaN(B)||isNaN(V))throw qa.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new s(Y,K)),Ae=this.ctx.transform.applyToPoint(new s(B,V));this.path.push({type:"qct",x1:Ae.x,y1:Ae.y,x:le.x,y:le.y}),this.ctx.lastPoint=new s(le.x,le.y)},f.prototype.bezierCurveTo=function(B,V,Y,K,le,Ae){if(isNaN(le)||isNaN(Ae)||isNaN(B)||isNaN(V)||isNaN(Y)||isNaN(K))throw qa.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var De=this.ctx.transform.applyToPoint(new s(le,Ae)),de=this.ctx.transform.applyToPoint(new s(B,V)),Le=this.ctx.transform.applyToPoint(new s(Y,K));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:Le.x,y2:Le.y,x:De.x,y:De.y}),this.ctx.lastPoint=new s(De.x,De.y)},f.prototype.arc=function(B,V,Y,K,le,Ae){if(isNaN(B)||isNaN(V)||isNaN(Y)||isNaN(K)||isNaN(le))throw qa.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ae=!!Ae,!this.ctx.transform.isIdentity){var De=this.ctx.transform.applyToPoint(new s(B,V));B=De.x,V=De.y;var de=this.ctx.transform.applyToPoint(new s(0,Y)),Le=this.ctx.transform.applyToPoint(new s(0,0));Y=Math.sqrt(Math.pow(de.x-Le.x,2)+Math.pow(de.y-Le.y,2))}Math.abs(le-K)>=2*Math.PI&&(K=0,le=2*Math.PI),this.path.push({type:"arc",x:B,y:V,radius:Y,startAngle:K,endAngle:le,counterclockwise:Ae})},f.prototype.arcTo=function(B,V,Y,K,le){throw new Error("arcTo not implemented.")},f.prototype.rect=function(B,V,Y,K){if(isNaN(B)||isNaN(V)||isNaN(Y)||isNaN(K))throw qa.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,V),this.lineTo(B+Y,V),this.lineTo(B+Y,V+K),this.lineTo(B,V+K),this.lineTo(B,V),this.lineTo(B+Y,V),this.lineTo(B,V)},f.prototype.fillRect=function(B,V,Y,K){if(isNaN(B)||isNaN(V)||isNaN(Y)||isNaN(K))throw qa.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,V,Y,K),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},f.prototype.strokeRect=function(B,V,Y,K){if(isNaN(B)||isNaN(V)||isNaN(Y)||isNaN(K))throw qa.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(B,V,Y,K),this.stroke())},f.prototype.clearRect=function(B,V,Y,K){if(isNaN(B)||isNaN(V)||isNaN(Y)||isNaN(K))throw qa.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,V,Y,K))},f.prototype.save=function(B){B=typeof B!="boolean"||B;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},f.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(V),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(B){var V,Y,K,le;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))V=0,Y=0,K=0,le=0;else{var Ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(Ae!==null)V=parseInt(Ae[1]),Y=parseInt(Ae[2]),K=parseInt(Ae[3]),le=1;else if((Ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)V=parseInt(Ae[1]),Y=parseInt(Ae[2]),K=parseInt(Ae[3]),le=parseFloat(Ae[4]);else{if(le=1,typeof B=="string"&&B.charAt(0)!=="#"){var De=new jse(B);B=De.ok?De.toHex():"#000000"}B.length===4?(V=B.substring(1,2),V+=V,Y=B.substring(2,3),Y+=Y,K=B.substring(3,4),K+=K):(V=B.substring(1,3),Y=B.substring(3,5),K=B.substring(5,7)),V=parseInt(V,16),Y=parseInt(Y,16),K=parseInt(K,16)}}return{r:V,g:Y,b:K,a:le,style:B}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(B,V,Y,K){if(isNaN(V)||isNaN(Y)||typeof B!="string")throw qa.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!g.call(this)){var le=oe(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;L.call(this,{text:B,x:V,y:Y,scale:Ae,angle:le,align:this.textAlign,maxWidth:K})}},f.prototype.strokeText=function(B,V,Y,K){if(isNaN(V)||isNaN(Y)||typeof B!="string")throw qa.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){K=isNaN(K)?void 0:K;var le=oe(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;L.call(this,{text:B,x:V,y:Y,scale:Ae,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:K})}},f.prototype.measureText=function(B){if(typeof B!="string")throw qa.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,Y=this.pdf.internal.scaleFactor,K=V.internal.getFontSize(),le=V.getStringUnitWidth(B)*K/V.internal.scaleFactor,Ae=function(De){var de=(De=De||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this};return new Ae({width:le*=Math.round(96*Y/72*1e4)/1e4})},f.prototype.scale=function(B,V){if(isNaN(B)||isNaN(V))throw qa.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new l(B,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.rotate=function(B){if(isNaN(B))throw qa.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new l(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.translate=function(B,V){if(isNaN(B)||isNaN(V))throw qa.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new l(1,0,0,1,B,V);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.transform=function(B,V,Y,K,le,Ae){if(isNaN(B)||isNaN(V)||isNaN(Y)||isNaN(K)||isNaN(le)||isNaN(Ae))throw qa.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var De=new l(B,V,Y,K,le,Ae);this.ctx.transform=this.ctx.transform.multiply(De)},f.prototype.setTransform=function(B,V,Y,K,le,Ae){B=isNaN(B)?1:B,V=isNaN(V)?0:V,Y=isNaN(Y)?0:Y,K=isNaN(K)?1:K,le=isNaN(le)?0:le,Ae=isNaN(Ae)?0:Ae,this.ctx.transform=new l(B,V,Y,K,le,Ae)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(B,V,Y,K,le,Ae,De,de,Le){var Ge=this.pdf.getImageProperties(B),Re=1,wt=1,St=1,rt=1;K!==void 0&&de!==void 0&&(St=de/K,rt=Le/le,Re=Ge.width/K*de/K,wt=Ge.height/le*Le/le),Ae===void 0&&(Ae=V,De=Y,V=0,Y=0),K!==void 0&&de===void 0&&(de=K,Le=le),K===void 0&&de===void 0&&(de=Ge.width,Le=Ge.height);for(var Te,Nt=this.ctx.transform.decompose(),rr=oe(Nt.rotate.shx),Ot=new l,vt=(Ot=(Ot=(Ot=Ot.multiply(Nt.translate)).multiply(Nt.skew)).multiply(Nt.scale)).applyToRectangle(new o(Ae-V*St,De-Y*rt,K*Re,le*wt)),Dt=w.call(this,vt),yt=[],qt=0;qt<Dt.length;qt+=1)yt.indexOf(Dt[qt])===-1&&yt.push(Dt[qt]);if(N(yt),this.autoPaging)for(var We=yt[0],Jt=yt[yt.length-1],ir=We;ir<Jt+1;ir++){this.pdf.setPage(ir);var Vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ue=ir===1?this.posY+this.margin[0]:this.margin[0],ur=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=ir===1?0:ur+(ir-2)*xt;if(this.ctx.clip_path.length!==0){var br=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Te,this.posX+this.margin[3],-bt+Ue+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=br}var gr=JSON.parse(JSON.stringify(vt));gr=S([gr],this.posX+this.margin[3],-bt+Ue+this.ctx.prevPageLastElemOffset)[0];var Lr=(ir>We||ir<Jt)&&y.call(this);Lr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,xt,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",gr.x,gr.y,gr.w,gr.h,null,null,rr),Lr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(B,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,rr)};var w=function(B,V,Y){var K=[];V=V||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":K.push(Math.floor((B.y+le)/Y)+1);break;case"arc":K.push(Math.floor((B.y+le-B.radius)/Y)+1),K.push(Math.floor((B.y+le+B.radius)/Y)+1);break;case"qct":var Ae=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);K.push(Math.floor((Ae.y+le)/Y)+1),K.push(Math.floor((Ae.y+Ae.h+le)/Y)+1);break;case"bct":var De=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);K.push(Math.floor((De.y+le)/Y)+1),K.push(Math.floor((De.y+De.h+le)/Y)+1);break;case"rect":K.push(Math.floor((B.y+le)/Y)+1),K.push(Math.floor((B.y+B.h+le)/Y)+1)}for(var de=0;de<K.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<K[de];)A.call(this);return K},A=function(){var B=this.fillStyle,V=this.strokeStyle,Y=this.font,K=this.lineCap,le=this.lineWidth,Ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=V,this.font=Y,this.lineCap=K,this.lineWidth=le,this.lineJoin=Ae},S=function(B,V,Y){for(var K=0;K<B.length;K++)switch(B[K].type){case"bct":B[K].x2+=V,B[K].y2+=Y;case"qct":B[K].x1+=V,B[K].y1+=Y;case"mt":case"lt":case"arc":default:B[K].x+=V,B[K].y+=Y}return B},N=function(B){return B.sort((function(V,Y){return V-Y}))},T=function(B,V){for(var Y,K,le=this.fillStyle,Ae=this.strokeStyle,De=this.lineCap,de=this.lineWidth,Le=Math.abs(de*this.ctx.transform.scaleX),Ge=this.lineJoin,Re=JSON.parse(JSON.stringify(this.path)),wt=JSON.parse(JSON.stringify(this.path)),St=[],rt=0;rt<wt.length;rt++)if(wt[rt].x!==void 0)for(var Te=w.call(this,wt[rt]),Nt=0;Nt<Te.length;Nt+=1)St.indexOf(Te[Nt])===-1&&St.push(Te[Nt]);for(var rr=0;rr<St.length;rr++)for(;this.pdf.internal.getNumberOfPages()<St[rr];)A.call(this);if(N(St),this.autoPaging)for(var Ot=St[0],vt=St[St.length-1],Dt=Ot;Dt<vt+1;Dt++){this.pdf.setPage(Dt),this.fillStyle=le,this.strokeStyle=Ae,this.lineCap=De,this.lineWidth=Le,this.lineJoin=Ge;var yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qt=Dt===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ir=Dt===1?0:We+(Dt-2)*Jt;if(this.ctx.clip_path.length!==0){var Vt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Y,this.posX+this.margin[3],-ir+qt+this.ctx.prevPageLastElemOffset),k.call(this,B,!0),this.path=Vt}if(K=JSON.parse(JSON.stringify(Re)),this.path=S(K,this.posX+this.margin[3],-ir+qt+this.ctx.prevPageLastElemOffset),V===!1||Dt===0){var Ue=(Dt>Ot||Dt<vt)&&y.call(this);Ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,Jt,null).clip().discardPath()),k.call(this,B,V),Ue&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=Le,k.call(this,B,V),this.lineWidth=de;this.path=Re},k=function(B,V){if((B!=="stroke"||V||!b.call(this))&&(B==="stroke"||V||!g.call(this))){for(var Y,K,le=[],Ae=this.path,De=0;De<Ae.length;De++){var de=Ae[De];switch(de.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:de,deltas:[],abs:[]});break;case"lt":var Le=le.length;if(Ae[De-1]&&!isNaN(Ae[De-1].x)&&(Y=[de.x-Ae[De-1].x,de.y-Ae[De-1].y],Le>0)){for(;Le>=0;Le--)if(le[Le-1].close!==!0&&le[Le-1].begin!==!0){le[Le-1].deltas.push(Y),le[Le-1].abs.push(de);break}}break;case"bct":Y=[de.x1-Ae[De-1].x,de.y1-Ae[De-1].y,de.x2-Ae[De-1].x,de.y2-Ae[De-1].y,de.x-Ae[De-1].x,de.y-Ae[De-1].y],le[le.length-1].deltas.push(Y);break;case"qct":var Ge=Ae[De-1].x+2/3*(de.x1-Ae[De-1].x),Re=Ae[De-1].y+2/3*(de.y1-Ae[De-1].y),wt=de.x+2/3*(de.x1-de.x),St=de.y+2/3*(de.y1-de.y),rt=de.x,Te=de.y;Y=[Ge-Ae[De-1].x,Re-Ae[De-1].y,wt-Ae[De-1].x,St-Ae[De-1].y,rt-Ae[De-1].x,Te-Ae[De-1].y],le[le.length-1].deltas.push(Y);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(de)}}K=V?null:B==="stroke"?"stroke":"fill";for(var Nt=!1,rr=0;rr<le.length;rr++)if(le[rr].arc)for(var Ot=le[rr].abs,vt=0;vt<Ot.length;vt++){var Dt=Ot[vt];Dt.type==="arc"?U.call(this,Dt.x,Dt.y,Dt.radius,Dt.startAngle,Dt.endAngle,Dt.counterclockwise,void 0,V,!Nt):re.call(this,Dt.x,Dt.y),Nt=!0}else if(le[rr].close===!0)this.pdf.internal.out("h"),Nt=!1;else if(le[rr].begin!==!0){var yt=le[rr].start.x,qt=le[rr].start.y;Z.call(this,le[rr].deltas,yt,qt),Nt=!0}K&&H.call(this,K),V&&G.call(this)}},R=function(B){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-Y;case"top":return B+V-Y;case"hanging":return B+V-2*Y;case"middle":return B+V/2-Y;case"ideographic":return B;case"alphabetic":default:return B}},O=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(V,Y){this.colorStops.push([V,Y])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(B,V,Y,K,le,Ae,De,de,Le){for(var Ge=Q.call(this,Y,K,le,Ae),Re=0;Re<Ge.length;Re++){var wt=Ge[Re];Re===0&&(Le?F.call(this,wt.x1+B,wt.y1+V):re.call(this,wt.x1+B,wt.y1+V)),pe.call(this,B,V,wt.x2,wt.y2,wt.x3,wt.y3,wt.x4,wt.y4)}de?G.call(this):H.call(this,De)},H=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(B,V){this.pdf.internal.out(r(B)+" "+n(V)+" m")},L=function(B){var V;switch(B.align){case"right":case"end":V="right";break;case"center":V="center";break;case"left":case"start":default:V="left"}var Y=this.pdf.getTextDimensions(B.text),K=R.call(this,B.y),le=O.call(this,K)-Y.h,Ae=this.ctx.transform.applyToPoint(new s(B.x,K)),De=this.ctx.transform.decompose(),de=new l;de=(de=(de=de.multiply(De.translate)).multiply(De.skew)).multiply(De.scale);for(var Le,Ge,Re,wt=this.ctx.transform.applyToRectangle(new o(B.x,K,Y.w,Y.h)),St=de.applyToRectangle(new o(B.x,le,Y.w,Y.h)),rt=w.call(this,St),Te=[],Nt=0;Nt<rt.length;Nt+=1)Te.indexOf(rt[Nt])===-1&&Te.push(rt[Nt]);if(N(Te),this.autoPaging)for(var rr=Te[0],Ot=Te[Te.length-1],vt=rr;vt<Ot+1;vt++){this.pdf.setPage(vt);var Dt=vt===1?this.posY+this.margin[0]:this.margin[0],yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[2],We=qt-this.margin[0],Jt=this.pdf.internal.pageSize.width-this.margin[1],ir=Jt-this.margin[3],Vt=vt===1?0:yt+(vt-2)*We;if(this.ctx.clip_path.length!==0){var Ue=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Le,this.posX+this.margin[3],-1*Vt+Dt),k.call(this,"fill",!0),this.path=Ue}var ur=S([JSON.parse(JSON.stringify(St))],this.posX+this.margin[3],-Vt+Dt+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(Ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ge*B.scale),Re=this.lineWidth,this.lineWidth=Re*B.scale);var xt=this.autoPaging!=="text";if(xt||ur.y+ur.h<=qt){if(xt||ur.y>=Dt&&ur.x<=Jt){var bt=xt?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||Jt-ur.x)[0],br=S([JSON.parse(JSON.stringify(wt))],this.posX+this.margin[3],-Vt+Dt+this.ctx.prevPageLastElemOffset)[0],gr=xt&&(vt>rr||vt<Ot)&&y.call(this);gr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ir,We,null).clip().discardPath()),this.pdf.text(bt,br.x,br.y,{angle:B.angle,align:V,renderingMode:B.renderingMode}),gr&&this.pdf.restoreGraphicsState()}}else ur.y<qt&&(this.ctx.prevPageLastElemOffset+=qt-ur.y);B.scale>=.01&&(this.pdf.setFontSize(Ge),this.lineWidth=Re)}else B.scale>=.01&&(Ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ge*B.scale),Re=this.lineWidth,this.lineWidth=Re*B.scale),this.pdf.text(B.text,Ae.x+this.posX,Ae.y+this.posY,{angle:B.angle,align:V,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(Ge),this.lineWidth=Re)},re=function(B,V,Y,K){Y=Y||0,K=K||0,this.pdf.internal.out(r(B+Y)+" "+n(V+K)+" l")},Z=function(B,V,Y){return this.pdf.lines(B,V,Y,null,null)},pe=function(B,V,Y,K,le,Ae,De,de){this.pdf.internal.out([e(a(Y+B)),e(i(K+V)),e(a(le+B)),e(i(Ae+V)),e(a(De+B)),e(i(de+V)),"c"].join(" "))},Q=function(B,V,Y,K){for(var le=2*Math.PI,Ae=Math.PI/2;V>Y;)V-=le;var De=Math.abs(Y-V);De<le&&K&&(De=le-De);for(var de=[],Le=K?-1:1,Ge=V;De>1e-5;){var Re=Ge+Le*Math.min(De,Ae);de.push(X.call(this,B,Ge,Re)),De-=Math.abs(Re-Ge),Ge=Re}return de},X=function(B,V,Y){var K=(Y-V)/2,le=B*Math.cos(K),Ae=B*Math.sin(K),De=le,de=-Ae,Le=De*De+de*de,Ge=Le+De*le+de*Ae,Re=4/3*(Math.sqrt(2*Le*Ge)-Ge)/(De*Ae-de*le),wt=De-Re*de,St=de+Re*De,rt=wt,Te=-St,Nt=K+V,rr=Math.cos(Nt),Ot=Math.sin(Nt);return{x1:B*Math.cos(V),y1:B*Math.sin(V),x2:wt*rr-St*Ot,y2:wt*Ot+St*rr,x3:rt*rr-Te*Ot,y3:rt*Ot+Te*rr,x4:B*Math.cos(Y),y4:B*Math.sin(Y)}},oe=function(B){return 180*B/Math.PI},ce=function(B,V,Y,K,le,Ae){var De=B+.5*(Y-B),de=V+.5*(K-V),Le=le+.5*(Y-le),Ge=Ae+.5*(K-Ae),Re=Math.min(B,le,De,Le),wt=Math.max(B,le,De,Le),St=Math.min(V,Ae,de,Ge),rt=Math.max(V,Ae,de,Ge);return new o(Re,St,wt-Re,rt-St)},Ne=function(B,V,Y,K,le,Ae,De,de){var Le,Ge,Re,wt,St,rt,Te,Nt,rr,Ot,vt,Dt,yt,qt,We=Y-B,Jt=K-V,ir=le-Y,Vt=Ae-K,Ue=De-le,ur=de-Ae;for(Ge=0;Ge<41;Ge++)rr=(Te=(Re=B+(Le=Ge/40)*We)+Le*((St=Y+Le*ir)-Re))+Le*(St+Le*(le+Le*Ue-St)-Te),Ot=(Nt=(wt=V+Le*Jt)+Le*((rt=K+Le*Vt)-wt))+Le*(rt+Le*(Ae+Le*ur-rt)-Nt),Ge==0?(vt=rr,Dt=Ot,yt=rr,qt=Ot):(vt=Math.min(vt,rr),Dt=Math.min(Dt,Ot),yt=Math.max(yt,rr),qt=Math.max(qt,Ot));return new o(Math.round(vt),Math.round(Dt),Math.round(yt-vt),Math.round(qt-Dt))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,V,Y=(B=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:V}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(Gr.API),(function(t){var e=function(i){var s,o,l,u,h,f,m,g,b,y;for(o=[],l=0,u=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;u>l;l+=4)(h=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(h=((h=((h=((h=(h-(y=h%85))/85)-(b=h%85))/85)-(g=h%85))/85)-(m=h%85))/85)%85,o.push(f+33,m+33,g+33,b+33,y+33)):o.push(122);return(function(w,A){for(var S=A;S>0;S--)w.pop()})(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,l,u,h,f=String,m="length",g=255,b="charCodeAt",y="slice",w="replace";for(i[y](-2),i=i[y](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),l=[],u=0,h=(i+=s="uuuuu"[y](i[m]%5||5))[m];h>u;u+=5)o=52200625*(i[b](u)-33)+614125*(i[b](u+1)-33)+7225*(i[b](u+2)-33)+85*(i[b](u+3)-33)+(i[b](u+4)-33),l.push(g&o>>24,g&o>>16,g&o>>8,g&o);return(function(A,S){for(var N=S;N>0;N--)A.pop()})(l,s[m]),f.fromCharCode.apply(f,l)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=ZM(s)).reduce((function(l,u){return l+String.fromCharCode(u)}),"")};t.processDataByFilters=function(i,s){var o=0,l=i||"",u=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map((function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)})).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}})(Gr.API),(function(t){t.loadFile=function(e,r,n){return(function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=(function(l,u,h){var f=new XMLHttpRequest,m=0,g=function(b){var y=b.length,w=[],A=String.fromCharCode;for(m=0;m<y;m+=1)w.push(A(255&b.charCodeAt(m)));return w.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?h(g(this.responseText)):h(void 0)}),f.send(null),u&&f.status===200)return g(f.responseText)})(a,i,s)}catch{}return o})(e,r,n)},t.loadImageFile=t.loadFile})(Gr.API),(function(t){function e(){return(Qr.html2canvas?Promise.resolve(Qr.html2canvas):Om(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch((function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))})).then((function(s){return s.default?s.default:s}))}function r(){return(Qr.DOMPurify?Promise.resolve(Qr.DOMPurify):Om(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(s){return Promise.reject(new Error("Could not load dompurify: "+s))})).then((function(s){return s.default?s.default:s}))}var n=function(s){var o=Aa(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var l=document.createElement(s);for(var u in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[u]=o.style[u];return l},i=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),u=s.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then((function(){switch(o=o||(function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(s)){case"string":return this.then(r).then((function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})}));case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}}))},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=(function l(u,h){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)h!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(l(m,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",(function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft}),!0)),f})(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then((function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)})).then((function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)}))},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then((function(o){var l=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var g=u[m],b=g.src.find((function(y){return y.format==="truetype"}));b&&l.addFont(b.url,g.ref.name,g.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)})).then((function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)}))},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s}))},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},i.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(s,o)}))},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}}))},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map((function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}}),this);return this.then((function(){return this.thenList(o)}))},i.prototype.get=function(s,o){return this.then((function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(l):l}))},i.prototype.setMargin=function(s){return this.then((function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s})).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(l,u){return Math.floor(l*u/72*96)}return this.then((function(){(s=s||Gr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s}))},i.prototype.setProgress=function(s,o,l,u){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,l,u){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,(function(u,h){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,(function(f){return l.updateProgress(null,u),f})).then(u,h).then((function(f){return l.updateProgress(1),f}))}))},i.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),h=l.call(u,s,o);return i.convert(h,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach((function(l){o=o.thenCore(l)})),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then((function(){throw new Error(s)}))},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Gr.getPageSize=function(s,o,l){if(Aa(s)==="object"){var u=s;s=u.orientation,o=u.unit||o,l=u.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var h,f=(""+l).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+o}var g,b=0,y=0;if(m.hasOwnProperty(f))b=m[f][1]/h,y=m[f][0]/h;else try{b=l[1],y=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",y>b&&(g=y,y=b,b=g);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",b>y&&(g=y,y=b,b=g)}return{width:y,height:b,unit:o,k:h,orientation:s}},t.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(a8):null;var l=new i(o);return o.worker?l:l.from(s).doCallback()}})(Gr.API),Gr.API.addJS=function(t){return LK=t,this.internal.events.subscribe("postPutResources",(function(){UT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(UT+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),IK=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+LK+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){UT!==void 0&&IK!==void 0&&this.internal.out("/Names <</JavaScript "+UT+" 0 R>>")})),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(i=0;i<u;i++){var f=r.internal.newObject();h.push(f);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(Gr.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,s,o){var l,u=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=(function(f){for(var m,g=256*f.charCodeAt(4)+f.charCodeAt(5),b=f.length,y={width:0,height:0,numcomponents:1},w=4;w<b;w+=2){if(w+=g,e.indexOf(f.charCodeAt(w+1))!==-1){m=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),y={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:m,numcomponents:f.charCodeAt(w+9)};break}g=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return y})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:a}}return h}})(Gr.API);var Ob,zT,MK,FK,BK,l6e=(function(){var t,e,r;function n(i){var s,o,l,u,h,f,m,g,b,y,w,A,S,N;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),b=(function(){var T,k;for(k=[],T=0;T<4;++T)k.push(String.fromCharCode(this.data[this.pos++]));return k}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*h/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,A=0;0<=s?A<s:A>s;0<=s?++A:--A)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((y=l-this.transparency.indexed.length)>0)for(S=0;0<=y?S<y:S>y;0<=y?++S:--S)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":m=(w=this.read(s)).indexOf(0),g=String.fromCharCode.apply(String,w.slice(0,m)),this.text[g]=String.fromCharCode.apply(String,w.slice(m+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function h(f,m,g,b){var y,w,A,S,N,T,k,R,O,U,H,G,F,L,re,Z,pe,Q,X,oe,ce,Ne=Math.ceil((u.width-f)/g),ne=Math.ceil((u.height-m)/b),B=u.width==Ne&&u.height==ne;for(L=s*Ne,G=B?o:new Uint8Array(L*ne),T=i.length,F=0,w=0;F<ne&&l<T;){switch(i[l++]){case 0:for(S=pe=0;pe<L;S=pe+=1)G[w++]=i[l++];break;case 1:for(S=Q=0;Q<L;S=Q+=1)y=i[l++],N=S<s?0:G[w-s],G[w++]=(y+N)%256;break;case 2:for(S=X=0;X<L;S=X+=1)y=i[l++],A=(S-S%s)/s,re=F&&G[(F-1)*L+A*s+S%s],G[w++]=(re+y)%256;break;case 3:for(S=oe=0;oe<L;S=oe+=1)y=i[l++],A=(S-S%s)/s,N=S<s?0:G[w-s],re=F&&G[(F-1)*L+A*s+S%s],G[w++]=(y+Math.floor((N+re)/2))%256;break;case 4:for(S=ce=0;ce<L;S=ce+=1)y=i[l++],A=(S-S%s)/s,N=S<s?0:G[w-s],F===0?re=Z=0:(re=G[(F-1)*L+A*s+S%s],Z=A&&G[(F-1)*L+(A-1)*s+S%s]),k=N+re-Z,R=Math.abs(k-N),U=Math.abs(k-re),H=Math.abs(k-Z),O=R<=U&&R<=H?N:U<=H?re:Z,G[w++]=(y+O)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!B){var V=((m+F*b)*u.width+f)*s,Y=F*L;for(S=0;S<Ne;S+=1){for(var K=0;K<s;K+=1)o[V++]=G[Y++];V+=(g-1)*s}}F++}}return i=BOe(i),u.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,l,u,h,f,m,g;for(o=this.palette,h=this.transparency.indexed||[],u=new Uint8Array((h.length||0)+o.length),l=0,i=0,s=f=0,m=o.length;f<m;s=f+=3)u[l++]=o[s],u[l++]=o[s+1],u[l++]=o[s+2],u[l++]=(g=h[i++])!=null?g:255;return u},n.prototype.copyToImageData=function(i,s){var o,l,u,h,f,m,g,b,y,w,A;if(l=this.colors,y=null,o=this.hasAlphaChannel,this.palette.length&&(y=(A=this._decodedPalette)!=null?A:this._decodedPalette=this.decodePalette(),l=4,o=!0),b=(u=i.data||i).length,f=y||s,h=m=0,l===1)for(;h<b;)g=y?4*s[h/4]:m,w=f[g++],u[h++]=w,u[h++]=w,u[h++]=w,u[h++]=o?f[g++]:255,m=g;else for(;h<b;)g=y?4*s[h/4]:m,u[h++]=f[g++],u[h++]=f[g++],u[h++]=f[g++],u[h++]=o?f[g++]:255,m=g},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Qr)==="[object Window]"){try{e=Qr.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,l,u,h,f,m,g;if(this.animation){for(g=[],o=h=0,f=(m=this.animation.frames).length;h<f;o=++h)s=m[o],l=i.createImageData(s.width,s.height),u=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,u),s.imageData=l,g.push(s.image=t(l));return g}},n.prototype.renderFrame=function(i,s){var o,l,u;return o=(l=this.animation.frames)[s],u=l[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,l,u,h,f,m=this;return o=0,f=this.animation,u=f.numFrames,l=f.frames,h=f.numPlays,(s=function(){var g,b;if(g=o++%u,b=l[g],m.renderFrame(i,g),u>1&&o/u<h)return m.animation._timeout=setTimeout(s,b.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function c6e(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,s=1<<(7&a)+1;t[e++],t[e++];var o=null,l=null;i&&(o=e,l=s,e+=3*s);var u=!0,h=[],f=0,m=null,g=0,b=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((F=t[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[e++];f=t[e++]|t[e++]<<8,m=t[e++],(1&y)==0&&(m=null),g=y>>2&7,e++;break;case 254:for(;;){if(!((F=t[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var w=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,T=t[e++],k=T>>6&1,R=1<<(7&T)+1,O=o,U=l,H=!1;T>>7&&(H=!0,O=e,U=R,e+=3*R);var G=e;for(e++;;){var F;if(!((F=t[e++])>=0))throw Error("Invalid block size");if(F===0)break;e+=F}h.push({x:w,y:A,width:S,height:N,has_local_palette:H,palette_offset:O,palette_size:U,data_offset:G,data_length:e-G,transparent_index:m,interlaced:!!k,delay:f,disposal:g});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(L){if(L<0||L>=h.length)throw new Error("Frame index out of range.");return h[L]},this.decodeAndBlitFrameBGRA=function(L,re){var Z=this.frameInfo(L),pe=Z.width*Z.height,Q=new Uint8Array(pe);UK(t,Z.data_offset,Q,pe);var X=Z.palette_offset,oe=Z.transparent_index;oe===null&&(oe=256);var ce=Z.width,Ne=r-ce,ne=ce,B=4*(Z.y*r+Z.x),V=4*((Z.y+Z.height)*r+Z.x),Y=B,K=4*Ne;Z.interlaced===!0&&(K+=4*r*7);for(var le=8,Ae=0,De=Q.length;Ae<De;++Ae){var de=Q[Ae];if(ne===0&&(ne=ce,(Y+=K)>=V&&(K=4*Ne+4*r*(le-1),Y=B+(ce+Ne)*(le<<1),le>>=1)),de===oe)Y+=4;else{var Le=t[X+3*de],Ge=t[X+3*de+1],Re=t[X+3*de+2];re[Y++]=Re,re[Y++]=Ge,re[Y++]=Le,re[Y++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(L,re){var Z=this.frameInfo(L),pe=Z.width*Z.height,Q=new Uint8Array(pe);UK(t,Z.data_offset,Q,pe);var X=Z.palette_offset,oe=Z.transparent_index;oe===null&&(oe=256);var ce=Z.width,Ne=r-ce,ne=ce,B=4*(Z.y*r+Z.x),V=4*((Z.y+Z.height)*r+Z.x),Y=B,K=4*Ne;Z.interlaced===!0&&(K+=4*r*7);for(var le=8,Ae=0,De=Q.length;Ae<De;++Ae){var de=Q[Ae];if(ne===0&&(ne=ce,(Y+=K)>=V&&(K=4*Ne+4*r*(le-1),Y=B+(ce+Ne)*(le<<1),le>>=1)),de===oe)Y+=4;else{var Le=t[X+3*de],Ge=t[X+3*de+1],Re=t[X+3*de+2];re[Y++]=Le,re[Y++]=Ge,re[Y++]=Re,re[Y++]=255}--ne}}}function UK(t,e,r,n){for(var a=t[e++],i=1<<a,s=i+1,o=s+1,l=a+1,u=(1<<l)-1,h=0,f=0,m=0,g=t[e++],b=new Int32Array(4096),y=null;;){for(;h<16&&g!==0;)f|=t[e++]<<h,h+=8,g===1?g=t[e++]:--g;if(h<l)break;var w=f&u;if(f>>=l,h-=l,w!==i){if(w===s)break;for(var A=w<o?w:y,S=0,N=A;N>i;)N=b[N]>>8,++S;var T=N;if(m+S+(A!==w?1:0)>n)return void qa.log("Warning, gif stream longer than expected.");r[m++]=T;var k=m+=S;for(A!==w&&(r[m++]=T),N=A;S--;)N=b[N],r[--k]=255&N,N>>=8;y!==null&&o<4096&&(b[o++]=y<<8|T,o>=u+1&&l<12&&(++l,u=u<<1|1)),y=w}else o=s+1,u=(1<<(l=a+1))-1,y=null}return m!==n&&qa.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ER(t){var e,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),h=new Array(64),f=new Array(65535),m=new Array(65535),g=new Array(64),b=new Array(64),y=[],w=0,A=7,S=new Array(64),N=new Array(64),T=new Array(64),k=new Array(256),R=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],re=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(B,V){for(var Y=0,K=0,le=new Array,Ae=1;Ae<=16;Ae++){for(var De=1;De<=B[Ae];De++)le[V[K]]=[],le[V[K]][0]=Y,le[V[K]][1]=Ae,K++,Y++;Y*=2}return le}function X(B){for(var V=B[0],Y=B[1]-1;Y>=0;)V&1<<Y&&(w|=1<<A),Y--,--A<0&&(w==255?(oe(255),oe(0)):oe(w),A=7,w=0)}function oe(B){y.push(B)}function ce(B){oe(B>>8&255),oe(255&B)}function Ne(B,V,Y,K,le){for(var Ae,De=le[0],de=le[240],Le=(function(Ot,vt){var Dt,yt,qt,We,Jt,ir,Vt,Ue,ur,xt,bt=0;for(ur=0;ur<8;++ur){Dt=Ot[bt],yt=Ot[bt+1],qt=Ot[bt+2],We=Ot[bt+3],Jt=Ot[bt+4],ir=Ot[bt+5],Vt=Ot[bt+6];var br=Dt+(Ue=Ot[bt+7]),gr=Dt-Ue,Lr=yt+Vt,Tr=yt-Vt,Mt=qt+ir,Dn=qt-ir,Wr=We+Jt,Es=We-Jt,Ht=br+Wr,ri=br-Wr,Gi=Lr+Mt,hn=Lr-Mt;Ot[bt]=Ht+Gi,Ot[bt+4]=Ht-Gi;var Hr=.707106781*(hn+ri);Ot[bt+2]=ri+Hr,Ot[bt+6]=ri-Hr;var fn=.382683433*((Ht=Es+Dn)-(hn=Tr+gr)),Nu=.5411961*Ht+fn,mi=1.306562965*hn+fn,Ri=.707106781*(Gi=Dn+Tr),ni=gr+Ri,Mr=gr-Ri;Ot[bt+5]=Mr+Nu,Ot[bt+3]=Mr-Nu,Ot[bt+1]=ni+mi,Ot[bt+7]=ni-mi,bt+=8}for(bt=0,ur=0;ur<8;++ur){Dt=Ot[bt],yt=Ot[bt+8],qt=Ot[bt+16],We=Ot[bt+24],Jt=Ot[bt+32],ir=Ot[bt+40],Vt=Ot[bt+48];var ps=Dt+(Ue=Ot[bt+56]),pn=Dt-Ue,Nn=yt+Vt,Fa=yt-Vt,Qn=qt+ir,ge=qt-ir,Pe=We+Jt,Se=We-Jt,_e=ps+Pe,je=ps-Pe,ke=Nn+Qn,ot=Nn-Qn;Ot[bt]=_e+ke,Ot[bt+32]=_e-ke;var _t=.707106781*(ot+je);Ot[bt+16]=je+_t,Ot[bt+48]=je-_t;var it=.382683433*((_e=Se+ge)-(ot=Fa+pn)),dt=.5411961*_e+it,lt=1.306562965*ot+it,Gt=.707106781*(ke=ge+Fa),ar=pn+Gt,Xt=pn-Gt;Ot[bt+40]=Xt+dt,Ot[bt+24]=Xt-dt,Ot[bt+8]=ar+lt,Ot[bt+56]=ar-lt,bt++}for(ur=0;ur<64;++ur)xt=Ot[ur]*vt[ur],g[ur]=xt>0?xt+.5|0:xt-.5|0;return g})(B,V),Ge=0;Ge<64;++Ge)b[O[Ge]]=Le[Ge];var Re=b[0]-Y;Y=b[0],Re==0?X(K[0]):(X(K[m[Ae=32767+Re]]),X(f[Ae]));for(var wt=63;wt>0&&b[wt]==0;)wt--;if(wt==0)return X(De),Y;for(var St,rt=1;rt<=wt;){for(var Te=rt;b[rt]==0&&rt<=wt;)++rt;var Nt=rt-Te;if(Nt>=16){St=Nt>>4;for(var rr=1;rr<=St;++rr)X(de);Nt&=15}Ae=32767+b[rt],X(le[(Nt<<4)+m[Ae]]),X(f[Ae]),rt++}return wt!=63&&X(De),Y}function ne(B){B=Math.min(Math.max(B,1),100),i!=B&&((function(V){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var le=s((Y[K]*V+50)/100);le=Math.min(Math.max(le,1),255),o[O[K]]=le}for(var Ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],De=0;De<64;De++){var de=s((Ae[De]*V+50)/100);de=Math.min(Math.max(de,1),255),l[O[De]]=de}for(var Le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ge=0,Re=0;Re<8;Re++)for(var wt=0;wt<8;wt++)u[Ge]=1/(o[O[Ge]]*Le[Re]*Le[wt]*8),h[Ge]=1/(l[O[Ge]]*Le[Re]*Le[wt]*8),Ge++})(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),i=B)}this.encode=function(B,V){V&&ne(V),y=new Array,w=0,A=7,ce(65496),ce(65504),ce(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),ce(1),ce(1),oe(0),oe(0),(function(){ce(65499),ce(132),oe(0);for(var yt=0;yt<64;yt++)oe(o[yt]);oe(1);for(var qt=0;qt<64;qt++)oe(l[qt])})(),(function(yt,qt){ce(65472),ce(17),oe(8),ce(qt),ce(yt),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)})(B.width,B.height),(function(){ce(65476),ce(418),oe(0);for(var yt=0;yt<16;yt++)oe(U[yt+1]);for(var qt=0;qt<=11;qt++)oe(H[qt]);oe(16);for(var We=0;We<16;We++)oe(G[We+1]);for(var Jt=0;Jt<=161;Jt++)oe(F[Jt]);oe(1);for(var ir=0;ir<16;ir++)oe(L[ir+1]);for(var Vt=0;Vt<=11;Vt++)oe(re[Vt]);oe(17);for(var Ue=0;Ue<16;Ue++)oe(Z[Ue+1]);for(var ur=0;ur<=161;ur++)oe(pe[ur])})(),ce(65498),ce(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0);var Y=0,K=0,le=0;w=0,A=7,this.encode.displayName="_encode_";for(var Ae,De,de,Le,Ge,Re,wt,St,rt,Te=B.data,Nt=B.width,rr=B.height,Ot=4*Nt,vt=0;vt<rr;){for(Ae=0;Ae<Ot;){for(Ge=Ot*vt+Ae,wt=-1,St=0,rt=0;rt<64;rt++)Re=Ge+(St=rt>>3)*Ot+(wt=4*(7&rt)),vt+St>=rr&&(Re-=Ot*(vt+1+St-rr)),Ae+wt>=Ot&&(Re-=Ae+wt-Ot+4),De=Te[Re++],de=Te[Re++],Le=Te[Re++],S[rt]=(R[De]+R[de+256>>0]+R[Le+512>>0]>>16)-128,N[rt]=(R[De+768>>0]+R[de+1024>>0]+R[Le+1280>>0]>>16)-128,T[rt]=(R[De+1280>>0]+R[de+1536>>0]+R[Le+1792>>0]>>16)-128;Y=Ne(S,u,Y,e,n),K=Ne(N,h,K,r,a),le=Ne(T,h,le,r,a),Ae+=32}vt+=8}if(A>=0){var Dt=[];Dt[1]=A+1,Dt[0]=(1<<A+1)-1,X(Dt)}return ce(65497),new Uint8Array(y)},t=t||50,(function(){for(var B=String.fromCharCode,V=0;V<256;V++)k[V]=B(V)})(),e=Q(U,H),r=Q(L,re),n=Q(G,F),a=Q(Z,pe),(function(){for(var B=1,V=2,Y=1;Y<=15;Y++){for(var K=B;K<V;K++)m[32767+K]=Y,f[32767+K]=[],f[32767+K][1]=Y,f[32767+K][0]=K;for(var le=-(V-1);le<=-B;le++)m[32767+le]=Y,f[32767+le]=[],f[32767+le][1]=Y,f[32767+le][0]=V-1+le;B<<=1,V<<=1}})(),(function(){for(var B=0;B<256;B++)R[B]=19595*B,R[B+256>>0]=38470*B,R[B+512>>0]=7471*B+32768,R[B+768>>0]=-11059*B,R[B+1024>>0]=-21709*B,R[B+1280>>0]=32768*B+8421375,R[B+1536>>0]=-27439*B,R[B+1792>>0]=-5329*B})(),ne(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Bh(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function zK(t){function e(U){if(!U)throw Error("assert :P")}function r(U,H,G){for(var F=0;4>F;F++)if(U[H+F]!=G.charCodeAt(F))return!0;return!1}function n(U,H,G,F,L){for(var re=0;re<L;re++)U[H+re]=G[F+re]}function a(U,H,G,F){for(var L=0;L<F;L++)U[H+L]=G}function i(U){return new Int32Array(U)}function s(U,H){for(var G=[],F=0;F<U;F++)G.push(new H);return G}function o(U,H){var G=[];return(function F(L,re,Z){for(var pe=Z[re],Q=0;Q<pe&&(L.push(Z.length>re+1?[]:new H),!(Z.length<re+1));Q++)F(L[Q],re+1,Z)})(G,0,U),G}var l=function(){var U=this;function H(E,D){for(var q=1<<D-1>>>0;E&q;)q>>>=1;return q?(E&q-1)+q:E}function G(E,D,q,ee,fe){e(!(ee%q));do E[D+(ee-=q)]=fe;while(0<ee)}function F(E,D,q,ee,fe){if(e(2328>=fe),512>=fe)var xe=i(512);else if((xe=i(fe))==null)return 0;return(function(ve,ye,we,Ce,He,ut){var ct,tt,Ut=ye,Tt=1<<we,qe=i(16),Ye=i(16);for(e(He!=0),e(Ce!=null),e(ve!=null),e(0<we),tt=0;tt<He;++tt){if(15<Ce[tt])return 0;++qe[Ce[tt]]}if(qe[0]==He)return 0;for(Ye[1]=0,ct=1;15>ct;++ct){if(qe[ct]>1<<ct)return 0;Ye[ct+1]=Ye[ct]+qe[ct]}for(tt=0;tt<He;++tt)ct=Ce[tt],0<Ce[tt]&&(ut[Ye[ct]++]=tt);if(Ye[15]==1)return(Ce=new L).g=0,Ce.value=ut[0],G(ve,Ut,1,Tt,Ce),Tt;var Ft,$t=-1,Lt=Tt-1,vr=0,hr=1,Fr=1,pr=1<<we;for(tt=0,ct=1,He=2;ct<=we;++ct,He<<=1){if(hr+=Fr<<=1,0>(Fr-=qe[ct]))return 0;for(;0<qe[ct];--qe[ct])(Ce=new L).g=ct,Ce.value=ut[tt++],G(ve,Ut+vr,He,pr,Ce),vr=H(vr,ct)}for(ct=we+1,He=2;15>=ct;++ct,He<<=1){if(hr+=Fr<<=1,0>(Fr-=qe[ct]))return 0;for(;0<qe[ct];--qe[ct]){if(Ce=new L,(vr&Lt)!=$t){for(Ut+=pr,Ft=1<<($t=ct)-we;15>$t&&!(0>=(Ft-=qe[$t]));)++$t,Ft<<=1;Tt+=pr=1<<(Ft=$t-we),ve[ye+($t=vr&Lt)].g=Ft+we,ve[ye+$t].value=Ut-ye-$t}Ce.g=ct-we,Ce.value=ut[tt++],G(ve,Ut+(vr>>we),He,pr,Ce),vr=H(vr,ct)}}return hr!=2*Ye[15]-1?0:Tt})(E,D,q,ee,fe,xe)}function L(){this.value=this.g=0}function re(){this.value=this.g=0}function Z(){this.G=s(5,L),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(si,re)}function pe(E,D,q,ee){e(E!=null),e(D!=null),e(2147483648>ee),E.Ca=254,E.I=0,E.b=-8,E.Ka=0,E.oa=D,E.pa=q,E.Jd=D,E.Yc=q+ee,E.Zc=4<=ee?q+ee-4+1:q,Ae(E)}function Q(E,D){for(var q=0;0<D--;)q|=de(E,128)<<D;return q}function X(E,D){var q=Q(E,D);return De(E)?-q:q}function oe(E,D,q,ee){var fe,xe=0;for(e(E!=null),e(D!=null),e(4294967288>ee),E.Sb=ee,E.Ra=0,E.u=0,E.h=0,4<ee&&(ee=4),fe=0;fe<ee;++fe)xe+=D[q+fe]<<8*fe;E.Ra=xe,E.bb=ee,E.oa=D,E.pa=q}function ce(E){for(;8<=E.u&&E.bb<E.Sb;)E.Ra>>>=8,E.Ra+=E.oa[E.pa+E.bb]<<mc-8>>>0,++E.bb,E.u-=8;Y(E)&&(E.h=1,E.u=0)}function Ne(E,D){if(e(0<=D),!E.h&&D<=Wn){var q=V(E)&Qs[D];return E.u+=D,ce(E),q}return E.h=1,E.u=0}function ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(E){return E.Ra>>>(E.u&mc-1)>>>0}function Y(E){return e(E.bb<=E.Sb),E.h||E.bb==E.Sb&&E.u>mc}function K(E,D){E.u=D,E.h=Y(E)}function le(E){E.u>=gs&&(e(E.u>=gs),ce(E))}function Ae(E){e(E!=null&&E.oa!=null),E.pa<E.Zc?(E.I=(E.oa[E.pa++]|E.I<<8)>>>0,E.b+=8):(e(E!=null&&E.oa!=null),E.pa<E.Yc?(E.b+=8,E.I=E.oa[E.pa++]|E.I<<8):E.Ka?E.b=0:(E.I<<=8,E.b+=8,E.Ka=1))}function De(E){return Q(E,1)}function de(E,D){var q=E.Ca;0>E.b&&Ae(E);var ee=E.b,fe=q*D>>>8,xe=(E.I>>>ee>fe)+0;for(xe?(q-=fe,E.I-=fe+1<<ee>>>0):q=fe+1,ee=q,fe=0;256<=ee;)fe+=8,ee>>=8;return ee=7^fe+eo[ee],E.b-=ee,E.Ca=(q<<ee)-1,xe}function Le(E,D,q){E[D+0]=q>>24&255,E[D+1]=q>>16&255,E[D+2]=q>>8&255,E[D+3]=q>>0&255}function Ge(E,D){return E[D+0]<<0|E[D+1]<<8}function Re(E,D){return Ge(E,D)|E[D+2]<<16}function wt(E,D){return Ge(E,D)|Ge(E,D+2)<<16}function St(E,D){var q=1<<D;return e(E!=null),e(0<D),E.X=i(q),E.X==null?0:(E.Mb=32-D,E.Xa=D,1)}function rt(E,D){e(E!=null),e(D!=null),e(E.Xa==D.Xa),n(D.X,0,E.X,0,1<<D.Xa)}function Te(){this.X=[],this.Xa=this.Mb=0}function Nt(E,D,q,ee){e(q!=null),e(ee!=null);var fe=q[0],xe=ee[0];return fe==0&&(fe=(E*xe+D/2)/D),xe==0&&(xe=(D*fe+E/2)/E),0>=fe||0>=xe?0:(q[0]=fe,ee[0]=xe,1)}function rr(E,D){return E+(1<<D)-1>>>D}function Ot(E,D){return((4278255360&E)+(4278255360&D)>>>0&4278255360)+((16711935&E)+(16711935&D)>>>0&16711935)>>>0}function vt(E,D){U[D]=function(q,ee,fe,xe,ve,ye,we){var Ce;for(Ce=0;Ce<ve;++Ce){var He=U[E](ye[we+Ce-1],fe,xe+Ce);ye[we+Ce]=Ot(q[ee+Ce],He)}}}function Dt(){this.ud=this.hd=this.jd=0}function yt(E,D){return((4278124286&(E^D))>>>1)+(E&D)>>>0}function qt(E){return 0<=E&&256>E?E:0>E?0:255<E?255:void 0}function We(E,D){return qt(E+(E-D+.5>>1))}function Jt(E,D,q){return Math.abs(D-q)-Math.abs(E-q)}function ir(E,D,q,ee,fe,xe,ve){for(ee=xe[ve-1],q=0;q<fe;++q)xe[ve+q]=ee=Ot(E[D+q],ee)}function Vt(E,D,q,ee,fe){var xe;for(xe=0;xe<q;++xe){var ve=E[D+xe],ye=ve>>8&255,we=16711935&(we=(we=16711935&ve)+((ye<<16)+ye));ee[fe+xe]=(4278255360&ve)+we>>>0}}function Ue(E,D){D.jd=E>>0&255,D.hd=E>>8&255,D.ud=E>>16&255}function ur(E,D,q,ee,fe,xe){var ve;for(ve=0;ve<ee;++ve){var ye=D[q+ve],we=ye>>>8,Ce=ye,He=255&(He=(He=ye>>>16)+((E.jd<<24>>24)*(we<<24>>24)>>>5));Ce=255&(Ce=(Ce=Ce+((E.hd<<24>>24)*(we<<24>>24)>>>5))+((E.ud<<24>>24)*(He<<24>>24)>>>5)),fe[xe+ve]=(4278255360&ye)+(He<<16)+Ce}}function xt(E,D,q,ee,fe){U[D]=function(xe,ve,ye,we,Ce,He,ut,ct,tt){for(we=ut;we<ct;++we)for(ut=0;ut<tt;++ut)Ce[He++]=fe(ye[ee(xe[ve++])])},U[E]=function(xe,ve,ye,we,Ce,He,ut){var ct=8>>xe.b,tt=xe.Ea,Ut=xe.K[0],Tt=xe.w;if(8>ct)for(xe=(1<<xe.b)-1,Tt=(1<<ct)-1;ve<ye;++ve){var qe,Ye=0;for(qe=0;qe<tt;++qe)qe&xe||(Ye=ee(we[Ce++])),He[ut++]=fe(Ut[Ye&Tt]),Ye>>=ct}else U["VP8LMapColor"+q](we,Ce,Ut,Tt,He,ut,ve,ye,tt)}}function bt(E,D,q,ee,fe){for(q=D+q;D<q;){var xe=E[D++];ee[fe++]=xe>>16&255,ee[fe++]=xe>>8&255,ee[fe++]=xe>>0&255}}function br(E,D,q,ee,fe){for(q=D+q;D<q;){var xe=E[D++];ee[fe++]=xe>>16&255,ee[fe++]=xe>>8&255,ee[fe++]=xe>>0&255,ee[fe++]=xe>>24&255}}function gr(E,D,q,ee,fe){for(q=D+q;D<q;){var xe=(ve=E[D++])>>16&240|ve>>12&15,ve=ve>>0&240|ve>>28&15;ee[fe++]=xe,ee[fe++]=ve}}function Lr(E,D,q,ee,fe){for(q=D+q;D<q;){var xe=(ve=E[D++])>>16&248|ve>>13&7,ve=ve>>5&224|ve>>3&31;ee[fe++]=xe,ee[fe++]=ve}}function Tr(E,D,q,ee,fe){for(q=D+q;D<q;){var xe=E[D++];ee[fe++]=xe>>0&255,ee[fe++]=xe>>8&255,ee[fe++]=xe>>16&255}}function Mt(E,D,q,ee,fe,xe){if(xe==0)for(q=D+q;D<q;)Le(ee,((xe=E[D++])[0]>>24|xe[1]>>8&65280|xe[2]<<8&16711680|xe[3]<<24)>>>0),fe+=32;else n(ee,fe,E,D,q)}function Dn(E,D){U[D][0]=U[E+"0"],U[D][1]=U[E+"1"],U[D][2]=U[E+"2"],U[D][3]=U[E+"3"],U[D][4]=U[E+"4"],U[D][5]=U[E+"5"],U[D][6]=U[E+"6"],U[D][7]=U[E+"7"],U[D][8]=U[E+"8"],U[D][9]=U[E+"9"],U[D][10]=U[E+"10"],U[D][11]=U[E+"11"],U[D][12]=U[E+"12"],U[D][13]=U[E+"13"],U[D][14]=U[E+"0"],U[D][15]=U[E+"0"]}function Wr(E){return E==iv||E==Ky||E==Xm||E==Yy}function Es(){this.eb=[],this.size=this.A=this.fb=0}function Ht(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ri(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Es,this.f.kb=new Ht,this.sd=null}function Gi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function hn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Hr(E){return alert("todo:WebPSamplerProcessPlane"),E.T}function fn(E,D){var q=E.T,ee=D.ba.f.RGBA,fe=ee.eb,xe=ee.fb+E.ka*ee.A,ve=ro[D.ba.S],ye=E.y,we=E.O,Ce=E.f,He=E.N,ut=E.ea,ct=E.W,tt=D.cc,Ut=D.dc,Tt=D.Mc,qe=D.Nc,Ye=E.ka,Ft=E.ka+E.T,$t=E.U,Lt=$t+1>>1;for(Ye==0?ve(ye,we,null,null,Ce,He,ut,ct,Ce,He,ut,ct,fe,xe,null,null,$t):(ve(D.ec,D.fc,ye,we,tt,Ut,Tt,qe,Ce,He,ut,ct,fe,xe-ee.A,fe,xe,$t),++q);Ye+2<Ft;Ye+=2)tt=Ce,Ut=He,Tt=ut,qe=ct,He+=E.Rc,ct+=E.Rc,xe+=2*ee.A,ve(ye,(we+=2*E.fa)-E.fa,ye,we,tt,Ut,Tt,qe,Ce,He,ut,ct,fe,xe-ee.A,fe,xe,$t);return we+=E.fa,E.j+Ft<E.o?(n(D.ec,D.fc,ye,we,$t),n(D.cc,D.dc,Ce,He,Lt),n(D.Mc,D.Nc,ut,ct,Lt),q--):1&Ft||ve(ye,we,null,null,Ce,He,ut,ct,Ce,He,ut,ct,fe,xe+ee.A,null,null,$t),q}function Nu(E,D,q){var ee=E.F,fe=[E.J];if(ee!=null){var xe=E.U,ve=D.ba.S,ye=ve==av||ve==Xm;D=D.ba.f.RGBA;var we=[0],Ce=E.ka;we[0]=E.T,E.Kb&&(Ce==0?--we[0]:(--Ce,fe[0]-=E.width),E.j+E.ka+E.T==E.o&&(we[0]=E.o-E.j-Ce));var He=D.eb;Ce=D.fb+Ce*D.A,E=er(ee,fe[0],E.width,xe,we,He,Ce+(ye?0:3),D.A),e(q==we),E&&Wr(ve)&&sr(He,Ce,ye,xe,we,D.A)}return 0}function mi(E){var D=E.ma,q=D.ba.S,ee=11>q,fe=q==ko||q==qc||q==av||q==Ym||q==12||Wr(q);if(D.memory=null,D.Ib=null,D.Jb=null,D.Nd=null,!Pu(D.Oa,E,fe?11:12))return 0;if(fe&&Wr(q)&&Wt(),E.da)alert("todo:use_scaling");else{if(ee){if(D.Ib=Hr,E.Kb){if(q=E.U+1>>1,D.memory=i(E.U+2*q),D.memory==null)return 0;D.ec=D.memory,D.fc=0,D.cc=D.ec,D.dc=D.fc+E.U,D.Mc=D.cc,D.Nc=D.dc+q,D.Ib=fn,Wt()}}else alert("todo:EmitYUV");fe&&(D.Jb=Nu,ee&&at())}if(ee&&!Vf){for(E=0;256>E;++E)no[E]=89858*(E-128)+Qm>>Jc,GP[E]=-22014*(E-128)+Qm,h4[E]=-45773*(E-128),eb[E]=113618*(E-128)+Qm>>Jc;for(E=tp;E<$f;++E)D=76283*(E-16)+Qm>>Jc,WP[E-tp]=jo(D,255),KP[E-tp]=jo(D+8>>4,15);Vf=1}return 1}function Ri(E){var D=E.ma,q=E.U,ee=E.T;return e(!(1&E.ka)),0>=q||0>=ee?0:(q=D.Ib(E,D),D.Jb!=null&&D.Jb(E,D,q),D.Dc+=q,1)}function ni(E){E.ma.memory=null}function Mr(E,D,q,ee){return Ne(E,8)!=47?0:(D[0]=Ne(E,14)+1,q[0]=Ne(E,14)+1,ee[0]=Ne(E,1),Ne(E,3)!=0?0:!E.h)}function ps(E,D){if(4>E)return E+1;var q=E-2>>1;return(2+(1&E)<<q)+Ne(D,q)+1}function pn(E,D){return 120<D?D-120:1<=(q=((q=Wc[D-1])>>4)*E+(8-(15&q)))?q:1;var q}function Nn(E,D,q){var ee=V(q),fe=E[D+=255&ee].g-8;return 0<fe&&(K(q,q.u+8),ee=V(q),D+=E[D].value,D+=ee&(1<<fe)-1),K(q,q.u+E[D].g),E[D].value}function Fa(E,D,q){return q.g+=E.g,q.value+=E.value<<D>>>0,e(8>=q.g),E.g}function Qn(E,D,q){var ee=E.xc;return e((D=ee==0?0:E.vc[E.md*(q>>ee)+(D>>ee)])<E.Wb),E.Ya[D]}function ge(E,D,q,ee){var fe=E.ab,xe=E.c*D,ve=E.C;D=ve+D;var ye=q,we=ee;for(ee=E.Ta,q=E.Ua;0<fe--;){var Ce=E.gc[fe],He=ve,ut=D,ct=ye,tt=we,Ut=(we=ee,ye=q,Ce.Ea);switch(e(He<ut),e(ut<=Ce.nc),Ce.hc){case 2:Hc(ct,tt,(ut-He)*Ut,we,ye);break;case 0:var Tt=He,qe=ut,Ye=we,Ft=ye,$t=(pr=Ce).Ea;Tt==0&&(Rf(ct,tt,null,null,1,Ye,Ft),ir(ct,tt+1,0,0,$t-1,Ye,Ft+1),tt+=$t,Ft+=$t,++Tt);for(var Lt=1<<pr.b,vr=Lt-1,hr=rr($t,pr.b),Fr=pr.K,pr=pr.w+(Tt>>pr.b)*hr;Tt<qe;){var Vn=Fr,kn=pr,In=1;for(If(ct,tt,Ye,Ft-$t,1,Ye,Ft);In<$t;){var nn=(In&~vr)+Lt;nn>$t&&(nn=$t),(0,j[Vn[kn++]>>8&15])(ct,tt+ +In,Ye,Ft+In-$t,nn-In,Ye,Ft+In),In=nn}tt+=$t,Ft+=$t,++Tt&vr||(pr+=hr)}ut!=Ce.nc&&n(we,ye-Ut,we,ye+(ut-He-1)*Ut,Ut);break;case 1:for(Ut=ct,qe=tt,$t=(ct=Ce.Ea)-(Ft=ct&~(Ye=(tt=1<<Ce.b)-1)),Tt=rr(ct,Ce.b),Lt=Ce.K,Ce=Ce.w+(He>>Ce.b)*Tt;He<ut;){for(vr=Lt,hr=Ce,Fr=new Dt,pr=qe+Ft,Vn=qe+ct;qe<pr;)Ue(vr[hr++],Fr),I(Fr,Ut,qe,tt,we,ye),qe+=tt,ye+=tt;qe<Vn&&(Ue(vr[hr++],Fr),I(Fr,Ut,qe,$t,we,ye),qe+=$t,ye+=$t),++He&Ye||(Ce+=Tt)}break;case 3:if(ct==we&&tt==ye&&0<Ce.b){for(qe=we,ct=Ut=ye+(ut-He)*Ut-(Ft=(ut-He)*rr(Ce.Ea,Ce.b)),tt=we,Ye=ye,Tt=[],Ft=($t=Ft)-1;0<=Ft;--Ft)Tt[Ft]=tt[Ye+Ft];for(Ft=$t-1;0<=Ft;--Ft)qe[ct+Ft]=Tt[Ft];Co(Ce,He,ut,we,Ut,we,ye)}else Co(Ce,He,ut,ct,tt,we,ye)}ye=ee,we=q}we!=q&&n(ee,q,ye,we,xe)}function Pe(E,D){var q=E.V,ee=E.Ba+E.c*E.C,fe=D-E.C;if(e(D<=E.l.o),e(16>=fe),0<fe){var xe=E.l,ve=E.Ta,ye=E.Ua,we=xe.width;if(ge(E,fe,q,ee),fe=ye=[ye],e((q=E.C)<(ee=D)),e(xe.v<xe.va),ee>xe.o&&(ee=xe.o),q<xe.j){var Ce=xe.j-q;q=xe.j,fe[0]+=Ce*we}if(q>=ee?q=0:(fe[0]+=4*xe.v,xe.ka=q-xe.j,xe.U=xe.va-xe.v,xe.T=ee-q,q=1),q){if(ye=ye[0],11>(q=E.ca).S){var He=q.f.RGBA,ut=(ee=q.S,fe=xe.U,xe=xe.T,Ce=He.eb,He.A),ct=xe;for(He=He.fb+E.Ma*He.A;0<ct--;){var tt=ve,Ut=ye,Tt=fe,qe=Ce,Ye=He;switch(ee){case Lf:W(tt,Ut,Tt,qe,Ye);break;case ko:te(tt,Ut,Tt,qe,Ye);break;case iv:te(tt,Ut,Tt,qe,Ye),sr(qe,Ye,0,Tt,1,0);break;case Wy:Ee(tt,Ut,Tt,qe,Ye);break;case qc:Mt(tt,Ut,Tt,qe,Ye,1);break;case Ky:Mt(tt,Ut,Tt,qe,Ye,1),sr(qe,Ye,0,Tt,1,0);break;case av:Mt(tt,Ut,Tt,qe,Ye,0);break;case Xm:Mt(tt,Ut,Tt,qe,Ye,0),sr(qe,Ye,1,Tt,1,0);break;case Ym:se(tt,Ut,Tt,qe,Ye);break;case Yy:se(tt,Ut,Tt,qe,Ye),It(qe,Ye,Tt,1,0);break;case Mf:me(tt,Ut,Tt,qe,Ye);break;default:e(0)}ye+=we,He+=ut}E.Ma+=xe}else alert("todo:EmitRescaledRowsYUVA");e(E.Ma<=q.height)}}E.C=D,e(E.C<=E.i)}function Se(E){var D;if(0<E.ua)return 0;for(D=0;D<E.Wb;++D){var q=E.Ya[D].G,ee=E.Ya[D].H;if(0<q[1][ee[1]+0].g||0<q[2][ee[2]+0].g||0<q[3][ee[3]+0].g)return 0}return 1}function _e(E,D,q,ee,fe,xe){if(E.Z!=0){var ve=E.qd,ye=E.rd;for(e(kh[E.Z]!=null);D<q;++D)kh[E.Z](ve,ye,ee,fe,ee,fe,xe),ve=ee,ye=fe,fe+=xe;E.qd=ve,E.rd=ye}}function je(E,D){var q=E.l.ma,ee=q.Z==0||q.Z==1?E.l.j:E.C;if(ee=E.C<ee?ee:E.C,e(D<=E.l.o),D>ee){var fe=E.l.width,xe=q.ca,ve=q.tb+fe*ee,ye=E.V,we=E.Ba+E.c*ee,Ce=E.gc;e(E.ab==1),e(Ce[0].hc==3),xc(Ce[0],ee,D,ye,we,xe,ve),_e(q,ee,D,xe,ve,fe)}E.C=E.Ma=D}function ke(E,D,q,ee,fe,xe,ve){var ye=E.$/ee,we=E.$%ee,Ce=E.m,He=E.s,ut=q+E.$,ct=ut;fe=q+ee*fe;var tt=q+ee*xe,Ut=280+He.ua,Tt=E.Pb?ye:16777216,qe=0<He.ua?He.Wa:null,Ye=He.wc,Ft=ut<tt?Qn(He,we,ye):null;e(E.C<xe),e(tt<=fe);var $t=!1;e:for(;;){for(;$t||ut<tt;){var Lt=0;if(ye>=Tt){var vr=ut-q;e((Tt=E).Pb),Tt.wd=Tt.m,Tt.xd=vr,0<Tt.s.ua&&rt(Tt.s.Wa,Tt.s.vb),Tt=ye+Ff}if(we&Ye||(Ft=Qn(He,we,ye)),e(Ft!=null),Ft.Qb&&(D[ut]=Ft.qb,$t=!0),!$t)if(le(Ce),Ft.jc){Lt=Ce,vr=D;var hr=ut,Fr=Ft.pd[V(Lt)&si-1];e(Ft.jc),256>Fr.g?(K(Lt,Lt.u+Fr.g),vr[hr]=Fr.value,Lt=0):(K(Lt,Lt.u+Fr.g-256),e(256<=Fr.value),Lt=Fr.value),Lt==0&&($t=!0)}else Lt=Nn(Ft.G[0],Ft.H[0],Ce);if(Ce.h)break;if($t||256>Lt){if(!$t)if(Ft.nd)D[ut]=(Ft.qb|Lt<<8)>>>0;else{if(le(Ce),$t=Nn(Ft.G[1],Ft.H[1],Ce),le(Ce),vr=Nn(Ft.G[2],Ft.H[2],Ce),hr=Nn(Ft.G[3],Ft.H[3],Ce),Ce.h)break;D[ut]=(hr<<24|$t<<16|Lt<<8|vr)>>>0}if($t=!1,++ut,++we>=ee&&(we=0,++ye,ve!=null&&ye<=xe&&!(ye%16)&&ve(E,ye),qe!=null))for(;ct<ut;)Lt=D[ct++],qe.X[(506832829*Lt&4294967295)>>>qe.Mb]=Lt}else if(280>Lt){if(Lt=ps(Lt-256,Ce),vr=Nn(Ft.G[4],Ft.H[4],Ce),le(Ce),vr=pn(ee,vr=ps(vr,Ce)),Ce.h)break;if(ut-q<vr||fe-ut<Lt)break e;for(hr=0;hr<Lt;++hr)D[ut+hr]=D[ut+hr-vr];for(ut+=Lt,we+=Lt;we>=ee;)we-=ee,++ye,ve!=null&&ye<=xe&&!(ye%16)&&ve(E,ye);if(e(ut<=fe),we&Ye&&(Ft=Qn(He,we,ye)),qe!=null)for(;ct<ut;)Lt=D[ct++],qe.X[(506832829*Lt&4294967295)>>>qe.Mb]=Lt}else{if(!(Lt<Ut))break e;for($t=Lt-280,e(qe!=null);ct<ut;)Lt=D[ct++],qe.X[(506832829*Lt&4294967295)>>>qe.Mb]=Lt;Lt=ut,e(!($t>>>(vr=qe).Xa)),D[Lt]=vr.X[$t],$t=!0}$t||e(Ce.h==Y(Ce))}if(E.Pb&&Ce.h&&ut<fe)e(E.m.h),E.a=5,E.m=E.wd,E.$=E.xd,0<E.s.ua&&rt(E.s.vb,E.s.Wa);else{if(Ce.h)break e;ve!=null&&ve(E,ye>xe?xe:ye),E.a=0,E.$=ut-q}return 1}return E.a=3,0}function ot(E){e(E!=null),E.vc=null,E.yc=null,E.Ya=null;var D=E.Wa;D!=null&&(D.X=null),E.vb=null,e(E!=null)}function _t(){var E=new Th;return E==null?null:(E.a=0,E.xb=I5,Dn("Predictor","VP8LPredictors"),Dn("Predictor","VP8LPredictors_C"),Dn("PredictorAdd","VP8LPredictorsAdd"),Dn("PredictorAdd","VP8LPredictorsAdd_C"),Hc=Vt,I=ur,W=bt,te=br,se=gr,me=Lr,Ee=Tr,U.VP8LMapColor32b=gc,U.VP8LMapColor8b=xs,E)}function it(E,D,q,ee,fe){var xe=1,ve=[E],ye=[D],we=ee.m,Ce=ee.s,He=null,ut=0;e:for(;;){if(q)for(;xe&&Ne(we,1);){var ct=ve,tt=ye,Ut=ee,Tt=1,qe=Ut.m,Ye=Ut.gc[Ut.ab],Ft=Ne(qe,2);if(Ut.Oc&1<<Ft)xe=0;else{switch(Ut.Oc|=1<<Ft,Ye.hc=Ft,Ye.Ea=ct[0],Ye.nc=tt[0],Ye.K=[null],++Ut.ab,e(4>=Ut.ab),Ft){case 0:case 1:Ye.b=Ne(qe,3)+2,Tt=it(rr(Ye.Ea,Ye.b),rr(Ye.nc,Ye.b),0,Ut,Ye.K),Ye.K=Ye.K[0];break;case 3:var $t,Lt=Ne(qe,8)+1,vr=16<Lt?0:4<Lt?1:2<Lt?2:3;if(ct[0]=rr(Ye.Ea,vr),Ye.b=vr,$t=Tt=it(Lt,1,0,Ut,Ye.K)){var hr,Fr=Lt,pr=Ye,Vn=1<<(8>>pr.b),kn=i(Vn);if(kn==null)$t=0;else{var In=pr.K[0],nn=pr.w;for(kn[0]=pr.K[0][0],hr=1;hr<1*Fr;++hr)kn[hr]=Ot(In[nn+hr],kn[hr-1]);for(;hr<4*Vn;++hr)kn[hr]=0;pr.K[0]=null,pr.K[0]=kn,$t=1}}Tt=$t;break;case 2:break;default:e(0)}xe=Tt}}if(ve=ve[0],ye=ye[0],xe&&Ne(we,1)&&!(xe=1<=(ut=Ne(we,4))&&11>=ut)){ee.a=3;break e}var ta;if(ta=xe)t:{var Kn,Xr,fa,Cs=ee,yi=ve,Po=ye,Bn=ut,ao=q,Ml=Cs.m,vs=Cs.s,bi=[null],ks=1,yc=0,Zc=Kc[Bn];r:for(;;){if(ao&&Ne(Ml,1)){var Zi=Ne(Ml,3)+2,Fi=rr(yi,Zi),Ps=rr(Po,Zi),bc=Fi*Ps;if(!it(Fi,Ps,0,Cs,bi))break r;for(bi=bi[0],vs.xc=Zi,Kn=0;Kn<bc;++Kn){var Pd=bi[Kn]>>8&65535;bi[Kn]=Pd,Pd>=ks&&(ks=Pd+1)}}if(Ml.h)break r;for(Xr=0;5>Xr;++Xr){var li=Q0[Xr];!Xr&&0<Bn&&(li+=1<<Bn),yc<li&&(yc=li)}var Od=s(ks*Zc,L),Fl=ks,wi=s(Fl,Z);if(wi==null)var rp=null;else e(65536>=Fl),rp=wi;var wc=i(yc);if(rp==null||wc==null||Od==null){Cs.a=1;break r}var rn=Od;for(Kn=fa=0;Kn<ks;++Kn){var wn=rp[Kn],za=wn.G,Ph=wn.H,np=0,Dd=1,cv=0;for(Xr=0;5>Xr;++Xr){li=Q0[Xr],za[Xr]=rn,Ph[Xr]=fa,!Xr&&0<Bn&&(li+=1<<Bn);a:{var Hf,qf=li,rb=Cs,Ea=wc,M5=rn,F5=fa,nb=0,Oh=rb.m,YP=Ne(Oh,1);if(a(Ea,0,0,qf),YP){var B5=Ne(Oh,1)+1,U5=Ne(Oh,1),ab=Ne(Oh,U5==0?1:8);Ea[ab]=1,B5==2&&(Ea[ab=Ne(Oh,8)]=1);var Os=1}else{var Ai=i(19),uv=Ne(Oh,4)+4;if(19<uv){rb.a=3;var Gf=0;break a}for(Hf=0;Hf<uv;++Hf)Ai[sv[Hf]]=Ne(Oh,3);var tg=void 0,ap=void 0,Rd=rb,ib=Ai,rg=qf,sb=Ea,ob=0,Dh=Rd.m,z5=8,$5=s(128,L);n:for(;F($5,0,7,ib,19);){if(Ne(Dh,1)){var f4=2+2*Ne(Dh,3);if((tg=2+Ne(Dh,f4))>rg)break n}else tg=rg;for(ap=0;ap<rg&&tg--;){le(Dh);var V5=$5[0+(127&V(Dh))];K(Dh,Dh.u+V5.g);var Wf=V5.value;if(16>Wf)sb[ap++]=Wf,Wf!=0&&(z5=Wf);else{var p4=Wf==16,m4=Wf-16,g4=Jm[m4],H5=Ne(Dh,Gc[m4])+g4;if(ap+H5>rg)break n;for(var x4=p4?z5:0;0<H5--;)sb[ap++]=x4}}ob=1;break n}ob||(Rd.a=3),Os=ob}(Os=Os&&!Oh.h)&&(nb=F(M5,F5,8,Ea,qf)),Os&&nb!=0?Gf=nb:(rb.a=3,Gf=0)}if(Gf==0)break r;if(Dd&&Xy[Xr]==1&&(Dd=rn[fa].g==0),np+=rn[fa].g,fa+=Gf,3>=Xr){var ip,lb=wc[0];for(ip=1;ip<li;++ip)wc[ip]>lb&&(lb=wc[ip]);cv+=lb}}if(wn.nd=Dd,wn.Qb=0,Dd&&(wn.qb=(za[3][Ph[3]+0].value<<24|za[1][Ph[1]+0].value<<16|za[2][Ph[2]+0].value)>>>0,np==0&&256>za[0][Ph[0]+0].value&&(wn.Qb=1,wn.qb+=za[0][Ph[0]+0].value<<8)),wn.jc=!wn.Qb&&6>cv,wn.jc){var dv,Id=wn;for(dv=0;dv<si;++dv){var Rh=dv,Ih=Id.pd[Rh],cb=Id.G[0][Id.H[0]+Rh];256<=cb.value?(Ih.g=cb.g+256,Ih.value=cb.value):(Ih.g=0,Ih.value=0,Rh>>=Fa(cb,8,Ih),Rh>>=Fa(Id.G[1][Id.H[1]+Rh],16,Ih),Rh>>=Fa(Id.G[2][Id.H[2]+Rh],0,Ih),Fa(Id.G[3][Id.H[3]+Rh],24,Ih))}}}vs.vc=bi,vs.Wb=ks,vs.Ya=rp,vs.yc=Od,ta=1;break t}ta=0}if(!(xe=ta)){ee.a=3;break e}if(0<ut){if(Ce.ua=1<<ut,!St(Ce.Wa,ut)){ee.a=1,xe=0;break e}}else Ce.ua=0;var ub=ee,sp=ve,v4=ye,ng=ub.s,ag=ng.xc;if(ub.c=sp,ub.i=v4,ng.md=rr(sp,ag),ng.wc=ag==0?-1:(1<<ag)-1,q){ee.xb=Bf;break e}if((He=i(ve*ye))==null){ee.a=1,xe=0;break e}xe=(xe=ke(ee,He,0,ve,ye,ye,null))&&!we.h;break e}return xe?(fe!=null?fe[0]=He:(e(He==null),e(q)),ee.$=0,q||ot(Ce)):ot(Ce),xe}function dt(E,D){var q=E.c*E.i,ee=q+D+16*D;return e(E.c<=D),E.V=i(ee),E.V==null?(E.Ta=null,E.Ua=0,E.a=1,0):(E.Ta=E.V,E.Ua=E.Ba+q+D,1)}function lt(E,D){var q=E.C,ee=D-q,fe=E.V,xe=E.Ba+E.c*q;for(e(D<=E.l.o);0<ee;){var ve=16<ee?16:ee,ye=E.l.ma,we=E.l.width,Ce=we*ve,He=ye.ca,ut=ye.tb+we*q,ct=E.Ta,tt=E.Ua;ge(E,ve,fe,xe),mr(ct,tt,He,ut,Ce),_e(ye,q,q+ve,He,ut,we),ee-=ve,fe+=ve*E.c,q+=ve}e(q==D),E.C=E.Ma=D}function Gt(){this.ub=this.yd=this.td=this.Rb=0}function ar(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Xt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Yt(){this.Yb=(function(){var E=[];return(function D(q,ee,fe){for(var xe=fe[ee],ve=0;ve<xe&&(q.push(fe.length>ee+1?[]:0),!(fe.length<ee+1));ve++)D(q[ve],ee+1,fe)})(E,0,[3,11]),E})()}function lr(){this.jb=i(3),this.Wc=o([4,8],Yt),this.Xc=o([4,17],Yt)}function Ar(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function bn(){this.ld=this.La=this.dd=this.tc=0}function Rn(){this.Na=this.la=0}function Gn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Wi(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Js(){this.uc=this.M=this.Nb=0,this.wa=Array(new bn),this.Y=0,this.ya=Array(new Wi),this.aa=0,this.l=new oc}function Cl(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Zs(){this.cb=this.a=0,this.sc="",this.m=new ne,this.Od=new Gt,this.Kc=new ar,this.ed=new Ar,this.Qa=new Xt,this.Ic=this.$c=this.Aa=0,this.D=new Js,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ne),this.ia=0,this.pb=s(4,Gn),this.Pa=new lr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Cl),this.Hd=0,this.rb=Array(new Rn),this.sb=0,this.wa=Array(new bn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Wi),this.L=this.aa=0,this.gd=o([4,2],bn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function oc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qr(){var E=new Zs;return E!=null&&(E.a=0,E.sc="OK",E.cb=0,E.Xb=0,vc||(vc=Eu)),E}function ua(E,D,q){return E.a==0&&(E.a=D,E.sc=q,E.cb=0),0}function Qo(E,D,q){return 3<=q&&E[D+0]==157&&E[D+1]==1&&E[D+2]==42}function Ki(E,D){if(E==null)return 0;if(E.a=0,E.sc="OK",D==null)return ua(E,2,"null VP8Io passed to VP8GetHeaders()");var q=D.data,ee=D.w,fe=D.ha;if(4>fe)return ua(E,7,"Truncated header.");var xe=q[ee+0]|q[ee+1]<<8|q[ee+2]<<16,ve=E.Od;if(ve.Rb=!(1&xe),ve.td=xe>>1&7,ve.yd=xe>>4&1,ve.ub=xe>>5,3<ve.td)return ua(E,3,"Incorrect keyframe parameters.");if(!ve.yd)return ua(E,4,"Frame not displayable.");ee+=3,fe-=3;var ye=E.Kc;if(ve.Rb){if(7>fe)return ua(E,7,"cannot parse picture header");if(!Qo(q,ee,fe))return ua(E,3,"Bad code word");ye.c=16383&(q[ee+4]<<8|q[ee+3]),ye.Td=q[ee+4]>>6,ye.i=16383&(q[ee+6]<<8|q[ee+5]),ye.Ud=q[ee+6]>>6,ee+=7,fe-=7,E.za=ye.c+15>>4,E.Ub=ye.i+15>>4,D.width=ye.c,D.height=ye.i,D.Da=0,D.j=0,D.v=0,D.va=D.width,D.o=D.height,D.da=0,D.ib=D.width,D.hb=D.height,D.U=D.width,D.T=D.height,a((xe=E.Pa).jb,0,255,xe.jb.length),e((xe=E.Qa)!=null),xe.Cb=0,xe.Bb=0,xe.Fb=1,a(xe.Zb,0,0,xe.Zb.length),a(xe.Lb,0,0,xe.Lb)}if(ve.ub>fe)return ua(E,7,"bad partition length");pe(xe=E.m,q,ee,ve.ub),ee+=ve.ub,fe-=ve.ub,ve.Rb&&(ye.Ld=De(xe),ye.Kd=De(xe)),ye=E.Qa;var we,Ce=E.Pa;if(e(xe!=null),e(ye!=null),ye.Cb=De(xe),ye.Cb){if(ye.Bb=De(xe),De(xe)){for(ye.Fb=De(xe),we=0;4>we;++we)ye.Zb[we]=De(xe)?X(xe,7):0;for(we=0;4>we;++we)ye.Lb[we]=De(xe)?X(xe,6):0}if(ye.Bb)for(we=0;3>we;++we)Ce.jb[we]=De(xe)?Q(xe,8):255}else ye.Bb=0;if(xe.Ka)return ua(E,3,"cannot parse segment header");if((ye=E.ed).zd=De(xe),ye.Tb=Q(xe,6),ye.wb=Q(xe,3),ye.Pc=De(xe),ye.Pc&&De(xe)){for(Ce=0;4>Ce;++Ce)De(xe)&&(ye.vd[Ce]=X(xe,6));for(Ce=0;4>Ce;++Ce)De(xe)&&(ye.od[Ce]=X(xe,6))}if(E.L=ye.Tb==0?0:ye.zd?1:2,xe.Ka)return ua(E,3,"cannot parse filter header");var He=fe;if(fe=we=ee,ee=we+He,ye=He,E.Xb=(1<<Q(E.m,2))-1,He<3*(Ce=E.Xb))q=7;else{for(we+=3*Ce,ye-=3*Ce,He=0;He<Ce;++He){var ut=q[fe+0]|q[fe+1]<<8|q[fe+2]<<16;ut>ye&&(ut=ye),pe(E.Jc[+He],q,we,ut),we+=ut,ye-=ut,fe+=3}pe(E.Jc[+Ce],q,we,ye),q=we<ee?0:5}if(q!=0)return ua(E,q,"cannot parse partitions");for(q=Q(we=E.m,7),fe=De(we)?X(we,4):0,ee=De(we)?X(we,4):0,ye=De(we)?X(we,4):0,Ce=De(we)?X(we,4):0,we=De(we)?X(we,4):0,He=E.Qa,ut=0;4>ut;++ut){if(He.Cb){var ct=He.Zb[ut];He.Fb||(ct+=q)}else{if(0<ut){E.pb[ut]=E.pb[0];continue}ct=q}var tt=E.pb[ut];tt.Sc[0]=Yc[jo(ct+fe,127)],tt.Sc[1]=Xc[jo(ct+0,127)],tt.Eb[0]=2*Yc[jo(ct+ee,127)],tt.Eb[1]=101581*Xc[jo(ct+ye,127)]>>16,8>tt.Eb[1]&&(tt.Eb[1]=8),tt.Qc[0]=Yc[jo(ct+Ce,117)],tt.Qc[1]=Xc[jo(ct+we,127)],tt.lc=ct+we}if(!ve.Rb)return ua(E,4,"Not a key frame.");for(De(xe),ve=E.Pa,q=0;4>q;++q){for(fe=0;8>fe;++fe)for(ee=0;3>ee;++ee)for(ye=0;11>ye;++ye)Ce=de(xe,Ua[q][fe][ee][ye])?Q(xe,8):d4[q][fe][ee][ye],ve.Wc[q][fe].Yb[ee][ye]=Ce;for(fe=0;17>fe;++fe)ve.Xc[q][fe]=ve.Wc[q][Cn[fe]]}return E.kc=De(xe),E.kc&&(E.Bd=Q(xe,8)),E.cb=1}function Eu(E,D,q,ee,fe,xe,ve){var ye=D[fe].Yb[q];for(q=0;16>fe;++fe){if(!de(E,ye[q+0]))return fe;for(;!de(E,ye[q+1]);)if(ye=D[++fe].Yb[0],q=0,fe==16)return 16;var we=D[fe+1].Yb;if(de(E,ye[q+2])){var Ce=E,He=0;if(de(Ce,(ct=ye)[(ut=q)+3]))if(de(Ce,ct[ut+6])){for(ye=0,ut=2*(He=de(Ce,ct[ut+8]))+(ct=de(Ce,ct[ut+9+He])),He=0,ct=u4[ut];ct[ye];++ye)He+=He+de(Ce,ct[ye]);He+=3+(8<<ut)}else de(Ce,ct[ut+7])?(He=7+2*de(Ce,165),He+=de(Ce,145)):He=5+de(Ce,159);else He=de(Ce,ct[ut+4])?3+de(Ce,ct[ut+5]):2;ye=we[2]}else He=1,ye=we[1];we=ve+R5[fe],0>(Ce=E).b&&Ae(Ce);var ut,ct=Ce.b,tt=(ut=Ce.Ca>>1)-(Ce.I>>ct)>>31;--Ce.b,Ce.Ca+=tt,Ce.Ca|=1,Ce.I-=(ut+1&tt)<<ct,xe[we]=((He^tt)-tt)*ee[(0<fe)+0]}return 16}function Nf(E){var D=E.rb[E.sb-1];D.la=0,D.Na=0,a(E.zc,0,0,E.zc.length),E.ja=0}function Ef(E,D){if(E==null)return 0;if(D==null)return ua(E,2,"NULL VP8Io parameter in VP8Decode().");if(!E.cb&&!Ki(E,D))return 0;if(e(E.cb),D.ac==null||D.ac(D)){D.ob&&(E.L=0);var q=eg[E.L];if(E.L==2?(E.yb=0,E.zb=0):(E.yb=D.v-q>>4,E.zb=D.j-q>>4,0>E.yb&&(E.yb=0),0>E.zb&&(E.zb=0)),E.Va=D.o+15+q>>4,E.Hb=D.va+15+q>>4,E.Hb>E.za&&(E.Hb=E.za),E.Va>E.Ub&&(E.Va=E.Ub),0<E.L){var ee=E.ed;for(q=0;4>q;++q){var fe;if(E.Qa.Cb){var xe=E.Qa.Lb[q];E.Qa.Fb||(xe+=ee.Tb)}else xe=ee.Tb;for(fe=0;1>=fe;++fe){var ve=E.gd[q][fe],ye=xe;if(ee.Pc&&(ye+=ee.vd[0],fe&&(ye+=ee.od[0])),0<(ye=0>ye?0:63<ye?63:ye)){var we=ye;0<ee.wb&&(we=4<ee.wb?we>>2:we>>1)>9-ee.wb&&(we=9-ee.wb),1>we&&(we=1),ve.dd=we,ve.tc=2*ye+we,ve.ld=40<=ye?2:15<=ye?1:0}else ve.tc=0;ve.La=fe}}}q=0}else ua(E,6,"Frame setup failed"),q=E.a;if(q=q==0){if(q){E.$c=0,0<E.Aa||(E.Ic=lv);e:{q=E.Ic,ee=4*(we=E.za);var Ce=32*we,He=we+1,ut=0<E.L?we*(0<E.Aa?2:1):0,ct=(E.Aa==2?2:1)*we;if((ve=ee+832+(fe=3*(16*q+eg[E.L])/2*Ce)+(xe=E.Fa!=null&&0<E.Fa.length?E.Kc.c*E.Kc.i:0))!=ve)q=0;else{if(ve>E.Vb){if(E.Vb=0,E.Ec=i(ve),E.Fc=0,E.Ec==null){q=ua(E,1,"no memory during frame initialization.");break e}E.Vb=ve}ve=E.Ec,ye=E.Fc,E.Ac=ve,E.Bc=ye,ye+=ee,E.Gd=s(Ce,Cl),E.Hd=0,E.rb=s(He+1,Rn),E.sb=1,E.wa=ut?s(ut,bn):null,E.Y=0,E.D.Nb=0,E.D.wa=E.wa,E.D.Y=E.Y,0<E.Aa&&(E.D.Y+=we),e(!0),E.oc=ve,E.pc=ye,ye+=832,E.ya=s(ct,Wi),E.aa=0,E.D.ya=E.ya,E.D.aa=E.aa,E.Aa==2&&(E.D.aa+=we),E.R=16*we,E.B=8*we,we=(Ce=eg[E.L])*E.R,Ce=Ce/2*E.B,E.sa=ve,E.ta=ye+we,E.qa=E.sa,E.ra=E.ta+16*q*E.R+Ce,E.Ha=E.qa,E.Ia=E.ra+8*q*E.B+Ce,E.$c=0,ye+=fe,E.mb=xe?ve:null,E.nb=xe?ye:null,e(ye+xe<=E.Fc+E.Vb),Nf(E),a(E.Ac,E.Bc,0,ee),q=1}}if(q){if(D.ka=0,D.y=E.sa,D.O=E.ta,D.f=E.qa,D.N=E.ra,D.ea=E.Ha,D.Vd=E.Ia,D.fa=E.R,D.Rc=E.B,D.F=null,D.J=0,!oi){for(q=-255;255>=q;++q)Sr[255+q]=0>q?-q:q;for(q=-1020;1020>=q;++q)Kr[1020+q]=-128>q?-128:127<q?127:q;for(q=-112;112>=q;++q)xi[112+q]=-16>q?-16:15<q?15:q;for(q=-255;510>=q;++q)$r[255+q]=0>q?0:255<q?255:q;oi=1}Ie=yh,ze=Tf,et=Ad,Me=cc,Ze=jf,Fe=lc,Ve=Of,Xe=zc,Je=Km,Qe=X0,st=Nd,ht=ju,Et=$c,Rt=Df,nr=Sd,cr=Il,Zt=nl,Qt=Pf,vi[0]=Ts,vi[1]=nv,vi[2]=da,vi[3]=tl,vi[4]=Tu,vi[5]=ai,vi[6]=Bc,vi[7]=wh,vi[8]=Ol,vi[9]=js,il[0]=kl,il[1]=Y0,il[2]=dc,il[3]=Cf,il[4]=ea,il[5]=Pl,il[6]=bh,Du[0]=rl,Du[1]=Sn,Du[2]=kf,Du[3]=Uc,Du[4]=_d,Du[5]=Ah,Du[6]=Ja,q=1}else q=0}q&&(q=(function(tt,Ut){for(tt.M=0;tt.M<tt.Va;++tt.M){var Tt,qe=tt.Jc[tt.M&tt.Xb],Ye=tt.m,Ft=tt;for(Tt=0;Tt<Ft.za;++Tt){var $t=Ye,Lt=Ft,vr=Lt.Ac,hr=Lt.Bc+4*Tt,Fr=Lt.zc,pr=Lt.ya[Lt.aa+Tt];if(Lt.Qa.Bb?pr.$b=de($t,Lt.Pa.jb[0])?2+de($t,Lt.Pa.jb[2]):de($t,Lt.Pa.jb[1]):pr.$b=0,Lt.kc&&(pr.Ad=de($t,Lt.Bd)),pr.Za=!de($t,145)+0,pr.Za){var Vn=pr.Ob,kn=0;for(Lt=0;4>Lt;++Lt){var In,nn=Fr[0+Lt];for(In=0;4>In;++In){nn=to[vr[hr+In]][nn];for(var ta=Jy[de($t,nn[0])];0<ta;)ta=Jy[2*ta+de($t,nn[ta])];nn=-ta,vr[hr+In]=nn}n(Vn,kn,vr,hr,4),kn+=4,Fr[0+Lt]=nn}}else nn=de($t,156)?de($t,128)?1:3:de($t,163)?2:0,pr.Ob[0]=nn,a(vr,hr,nn,4),a(Fr,0,nn,4);pr.Dd=de($t,142)?de($t,114)?de($t,183)?1:3:2:0}if(Ft.m.Ka)return ua(tt,7,"Premature end-of-partition0 encountered.");for(;tt.ja<tt.za;++tt.ja){if(Ft=qe,$t=(Ye=tt).rb[Ye.sb-1],vr=Ye.rb[Ye.sb+Ye.ja],Tt=Ye.ya[Ye.aa+Ye.ja],hr=Ye.kc?Tt.Ad:0)$t.la=vr.la=0,Tt.Za||($t.Na=vr.Na=0),Tt.Hc=0,Tt.Gc=0,Tt.ia=0;else{var Kn,Xr;if($t=vr,vr=Ft,hr=Ye.Pa.Xc,Fr=Ye.ya[Ye.aa+Ye.ja],pr=Ye.pb[Fr.$b],Lt=Fr.ad,Vn=0,kn=Ye.rb[Ye.sb-1],nn=In=0,a(Lt,Vn,0,384),Fr.Za)var fa=0,Cs=hr[3];else{ta=i(16);var yi=$t.Na+kn.Na;if(yi=vc(vr,hr[1],yi,pr.Eb,0,ta,0),$t.Na=kn.Na=(0<yi)+0,1<yi)Ie(ta,0,Lt,Vn);else{var Po=ta[0]+3>>3;for(ta=0;256>ta;ta+=16)Lt[Vn+ta]=Po}fa=1,Cs=hr[0]}var Bn=15&$t.la,ao=15&kn.la;for(ta=0;4>ta;++ta){var Ml=1&ao;for(Po=Xr=0;4>Po;++Po)Bn=Bn>>1|(Ml=(yi=vc(vr,Cs,yi=Ml+(1&Bn),pr.Sc,fa,Lt,Vn))>fa)<<7,Xr=Xr<<2|(3<yi?3:1<yi?2:Lt[Vn+0]!=0),Vn+=16;Bn>>=4,ao=ao>>1|Ml<<7,In=(In<<8|Xr)>>>0}for(Cs=Bn,fa=ao>>4,Kn=0;4>Kn;Kn+=2){for(Xr=0,Bn=$t.la>>4+Kn,ao=kn.la>>4+Kn,ta=0;2>ta;++ta){for(Ml=1&ao,Po=0;2>Po;++Po)yi=Ml+(1&Bn),Bn=Bn>>1|(Ml=0<(yi=vc(vr,hr[2],yi,pr.Qc,0,Lt,Vn)))<<3,Xr=Xr<<2|(3<yi?3:1<yi?2:Lt[Vn+0]!=0),Vn+=16;Bn>>=2,ao=ao>>1|Ml<<5}nn|=Xr<<4*Kn,Cs|=Bn<<4<<Kn,fa|=(240&ao)<<Kn}$t.la=Cs,kn.la=fa,Fr.Hc=In,Fr.Gc=nn,Fr.ia=43690&nn?0:pr.ia,hr=!(In|nn)}if(0<Ye.L&&(Ye.wa[Ye.Y+Ye.ja]=Ye.gd[Tt.$b][Tt.Za],Ye.wa[Ye.Y+Ye.ja].La|=!hr),Ft.Ka)return ua(tt,7,"Premature end-of-file encountered.")}if(Nf(tt),Ye=Ut,Ft=1,Tt=(qe=tt).D,$t=0<qe.L&&qe.M>=qe.zb&&qe.M<=qe.Va,qe.Aa==0)e:{if(Tt.M=qe.M,Tt.uc=$t,Ch(qe,Tt),Ft=1,Tt=(Xr=qe.D).Nb,$t=(nn=eg[qe.L])*qe.R,vr=nn/2*qe.B,ta=16*Tt*qe.R,Po=8*Tt*qe.B,hr=qe.sa,Fr=qe.ta-$t+ta,pr=qe.qa,Lt=qe.ra-vr+Po,Vn=qe.Ha,kn=qe.Ia-vr+Po,ao=(Bn=Xr.M)==0,In=Bn>=qe.Va-1,qe.Aa==2&&Ch(qe,Xr),Xr.uc)for(Ml=(yi=qe).D.M,e(yi.D.uc),Xr=yi.yb;Xr<yi.Hb;++Xr){fa=Xr,Cs=Ml;var vs=(bi=(li=yi).D).Nb;Kn=li.R;var bi=bi.wa[bi.Y+fa],ks=li.sa,yc=li.ta+16*vs*Kn+16*fa,Zc=bi.dd,Zi=bi.tc;if(Zi!=0)if(e(3<=Zi),li.L==1)0<fa&&cr(ks,yc,Kn,Zi+4),bi.La&&Qt(ks,yc,Kn,Zi),0<Cs&&nr(ks,yc,Kn,Zi+4),bi.La&&Zt(ks,yc,Kn,Zi);else{var Fi=li.B,Ps=li.qa,bc=li.ra+8*vs*Fi+8*fa,Pd=li.Ha,li=li.Ia+8*vs*Fi+8*fa;vs=bi.ld,0<fa&&(Xe(ks,yc,Kn,Zi+4,Zc,vs),Qe(Ps,bc,Pd,li,Fi,Zi+4,Zc,vs)),bi.La&&(ht(ks,yc,Kn,Zi,Zc,vs),Rt(Ps,bc,Pd,li,Fi,Zi,Zc,vs)),0<Cs&&(Ve(ks,yc,Kn,Zi+4,Zc,vs),Je(Ps,bc,Pd,li,Fi,Zi+4,Zc,vs)),bi.La&&(st(ks,yc,Kn,Zi,Zc,vs),Et(Ps,bc,Pd,li,Fi,Zi,Zc,vs))}}if(qe.ia&&alert("todo:DitherRow"),Ye.put!=null){if(Xr=16*Bn,Bn=16*(Bn+1),ao?(Ye.y=qe.sa,Ye.O=qe.ta+ta,Ye.f=qe.qa,Ye.N=qe.ra+Po,Ye.ea=qe.Ha,Ye.W=qe.Ia+Po):(Xr-=nn,Ye.y=hr,Ye.O=Fr,Ye.f=pr,Ye.N=Lt,Ye.ea=Vn,Ye.W=kn),In||(Bn-=nn),Bn>Ye.o&&(Bn=Ye.o),Ye.F=null,Ye.J=null,qe.Fa!=null&&0<qe.Fa.length&&Xr<Bn&&(Ye.J=jh(qe,Ye,Xr,Bn-Xr),Ye.F=qe.mb,Ye.F==null&&Ye.F.length==0)){Ft=ua(qe,3,"Could not decode alpha data.");break e}Xr<Ye.j&&(nn=Ye.j-Xr,Xr=Ye.j,e(!(1&nn)),Ye.O+=qe.R*nn,Ye.N+=qe.B*(nn>>1),Ye.W+=qe.B*(nn>>1),Ye.F!=null&&(Ye.J+=Ye.width*nn)),Xr<Bn&&(Ye.O+=Ye.v,Ye.N+=Ye.v>>1,Ye.W+=Ye.v>>1,Ye.F!=null&&(Ye.J+=Ye.v),Ye.ka=Xr-Ye.j,Ye.U=Ye.va-Ye.v,Ye.T=Bn-Xr,Ft=Ye.put(Ye))}Tt+1!=qe.Ic||In||(n(qe.sa,qe.ta-$t,hr,Fr+16*qe.R,$t),n(qe.qa,qe.ra-vr,pr,Lt+8*qe.B,vr),n(qe.Ha,qe.Ia-vr,Vn,kn+8*qe.B,vr))}if(!Ft)return ua(tt,6,"Output aborted.")}return 1})(E,D)),D.bc!=null&&D.bc(D),q&=1}return q?(E.cb=0,q):0}function el(E,D,q,ee,fe){fe=E[D+q+32*ee]+(fe>>3),E[D+q+32*ee]=-256&fe?0>fe?0:255:fe}function En(E,D,q,ee,fe,xe){el(E,D,0,q,ee+fe),el(E,D,1,q,ee+xe),el(E,D,2,q,ee-xe),el(E,D,3,q,ee-fe)}function Yi(E){return(20091*E>>16)+E}function gi(E,D,q,ee){var fe,xe=0,ve=i(16);for(fe=0;4>fe;++fe){var ye=E[D+0]+E[D+8],we=E[D+0]-E[D+8],Ce=(35468*E[D+4]>>16)-Yi(E[D+12]),He=Yi(E[D+4])+(35468*E[D+12]>>16);ve[xe+0]=ye+He,ve[xe+1]=we+Ce,ve[xe+2]=we-Ce,ve[xe+3]=ye-He,xe+=4,D++}for(fe=xe=0;4>fe;++fe)ye=(E=ve[xe+0]+4)+ve[xe+8],we=E-ve[xe+8],Ce=(35468*ve[xe+4]>>16)-Yi(ve[xe+12]),el(q,ee,0,0,ye+(He=Yi(ve[xe+4])+(35468*ve[xe+12]>>16))),el(q,ee,1,0,we+Ce),el(q,ee,2,0,we-Ce),el(q,ee,3,0,ye-He),xe++,ee+=32}function lc(E,D,q,ee){var fe=E[D+0]+4,xe=35468*E[D+4]>>16,ve=Yi(E[D+4]),ye=35468*E[D+1]>>16;En(q,ee,0,fe+ve,E=Yi(E[D+1]),ye),En(q,ee,1,fe+xe,E,ye),En(q,ee,2,fe-xe,E,ye),En(q,ee,3,fe-ve,E,ye)}function Tf(E,D,q,ee,fe){gi(E,D,q,ee),fe&&gi(E,D+16,q,ee+4)}function Ad(E,D,q,ee){ze(E,D+0,q,ee,1),ze(E,D+32,q,ee+128,1)}function cc(E,D,q,ee){var fe;for(E=E[D+0]+4,fe=0;4>fe;++fe)for(D=0;4>D;++D)el(q,ee,D,fe,E)}function jf(E,D,q,ee){E[D+0]&&Me(E,D+0,q,ee),E[D+16]&&Me(E,D+16,q,ee+4),E[D+32]&&Me(E,D+32,q,ee+128),E[D+48]&&Me(E,D+48,q,ee+128+4)}function yh(E,D,q,ee){var fe,xe=i(16);for(fe=0;4>fe;++fe){var ve=E[D+0+fe]+E[D+12+fe],ye=E[D+4+fe]+E[D+8+fe],we=E[D+4+fe]-E[D+8+fe],Ce=E[D+0+fe]-E[D+12+fe];xe[0+fe]=ve+ye,xe[8+fe]=ve-ye,xe[4+fe]=Ce+we,xe[12+fe]=Ce-we}for(fe=0;4>fe;++fe)ve=(E=xe[0+4*fe]+3)+xe[3+4*fe],ye=xe[1+4*fe]+xe[2+4*fe],we=xe[1+4*fe]-xe[2+4*fe],Ce=E-xe[3+4*fe],q[ee+0]=ve+ye>>3,q[ee+16]=Ce+we>>3,q[ee+32]=ve-ye>>3,q[ee+48]=Ce-we>>3,ee+=64}function uc(E,D,q){var ee,fe=D-32,xe=$n,ve=255-E[fe-1];for(ee=0;ee<q;++ee){var ye,we=xe,Ce=ve+E[D-1];for(ye=0;ye<q;++ye)E[D+ye]=we[Ce+E[fe+ye]];D+=32}}function nv(E,D){uc(E,D,4)}function Sn(E,D){uc(E,D,8)}function Y0(E,D){uc(E,D,16)}function dc(E,D){var q;for(q=0;16>q;++q)n(E,D+32*q,E,D-32,16)}function Cf(E,D){var q;for(q=16;0<q;--q)a(E,D,E[D-1],16),D+=32}function Xi(E,D,q){var ee;for(ee=0;16>ee;++ee)a(D,q+32*ee,E,16)}function kl(E,D){var q,ee=16;for(q=0;16>q;++q)ee+=E[D-1+32*q]+E[D+q-32];Xi(ee>>5,E,D)}function ea(E,D){var q,ee=8;for(q=0;16>q;++q)ee+=E[D-1+32*q];Xi(ee>>4,E,D)}function Pl(E,D){var q,ee=8;for(q=0;16>q;++q)ee+=E[D+q-32];Xi(ee>>4,E,D)}function bh(E,D){Xi(128,E,D)}function Ur(E,D,q){return E+2*D+q+2>>2}function da(E,D){var q,ee=D-32;for(ee=new Uint8Array([Ur(E[ee-1],E[ee+0],E[ee+1]),Ur(E[ee+0],E[ee+1],E[ee+2]),Ur(E[ee+1],E[ee+2],E[ee+3]),Ur(E[ee+2],E[ee+3],E[ee+4])]),q=0;4>q;++q)n(E,D+32*q,ee,0,ee.length)}function tl(E,D){var q=E[D-1],ee=E[D-1+32],fe=E[D-1+64],xe=E[D-1+96];Le(E,D+0,16843009*Ur(E[D-1-32],q,ee)),Le(E,D+32,16843009*Ur(q,ee,fe)),Le(E,D+64,16843009*Ur(ee,fe,xe)),Le(E,D+96,16843009*Ur(fe,xe,xe))}function Ts(E,D){var q,ee=4;for(q=0;4>q;++q)ee+=E[D+q-32]+E[D-1+32*q];for(ee>>=3,q=0;4>q;++q)a(E,D+32*q,ee,4)}function Tu(E,D){var q=E[D-1+0],ee=E[D-1+32],fe=E[D-1+64],xe=E[D-1-32],ve=E[D+0-32],ye=E[D+1-32],we=E[D+2-32],Ce=E[D+3-32];E[D+0+96]=Ur(ee,fe,E[D-1+96]),E[D+1+96]=E[D+0+64]=Ur(q,ee,fe),E[D+2+96]=E[D+1+64]=E[D+0+32]=Ur(xe,q,ee),E[D+3+96]=E[D+2+64]=E[D+1+32]=E[D+0+0]=Ur(ve,xe,q),E[D+3+64]=E[D+2+32]=E[D+1+0]=Ur(ye,ve,xe),E[D+3+32]=E[D+2+0]=Ur(we,ye,ve),E[D+3+0]=Ur(Ce,we,ye)}function Bc(E,D){var q=E[D+1-32],ee=E[D+2-32],fe=E[D+3-32],xe=E[D+4-32],ve=E[D+5-32],ye=E[D+6-32],we=E[D+7-32];E[D+0+0]=Ur(E[D+0-32],q,ee),E[D+1+0]=E[D+0+32]=Ur(q,ee,fe),E[D+2+0]=E[D+1+32]=E[D+0+64]=Ur(ee,fe,xe),E[D+3+0]=E[D+2+32]=E[D+1+64]=E[D+0+96]=Ur(fe,xe,ve),E[D+3+32]=E[D+2+64]=E[D+1+96]=Ur(xe,ve,ye),E[D+3+64]=E[D+2+96]=Ur(ve,ye,we),E[D+3+96]=Ur(ye,we,we)}function ai(E,D){var q=E[D-1+0],ee=E[D-1+32],fe=E[D-1+64],xe=E[D-1-32],ve=E[D+0-32],ye=E[D+1-32],we=E[D+2-32],Ce=E[D+3-32];E[D+0+0]=E[D+1+64]=xe+ve+1>>1,E[D+1+0]=E[D+2+64]=ve+ye+1>>1,E[D+2+0]=E[D+3+64]=ye+we+1>>1,E[D+3+0]=we+Ce+1>>1,E[D+0+96]=Ur(fe,ee,q),E[D+0+64]=Ur(ee,q,xe),E[D+0+32]=E[D+1+96]=Ur(q,xe,ve),E[D+1+32]=E[D+2+96]=Ur(xe,ve,ye),E[D+2+32]=E[D+3+96]=Ur(ve,ye,we),E[D+3+32]=Ur(ye,we,Ce)}function wh(E,D){var q=E[D+0-32],ee=E[D+1-32],fe=E[D+2-32],xe=E[D+3-32],ve=E[D+4-32],ye=E[D+5-32],we=E[D+6-32],Ce=E[D+7-32];E[D+0+0]=q+ee+1>>1,E[D+1+0]=E[D+0+64]=ee+fe+1>>1,E[D+2+0]=E[D+1+64]=fe+xe+1>>1,E[D+3+0]=E[D+2+64]=xe+ve+1>>1,E[D+0+32]=Ur(q,ee,fe),E[D+1+32]=E[D+0+96]=Ur(ee,fe,xe),E[D+2+32]=E[D+1+96]=Ur(fe,xe,ve),E[D+3+32]=E[D+2+96]=Ur(xe,ve,ye),E[D+3+64]=Ur(ve,ye,we),E[D+3+96]=Ur(ye,we,Ce)}function js(E,D){var q=E[D-1+0],ee=E[D-1+32],fe=E[D-1+64],xe=E[D-1+96];E[D+0+0]=q+ee+1>>1,E[D+2+0]=E[D+0+32]=ee+fe+1>>1,E[D+2+32]=E[D+0+64]=fe+xe+1>>1,E[D+1+0]=Ur(q,ee,fe),E[D+3+0]=E[D+1+32]=Ur(ee,fe,xe),E[D+3+32]=E[D+1+64]=Ur(fe,xe,xe),E[D+3+64]=E[D+2+64]=E[D+0+96]=E[D+1+96]=E[D+2+96]=E[D+3+96]=xe}function Ol(E,D){var q=E[D-1+0],ee=E[D-1+32],fe=E[D-1+64],xe=E[D-1+96],ve=E[D-1-32],ye=E[D+0-32],we=E[D+1-32],Ce=E[D+2-32];E[D+0+0]=E[D+2+32]=q+ve+1>>1,E[D+0+32]=E[D+2+64]=ee+q+1>>1,E[D+0+64]=E[D+2+96]=fe+ee+1>>1,E[D+0+96]=xe+fe+1>>1,E[D+3+0]=Ur(ye,we,Ce),E[D+2+0]=Ur(ve,ye,we),E[D+1+0]=E[D+3+32]=Ur(q,ve,ye),E[D+1+32]=E[D+3+64]=Ur(ee,q,ve),E[D+1+64]=E[D+3+96]=Ur(fe,ee,q),E[D+1+96]=Ur(xe,fe,ee)}function kf(E,D){var q;for(q=0;8>q;++q)n(E,D+32*q,E,D-32,8)}function Uc(E,D){var q;for(q=0;8>q;++q)a(E,D,E[D-1],8),D+=32}function Dl(E,D,q){var ee;for(ee=0;8>ee;++ee)a(D,q+32*ee,E,8)}function rl(E,D){var q,ee=8;for(q=0;8>q;++q)ee+=E[D+q-32]+E[D-1+32*q];Dl(ee>>4,E,D)}function Ah(E,D){var q,ee=4;for(q=0;8>q;++q)ee+=E[D+q-32];Dl(ee>>3,E,D)}function _d(E,D){var q,ee=4;for(q=0;8>q;++q)ee+=E[D-1+32*q];Dl(ee>>3,E,D)}function Ja(E,D){Dl(128,E,D)}function Rl(E,D,q){var ee=E[D-q],fe=E[D+0],xe=3*(fe-ee)+Na[1020+E[D-2*q]-E[D+q]],ve=Cd[112+(xe+4>>3)];E[D-q]=$n[255+ee+Cd[112+(xe+3>>3)]],E[D+0]=$n[255+fe-ve]}function _h(E,D,q,ee){var fe=E[D+0],xe=E[D+q];return Ba[255+E[D-2*q]-E[D-q]]>ee||Ba[255+xe-fe]>ee}function hc(E,D,q,ee){return 4*Ba[255+E[D-q]-E[D+0]]+Ba[255+E[D-2*q]-E[D+q]]<=ee}function Sh(E,D,q,ee,fe){var xe=E[D-3*q],ve=E[D-2*q],ye=E[D-q],we=E[D+0],Ce=E[D+q],He=E[D+2*q],ut=E[D+3*q];return 4*Ba[255+ye-we]+Ba[255+ve-Ce]>ee?0:Ba[255+E[D-4*q]-xe]<=fe&&Ba[255+xe-ve]<=fe&&Ba[255+ve-ye]<=fe&&Ba[255+ut-He]<=fe&&Ba[255+He-Ce]<=fe&&Ba[255+Ce-we]<=fe}function Sd(E,D,q,ee){var fe=2*ee+1;for(ee=0;16>ee;++ee)hc(E,D+ee,q,fe)&&Rl(E,D+ee,q)}function Il(E,D,q,ee){var fe=2*ee+1;for(ee=0;16>ee;++ee)hc(E,D+ee*q,1,fe)&&Rl(E,D+ee*q,1)}function nl(E,D,q,ee){var fe;for(fe=3;0<fe;--fe)Sd(E,D+=4*q,q,ee)}function Pf(E,D,q,ee){var fe;for(fe=3;0<fe;--fe)Il(E,D+=4,q,ee)}function fc(E,D,q,ee,fe,xe,ve,ye){for(xe=2*xe+1;0<fe--;){if(Sh(E,D,q,xe,ve))if(_h(E,D,q,ye))Rl(E,D,q);else{var we=E,Ce=D,He=q,ut=we[Ce-2*He],ct=we[Ce-He],tt=we[Ce+0],Ut=we[Ce+He],Tt=we[Ce+2*He],qe=27*(Ft=Na[1020+3*(tt-ct)+Na[1020+ut-Ut]])+63>>7,Ye=18*Ft+63>>7,Ft=9*Ft+63>>7;we[Ce-3*He]=$n[255+we[Ce-3*He]+Ft],we[Ce-2*He]=$n[255+ut+Ye],we[Ce-He]=$n[255+ct+qe],we[Ce+0]=$n[255+tt-qe],we[Ce+He]=$n[255+Ut-Ye],we[Ce+2*He]=$n[255+Tt-Ft]}D+=ee}}function al(E,D,q,ee,fe,xe,ve,ye){for(xe=2*xe+1;0<fe--;){if(Sh(E,D,q,xe,ve))if(_h(E,D,q,ye))Rl(E,D,q);else{var we=E,Ce=D,He=q,ut=we[Ce-He],ct=we[Ce+0],tt=we[Ce+He],Ut=Cd[112+((Tt=3*(ct-ut))+4>>3)],Tt=Cd[112+(Tt+3>>3)],qe=Ut+1>>1;we[Ce-2*He]=$n[255+we[Ce-2*He]+qe],we[Ce-He]=$n[255+ut+Tt],we[Ce+0]=$n[255+ct-Ut],we[Ce+He]=$n[255+tt-qe]}D+=ee}}function Of(E,D,q,ee,fe,xe){fc(E,D,q,1,16,ee,fe,xe)}function zc(E,D,q,ee,fe,xe){fc(E,D,1,q,16,ee,fe,xe)}function Nd(E,D,q,ee,fe,xe){var ve;for(ve=3;0<ve;--ve)al(E,D+=4*q,q,1,16,ee,fe,xe)}function ju(E,D,q,ee,fe,xe){var ve;for(ve=3;0<ve;--ve)al(E,D+=4,1,q,16,ee,fe,xe)}function Km(E,D,q,ee,fe,xe,ve,ye){fc(E,D,fe,1,8,xe,ve,ye),fc(q,ee,fe,1,8,xe,ve,ye)}function X0(E,D,q,ee,fe,xe,ve,ye){fc(E,D,1,fe,8,xe,ve,ye),fc(q,ee,1,fe,8,xe,ve,ye)}function $c(E,D,q,ee,fe,xe,ve,ye){al(E,D+4*fe,fe,1,8,xe,ve,ye),al(q,ee+4*fe,fe,1,8,xe,ve,ye)}function Df(E,D,q,ee,fe,xe,ve,ye){al(E,D+4,1,fe,8,xe,ve,ye),al(q,ee+4,1,fe,8,xe,ve,ye)}function Cu(){this.ba=new ri,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new hn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Nh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Eh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ii(){this.ua=0,this.Wa=new Te,this.vb=new Te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Z,this.yc=new L}function Th(){this.xb=this.a=0,this.l=new oc,this.ca=new ri,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ii,this.ab=0,this.gc=s(4,Eh),this.Oc=0}function Ll(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new oc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ed(E,D,q,ee,fe,xe,ve){for(E=E==null?0:E[D+0],D=0;D<ve;++D)fe[xe+D]=E+q[ee+D]&255,E=fe[xe+D]}function Td(E,D,q,ee,fe,xe,ve){var ye;if(E==null)Ed(null,null,q,ee,fe,xe,ve);else for(ye=0;ye<ve;++ye)fe[xe+ye]=E[D+ye]+q[ee+ye]&255}function ku(E,D,q,ee,fe,xe,ve){if(E==null)Ed(null,null,q,ee,fe,xe,ve);else{var ye,we=E[D+0],Ce=we,He=we;for(ye=0;ye<ve;++ye)Ce=He+(we=E[D+ye])-Ce,He=q[ee+ye]+(-256&Ce?0>Ce?0:255:Ce)&255,Ce=we,fe[xe+ye]=He}}function jh(E,D,q,ee){var fe=D.width,xe=D.o;if(e(E!=null&&D!=null),0>q||0>=ee||q+ee>xe)return null;if(!E.Cc){if(E.ga==null){var ve;if(E.ga=new Ll,(ve=E.ga==null)||(ve=D.width*D.o,e(E.Gb.length==0),E.Gb=i(ve),E.Uc=0,E.Gb==null?ve=0:(E.mb=E.Gb,E.nb=E.Uc,E.rc=null,ve=1),ve=!ve),!ve){ve=E.ga;var ye=E.Fa,we=E.P,Ce=E.qc,He=E.mb,ut=E.nb,ct=we+1,tt=Ce-1,Ut=ve.l;if(e(ye!=null&&He!=null&&D!=null),kh[0]=null,kh[1]=Ed,kh[2]=Td,kh[3]=ku,ve.ca=He,ve.tb=ut,ve.c=D.width,ve.i=D.height,e(0<ve.c&&0<ve.i),1>=Ce)D=0;else if(ve.$a=ye[we+0]>>0&3,ve.Z=ye[we+0]>>2&3,ve.Lc=ye[we+0]>>4&3,we=ye[we+0]>>6&3,0>ve.$a||1<ve.$a||4<=ve.Z||1<ve.Lc||we)D=0;else if(Ut.put=Ri,Ut.ac=mi,Ut.bc=ni,Ut.ma=ve,Ut.width=D.width,Ut.height=D.height,Ut.Da=D.Da,Ut.v=D.v,Ut.va=D.va,Ut.j=D.j,Ut.o=D.o,ve.$a)e:{e(ve.$a==1),D=_t();t:for(;;){if(D==null){D=0;break e}if(e(ve!=null),ve.mc=D,D.c=ve.c,D.i=ve.i,D.l=ve.l,D.l.ma=ve,D.l.width=ve.c,D.l.height=ve.i,D.a=0,oe(D.m,ye,ct,tt),!it(ve.c,ve.i,1,D,null)||(D.ab==1&&D.gc[0].hc==3&&Se(D.s)?(ve.ic=1,ye=D.c*D.i,D.Ta=null,D.Ua=0,D.V=i(ye),D.Ba=0,D.V==null?(D.a=1,D=0):D=1):(ve.ic=0,D=dt(D,ve.c)),!D))break t;D=1;break e}ve.mc=null,D=0}else D=tt>=ve.c*ve.i;ve=!D}if(ve)return null;E.ga.Lc!=1?E.Ga=0:ee=xe-q}e(E.ga!=null),e(q+ee<=xe);e:{if(D=(ye=E.ga).c,xe=ye.l.o,ye.$a==0){if(ct=E.rc,tt=E.Vc,Ut=E.Fa,we=E.P+1+q*D,Ce=E.mb,He=E.nb+q*D,e(we<=E.P+E.qc),ye.Z!=0)for(e(kh[ye.Z]!=null),ve=0;ve<ee;++ve)kh[ye.Z](ct,tt,Ut,we,Ce,He,D),ct=Ce,tt=He,He+=D,we+=D;else for(ve=0;ve<ee;++ve)n(Ce,He,Ut,we,D),ct=Ce,tt=He,He+=D,we+=D;E.rc=ct,E.Vc=tt}else{if(e(ye.mc!=null),D=q+ee,e((ve=ye.mc)!=null),e(D<=ve.i),ve.C>=D)D=1;else if(ye.ic||at(),ye.ic){ye=ve.V,ct=ve.Ba,tt=ve.c;var Tt=ve.i,qe=(Ut=1,we=ve.$/tt,Ce=ve.$%tt,He=ve.m,ut=ve.s,ve.$),Ye=tt*Tt,Ft=tt*D,$t=ut.wc,Lt=qe<Ft?Qn(ut,Ce,we):null;e(qe<=Ye),e(D<=Tt),e(Se(ut));t:for(;;){for(;!He.h&&qe<Ft;){if(Ce&$t||(Lt=Qn(ut,Ce,we)),e(Lt!=null),le(He),256>(Tt=Nn(Lt.G[0],Lt.H[0],He)))ye[ct+qe]=Tt,++qe,++Ce>=tt&&(Ce=0,++we<=D&&!(we%16)&&je(ve,we));else{if(!(280>Tt)){Ut=0;break t}Tt=ps(Tt-256,He);var vr,hr=Nn(Lt.G[4],Lt.H[4],He);if(le(He),!(qe>=(hr=pn(tt,hr=ps(hr,He)))&&Ye-qe>=Tt)){Ut=0;break t}for(vr=0;vr<Tt;++vr)ye[ct+qe+vr]=ye[ct+qe+vr-hr];for(qe+=Tt,Ce+=Tt;Ce>=tt;)Ce-=tt,++we<=D&&!(we%16)&&je(ve,we);qe<Ft&&Ce&$t&&(Lt=Qn(ut,Ce,we))}e(He.h==Y(He))}je(ve,we>D?D:we);break t}!Ut||He.h&&qe<Ye?(Ut=0,ve.a=He.h?5:3):ve.$=qe,D=Ut}else D=ke(ve,ve.V,ve.Ba,ve.c,ve.i,D,lt);if(!D){ee=0;break e}}q+ee>=xe&&(E.Cc=1),ee=1}if(!ee)return null;if(E.Cc&&((ee=E.ga)!=null&&(ee.mc=null),E.ga=null,0<E.Ga))return alert("todo:WebPDequantizeLevels"),null}return E.nb+q*fe}function z(E,D,q,ee,fe,xe){for(;0<fe--;){var ve,ye=E,we=D+(q?1:0),Ce=E,He=D+(q?0:3);for(ve=0;ve<ee;++ve){var ut=Ce[He+4*ve];ut!=255&&(ut*=32897,ye[we+4*ve+0]=ye[we+4*ve+0]*ut>>23,ye[we+4*ve+1]=ye[we+4*ve+1]*ut>>23,ye[we+4*ve+2]=ye[we+4*ve+2]*ut>>23)}D+=xe}}function he(E,D,q,ee,fe){for(;0<ee--;){var xe;for(xe=0;xe<q;++xe){var ve=E[D+2*xe+0],ye=15&(Ce=E[D+2*xe+1]),we=4369*ye,Ce=(240&Ce|Ce>>4)*we>>16;E[D+2*xe+0]=(240&ve|ve>>4)*we>>16&240|(15&ve|ve<<4)*we>>16>>4&15,E[D+2*xe+1]=240&Ce|ye}D+=fe}}function Oe(E,D,q,ee,fe,xe,ve,ye){var we,Ce,He=255;for(Ce=0;Ce<fe;++Ce){for(we=0;we<ee;++we){var ut=E[D+we];xe[ve+4*we]=ut,He&=ut}D+=q,ve+=ye}return He!=255}function $e(E,D,q,ee,fe){var xe;for(xe=0;xe<fe;++xe)q[ee+xe]=E[D+xe]>>8}function at(){sr=z,It=he,er=Oe,mr=$e}function jt(E,D,q){U[E]=function(ee,fe,xe,ve,ye,we,Ce,He,ut,ct,tt,Ut,Tt,qe,Ye,Ft,$t){var Lt,vr=$t-1>>1,hr=ye[we+0]|Ce[He+0]<<16,Fr=ut[ct+0]|tt[Ut+0]<<16;e(ee!=null);var pr=3*hr+Fr+131074>>2;for(D(ee[fe+0],255&pr,pr>>16,Tt,qe),xe!=null&&(pr=3*Fr+hr+131074>>2,D(xe[ve+0],255&pr,pr>>16,Ye,Ft)),Lt=1;Lt<=vr;++Lt){var Vn=ye[we+Lt]|Ce[He+Lt]<<16,kn=ut[ct+Lt]|tt[Ut+Lt]<<16,In=hr+Vn+Fr+kn+524296,nn=In+2*(Vn+Fr)>>3;pr=nn+hr>>1,hr=(In=In+2*(hr+kn)>>3)+Vn>>1,D(ee[fe+2*Lt-1],255&pr,pr>>16,Tt,qe+(2*Lt-1)*q),D(ee[fe+2*Lt-0],255&hr,hr>>16,Tt,qe+(2*Lt-0)*q),xe!=null&&(pr=In+Fr>>1,hr=nn+kn>>1,D(xe[ve+2*Lt-1],255&pr,pr>>16,Ye,Ft+(2*Lt-1)*q),D(xe[ve+2*Lt+0],255&hr,hr>>16,Ye,Ft+(2*Lt+0)*q)),hr=Vn,Fr=kn}1&$t||(pr=3*hr+Fr+131074>>2,D(ee[fe+$t-1],255&pr,pr>>16,Tt,qe+($t-1)*q),xe!=null&&(pr=3*Fr+hr+131074>>2,D(xe[ve+$t-1],255&pr,pr>>16,Ye,Ft+($t-1)*q)))}}function Wt(){ro[Lf]=ep,ro[ko]=Zm,ro[Wy]=L5,ro[qc]=Zy,ro[av]=Uf,ro[Ym]=kd,ro[Mf]=zf,ro[iv]=Zm,ro[Ky]=Zy,ro[Xm]=Uf,ro[Yy]=kd}function xr(E){return E&-16384?0>E?0:255:E>>Qy}function Rr(E,D){return xr((19077*E>>8)+(26149*D>>8)-14234)}function Yr(E,D,q){return xr((19077*E>>8)-(6419*D>>8)-(13320*q>>8)+8708)}function zr(E,D){return xr((19077*E>>8)+(33050*D>>8)-17685)}function Tn(E,D,q,ee,fe){ee[fe+0]=Rr(E,q),ee[fe+1]=Yr(E,D,q),ee[fe+2]=zr(E,D)}function la(E,D,q,ee,fe){ee[fe+0]=zr(E,D),ee[fe+1]=Yr(E,D,q),ee[fe+2]=Rr(E,q)}function ha(E,D,q,ee,fe){var xe=Yr(E,D,q);D=xe<<3&224|zr(E,D)>>3,ee[fe+0]=248&Rr(E,q)|xe>>5,ee[fe+1]=D}function ii(E,D,q,ee,fe){var xe=240&zr(E,D)|15;ee[fe+0]=240&Rr(E,q)|Yr(E,D,q)>>4,ee[fe+1]=xe}function Ji(E,D,q,ee,fe){ee[fe+0]=255,Tn(E,D,q,ee,fe+1)}function Li(E,D,q,ee,fe){la(E,D,q,ee,fe),ee[fe+3]=255}function ms(E,D,q,ee,fe){Tn(E,D,q,ee,fe),ee[fe+3]=255}function jo(E,D){return 0>E?0:E>D?D:E}function Vc(E,D,q){U[E]=function(ee,fe,xe,ve,ye,we,Ce,He,ut){for(var ct=He+(-2&ut)*q;He!=ct;)D(ee[fe+0],xe[ve+0],ye[we+0],Ce,He),D(ee[fe+1],xe[ve+0],ye[we+0],Ce,He+q),fe+=2,++ve,++we,He+=2*q;1&ut&&D(ee[fe+0],xe[ve+0],ye[we+0],Ce,He)}}function J0(E,D,q){return q==0?E==0?D==0?6:5:D==0?4:0:q}function jd(E,D,q,ee,fe){switch(E>>>30){case 3:ze(D,q,ee,fe,0);break;case 2:Fe(D,q,ee,fe);break;case 1:Me(D,q,ee,fe)}}function Ch(E,D){var q,ee,fe=D.M,xe=D.Nb,ve=E.oc,ye=E.pc+40,we=E.oc,Ce=E.pc+584,He=E.oc,ut=E.pc+600;for(q=0;16>q;++q)ve[ye+32*q-1]=129;for(q=0;8>q;++q)we[Ce+32*q-1]=129,He[ut+32*q-1]=129;for(0<fe?ve[ye-1-32]=we[Ce-1-32]=He[ut-1-32]=129:(a(ve,ye-32-1,127,21),a(we,Ce-32-1,127,9),a(He,ut-32-1,127,9)),ee=0;ee<E.za;++ee){var ct=D.ya[D.aa+ee];if(0<ee){for(q=-1;16>q;++q)n(ve,ye+32*q-4,ve,ye+32*q+12,4);for(q=-1;8>q;++q)n(we,Ce+32*q-4,we,Ce+32*q+4,4),n(He,ut+32*q-4,He,ut+32*q+4,4)}var tt=E.Gd,Ut=E.Hd+ee,Tt=ct.ad,qe=ct.Hc;if(0<fe&&(n(ve,ye-32,tt[Ut].y,0,16),n(we,Ce-32,tt[Ut].f,0,8),n(He,ut-32,tt[Ut].ea,0,8)),ct.Za){var Ye=ve,Ft=ye-32+16;for(0<fe&&(ee>=E.za-1?a(Ye,Ft,tt[Ut].y[15],4):n(Ye,Ft,tt[Ut+1].y,0,4)),q=0;4>q;q++)Ye[Ft+128+q]=Ye[Ft+256+q]=Ye[Ft+384+q]=Ye[Ft+0+q];for(q=0;16>q;++q,qe<<=2)Ye=ve,Ft=ye+Mi[q],vi[ct.Ob[q]](Ye,Ft),jd(qe,Tt,16*+q,Ye,Ft)}else if(Ye=J0(ee,fe,ct.Ob[0]),il[Ye](ve,ye),qe!=0)for(q=0;16>q;++q,qe<<=2)jd(qe,Tt,16*+q,ve,ye+Mi[q]);for(q=ct.Gc,Ye=J0(ee,fe,ct.Dd),Du[Ye](we,Ce),Du[Ye](He,ut),qe=Tt,Ye=we,Ft=Ce,255&(ct=q>>0)&&(170&ct?et(qe,256,Ye,Ft):Ze(qe,256,Ye,Ft)),ct=He,qe=ut,255&(q>>=8)&&(170&q?et(Tt,320,ct,qe):Ze(Tt,320,ct,qe)),fe<E.Ub-1&&(n(tt[Ut].y,0,ve,ye+480,16),n(tt[Ut].f,0,we,Ce+224,8),n(tt[Ut].ea,0,He,ut+224,8)),q=8*xe*E.B,tt=E.sa,Ut=E.ta+16*ee+16*xe*E.R,Tt=E.qa,ct=E.ra+8*ee+q,qe=E.Ha,Ye=E.Ia+8*ee+q,q=0;16>q;++q)n(tt,Ut+q*E.R,ve,ye+32*q,16);for(q=0;8>q;++q)n(Tt,ct+q*E.B,we,Ce+32*q,8),n(qe,Ye+q*E.B,He,ut+32*q,8)}}function pc(E,D,q,ee,fe,xe,ve,ye,we){var Ce=[0],He=[0],ut=0,ct=we!=null?we.kd:0,tt=we??new Nh;if(E==null||12>q)return 7;tt.data=E,tt.w=D,tt.ha=q,D=[D],q=[q],tt.gb=[tt.gb];e:{var Ut=D,Tt=q,qe=tt.gb;if(e(E!=null),e(Tt!=null),e(qe!=null),qe[0]=0,12<=Tt[0]&&!r(E,Ut[0],"RIFF")){if(r(E,Ut[0]+8,"WEBP")){qe=3;break e}var Ye=wt(E,Ut[0]+4);if(12>Ye||4294967286<Ye){qe=3;break e}if(ct&&Ye>Tt[0]-8){qe=7;break e}qe[0]=Ye,Ut[0]+=12,Tt[0]-=12}qe=0}if(qe!=0)return qe;for(Ye=0<tt.gb[0],q=q[0];;){e:{var Ft=E;Tt=D,qe=q;var $t=Ce,Lt=He,vr=Ut=[0];if((pr=ut=[ut])[0]=0,8>qe[0])qe=7;else{if(!r(Ft,Tt[0],"VP8X")){if(wt(Ft,Tt[0]+4)!=10){qe=3;break e}if(18>qe[0]){qe=7;break e}var hr=wt(Ft,Tt[0]+8),Fr=1+Re(Ft,Tt[0]+12);if(2147483648<=Fr*(Ft=1+Re(Ft,Tt[0]+15))){qe=3;break e}vr!=null&&(vr[0]=hr),$t!=null&&($t[0]=Fr),Lt!=null&&(Lt[0]=Ft),Tt[0]+=18,qe[0]-=18,pr[0]=1}qe=0}}if(ut=ut[0],Ut=Ut[0],qe!=0)return qe;if(Tt=!!(2&Ut),!Ye&&ut)return 3;if(xe!=null&&(xe[0]=!!(16&Ut)),ve!=null&&(ve[0]=Tt),ye!=null&&(ye[0]=0),ve=Ce[0],Ut=He[0],ut&&Tt&&we==null){qe=0;break}if(4>q){qe=7;break}if(Ye&&ut||!Ye&&!ut&&!r(E,D[0],"ALPH")){q=[q],tt.na=[tt.na],tt.P=[tt.P],tt.Sa=[tt.Sa];e:{hr=E,qe=D,Ye=q;var pr=tt.gb;$t=tt.na,Lt=tt.P,vr=tt.Sa,Fr=22,e(hr!=null),e(Ye!=null),Ft=qe[0];var Vn=Ye[0];for(e($t!=null),e(vr!=null),$t[0]=null,Lt[0]=null,vr[0]=0;;){if(qe[0]=Ft,Ye[0]=Vn,8>Vn){qe=7;break e}var kn=wt(hr,Ft+4);if(4294967286<kn){qe=3;break e}var In=8+kn+1&-2;if(Fr+=In,0<pr&&Fr>pr){qe=3;break e}if(!r(hr,Ft,"VP8 ")||!r(hr,Ft,"VP8L")){qe=0;break e}if(Vn[0]<In){qe=7;break e}r(hr,Ft,"ALPH")||($t[0]=hr,Lt[0]=Ft+8,vr[0]=kn),Ft+=In,Vn-=In}}if(q=q[0],tt.na=tt.na[0],tt.P=tt.P[0],tt.Sa=tt.Sa[0],qe!=0)break}q=[q],tt.Ja=[tt.Ja],tt.xa=[tt.xa];e:if(pr=E,qe=D,Ye=q,$t=tt.gb[0],Lt=tt.Ja,vr=tt.xa,hr=qe[0],Ft=!r(pr,hr,"VP8 "),Fr=!r(pr,hr,"VP8L"),e(pr!=null),e(Ye!=null),e(Lt!=null),e(vr!=null),8>Ye[0])qe=7;else{if(Ft||Fr){if(pr=wt(pr,hr+4),12<=$t&&pr>$t-12){qe=3;break e}if(ct&&pr>Ye[0]-8){qe=7;break e}Lt[0]=pr,qe[0]+=8,Ye[0]-=8,vr[0]=Fr}else vr[0]=5<=Ye[0]&&pr[hr+0]==47&&!(pr[hr+4]>>5),Lt[0]=Ye[0];qe=0}if(q=q[0],tt.Ja=tt.Ja[0],tt.xa=tt.xa[0],D=D[0],qe!=0)break;if(4294967286<tt.Ja)return 3;if(ye==null||Tt||(ye[0]=tt.xa?2:1),ve=[ve],Ut=[Ut],tt.xa){if(5>q){qe=7;break}ye=ve,ct=Ut,Tt=xe,E==null||5>q?E=0:5<=q&&E[D+0]==47&&!(E[D+4]>>5)?(Ye=[0],pr=[0],$t=[0],oe(Lt=new B,E,D,q),Mr(Lt,Ye,pr,$t)?(ye!=null&&(ye[0]=Ye[0]),ct!=null&&(ct[0]=pr[0]),Tt!=null&&(Tt[0]=$t[0]),E=1):E=0):E=0}else{if(10>q){qe=7;break}ye=Ut,E==null||10>q||!Qo(E,D+3,q-3)?E=0:(ct=E[D+0]|E[D+1]<<8|E[D+2]<<16,Tt=16383&(E[D+7]<<8|E[D+6]),E=16383&(E[D+9]<<8|E[D+8]),1&ct||3<(ct>>1&7)||!(ct>>4&1)||ct>>5>=tt.Ja||!Tt||!E?E=0:(ve&&(ve[0]=Tt),ye&&(ye[0]=E),E=1))}if(!E||(ve=ve[0],Ut=Ut[0],ut&&(Ce[0]!=ve||He[0]!=Ut)))return 3;we!=null&&(we[0]=tt,we.offset=D-we.w,e(4294967286>D-we.w),e(we.offset==we.ha-q));break}return qe==0||qe==7&&ut&&we==null?(xe!=null&&(xe[0]|=tt.na!=null&&0<tt.na.length),ee!=null&&(ee[0]=ve),fe!=null&&(fe[0]=Ut),0):qe}function Pu(E,D,q){var ee=D.width,fe=D.height,xe=0,ve=0,ye=ee,we=fe;if(D.Da=E!=null&&0<E.Da,D.Da&&(ye=E.cd,we=E.bd,xe=E.v,ve=E.j,11>q||(xe&=-2,ve&=-2),0>xe||0>ve||0>=ye||0>=we||xe+ye>ee||ve+we>fe))return 0;if(D.v=xe,D.j=ve,D.va=xe+ye,D.o=ve+we,D.U=ye,D.T=we,D.da=E!=null&&0<E.da,D.da){if(!Nt(ye,we,q=[E.ib],xe=[E.hb]))return 0;D.ib=q[0],D.hb=xe[0]}return D.ob=E!=null&&E.ob,D.Kb=E==null||!E.Sd,D.da&&(D.ob=D.ib<3*ee/4&&D.hb<3*fe/4,D.Kb=0),1}function Z0(E){if(E==null)return 2;if(11>E.S){var D=E.f.RGBA;D.fb+=(E.height-1)*D.A,D.A=-D.A}else D=E.f.kb,E=E.height,D.O+=(E-1)*D.fa,D.fa=-D.fa,D.N+=(E-1>>1)*D.Ab,D.Ab=-D.Ab,D.W+=(E-1>>1)*D.Db,D.Db=-D.Db,D.F!=null&&(D.J+=(E-1)*D.lb,D.lb=-D.lb);return 0}function Ou(E,D,q,ee){if(ee==null||0>=E||0>=D)return 2;if(q!=null){if(q.Da){var fe=q.cd,xe=q.bd,ve=-2&q.v,ye=-2&q.j;if(0>ve||0>ye||0>=fe||0>=xe||ve+fe>E||ye+xe>D)return 2;E=fe,D=xe}if(q.da){if(!Nt(E,D,fe=[q.ib],xe=[q.hb]))return 2;E=fe[0],D=xe[0]}}ee.width=E,ee.height=D;e:{var we=ee.width,Ce=ee.height;if(E=ee.S,0>=we||0>=Ce||!(E>=Lf&&13>E))E=2;else{if(0>=ee.Rd&&ee.sd==null){ve=xe=fe=D=0;var He=(ye=we*tb[E])*Ce;if(11>E||(xe=(Ce+1)/2*(D=(we+1)/2),E==12&&(ve=(fe=we)*Ce)),(Ce=i(He+2*xe+ve))==null){E=1;break e}ee.sd=Ce,11>E?((we=ee.f.RGBA).eb=Ce,we.fb=0,we.A=ye,we.size=He):((we=ee.f.kb).y=Ce,we.O=0,we.fa=ye,we.Fd=He,we.f=Ce,we.N=0+He,we.Ab=D,we.Cd=xe,we.ea=Ce,we.W=0+He+xe,we.Db=D,we.Ed=xe,E==12&&(we.F=Ce,we.J=0+He+2*xe),we.Tc=ve,we.lb=fe)}if(D=1,fe=ee.S,xe=ee.width,ve=ee.height,fe>=Lf&&13>fe)if(11>fe)E=ee.f.RGBA,D&=(ye=Math.abs(E.A))*(ve-1)+xe<=E.size,D&=ye>=xe*tb[fe],D&=E.eb!=null;else{E=ee.f.kb,ye=(xe+1)/2,He=(ve+1)/2,we=Math.abs(E.fa),Ce=Math.abs(E.Ab);var ut=Math.abs(E.Db),ct=Math.abs(E.lb),tt=ct*(ve-1)+xe;D&=we*(ve-1)+xe<=E.Fd,D&=Ce*(He-1)+ye<=E.Cd,D=(D&=ut*(He-1)+ye<=E.Ed)&we>=xe&Ce>=ye&ut>=ye,D&=E.y!=null,D&=E.f!=null,D&=E.ea!=null,fe==12&&(D&=ct>=xe,D&=tt<=E.Tc,D&=E.F!=null)}else D=0;E=D?0:2}}return E!=0||q!=null&&q.fd&&(E=Z0(ee)),E}var si=64,Qs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wn=24,mc=32,gs=8,eo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];vt("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(E){return E},U.Predictor2=function(E,D,q){return D[q+0]},U.Predictor3=function(E,D,q){return D[q+1]},U.Predictor4=function(E,D,q){return D[q-1]},U.Predictor5=function(E,D,q){return yt(yt(E,D[q+1]),D[q+0])},U.Predictor6=function(E,D,q){return yt(E,D[q-1])},U.Predictor7=function(E,D,q){return yt(E,D[q+0])},U.Predictor8=function(E,D,q){return yt(D[q-1],D[q+0])},U.Predictor9=function(E,D,q){return yt(D[q+0],D[q+1])},U.Predictor10=function(E,D,q){return yt(yt(E,D[q-1]),yt(D[q+0],D[q+1]))},U.Predictor11=function(E,D,q){var ee=D[q+0];return 0>=Jt(ee>>24&255,E>>24&255,(D=D[q-1])>>24&255)+Jt(ee>>16&255,E>>16&255,D>>16&255)+Jt(ee>>8&255,E>>8&255,D>>8&255)+Jt(255&ee,255&E,255&D)?ee:E},U.Predictor12=function(E,D,q){var ee=D[q+0];return(qt((E>>24&255)+(ee>>24&255)-((D=D[q-1])>>24&255))<<24|qt((E>>16&255)+(ee>>16&255)-(D>>16&255))<<16|qt((E>>8&255)+(ee>>8&255)-(D>>8&255))<<8|qt((255&E)+(255&ee)-(255&D)))>>>0},U.Predictor13=function(E,D,q){var ee=D[q-1];return(We((E=yt(E,D[q+0]))>>24&255,ee>>24&255)<<24|We(E>>16&255,ee>>16&255)<<16|We(E>>8&255,ee>>8&255)<<8|We(E>>0&255,ee>>0&255))>>>0};var Rf=U.PredictorAdd0;U.PredictorAdd1=ir,vt("Predictor2","PredictorAdd2"),vt("Predictor3","PredictorAdd3"),vt("Predictor4","PredictorAdd4"),vt("Predictor5","PredictorAdd5"),vt("Predictor6","PredictorAdd6"),vt("Predictor7","PredictorAdd7"),vt("Predictor8","PredictorAdd8"),vt("Predictor9","PredictorAdd9"),vt("Predictor10","PredictorAdd10"),vt("Predictor11","PredictorAdd11"),vt("Predictor12","PredictorAdd12"),vt("Predictor13","PredictorAdd13");var If=U.PredictorAdd2;xt("ColorIndexInverseTransform","MapARGB","32b",(function(E){return E>>8&255}),(function(E){return E})),xt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(E){return E}),(function(E){return E>>8&255}));var Hc,Co=U.ColorIndexInverseTransform,gc=U.MapARGB,xc=U.VP8LColorIndexInverseTransformAlpha,xs=U.MapAlpha,j=U.VP8LPredictorsAdd=[];j.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var I,W,te,se,me,Ee,Ie,ze,Fe,et,Me,Ze,Ve,Xe,Je,Qe,st,ht,Et,Rt,nr,cr,Zt,Qt,sr,It,er,mr,Sr=i(511),Kr=i(2041),xi=i(225),$r=i(767),oi=0,Na=Kr,Cd=xi,$n=$r,Ba=Sr,Lf=0,ko=1,Wy=2,qc=3,av=4,Ym=5,Mf=6,iv=7,Ky=8,Xm=9,Yy=10,Gc=[2,3,7],Jm=[3,3,11],Q0=[280,256,256,256,40],Xy=[0,1,1,1,0],sv=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Wc=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Kc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ff=8,Yc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Xc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vc=null,u4=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],R5=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Jy=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],d4=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],to=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ua=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Cn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],il=[],vi=[],Du=[],Bf=1,I5=2,kh=[],ro=[];jt("UpsampleRgbLinePair",Tn,3),jt("UpsampleBgrLinePair",la,3),jt("UpsampleRgbaLinePair",ms,4),jt("UpsampleBgraLinePair",Li,4),jt("UpsampleArgbLinePair",Ji,4),jt("UpsampleRgba4444LinePair",ii,2),jt("UpsampleRgb565LinePair",ha,2);var ep=U.UpsampleRgbLinePair,L5=U.UpsampleBgrLinePair,Zm=U.UpsampleRgbaLinePair,Zy=U.UpsampleBgraLinePair,Uf=U.UpsampleArgbLinePair,kd=U.UpsampleRgba4444LinePair,zf=U.UpsampleRgb565LinePair,Jc=16,Qm=1<<Jc-1,tp=-227,$f=482,Qy=6,Vf=0,no=i(256),eb=i(256),h4=i(256),GP=i(256),WP=i($f-tp),KP=i($f-tp);Vc("YuvToRgbRow",Tn,3),Vc("YuvToBgrRow",la,3),Vc("YuvToRgbaRow",ms,4),Vc("YuvToBgraRow",Li,4),Vc("YuvToArgbRow",Ji,4),Vc("YuvToRgba4444Row",ii,2),Vc("YuvToRgb565Row",ha,2);var Mi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],eg=[0,2,8],ov=[8,7,6,4,4,2,2,2,1,1,1,1],lv=1;this.WebPDecodeRGBA=function(E,D,q,ee,fe){var xe=ko,ve=new Cu,ye=new ri;ve.ba=ye,ye.S=xe,ye.width=[ye.width],ye.height=[ye.height];var we=ye.width,Ce=ye.height,He=new Gi;if(He==null||E==null)var ut=2;else e(He!=null),ut=pc(E,D,q,He.width,He.height,He.Pd,He.Qd,He.format,null);if(ut!=0?we=0:(we!=null&&(we[0]=He.width[0]),Ce!=null&&(Ce[0]=He.height[0]),we=1),we){ye.width=ye.width[0],ye.height=ye.height[0],ee!=null&&(ee[0]=ye.width),fe!=null&&(fe[0]=ye.height);e:{if(ee=new oc,(fe=new Nh).data=E,fe.w=D,fe.ha=q,fe.kd=1,D=[0],e(fe!=null),((E=pc(fe.data,fe.w,fe.ha,null,null,null,D,null,fe))==0||E==7)&&D[0]&&(E=4),(D=E)==0){if(e(ve!=null),ee.data=fe.data,ee.w=fe.w+fe.offset,ee.ha=fe.ha-fe.offset,ee.put=Ri,ee.ac=mi,ee.bc=ni,ee.ma=ve,fe.xa){if((E=_t())==null){ve=1;break e}if((function(ct,tt){var Ut=[0],Tt=[0],qe=[0];t:for(;;){if(ct==null)return 0;if(tt==null)return ct.a=2,0;if(ct.l=tt,ct.a=0,oe(ct.m,tt.data,tt.w,tt.ha),!Mr(ct.m,Ut,Tt,qe)){ct.a=3;break t}if(ct.xb=I5,tt.width=Ut[0],tt.height=Tt[0],!it(Ut[0],Tt[0],1,ct,null))break t;return 1}return e(ct.a!=0),0})(E,ee)){if(ee=(D=Ou(ee.width,ee.height,ve.Oa,ve.ba))==0){t:{ee=E;r:for(;;){if(ee==null){ee=0;break t}if(e(ee.s.yc!=null),e(ee.s.Ya!=null),e(0<ee.s.Wb),e((q=ee.l)!=null),e((fe=q.ma)!=null),ee.xb!=0){if(ee.ca=fe.ba,ee.tb=fe.tb,e(ee.ca!=null),!Pu(fe.Oa,q,qc)){ee.a=2;break r}if(!dt(ee,q.width)||q.da)break r;if((q.da||Wr(ee.ca.S))&&at(),11>ee.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ee.ca.f.kb.F!=null&&at()),ee.Pb&&0<ee.s.ua&&ee.s.vb.X==null&&!St(ee.s.vb,ee.s.Wa.Xa)){ee.a=1;break r}ee.xb=0}if(!ke(ee,ee.V,ee.Ba,ee.c,ee.i,q.o,Pe))break r;fe.Dc=ee.Ma,ee=1;break t}e(ee.a!=0),ee=0}ee=!ee}ee&&(D=E.a)}else D=E.a}else{if((E=new qr)==null){ve=1;break e}if(E.Fa=fe.na,E.P=fe.P,E.qc=fe.Sa,Ki(E,ee)){if((D=Ou(ee.width,ee.height,ve.Oa,ve.ba))==0){if(E.Aa=0,q=ve.Oa,e((fe=E)!=null),q!=null){if(0<(we=0>(we=q.Md)?0:100<we?255:255*we/100)){for(Ce=He=0;4>Ce;++Ce)12>(ut=fe.pb[Ce]).lc&&(ut.ia=we*ov[0>ut.lc?0:ut.lc]>>3),He|=ut.ia;He&&(alert("todo:VP8InitRandom"),fe.ia=1)}fe.Ga=q.Id,100<fe.Ga?fe.Ga=100:0>fe.Ga&&(fe.Ga=0)}Ef(E,ee)||(D=E.a)}}else D=E.a}D==0&&ve.Oa!=null&&ve.Oa.fd&&(D=Z0(ve.ba))}ve=D}xe=ve!=0?null:11>xe?ye.f.RGBA.eb:ye.f.kb.y}else xe=null;return xe};var tb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(U,H){for(var G="",F=0;F<4;F++)G+=String.fromCharCode(U[H++]);return G}function h(U,H){return(U[H+0]<<0|U[H+1]<<8|U[H+2]<<16)>>>0}function f(U,H){return(U[H+0]<<0|U[H+1]<<8|U[H+2]<<16|U[H+3]<<24)>>>0}new l;var m=[0],g=[0],b=[],y=new l,w=t,A=(function(U,H){var G={},F=0,L=!1,re=0,Z=0;if(G.frames=[],!(function(V,Y,K,le){for(var Ae=0;Ae<le;Ae++)if(V[Y+Ae]!=K.charCodeAt(Ae))return!0;return!1})(U,H,"RIFF",4)){var pe,Q;for(f(U,H+=4),H+=8;H<U.length;){var X=u(U,H),oe=f(U,H+=4);H+=4;var ce=oe+(1&oe);switch(X){case"VP8 ":case"VP8L":G.frames[F]===void 0&&(G.frames[F]={}),(B=G.frames[F]).src_off=L?Z:H-8,B.src_size=re+oe+8,F++,L&&(L=!1,re=0,Z=0);break;case"VP8X":(B=G.header={}).feature_flags=U[H];var Ne=H+4;B.canvas_width=1+h(U,Ne),Ne+=3,B.canvas_height=1+h(U,Ne),Ne+=3;break;case"ALPH":L=!0,re=ce+8,Z=H-8;break;case"ANIM":(B=G.header).bgcolor=f(U,H),Ne=H+4,B.loop_count=(pe=U)[(Q=Ne)+0]<<0|pe[Q+1]<<8,Ne+=2;break;case"ANMF":var ne,B;(B=G.frames[F]={}).offset_x=2*h(U,H),H+=3,B.offset_y=2*h(U,H),H+=3,B.width=1+h(U,H),H+=3,B.height=1+h(U,H),H+=3,B.duration=h(U,H),H+=3,ne=U[H++],B.dispose=1&ne,B.blend=ne>>1&1}X!="ANMF"&&(H+=ce)}return G}})(w,0);A.response=w,A.rgbaoutput=!0,A.dataurl=!1;var S=A.header?A.header:null,N=A.frames?A.frames:null;if(S){S.loop_counter=S.loop_count,m=[S.canvas_height],g=[S.canvas_width];for(var T=0;T<N.length&&N[T].blend!=0;T++);}var k=N[0],R=y.WebPDecodeRGBA(w,k.src_off,k.src_size,g,m);k.rgba=R,k.imgwidth=g[0],k.imgheight=m[0];for(var O=0;O<g[0]*m[0]*4;O++)b[O]=R[O];return this.width=g,this.height=m,this.data=b,this}(function(t){var e=function(){return typeof ZM=="function"},r=function(m,g,b,y){var w=4,A=s;switch(y){case t.image_compression.FAST:w=1,A=i;break;case t.image_compression.MEDIUM:w=6,A=o;break;case t.image_compression.SLOW:w=9,A=l}m=n(m,g,b,A);var S=ZM(m,{level:w});return t.__addimage__.arrayBufferToBinaryString(S)},n=function(m,g,b,y){for(var w,A,S,N=m.length/g,T=new Uint8Array(m.length+N),k=h(),R=0;R<N;R+=1){if(S=R*g,w=m.subarray(S,S+g),y)T.set(y(w,b,A),S+R);else{for(var O,U=k.length,H=[];O<U;O+=1)H[O]=k[O](w,b,A);var G=f(H.concat());T.set(H[G],S+R)}A=w}return T},a=function(m){var g=Array.apply([],m);return g.unshift(0),g},i=function(m,g){var b,y=[],w=m.length;y[0]=1;for(var A=0;A<w;A+=1)b=m[A-g]||0,y[A+1]=m[A]-b+256&255;return y},s=function(m,g,b){var y,w=[],A=m.length;w[0]=2;for(var S=0;S<A;S+=1)y=b&&b[S]||0,w[S+1]=m[S]-y+256&255;return w},o=function(m,g,b){var y,w,A=[],S=m.length;A[0]=3;for(var N=0;N<S;N+=1)y=m[N-g]||0,w=b&&b[N]||0,A[N+1]=m[N]+256-(y+w>>>1)&255;return A},l=function(m,g,b){var y,w,A,S,N=[],T=m.length;N[0]=4;for(var k=0;k<T;k+=1)y=m[k-g]||0,w=b&&b[k]||0,A=b&&b[k-g]||0,S=u(y,w,A),N[k+1]=m[k]-S+256&255;return N},u=function(m,g,b){if(m===g&&g===b)return m;var y=Math.abs(g-b),w=Math.abs(m-b),A=Math.abs(m+g-b-b);return y<=w&&y<=A?m:w<=A?g:b},h=function(){return[a,i,s,o,l]},f=function(m){var g=m.map((function(b){return b.reduce((function(y,w){return y+Math.abs(w)}),0)}));return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(m,g,b,y){var w,A,S,N,T,k,R,O,U,H,G,F,L,re,Z,pe=this.decode.FLATE_DECODE,Q="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(S=new l6e(m)).imgData,A=S.bits,w=S.colorSpace,T=S.colors,[4,6].indexOf(S.colorType)!==-1){if(S.bits===8){U=(O=S.pixelBitlength==32?new Uint32Array(S.decodePixels().buffer):S.pixelBitlength==16?new Uint16Array(S.decodePixels().buffer):new Uint8Array(S.decodePixels().buffer)).length,G=new Uint8Array(U*S.colors),H=new Uint8Array(U);var X,oe=S.pixelBitlength-S.bits;for(re=0,Z=0;re<U;re++){for(L=O[re],X=0;X<oe;)G[Z++]=L>>>X&255,X+=S.bits;H[re]=L>>>X&255}}if(S.bits===16){U=(O=new Uint32Array(S.decodePixels().buffer)).length,G=new Uint8Array(U*(32/S.pixelBitlength)*S.colors),H=new Uint8Array(U*(32/S.pixelBitlength)),F=S.colors>1,re=0,Z=0;for(var ce=0;re<U;)L=O[re++],G[Z++]=L>>>0&255,F&&(G[Z++]=L>>>16&255,L=O[re++],G[Z++]=L>>>0&255),H[ce++]=L>>>16&255;A=8}y!==t.image_compression.NONE&&e()?(m=r(G,S.width*S.colors,S.colors,y),R=r(H,S.width,1,y)):(m=G,R=H,pe=void 0)}if(S.colorType===3&&(w=this.color_spaces.INDEXED,k=S.palette,S.transparency.indexed)){var Ne=S.transparency.indexed,ne=0;for(re=0,U=Ne.length;re<U;++re)ne+=Ne[re];if((ne/=255)===U-1&&Ne.indexOf(0)!==-1)N=[Ne.indexOf(0)];else if(ne!==U){for(O=S.decodePixels(),H=new Uint8Array(O.length),re=0,U=O.length;re<U;re++)H[re]=Ne[O[re]];R=r(H,S.width,1)}}var B=(function(V){var Y;switch(V){case t.image_compression.FAST:Y=11;break;case t.image_compression.MEDIUM:Y=13;break;case t.image_compression.SLOW:Y=14;break;default:Y=12}return Y})(y);return pe===this.decode.FLATE_DECODE&&(Q="/Predictor "+B+" "),Q+="/Colors "+T+" /BitsPerComponent "+A+" /Columns "+S.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(R&&this.__addimage__.isArrayBuffer(R)||this.__addimage__.isArrayBufferView(R))&&(R=this.__addimage__.arrayBufferToBinaryString(R)),{alias:b,data:m,index:g,filter:pe,decodeParameters:Q,transparency:N,palette:k,sMask:R,predictor:B,width:S.width,height:S.height,bitsPerComponent:A,colorSpace:w}}}})(Gr.API),(function(t){t.processGIF89A=function(e,r,n,a){var i=new c6e(e),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:o},h=new ER(100).encode(u,100);return t.processJPEG.call(this,h,r,n,a)},t.processGIF87A=t.processGIF89A})(Gr.API),Bh.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Bh.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){qa.log("bit decode error:"+r)}},Bh.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Bh.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*a+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Bh.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Bh.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,u=i>>15?255:0,h=n*this.width*4+4*a;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=s,this.data[h+3]=u}this.pos+=t}},Bh.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&r)/r*255|0,u=(s>>11)/e*255|0,h=a*this.width*4+4*i;this.data[h]=u,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=255}this.pos+=t}},Bh.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Bh.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},Bh.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,a){var i=new Bh(e,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},u=new ER(100).encode(l,100);return t.processJPEG.call(this,u,r,n,a)}})(Gr.API),zK.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,a){var i=new zK(e),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},u=new ER(100).encode(l,100);return t.processJPEG.call(this,u,r,n,a)}})(Gr.API),Gr.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,u=0;u<a;u+=4){var h=n[u],f=n[u+1],m=n[u+2],g=n[u+3];i[o++]=h,i[o++]=f,i[o++]=m,s[l++]=g}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:b,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Gr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Ob=Gr.API,zT=Ob.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,h=u.fof?u.fof:1,f=e.doKerning!==!1,m=0,g=t.length,b=0,y=o[0]||l,w=[];for(r=0;r<g;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?w.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(m=f&&Aa(u[n])==="object"&&!isNaN(parseInt(u[n][b],10))?u[n][b]/h:0,w.push((o[n]||y)/l+m)),b=n;return w},MK=Ob.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Ob.processArabic&&(t=Ob.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:zT.apply(this,arguments).reduce((function(i,s){return i+s}),0)},FK=function(t,e,r,n){for(var a=[],i=0,s=t.length,o=0;i!==s&&o+e[i]<r;)o+=e[i],i++;a.push(t.slice(0,i));var l=i;for(o=0;i!==s;)o+e[i]>n&&(a.push(t.slice(l,i)),o=0,l=i),o+=e[i],i++;return l!==i&&a.push(t.slice(l,i)),a},BK=function(t,e,r){r||(r={});var n,a,i,s,o,l,u,h=[],f=[h],m=r.textIndent||0,g=0,b=0,y=t.split(" "),w=zT.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var A=Array(l).join(" "),S=[];y.map((function(T){(T=T.split(/\s*\n/)).length>1?S=S.concat(T.map((function(k,R){return(R&&k.length?`
`:"")+k}))):S.push(T[0])})),y=S,l=MK.apply(this,[A,r])}for(i=0,s=y.length;i<s;i++){var N=0;if(n=y[i],l&&n[0]==`
`&&(n=n.substr(1),N=1),m+g+(b=(a=zT.apply(this,[n,r])).reduce((function(T,k){return T+k}),0))>e||N){if(b>e){for(o=FK.apply(this,[n,a,e-(m+g),e]),h.push(o.shift()),h=[o.pop()];o.length;)f.push([o.shift()]);b=a.slice(n.length-(h[0]?h[0].length:0)).reduce((function(T,k){return T+k}),0)}else h=[n];f.push(h),m=b+l,g=w}else h.push(n),m+=g+b,g=w}return u=l?function(T,k){return(k?A:"")+T.join(" ")}:function(T){return T.join(" ")},f.map(u)},Ob.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(BK.apply(this,[n[o],s,i]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=t.__fontmetrics__.compress=function(f){var m,g,b,y,w=["{"];for(var A in f){if(m=f[A],isNaN(parseInt(A,10))?g="'"+A+"'":(A=parseInt(A,10),g=(g=i(A).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof m=="number")m<0?(b=i(m).slice(3),y="-"):(b=i(m).slice(2),y=""),b=y+b.slice(0,-1)+n[b.slice(-1)];else{if(Aa(m)!=="object")throw new Error("Don't know what to do with value type "+Aa(m)+".");b=s(m)}w.push(g+b)}return w.push("}"),w.join("")},o=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,g,b,y,w={},A=1,S=w,N=[],T="",k="",R=f.length-1,O=1;O<R;O+=1)(y=f[O])=="'"?m?(b=m.join(""),m=void 0):m=[]:m?m.push(y):y=="{"?(N.push([S,b]),S={},b=void 0):y=="}"?((g=N.pop())[0][g[1]]=S,b=void 0,S=g[0]):y=="-"?A=-1:b===void 0?r.hasOwnProperty(y)?(T+=r[y],b=parseInt(T,16)*A,A=1,T=""):T+=y:r.hasOwnProperty(y)?(k+=r[y],S[b]=parseInt(k,16)*A,A=1,b=void 0,k=""):k+=y;return w},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var m=f.font,g=h.Unicode[m.postScriptName];g&&(m.metadata.Unicode={},m.metadata.Unicode.widths=g.widths,m.metadata.Unicode.kerning=g.kerning);var b=u.Unicode[m.postScriptName];b&&(m.metadata.Unicode.encoding=b,m.encoding=b.codePages[0])}])})(Gr.API),(function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(x_(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])})(Gr),(function(t){function e(){return(Qr.canvg?Promise.resolve(Qr.canvg):Om(()=>import("./index.es-D-mSWwPp.js"),[])).catch((function(r){return Promise.reject(new Error("Could not load canvg: "+r))})).then((function(r){return r.default?r.default:r}))}Gr.API.addSvgAsImage=function(r,n,a,i,s,o,l,u){if(isNaN(n)||isNaN(a))throw qa.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw qa.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=i,h.height=s;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then((function(b){return b.fromString(f,r,m)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(b){return b.render(m)})).then((function(){g.addImage(h.toDataURL("image/jpeg",1),n,a,i,s,l,u)}))}})(),Gr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},Gr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],u=0,h=0,f=0;function m(b,y){var w,A=!1;for(w=0;w<b.length;w+=1)b[w]===y&&(A=!0);return A}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=o.length;for(f=0;f<g;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Aa(t)==="object"){for(a in t)if(i=t[a],m(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&m(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")l.push(String(i[u]-1));else if(i[u].length>1){for(h=0;h<i[u].length;h+=1)typeof i[u][h]!="number"&&(n=!1);n===!0&&l.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var b,y=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?y.push("/"+b+" /"+r[b].value):y.push("/"+b+" "+r[b].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(Gr.API),(function(t){var e=t.API,r=e.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],f=0,m=i.length;f<m;++f){if(o=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(u[4-o.length],o)}return h.join("")},n=function(i){var s,o,l,u,h,f,m;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,m=(o=Object.keys(i).sort((function(g,b){return g-b}))).length;f<m;f++)s=o[f],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(u=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,u=s.newObject,h=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,m=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),g="",b=0;b<m.length;b++)g+=String.fromCharCode(m[b]);var y=u();h({data:g,addLength1:!0,objectId:y}),l("endobj");var w=u();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var A=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Xb(o.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var S=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Xb(o.fontName)),l("/FontDescriptor "+A+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+Xb(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,u=s.newObject,h=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,m="",g=0;g<f.length;g++)m+=String.fromCharCode(f[g]);var b=u();h({data:m,addLength1:!0,objectId:b}),l("endobj");var y=u();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var w=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Xb(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var A=0;A<o.metadata.hmtx.widths.length;A++)o.metadata.hmtx.widths[A]=parseInt(o.metadata.hmtx.widths[A]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Xb(o.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,u=i.y,h=i.options||{},f=i.mutex||{},m=f.pdfEscape,g=f.activeFontKey,b=f.fonts,y=g,w="",A=0,S="",N=b[y].encoding;if(b[y].encoding!=="Identity-H")return{text:o,x:l,y:u,options:h,mutex:f};for(S=o,y=g,Array.isArray(o)&&(S=o[0]),A=0;A<S.length;A+=1)b[y].metadata.hasOwnProperty("cmap")&&(s=b[y].metadata.cmap.unicode.codeMap[S[A].charCodeAt(0)]),s||S[A].charCodeAt(0)<256&&b[y].metadata.hasOwnProperty("Unicode")?w+=S[A]:w+="";var T="";return parseInt(y.slice(1))<14||N==="WinAnsiEncoding"?T=m(w,y).split("").map((function(k){return k.charCodeAt(0).toString(16)})).join(""):N==="Identity-H"&&(T=r(w,b[y])),f.isHex=!0,{text:T,x:l,y:u,options:h,mutex:f}};e.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([a(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(a(Object.assign({},l,{text:s[u]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])})(Gr),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Gr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,s,o,l,u,h,f=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,N=0;this.__bidiEngine__={};var T=function(F){var L=F.charCodeAt(),re=L>>8,Z=y[re];return Z!==void 0?f[256*Z+(255&L)]:re===252||re===253?"AL":A.test(re)?"L":re===8?"R":"N"},k=function(F){for(var L,re=0;re<F.length;re++){if((L=T(F.charAt(re)))==="L")return!1;if(L==="R")return!0}return!1},R=function(F,L,re,Z){var pe,Q,X,oe,ce=L[Z];switch(ce){case"L":case"R":S=!1;break;case"N":case"AN":break;case"EN":S&&(ce="AN");break;case"AL":S=!0,ce="R";break;case"WS":ce="N";break;case"CS":Z<1||Z+1>=L.length||(pe=re[Z-1])!=="EN"&&pe!=="AN"||(Q=L[Z+1])!=="EN"&&Q!=="AN"?ce="N":S&&(Q="AN"),ce=Q===pe?Q:"N";break;case"ES":ce=(pe=Z>0?re[Z-1]:"B")==="EN"&&Z+1<L.length&&L[Z+1]==="EN"?"EN":"N";break;case"ET":if(Z>0&&re[Z-1]==="EN"){ce="EN";break}if(S){ce="N";break}for(X=Z+1,oe=L.length;X<oe&&L[X]==="ET";)X++;ce=X<oe&&L[X]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(oe=L.length,X=Z+1;X<oe&&L[X]==="NSM";)X++;if(X<oe){var Ne=F[Z],ne=Ne>=1425&&Ne<=2303||Ne===64286;if(pe=L[X],ne&&(pe==="R"||pe==="AL")){ce="R";break}}}ce=Z<1||(pe=L[Z-1])==="B"?"N":re[Z-1];break;case"B":S=!1,a=!0,ce=N;break;case"S":i=!0,ce="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"BN":ce="N"}return ce},O=function(F,L,re){var Z=F.split("");return re&&U(Z,re,{hiLevel:N}),Z.reverse(),L&&L.reverse(),Z.join("")},U=function(F,L,re){var Z,pe,Q,X,oe,ce=-1,Ne=F.length,ne=0,B=[],V=N?g:m,Y=[];for(S=!1,a=!1,i=!1,pe=0;pe<Ne;pe++)Y[pe]=T(F[pe]);for(Q=0;Q<Ne;Q++){if(oe=ne,B[Q]=R(F,Y,B,Q),Z=240&(ne=V[oe][b[B[Q]]]),ne&=15,L[Q]=X=V[ne][5],Z>0)if(Z===16){for(pe=ce;pe<Q;pe++)L[pe]=1;ce=-1}else ce=-1;if(V[ne][6])ce===-1&&(ce=Q);else if(ce>-1){for(pe=ce;pe<Q;pe++)L[pe]=X;ce=-1}Y[Q]==="B"&&(L[Q]=0),re.hiLevel|=X}i&&(function(K,le,Ae){for(var De=0;De<Ae;De++)if(K[De]==="S"){le[De]=N;for(var de=De-1;de>=0&&K[de]==="WS";de--)le[de]=N}})(Y,L,Ne)},H=function(F,L,re,Z,pe){if(!(pe.hiLevel<F)){if(F===1&&N===1&&!a)return L.reverse(),void(re&&re.reverse());for(var Q,X,oe,ce,Ne=L.length,ne=0;ne<Ne;){if(Z[ne]>=F){for(oe=ne+1;oe<Ne&&Z[oe]>=F;)oe++;for(ce=ne,X=oe-1;ce<X;ce++,X--)Q=L[ce],L[ce]=L[X],L[X]=Q,re&&(Q=re[ce],re[ce]=re[X],re[X]=Q);ne=oe}ne++}}},G=function(F,L,re){var Z=F.split(""),pe={hiLevel:N};return re||(re=[]),U(Z,re,pe),(function(Q,X,oe){if(oe.hiLevel!==0&&h)for(var ce,Ne=0;Ne<Q.length;Ne++)X[Ne]===1&&(ce=w.indexOf(Q[Ne]))>=0&&(Q[Ne]=w[ce+1])})(Z,re,pe),H(2,Z,L,re,pe),H(1,Z,L,re,pe),Z.join("")};return this.__bidiEngine__.doBidiReorder=function(F,L,re){if((function(pe,Q){if(Q)for(var X=0;X<pe.length;X++)Q[X]=X;o===void 0&&(o=k(pe)),u===void 0&&(u=k(pe))})(F,L),s||!l||u)if(s&&l&&o^u)N=o?1:0,F=O(F,L,re);else if(!s&&l&&u)N=o?1:0,F=G(F,L,re),F=O(F,L);else if(!s||o||l||u){if(s&&!l&&o^u)F=O(F,L),o?(N=0,F=G(F,L,re)):(N=1,F=G(F,L,re),F=O(F,L));else if(s&&o&&!l&&u)N=1,F=G(F,L,re),F=O(F,L);else if(!s&&!l&&o^u){var Z=h;o?(N=1,F=G(F,L,re),N=0,h=!1,F=G(F,L,re),h=Z):(N=0,F=G(F,L,re),F=O(F,L),N=1,h=!1,F=G(F,L,re),h=Z,F=O(F,L))}}else N=0,F=G(F,L,re);else N=o?1:0,F=G(F,L,re);return F},this.__bidiEngine__.setOptions=function(F){F&&(s=F.isInputVisual,l=F.isOutputVisual,o=F.isInputRtl,u=F.isOutputRtl,h=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),s=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(Gr),Gr.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Vx(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new S6e(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new u6e(this.contents),this.head=new h6e(this),this.name=new x6e(this),this.cmap=new Fse(this),this.toUnicode={},this.hhea=new f6e(this),this.maxp=new v6e(this),this.hmtx=new y6e(this),this.post=new m6e(this),this.os2=new p6e(this),this.loca=new _6e(this),this.glyf=new b6e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,u;for(u=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,s,o;for(s=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var Sf,Vx=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,s,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t})(),u6e=(function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,s,o,l,u,h,f,m,g,b,y;for(y in g=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(g)/l),s=Math.floor(f/l),h=16*g-f,(a=new Vx).writeInt(this.scalarType),a.writeShort(g),a.writeShort(f),a.writeShort(s),a.writeShort(h),i=16*g,u=a.pos+i,o=null,b=[],r)for(m=r[y],a.writeString(y),a.writeInt(t(m)),a.writeInt(u),a.writeInt(m.length),b=b.concat(m),y==="head"&&(o=u),u+=m.length;u%4;)b.push(0),u++;return a.write(b),n=2981146554-t(a.data),a.pos=o+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,s;for(r=Bse.call(r);r.length%4;)r.push(0);for(i=new Vx(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},e})(),d6e={}.hasOwnProperty,K0=function(t,e){for(var r in e)d6e.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Sf=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var h6e=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return K0(e,Sf),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Vx).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e})(),$K=(function(){function t(e,r){var n,a,i,s,o,l,u,h,f,m,g,b,y,w,A,S,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(g=e.readUInt16(),m=g/2,e.pos+=6,i=(function(){var T,k;for(k=[],l=T=0;0<=m?T<m:T>m;l=0<=m?++T:--T)k.push(e.readUInt16());return k})(),e.pos+=2,y=(function(){var T,k;for(k=[],l=T=0;0<=m?T<m:T>m;l=0<=m?++T:--T)k.push(e.readUInt16());return k})(),u=(function(){var T,k;for(k=[],l=T=0;0<=m?T<m:T>m;l=0<=m?++T:--T)k.push(e.readUInt16());return k})(),h=(function(){var T,k;for(k=[],l=T=0;0<=m?T<m:T>m;l=0<=m?++T:--T)k.push(e.readUInt16());return k})(),a=(this.length-e.pos+this.offset)/2,o=(function(){var T,k;for(k=[],l=T=0;0<=a?T<a:T>a;l=0<=a?++T:--T)k.push(e.readUInt16());return k})(),l=A=0,N=i.length;A<N;l=++A)for(w=i[l],n=S=b=y[l];b<=w?S<=w:S>=w;n=b<=w?++S:--S)h[l]===0?s=n+u[l]:(s=o[h[l]/2+(n-b)-(m-l)]||0)!==0&&(s+=u[l]),this.codeMap[n]=65535&s}e.pos=f}return t.encode=function(e,r){var n,a,i,s,o,l,u,h,f,m,g,b,y,w,A,S,N,T,k,R,O,U,H,G,F,L,re,Z,pe,Q,X,oe,ce,Ne,ne,B,V,Y,K,le,Ae,De,de,Le,Ge,Re;switch(Z=new Vx,s=Object.keys(e).sort((function(wt,St){return wt-St})),r){case"macroman":for(y=0,w=(function(){var wt=[];for(b=0;b<256;++b)wt.push(0);return wt})(),S={0:0},i={},pe=0,ce=s.length;pe<ce;pe++)S[de=e[a=s[pe]]]==null&&(S[de]=++y),i[a]={old:e[a],new:S[e[a]]},w[a]=S[e[a]];return Z.writeUInt16(1),Z.writeUInt16(0),Z.writeUInt32(12),Z.writeUInt16(0),Z.writeUInt16(262),Z.writeUInt16(0),Z.write(w),{charMap:i,subtable:Z.data,maxGlyphID:y+1};case"unicode":for(L=[],f=[],N=0,S={},n={},A=u=null,Q=0,Ne=s.length;Q<Ne;Q++)S[k=e[a=s[Q]]]==null&&(S[k]=++N),n[a]={old:k,new:S[k]},o=S[k]-a,A!=null&&o===u||(A&&f.push(A),L.push(a),u=o),A=a;for(A&&f.push(A),f.push(65535),L.push(65535),G=2*(H=L.length),U=2*Math.pow(Math.log(H)/Math.LN2,2),m=Math.log(U/2)/Math.LN2,O=2*H-U,l=[],R=[],g=[],b=X=0,ne=L.length;X<ne;b=++X){if(F=L[b],h=f[b],F===65535){l.push(0),R.push(0);break}if(F-(re=n[F].new)>=32768)for(l.push(0),R.push(2*(g.length+H-b)),a=oe=F;F<=h?oe<=h:oe>=h;a=F<=h?++oe:--oe)g.push(n[a].new);else l.push(re-F),R.push(0)}for(Z.writeUInt16(3),Z.writeUInt16(1),Z.writeUInt32(12),Z.writeUInt16(4),Z.writeUInt16(16+8*H+2*g.length),Z.writeUInt16(0),Z.writeUInt16(G),Z.writeUInt16(U),Z.writeUInt16(m),Z.writeUInt16(O),Ae=0,B=f.length;Ae<B;Ae++)a=f[Ae],Z.writeUInt16(a);for(Z.writeUInt16(0),De=0,V=L.length;De<V;De++)a=L[De],Z.writeUInt16(a);for(Le=0,Y=l.length;Le<Y;Le++)o=l[Le],Z.writeUInt16(o);for(Ge=0,K=R.length;Ge<K;Ge++)T=R[Ge],Z.writeUInt16(T);for(Re=0,le=g.length;Re<le;Re++)y=g[Re],Z.writeUInt16(y);return{charMap:n,subtable:Z.data,maxGlyphID:N+1}}},t})(),Fse=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return K0(e,Sf),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new $K(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=$K.encode(r,n),(i=new Vx).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},e})(),f6e=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return K0(e,Sf),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e})(),p6e=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return K0(e,Sf),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=(function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a})(),this.charRange=(function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a})(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=(function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a})(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e})(),m6e=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return K0(e,Sf),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,u;for(u=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)u.push(r.readUInt32());return u}).call(this)}},e})(),g6e=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},x6e=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return K0(e,Sf),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,i,s,o,l,u,h,f,m,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(u={},s=f=0,m=a.length;f<m;s=++f)i=a[s],r.pos=i.offset,h=r.readString(i.length),o=new g6e(h,i),u[g=i.nameID]==null&&(u[g]=[]),u[i.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e})(),v6e=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return K0(e,Sf),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e})(),y6e=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return K0(e,Sf),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,i,s,o,l,u;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,f;for(f=[],n=h=0;0<=i?h<i:h>i;n=0<=i?++h:--h)f.push(r.readInt16());return f})(),this.widths=(function(){var h,f,m,g;for(g=[],h=0,f=(m=this.metrics).length;h<f;h++)s=m[h],g.push(s.advance);return g}).call(this),a=this.widths[this.widths.length-1],u=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)u.push(this.widths.push(a));return u},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e})(),Bse=[].slice,b6e=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return K0(e,Sf),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,i,s,o,l,u,h,f,m;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new Vx(n.read(i))).readShort(),h=l.readShort(),m=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new A6e(l,h,m,u,f):new w6e(l,o,h,m,u,f),this.cache[r]))},e.prototype.encode=function(r,n,a){var i,s,o,l,u;for(o=[],s=[],l=0,u=n.length;l<u;l++)i=r[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},e})(),w6e=(function(){function t(e,r,n,a,i,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),A6e=(function(){function t(e,r,n,a,i){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Vx(Bse.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),_6e=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return K0(e,Sf),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(i+=u)}for(var h=new Array(4*a.length),f=0;f<a.length;++f)h[4*f+3]=255&a[f],h[4*f+2]=(65280&a[f])>>8,h[4*f+1]=(16711680&a[f])>>16,h[4*f]=(4278190080&a[f])>>24;return h},e})(),S6e=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,s,o,l;for(a={},s=0,o=e.length;s<o;s++)a[i=e[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,s,o,l,u,h,f,m,g,b,y,w,A;for(a in n=Fse.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),g={0:0},A=n.charMap)g[(l=A[a]).old]=l.new;for(b in m=n.maxGlyphID,s)b in g||(g[b]=m++);return h=(function(S){var N,T;for(N in T={},S)T[S[N]]=N;return T})(g),f=Object.keys(h).sort((function(S,N){return S-N})),y=(function(){var S,N,T;for(T=[],S=0,N=f.length;S<N;S++)o=f[S],T.push(h[o]);return T})(),i=this.font.glyf.encode(s,y,g),u=this.font.loca.encode(i.offsets,y),w={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t})();Gr.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+(function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+e.convert(s));return i.push(">>"),i.join(`
`)}return""+r},e})();const qB=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:r6e,AcroFormAppearance:kr,AcroFormButton:xo,AcroFormCheckBox:b_,AcroFormChoiceField:ly,AcroFormComboBox:uy,AcroFormEditBox:v_,AcroFormListBox:cy,AcroFormPasswordField:w_,AcroFormPushButton:y_,AcroFormRadioButton:dy,AcroFormTextField:Ix,GState:sS,ShadingPattern:Og,TilingPattern:Mv,default:Gr,jsPDF:Gr},Symbol.toStringTag,{value:"Module"}));var Q3={exports:{}};const N6e=wde(qB);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */var VK=Q3.exports,HK;function E6e(){return HK||(HK=1,(function(t,e){(function(n,a){t.exports=a((function(){try{return N6e}catch{}})())})(typeof globalThis<"u"?globalThis:typeof VK<"u"?VK:typeof window<"u"?window:typeof self<"u"?self:YX,function(r){return(function(){var n={172:(function(o,l){var u=this&&this.__extends||(function(){var m=function(g,b){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,w){y.__proto__=w}||function(y,w){for(var A in w)Object.prototype.hasOwnProperty.call(w,A)&&(y[A]=w[A])},m(g,b)};return function(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");m(g,b);function y(){this.constructor=g}g.prototype=b===null?Object.create(b):(y.prototype=b.prototype,new y)}})();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var h=(function(){function m(g,b,y){this.table=b,this.pageNumber=b.pageNumber,this.pageCount=this.pageNumber,this.settings=b.settings,this.cursor=y,this.doc=g.getDocument()}return m})();l.HookData=h;var f=(function(m){u(g,m);function g(b,y,w,A,S,N){var T=m.call(this,b,y,N)||this;return T.cell=w,T.row=A,T.column=S,T.section=A.section,T}return g})(h);l.CellHookData=f}),340:(function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0});var h=u(4),f=u(136),m=u(744),g=u(776),b=u(664),y=u(972);function w(A){A.API.autoTable=function(){for(var S=[],N=0;N<arguments.length;N++)S[N]=arguments[N];var T;S.length===1?T=S[0]:(console.error("Use of deprecated autoTable initiation"),T=S[2]||{},T.columns=S[0],T.body=S[1]);var k=(0,g.parseInput)(this,T),R=(0,y.createTable)(this,k);return(0,b.drawTable)(this,R),this},A.API.lastAutoTable=!1,A.API.previousAutoTable=!1,A.API.autoTable.previous=!1,A.API.autoTableText=function(S,N,T,k){(0,f.default)(S,N,T,k,this)},A.API.autoTableSetDefaults=function(S){return m.DocHandler.setDefaults(S,this),this},A.autoTableSetDefaults=function(S,N){m.DocHandler.setDefaults(S,N)},A.API.autoTableHtmlToJson=function(S,N){var T;if(N===void 0&&(N=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var k=new m.DocHandler(this),R=(0,h.parseHtml)(k,S,window,N,!1),O=R.head,U=R.body,H=((T=O[0])===null||T===void 0?void 0:T.map(function(G){return G.content}))||[];return{columns:H,rows:U,data:U}},A.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var S=this.lastAutoTable;return S&&S.finalY?S.finalY:0},A.API.autoTableAddPageContent=function(S){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),A.API.autoTable.globalDefaults||(A.API.autoTable.globalDefaults={}),A.API.autoTable.globalDefaults.addPageContent=S,this},A.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=w}),136:(function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function u(h,f,m,g,b){g=g||{};var y=1.15,w=b.internal.scaleFactor,A=b.internal.getFontSize()/w,S=b.getLineHeightFactor?b.getLineHeightFactor():y,N=A*S,T=/\r\n|\r|\n/g,k="",R=1;if((g.valign==="middle"||g.valign==="bottom"||g.halign==="center"||g.halign==="right")&&(k=typeof h=="string"?h.split(T):h,R=k.length||1),m+=A*(2-y),g.valign==="middle"?m-=R/2*N:g.valign==="bottom"&&(m-=R*N),g.halign==="center"||g.halign==="right"){var O=A;if(g.halign==="center"&&(O*=.5),k&&R>=1){for(var U=0;U<k.length;U++)b.text(k[U],f-b.getStringUnitWidth(k[U])*O,m),m+=N;return b}f-=b.getStringUnitWidth(h)*O}return g.halign==="justify"?b.text(h,f,m,{maxWidth:g.maxWidth||100,align:"justify"}):b.text(h,f,m),b}l.default=u}),420:(function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function u(b,y,w){w.applyStyles(y,!0);var A=Array.isArray(b)?b:[b],S=A.map(function(N){return w.getTextWidth(N)}).reduce(function(N,T){return Math.max(N,T)},0);return S}l.getStringWidth=u;function h(b,y,w,A){var S=y.settings.tableLineWidth,N=y.settings.tableLineColor;b.applyStyles({lineWidth:S,lineColor:N});var T=f(S,!1);T&&b.rect(w.x,w.y,y.getWidth(b.pageSize().width),A.y-w.y,T)}l.addTableBorder=h;function f(b,y){var w=b>0,A=y||y===0;return w&&A?"DF":w?"S":A?"F":null}l.getFillStyle=f;function m(b,y){var w,A,S,N;if(b=b||y,Array.isArray(b)){if(b.length>=4)return{top:b[0],right:b[1],bottom:b[2],left:b[3]};if(b.length===3)return{top:b[0],right:b[1],bottom:b[2],left:b[1]};if(b.length===2)return{top:b[0],right:b[1],bottom:b[0],left:b[1]};b.length===1?b=b[0]:b=y}return typeof b=="object"?(typeof b.vertical=="number"&&(b.top=b.vertical,b.bottom=b.vertical),typeof b.horizontal=="number"&&(b.right=b.horizontal,b.left=b.horizontal),{left:(w=b.left)!==null&&w!==void 0?w:y,top:(A=b.top)!==null&&A!==void 0?A:y,right:(S=b.right)!==null&&S!==void 0?S:y,bottom:(N=b.bottom)!==null&&N!==void 0?N:y}):(typeof b!="number"&&(b=y),{top:b,right:b,bottom:b,left:b})}l.parseSpacing=m;function g(b,y){var w=m(y.settings.margin,0);return b.pageSize().width-(w.left+w.right)}l.getPageAvailableWidth=g}),796:(function(o,l){var u=this&&this.__extends||(function(){var g=function(b,y){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,A){w.__proto__=A}||function(w,A){for(var S in A)Object.prototype.hasOwnProperty.call(A,S)&&(w[S]=A[S])},g(b,y)};return function(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");g(b,y);function w(){this.constructor=b}b.prototype=y===null?Object.create(y):(w.prototype=y.prototype,new w)}})();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var h=(function(g){u(b,g);function b(y){var w=g.call(this)||this;return w._element=y,w}return b})(Array);l.HtmlRowInput=h;function f(g){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/g,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=f;function m(g){var b={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return b[g]}l.getTheme=m}),903:(function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var h=u(420);function f(w,A,S,N,T){var k={},R=1.3333333333333333,O=g(A,function(ce){return T.getComputedStyle(ce).backgroundColor});O!=null&&(k.fillColor=O);var U=g(A,function(ce){return T.getComputedStyle(ce).color});U!=null&&(k.textColor=U);var H=y(N,S);H&&(k.cellPadding=H);var G="borderTopColor",F=R*S,L=N.borderTopWidth;if(N.borderBottomWidth===L&&N.borderRightWidth===L&&N.borderLeftWidth===L){var re=(parseFloat(L)||0)/F;re&&(k.lineWidth=re)}else k.lineWidth={top:(parseFloat(N.borderTopWidth)||0)/F,right:(parseFloat(N.borderRightWidth)||0)/F,bottom:(parseFloat(N.borderBottomWidth)||0)/F,left:(parseFloat(N.borderLeftWidth)||0)/F},k.lineWidth.top||(k.lineWidth.right?G="borderRightColor":k.lineWidth.bottom?G="borderBottomColor":k.lineWidth.left&&(G="borderLeftColor"));var Z=g(A,function(ce){return T.getComputedStyle(ce)[G]});Z!=null&&(k.lineColor=Z);var pe=["left","right","center","justify"];pe.indexOf(N.textAlign)!==-1&&(k.halign=N.textAlign),pe=["middle","bottom","top"],pe.indexOf(N.verticalAlign)!==-1&&(k.valign=N.verticalAlign);var Q=parseInt(N.fontSize||"");isNaN(Q)||(k.fontSize=Q/R);var X=m(N);X&&(k.fontStyle=X);var oe=(N.fontFamily||"").toLowerCase();return w.indexOf(oe)!==-1&&(k.font=oe),k}l.parseCss=f;function m(w){var A="";return(w.fontWeight==="bold"||w.fontWeight==="bolder"||parseInt(w.fontWeight)>=700)&&(A="bold"),(w.fontStyle==="italic"||w.fontStyle==="oblique")&&(A+="italic"),A}function g(w,A){var S=b(w,A);if(!S)return null;var N=S.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!N||!Array.isArray(N))return null;var T=[parseInt(N[1]),parseInt(N[2]),parseInt(N[3])],k=parseInt(N[4]);return k===0||isNaN(T[0])||isNaN(T[1])||isNaN(T[2])?null:T}function b(w,A){var S=A(w);return S==="rgba(0, 0, 0, 0)"||S==="transparent"||S==="initial"||S==="inherit"?w.parentElement==null?null:b(w.parentElement,A):S}function y(w,A){var S=[w.paddingTop,w.paddingRight,w.paddingBottom,w.paddingLeft],N=96/(72/A),T=(parseInt(w.lineHeight)-parseInt(w.fontSize))/A/2,k=S.map(function(O){return parseInt(O||"0")/N}),R=(0,h.parseSpacing)(k,0);return T>R.top&&(R.top=T),T>R.bottom&&(R.bottom=T),R}}),744:(function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var u={},h=(function(){function f(m){this.jsPDFDocument=m,this.userStyles={textColor:m.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:m.internal.getFontSize(),fontStyle:m.internal.getFont().fontStyle,font:m.internal.getFont().fontName,lineWidth:m.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:m.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(m,g){g===void 0&&(g=null),g?g.__autoTableDocumentDefaults=m:u=m},f.unifyColor=function(m){return Array.isArray(m)?m:typeof m=="number"?[m,m,m]:typeof m=="string"?[m]:null},f.prototype.applyStyles=function(m,g){var b,y,w;g===void 0&&(g=!1),m.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(m.fontStyle);var A=this.jsPDFDocument.internal.getFont(),S=A.fontStyle,N=A.fontName;if(m.font&&(N=m.font),m.fontStyle){S=m.fontStyle;var T=this.getFontList()[N];T&&T.indexOf(S)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(T[0]),S=T[0])}if(this.jsPDFDocument.setFont(N,S),m.fontSize&&this.jsPDFDocument.setFontSize(m.fontSize),!g){var k=f.unifyColor(m.fillColor);k&&(b=this.jsPDFDocument).setFillColor.apply(b,k),k=f.unifyColor(m.textColor),k&&(y=this.jsPDFDocument).setTextColor.apply(y,k),k=f.unifyColor(m.lineColor),k&&(w=this.jsPDFDocument).setDrawColor.apply(w,k),typeof m.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(m.lineWidth)}},f.prototype.splitTextToSize=function(m,g,b){return this.jsPDFDocument.splitTextToSize(m,g,b)},f.prototype.rect=function(m,g,b,y,w){return this.jsPDFDocument.rect(m,g,b,y,w)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(m){return this.jsPDFDocument.getTextWidth(m)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(m){this.jsPDFDocument.setPage(m)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var m=this.jsPDFDocument.internal.pageSize;return m.width==null&&(m={width:m.getWidth(),height:m.getHeight()}),m},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var m=this.jsPDFDocument;return m.getLineHeightFactor?m.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(m){return m/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var m=this.jsPDFDocument.internal.getCurrentPageInfo();return m?m.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f})();l.DocHandler=h}),4:(function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var h=u(903),f=u(796);function m(y,w,A,S,N){var T,k;S===void 0&&(S=!1),N===void 0&&(N=!1);var R;typeof w=="string"?R=A.document.querySelector(w):R=w;var O=Object.keys(y.getFontList()),U=y.scaleFactor(),H=[],G=[],F=[];if(!R)return console.error("Html table could not be found with input: ",w),{head:H,body:G,foot:F};for(var L=0;L<R.rows.length;L++){var re=R.rows[L],Z=(k=(T=re==null?void 0:re.parentElement)===null||T===void 0?void 0:T.tagName)===null||k===void 0?void 0:k.toLowerCase(),pe=g(O,U,A,re,S,N);pe&&(Z==="thead"?H.push(pe):Z==="tfoot"?F.push(pe):G.push(pe))}return{head:H,body:G,foot:F}}l.parseHtml=m;function g(y,w,A,S,N,T){for(var k=new f.HtmlRowInput(S),R=0;R<S.cells.length;R++){var O=S.cells[R],U=A.getComputedStyle(O);if(N||U.display!=="none"){var H=void 0;T&&(H=(0,h.parseCss)(y,O,w,U,A)),k.push({rowSpan:O.rowSpan,colSpan:O.colSpan,styles:H,_element:O,content:b(O)})}}var G=A.getComputedStyle(S);if(k.length>0&&(N||G.display!=="none"))return k}function b(y){var w=y.cloneNode(!0);return w.innerHTML=w.innerHTML.replace(/\n/g,"").replace(/ +/g," "),w.innerHTML=w.innerHTML.split(/<br.*?>/).map(function(A){return A.trim()}).join(`
`),w.innerText||w.textContent||""}}),776:(function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var h=u(4),f=u(356),m=u(420),g=u(744),b=u(792);function y(R,O){var U=new g.DocHandler(R),H=U.getDocumentOptions(),G=U.getGlobalOptions();(0,b.default)(U,G,H,O);var F=(0,f.assign)({},G,H,O),L;typeof window<"u"&&(L=window);var re=w(G,H,O),Z=A(G,H,O),pe=S(U,F),Q=T(U,F,L);return{id:O.tableId,content:Q,hooks:Z,styles:re,settings:pe}}l.parseInput=y;function w(R,O,U){for(var H={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},G=function(Z){if(Z==="columnStyles"){var pe=R[Z],Q=O[Z],X=U[Z];H.columnStyles=(0,f.assign)({},pe,Q,X)}else{var oe=[R,O,U],ce=oe.map(function(Ne){return Ne[Z]||{}});H[Z]=(0,f.assign)({},ce[0],ce[1],ce[2])}},F=0,L=Object.keys(H);F<L.length;F++){var re=L[F];G(re)}return H}function A(R,O,U){for(var H=[R,O,U],G={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},F=0,L=H;F<L.length;F++){var re=L[F];re.didParseCell&&G.didParseCell.push(re.didParseCell),re.willDrawCell&&G.willDrawCell.push(re.willDrawCell),re.didDrawCell&&G.didDrawCell.push(re.didDrawCell),re.willDrawPage&&G.willDrawPage.push(re.willDrawPage),re.didDrawPage&&G.didDrawPage.push(re.didDrawPage)}return G}function S(R,O){var U,H,G,F,L,re,Z,pe,Q,X,oe,ce,Ne=(0,m.parseSpacing)(O.margin,40/R.scaleFactor()),ne=(U=N(R,O.startY))!==null&&U!==void 0?U:Ne.top,B;O.showFoot===!0?B="everyPage":O.showFoot===!1?B="never":B=(H=O.showFoot)!==null&&H!==void 0?H:"everyPage";var V;O.showHead===!0?V="everyPage":O.showHead===!1?V="never":V=(G=O.showHead)!==null&&G!==void 0?G:"everyPage";var Y=(F=O.useCss)!==null&&F!==void 0?F:!1,K=O.theme||(Y?"plain":"striped"),le=!!O.horizontalPageBreak,Ae=(L=O.horizontalPageBreakRepeat)!==null&&L!==void 0?L:null;return{includeHiddenHtml:(re=O.includeHiddenHtml)!==null&&re!==void 0?re:!1,useCss:Y,theme:K,startY:ne,margin:Ne,pageBreak:(Z=O.pageBreak)!==null&&Z!==void 0?Z:"auto",rowPageBreak:(pe=O.rowPageBreak)!==null&&pe!==void 0?pe:"auto",tableWidth:(Q=O.tableWidth)!==null&&Q!==void 0?Q:"auto",showHead:V,showFoot:B,tableLineWidth:(X=O.tableLineWidth)!==null&&X!==void 0?X:0,tableLineColor:(oe=O.tableLineColor)!==null&&oe!==void 0?oe:200,horizontalPageBreak:le,horizontalPageBreakRepeat:Ae,horizontalPageBreakBehaviour:(ce=O.horizontalPageBreakBehaviour)!==null&&ce!==void 0?ce:"afterAllRows"}}function N(R,O){var U=R.getLastAutoTable(),H=R.scaleFactor(),G=R.pageNumber(),F=!1;if(U&&U.startPageNumber){var L=U.startPageNumber+U.pageNumber-1;F=L===G}return typeof O=="number"?O:(O==null||O===!1)&&F&&(U==null?void 0:U.finalY)!=null?U.finalY+20/H:null}function T(R,O,U){var H=O.head||[],G=O.body||[],F=O.foot||[];if(O.html){var L=O.includeHiddenHtml;if(U){var re=(0,h.parseHtml)(R,O.html,U,L,O.useCss)||{};H=re.head||H,G=re.body||H,F=re.foot||H}else console.error("Cannot parse html in non browser environment")}var Z=O.columns||k(H,G,F);return{columns:Z,head:H,body:G,foot:F}}function k(R,O,U){var H=R[0]||O[0]||U[0]||[],G=[];return Object.keys(H).filter(function(F){return F!=="_element"}).forEach(function(F){var L=1,re;Array.isArray(H)?re=H[parseInt(F)]:re=H[F],typeof re=="object"&&!Array.isArray(re)&&(L=(re==null?void 0:re.colSpan)||1);for(var Z=0;Z<L;Z++){var pe=void 0;Array.isArray(H)?pe=G.length:pe=F+(Z>0?"_".concat(Z):"");var Q={dataKey:pe};G.push(Q)}}),G}}),792:(function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function u(f,m,g,b){for(var y=function(N){N&&typeof N!="object"&&console.error("The options parameter should be of type object, is: "+typeof N),typeof N.extendWidth<"u"&&(N.tableWidth=N.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof N.margins<"u"&&(typeof N.margin>"u"&&(N.margin=N.margins),console.error("Use of deprecated option: margins, use margin instead.")),N.startY&&typeof N.startY!="number"&&(console.error("Invalid value for startY option",N.startY),delete N.startY),!N.didDrawPage&&(N.afterPageContent||N.beforePageContent||N.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),N.didDrawPage=function(F){f.applyStyles(f.userStyles),N.beforePageContent&&N.beforePageContent(F),f.applyStyles(f.userStyles),N.afterPageContent&&N.afterPageContent(F),f.applyStyles(f.userStyles),N.afterPageAdd&&F.pageNumber>1&&F.afterPageAdd(F),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(F){N[F]&&console.error('The "'.concat(F,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(F){var L=F[0],re=F[1];N[re]&&(console.error("Use of deprecated option ".concat(re,". Use ").concat(L," instead")),N[L]=N[re])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(F){var L=typeof F=="string"?F:F[0],re=typeof F=="string"?F:F[1];typeof N[L]<"u"&&(typeof N.styles[re]>"u"&&(N.styles[re]=N[L]),console.error("Use of deprecated option: "+L+", use the style "+re+" instead."))});for(var T=0,k=["styles","bodyStyles","headStyles","footStyles"];T<k.length;T++){var R=k[T];h(N[R]||{})}for(var O=N.columnStyles||{},U=0,H=Object.keys(O);U<H.length;U++){var G=H[U];h(O[G]||{})}},w=0,A=[m,g,b];w<A.length;w++){var S=A[w];y(S)}}l.default=u;function h(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}}),260:(function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var h=u(796),f=u(172),m=u(420),g=(function(){function A(S,N){this.pageNumber=1,this.pageCount=1,this.id=S.id,this.settings=S.settings,this.styles=S.styles,this.hooks=S.hooks,this.columns=N.columns,this.head=N.head,this.body=N.body,this.foot=N.foot}return A.prototype.getHeadHeight=function(S){return this.head.reduce(function(N,T){return N+T.getMaxCellHeight(S)},0)},A.prototype.getFootHeight=function(S){return this.foot.reduce(function(N,T){return N+T.getMaxCellHeight(S)},0)},A.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},A.prototype.callCellHooks=function(S,N,T,k,R,O){for(var U=0,H=N;U<H.length;U++){var G=H[U],F=new f.CellHookData(S,this,T,k,R,O),L=G(F)===!1;if(T.text=Array.isArray(T.text)?T.text:[T.text],L)return!1}return!0},A.prototype.callEndPageHooks=function(S,N){S.applyStyles(S.userStyles);for(var T=0,k=this.hooks.didDrawPage;T<k.length;T++){var R=k[T];R(new f.HookData(S,this,N))}},A.prototype.callWillDrawPageHooks=function(S,N){for(var T=0,k=this.hooks.willDrawPage;T<k.length;T++){var R=k[T];R(new f.HookData(S,this,N))}},A.prototype.getWidth=function(S){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var N=this.columns.reduce(function(k,R){return k+R.wrappedWidth},0);return N}else{var T=this.settings.margin;return S-T.left-T.right}},A})();l.Table=g;var b=(function(){function A(S,N,T,k,R){R===void 0&&(R=!1),this.height=0,this.raw=S,S instanceof h.HtmlRowInput&&(this.raw=S._element,this.element=S._element),this.index=N,this.section=T,this.cells=k,this.spansMultiplePages=R}return A.prototype.getMaxCellHeight=function(S){var N=this;return S.reduce(function(T,k){var R;return Math.max(T,((R=N.cells[k.index])===null||R===void 0?void 0:R.height)||0)},0)},A.prototype.hasRowSpan=function(S){var N=this;return S.filter(function(T){var k=N.cells[T.index];return k?k.rowSpan>1:!1}).length>0},A.prototype.canEntireRowFit=function(S,N){return this.getMaxCellHeight(N)<=S},A.prototype.getMinimumRowHeight=function(S,N){var T=this;return S.reduce(function(k,R){var O=T.cells[R.index];if(!O)return 0;var U=N.getLineHeight(O.styles.fontSize),H=O.padding("vertical"),G=H+U;return G>k?G:k},0)},A})();l.Row=b;var y=(function(){function A(S,N,T){var k,R;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=N,this.section=T,this.raw=S;var O=S;S!=null&&typeof S=="object"&&!Array.isArray(S)?(this.rowSpan=S.rowSpan||1,this.colSpan=S.colSpan||1,O=(R=(k=S.content)!==null&&k!==void 0?k:S.title)!==null&&R!==void 0?R:S,S._element&&(this.raw=S._element)):(this.rowSpan=1,this.colSpan=1);var U=O!=null?""+O:"",H=/\r\n|\r|\n/g;this.text=U.split(H)}return A.prototype.getTextPos=function(){var S;if(this.styles.valign==="top")S=this.y+this.padding("top");else if(this.styles.valign==="bottom")S=this.y+this.height-this.padding("bottom");else{var N=this.height-this.padding("vertical");S=this.y+N/2+this.padding("top")}var T;if(this.styles.halign==="right")T=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var k=this.width-this.padding("horizontal");T=this.x+k/2+this.padding("left")}else T=this.x+this.padding("left");return{x:T,y:S}},A.prototype.getContentHeight=function(S,N){N===void 0&&(N=1.15);var T=Array.isArray(this.text)?this.text.length:1,k=this.styles.fontSize/S*N,R=T*k+this.padding("vertical");return Math.max(R,this.styles.minCellHeight)},A.prototype.padding=function(S){var N=(0,m.parseSpacing)(this.styles.cellPadding,0);return S==="vertical"?N.top+N.bottom:S==="horizontal"?N.left+N.right:N[S]},A})();l.Cell=y;var w=(function(){function A(S,N,T){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=S,this.raw=N,this.index=T}return A.prototype.getMaxCustomCellWidth=function(S){for(var N=0,T=0,k=S.allRows();T<k.length;T++){var R=k[T],O=R.cells[this.index];O&&typeof O.styles.cellWidth=="number"&&(N=Math.max(N,O.styles.cellWidth))}return N},A})();l.Column=w}),356:(function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function u(h,f,m,g,b){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var y=Object(h),w=1;w<arguments.length;w++){var A=arguments[w];if(A!=null)for(var S in A)Object.prototype.hasOwnProperty.call(A,S)&&(y[S]=A[S])}return y}l.assign=u}),972:(function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var h=u(744),f=u(260),m=u(324),g=u(796),b=u(356);function y(R,O){var U=new h.DocHandler(R),H=w(O,U.scaleFactor()),G=new f.Table(O,H);return(0,m.calculateWidths)(U,G),U.applyStyles(U.userStyles),G}l.createTable=y;function w(R,O){var U=R.content,H=T(U.columns);if(U.head.length===0){var G=S(H,"head");G&&U.head.push(G)}if(U.foot.length===0){var G=S(H,"foot");G&&U.foot.push(G)}var F=R.settings.theme,L=R.styles;return{columns:H,head:A("head",U.head,H,L,F,O),body:A("body",U.body,H,L,F,O),foot:A("foot",U.foot,H,L,F,O)}}function A(R,O,U,H,G,F){var L={},re=O.map(function(Z,pe){for(var Q=0,X={},oe=0,ce=0,Ne=0,ne=U;Ne<ne.length;Ne++){var B=ne[Ne];if(L[B.index]==null||L[B.index].left===0)if(ce===0){var V=void 0;Array.isArray(Z)?V=Z[B.index-oe-Q]:V=Z[B.dataKey];var Y={};typeof V=="object"&&!Array.isArray(V)&&(Y=(V==null?void 0:V.styles)||{});var K=k(R,B,pe,G,H,F,Y),le=new f.Cell(V,K,R);X[B.dataKey]=le,X[B.index]=le,ce=le.colSpan-1,L[B.index]={left:le.rowSpan-1,times:ce}}else ce--,oe++;else L[B.index].left--,ce=L[B.index].times,Q++}return new f.Row(Z,pe,R,X)});return re}function S(R,O){var U={};return R.forEach(function(H){if(H.raw!=null){var G=N(O,H.raw);G!=null&&(U[H.dataKey]=G)}}),Object.keys(U).length>0?U:null}function N(R,O){if(R==="head"){if(typeof O=="object")return O.header||O.title||null;if(typeof O=="string"||typeof O=="number")return O}else if(R==="foot"&&typeof O=="object")return O.footer;return null}function T(R){return R.map(function(O,U){var H,G,F;return typeof O=="object"?F=(G=(H=O.dataKey)!==null&&H!==void 0?H:O.key)!==null&&G!==void 0?G:U:F=U,new f.Column(F,O,U)})}function k(R,O,U,H,G,F,L){var re=(0,g.getTheme)(H),Z;R==="head"?Z=G.headStyles:R==="body"?Z=G.bodyStyles:R==="foot"&&(Z=G.footStyles);var pe=(0,b.assign)({},re.table,re[R],G.styles,Z),Q=G.columnStyles[O.dataKey]||G.columnStyles[O.index]||{},X=R==="body"?Q:{},oe=R==="body"&&U%2===0?(0,b.assign)({},re.alternateRow,G.alternateRowStyles):{},ce=(0,g.defaultStyles)(F),Ne=(0,b.assign)({},ce,pe,oe,X);return(0,b.assign)(Ne,L)}}),664:(function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var h=u(420),f=u(260),m=u(744),g=u(356),b=u(136),y=u(224);function w(Q,X){var oe=X.settings,ce=oe.startY,Ne=oe.margin,ne={x:Ne.left,y:ce},B=X.getHeadHeight(X.columns)+X.getFootHeight(X.columns),V=ce+Ne.bottom+B;if(oe.pageBreak==="avoid"){var Y=X.body,K=Y.reduce(function(De,de){return De+de.height},0);V+=K}var le=new m.DocHandler(Q);(oe.pageBreak==="always"||oe.startY!=null&&V>le.pageSize().height)&&(pe(le),ne.y=Ne.top),X.callWillDrawPageHooks(le,ne);var Ae=(0,g.assign)({},ne);X.startPageNumber=le.pageNumber(),oe.horizontalPageBreak?A(le,X,Ae,ne):(le.applyStyles(le.userStyles),(oe.showHead==="firstPage"||oe.showHead==="everyPage")&&X.head.forEach(function(De){return G(le,X,De,ne,X.columns)}),le.applyStyles(le.userStyles),X.body.forEach(function(De,de){var Le=de===X.body.length-1;H(le,X,De,Le,Ae,ne,X.columns)}),le.applyStyles(le.userStyles),(oe.showFoot==="lastPage"||oe.showFoot==="everyPage")&&X.foot.forEach(function(De){return G(le,X,De,ne,X.columns)})),(0,h.addTableBorder)(le,X,Ae,ne),X.callEndPageHooks(le,ne),X.finalY=ne.y,Q.lastAutoTable=X,Q.previousAutoTable=X,Q.autoTable&&(Q.autoTable.previous=X),le.applyStyles(le.userStyles)}l.drawTable=w;function A(Q,X,oe,ce){var Ne=(0,y.calculateAllColumnsCanFitInPage)(Q,X),ne=X.settings;if(ne.horizontalPageBreakBehaviour==="afterAllRows")Ne.forEach(function(K,le){Q.applyStyles(Q.userStyles),le>0?Z(Q,X,oe,ce,K.columns,!0):S(Q,X,ce,K.columns),N(Q,X,oe,ce,K.columns),k(Q,X,ce,K.columns)});else for(var B=-1,V=Ne[0],Y=function(){var K=B;if(V){Q.applyStyles(Q.userStyles);var le=V.columns;B>=0?Z(Q,X,oe,ce,le,!0):S(Q,X,ce,le),K=T(Q,X,B+1,ce,le),k(Q,X,ce,le)}var Ae=K-B;Ne.slice(1).forEach(function(De){Q.applyStyles(Q.userStyles),Z(Q,X,oe,ce,De.columns,!0),T(Q,X,B+1,ce,De.columns,Ae),k(Q,X,ce,De.columns)}),B=K};B<X.body.length-1;)Y()}function S(Q,X,oe,ce){var Ne=X.settings;Q.applyStyles(Q.userStyles),(Ne.showHead==="firstPage"||Ne.showHead==="everyPage")&&X.head.forEach(function(ne){return G(Q,X,ne,oe,ce)})}function N(Q,X,oe,ce,Ne){Q.applyStyles(Q.userStyles),X.body.forEach(function(ne,B){var V=B===X.body.length-1;H(Q,X,ne,V,oe,ce,Ne)})}function T(Q,X,oe,ce,Ne,ne){Q.applyStyles(Q.userStyles),ne=ne??X.body.length;var B=Math.min(oe+ne,X.body.length),V=-1;return X.body.slice(oe,B).forEach(function(Y,K){var le=oe+K===X.body.length-1,Ae=re(Q,X,le,ce);Y.canEntireRowFit(Ae,Ne)&&(G(Q,X,Y,ce,Ne),V=oe+K)}),V}function k(Q,X,oe,ce){var Ne=X.settings;Q.applyStyles(Q.userStyles),(Ne.showFoot==="lastPage"||Ne.showFoot==="everyPage")&&X.foot.forEach(function(ne){return G(Q,X,ne,oe,ce)})}function R(Q,X,oe){var ce=oe.getLineHeight(Q.styles.fontSize),Ne=Q.padding("vertical"),ne=Math.floor((X-Ne)/ce);return Math.max(0,ne)}function O(Q,X,oe,ce){var Ne={};Q.spansMultiplePages=!0,Q.height=0;for(var ne=0,B=0,V=oe.columns;B<V.length;B++){var Y=V[B],K=Q.cells[Y.index];if(K){Array.isArray(K.text)||(K.text=[K.text]);var le=new f.Cell(K.raw,K.styles,K.section);le=(0,g.assign)(le,K),le.text=[];var Ae=R(K,X,ce);K.text.length>Ae&&(le.text=K.text.splice(Ae,K.text.length));var De=ce.scaleFactor(),de=ce.getLineHeightFactor();K.contentHeight=K.getContentHeight(De,de),K.contentHeight>=X&&(K.contentHeight=X,le.styles.minCellHeight-=X),K.contentHeight>Q.height&&(Q.height=K.contentHeight),le.contentHeight=le.getContentHeight(De,de),le.contentHeight>ne&&(ne=le.contentHeight),Ne[Y.index]=le}}var Le=new f.Row(Q.raw,-1,Q.section,Ne,!0);Le.height=ne;for(var Ge=0,Re=oe.columns;Ge<Re.length;Ge++){var Y=Re[Ge],le=Le.cells[Y.index];le&&(le.height=Le.height);var K=Q.cells[Y.index];K&&(K.height=Q.height)}return Le}function U(Q,X,oe,ce){var Ne=Q.pageSize().height,ne=ce.settings.margin,B=ne.top+ne.bottom,V=Ne-B;X.section==="body"&&(V-=ce.getHeadHeight(ce.columns)+ce.getFootHeight(ce.columns));var Y=X.getMinimumRowHeight(ce.columns,Q),K=Y<oe;if(Y>V)return console.error("Will not be able to print row ".concat(X.index," correctly since it's minimum height is larger than page height")),!0;if(!K)return!1;var le=X.hasRowSpan(ce.columns),Ae=X.getMaxCellHeight(ce.columns)>V;return Ae?(le&&console.error("The content of row ".concat(X.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(le||ce.settings.rowPageBreak==="avoid")}function H(Q,X,oe,ce,Ne,ne,B){var V=re(Q,X,ce,ne);if(oe.canEntireRowFit(V,B))G(Q,X,oe,ne,B);else if(U(Q,oe,V,X)){var Y=O(oe,V,X,Q);G(Q,X,oe,ne,B),Z(Q,X,Ne,ne,B),H(Q,X,Y,ce,Ne,ne,B)}else Z(Q,X,Ne,ne,B),H(Q,X,oe,ce,Ne,ne,B)}function G(Q,X,oe,ce,Ne){ce.x=X.settings.margin.left;for(var ne=0,B=Ne;ne<B.length;ne++){var V=B[ne],Y=oe.cells[V.index];if(!Y){ce.x+=V.width;continue}Q.applyStyles(Y.styles),Y.x=ce.x,Y.y=ce.y;var K=X.callCellHooks(Q,X.hooks.willDrawCell,Y,oe,V,ce);if(K===!1){ce.x+=V.width;continue}F(Q,Y,ce);var le=Y.getTextPos();(0,b.default)(Y.text,le.x,le.y,{halign:Y.styles.halign,valign:Y.styles.valign,maxWidth:Math.ceil(Y.width-Y.padding("left")-Y.padding("right"))},Q.getDocument()),X.callCellHooks(Q,X.hooks.didDrawCell,Y,oe,V,ce),ce.x+=V.width}ce.y+=oe.height}function F(Q,X,oe){var ce=X.styles;if(Q.getDocument().setFillColor(Q.getDocument().getFillColor()),typeof ce.lineWidth=="number"){var Ne=(0,h.getFillStyle)(ce.lineWidth,ce.fillColor);Ne&&Q.rect(X.x,oe.y,X.width,X.height,Ne)}else typeof ce.lineWidth=="object"&&(ce.fillColor&&Q.rect(X.x,oe.y,X.width,X.height,"F"),L(Q,X,oe,ce.lineWidth))}function L(Q,X,oe,ce){var Ne,ne,B,V;ce.top&&(Ne=oe.x,ne=oe.y,B=oe.x+X.width,V=oe.y,ce.right&&(B+=.5*ce.right),ce.left&&(Ne-=.5*ce.left),Y(ce.top,Ne,ne,B,V)),ce.bottom&&(Ne=oe.x,ne=oe.y+X.height,B=oe.x+X.width,V=oe.y+X.height,ce.right&&(B+=.5*ce.right),ce.left&&(Ne-=.5*ce.left),Y(ce.bottom,Ne,ne,B,V)),ce.left&&(Ne=oe.x,ne=oe.y,B=oe.x,V=oe.y+X.height,ce.top&&(ne-=.5*ce.top),ce.bottom&&(V+=.5*ce.bottom),Y(ce.left,Ne,ne,B,V)),ce.right&&(Ne=oe.x+X.width,ne=oe.y,B=oe.x+X.width,V=oe.y+X.height,ce.top&&(ne-=.5*ce.top),ce.bottom&&(V+=.5*ce.bottom),Y(ce.right,Ne,ne,B,V));function Y(K,le,Ae,De,de){Q.getDocument().setLineWidth(K),Q.getDocument().line(le,Ae,De,de,"S")}}function re(Q,X,oe,ce){var Ne=X.settings.margin.bottom,ne=X.settings.showFoot;return(ne==="everyPage"||ne==="lastPage"&&oe)&&(Ne+=X.getFootHeight(X.columns)),Q.pageSize().height-ce.y-Ne}function Z(Q,X,oe,ce,Ne,ne){Ne===void 0&&(Ne=[]),ne===void 0&&(ne=!1),Q.applyStyles(Q.userStyles),X.settings.showFoot==="everyPage"&&!ne&&X.foot.forEach(function(V){return G(Q,X,V,ce,Ne)}),X.callEndPageHooks(Q,ce);var B=X.settings.margin;(0,h.addTableBorder)(Q,X,oe,ce),pe(Q),X.pageNumber++,X.pageCount++,ce.x=B.left,ce.y=B.top,oe.y=B.top,X.callWillDrawPageHooks(Q,ce),X.settings.showHead==="everyPage"&&(X.head.forEach(function(V){return G(Q,X,V,ce,Ne)}),Q.applyStyles(Q.userStyles))}l.addPage=Z;function pe(Q){var X=Q.pageNumber();Q.setPage(X+1);var oe=Q.pageNumber();return oe===X?(Q.addPage(),!0):!1}}),224:(function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var h=u(420);function f(g,b,y){var w;y===void 0&&(y={});var A=(0,h.getPageAvailableWidth)(g,b),S=new Map,N=[],T=[],k=[];b.settings.horizontalPageBreakRepeat,Array.isArray(b.settings.horizontalPageBreakRepeat)?k=b.settings.horizontalPageBreakRepeat:(typeof b.settings.horizontalPageBreakRepeat=="string"||typeof b.settings.horizontalPageBreakRepeat=="number")&&(k=[b.settings.horizontalPageBreakRepeat]),k.forEach(function(H){var G=b.columns.find(function(F){return F.dataKey===H||F.index===H});G&&!S.has(G.index)&&(S.set(G.index,!0),N.push(G.index),T.push(b.columns[G.index]),A-=G.wrappedWidth)});for(var R=!0,O=(w=y==null?void 0:y.start)!==null&&w!==void 0?w:0;O<b.columns.length;){if(S.has(O)){O++;continue}var U=b.columns[O].wrappedWidth;if(R||A>=U)R=!1,N.push(O),T.push(b.columns[O]),A-=U;else break;O++}return{colIndexes:N,columns:T,lastIndex:O-1}}function m(g,b){for(var y=[],w=0;w<b.columns.length;w++){var A=f(g,b,{start:w});A.columns.length&&(y.push(A),w=A.lastIndex)}return y}l.calculateAllColumnsCanFitInPage=m}),324:(function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var h=u(420);function f(N,T){m(N,T);var k=[],R=0;T.columns.forEach(function(U){var H=U.getMaxCustomCellWidth(T);H?U.width=H:(U.width=U.wrappedWidth,k.push(U)),R+=U.width});var O=T.getWidth(N.pageSize().width)-R;O&&(O=g(k,O,function(U){return Math.max(U.minReadableWidth,U.minWidth)})),O&&(O=g(k,O,function(U){return U.minWidth})),O=Math.abs(O),!T.settings.horizontalPageBreak&&O>.1/N.scaleFactor()&&(O=O<1?O:Math.round(O),console.warn("Of the table content, ".concat(O," units width could not fit page"))),y(T),w(T,N),b(T)}l.calculateWidths=f;function m(N,T){var k=N.scaleFactor(),R=T.settings.horizontalPageBreak,O=(0,h.getPageAvailableWidth)(N,T);T.allRows().forEach(function(U){for(var H=0,G=T.columns;H<G.length;H++){var F=G[H],L=U.cells[F.index];if(L){var re=T.hooks.didParseCell;T.callCellHooks(N,re,L,U,F,null);var Z=L.padding("horizontal");L.contentWidth=(0,h.getStringWidth)(L.text,L.styles,N)+Z;var pe=(0,h.getStringWidth)(L.text.join(" ").split(/[^\S\u00A0]+/),L.styles,N);if(L.minReadableWidth=pe+L.padding("horizontal"),typeof L.styles.cellWidth=="number")L.minWidth=L.styles.cellWidth,L.wrappedWidth=L.styles.cellWidth;else if(L.styles.cellWidth==="wrap"||R===!0)L.contentWidth>O?(L.minWidth=O,L.wrappedWidth=O):(L.minWidth=L.contentWidth,L.wrappedWidth=L.contentWidth);else{var Q=10/k;L.minWidth=L.styles.minCellWidth||Q,L.wrappedWidth=L.contentWidth,L.minWidth>L.wrappedWidth&&(L.wrappedWidth=L.minWidth)}}}}),T.allRows().forEach(function(U){for(var H=0,G=T.columns;H<G.length;H++){var F=G[H],L=U.cells[F.index];if(L&&L.colSpan===1)F.wrappedWidth=Math.max(F.wrappedWidth,L.wrappedWidth),F.minWidth=Math.max(F.minWidth,L.minWidth),F.minReadableWidth=Math.max(F.minReadableWidth,L.minReadableWidth);else{var re=T.styles.columnStyles[F.dataKey]||T.styles.columnStyles[F.index]||{},Z=re.cellWidth||re.minCellWidth;Z&&typeof Z=="number"&&(F.minWidth=Z,F.wrappedWidth=Z)}L&&(L.colSpan>1&&!F.minWidth&&(F.minWidth=L.minWidth),L.colSpan>1&&!F.wrappedWidth&&(F.wrappedWidth=L.minWidth))}})}function g(N,T,k){for(var R=T,O=N.reduce(function(Q,X){return Q+X.wrappedWidth},0),U=0;U<N.length;U++){var H=N[U],G=H.wrappedWidth/O,F=R*G,L=H.width+F,re=k(H),Z=L<re?re:L;T-=Z-H.width,H.width=Z}if(T=Math.round(T*1e10)/1e10,T){var pe=N.filter(function(Q){return T<0?Q.width>k(Q):!0});pe.length&&(T=g(pe,T,k))}return T}l.resizeColumns=g;function b(N){for(var T={},k=1,R=N.allRows(),O=0;O<R.length;O++)for(var U=R[O],H=0,G=N.columns;H<G.length;H++){var F=G[H],L=T[F.index];if(k>1)k--,delete U.cells[F.index];else if(L)L.cell.height+=U.height,k=L.cell.colSpan,delete U.cells[F.index],L.left--,L.left<=1&&delete T[F.index];else{var re=U.cells[F.index];if(!re)continue;if(re.height=U.height,re.rowSpan>1){var Z=R.length-O,pe=re.rowSpan>Z?Z:re.rowSpan;T[F.index]={cell:re,left:pe,row:U}}}}}function y(N){for(var T=N.allRows(),k=0;k<T.length;k++)for(var R=T[k],O=null,U=0,H=0,G=0;G<N.columns.length;G++){var F=N.columns[G];if(H-=1,H>1&&N.columns[G+1])U+=F.width,delete R.cells[F.index];else if(O){var L=O;delete R.cells[F.index],O=null,L.width=F.width+U}else{var L=R.cells[F.index];if(!L)continue;if(H=L.colSpan,U=0,L.colSpan>1){O=L,U+=F.width;continue}L.width=F.width+U}}}function w(N,T){for(var k={count:0,height:0},R=0,O=N.allRows();R<O.length;R++){for(var U=O[R],H=0,G=N.columns;H<G.length;H++){var F=G[H],L=U.cells[F.index];if(L){T.applyStyles(L.styles,!0);var re=L.width-L.padding("horizontal");if(L.styles.overflow==="linebreak")L.text=T.splitTextToSize(L.text,re+1/T.scaleFactor(),{fontSize:L.styles.fontSize});else if(L.styles.overflow==="ellipsize")L.text=A(L.text,re,L.styles,T,"...");else if(L.styles.overflow==="hidden")L.text=A(L.text,re,L.styles,T,"");else if(typeof L.styles.overflow=="function"){var Z=L.styles.overflow(L.text,re);typeof Z=="string"?L.text=[Z]:L.text=Z}L.contentHeight=L.getContentHeight(T.scaleFactor(),T.getLineHeightFactor());var pe=L.contentHeight/L.rowSpan;L.rowSpan>1&&k.count*k.height<pe*L.rowSpan?k={height:pe,count:L.rowSpan}:k&&k.count>0&&k.height>pe&&(pe=k.height),pe>U.height&&(U.height=pe)}}k.count--}}function A(N,T,k,R,O){return N.map(function(U){return S(U,T,k,R,O)})}l.ellipsize=A;function S(N,T,k,R,O){var U=1e4*R.scaleFactor();if(T=Math.ceil(T*U)/U,T>=(0,h.getStringWidth)(N,k,R))return N;for(;T<(0,h.getStringWidth)(N+O,k,R)&&!(N.length<=1);)N=N.substring(0,N.length-1);return N.trim()+O}}),964:(function(o){if(typeof r>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}o.exports=r})},a={};function i(o){var l=a[o];if(l!==void 0)return l.exports;var u=a[o]={exports:{}};return n[o].call(u.exports,u,u.exports,i),u.exports}var s={};return(function(){var o=s;Object.defineProperty(o,"__esModule",{value:!0}),o.Cell=o.Column=o.Row=o.Table=o.CellHookData=o.__drawTable=o.__createTable=o.applyPlugin=void 0;var l=i(340),u=i(776),h=i(664),f=i(972),m=i(260);Object.defineProperty(o,"Table",{enumerable:!0,get:function(){return m.Table}});var g=i(172);Object.defineProperty(o,"CellHookData",{enumerable:!0,get:function(){return g.CellHookData}});var b=i(260);Object.defineProperty(o,"Cell",{enumerable:!0,get:function(){return b.Cell}}),Object.defineProperty(o,"Column",{enumerable:!0,get:function(){return b.Column}}),Object.defineProperty(o,"Row",{enumerable:!0,get:function(){return b.Row}});function y(T){(0,l.default)(T)}o.applyPlugin=y;function w(T,k){var R=(0,u.parseInput)(T,k),O=(0,f.createTable)(T,R);(0,h.drawTable)(T,O)}function A(T,k){var R=(0,u.parseInput)(T,k);return(0,f.createTable)(T,R)}o.__createTable=A;function S(T,k){(0,h.drawTable)(T,k)}o.__drawTable=S;try{var N=i(964);N.jsPDF&&(N=N.jsPDF),y(N)}catch{}o.default=w})(),s})()})})(Q3)),Q3.exports}var T6e=E6e();const AC=ph(T6e),j6e=Object.freeze(Object.defineProperty({__proto__:null,default:AC},Symbol.toStringTag,{value:"Module"}));/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var _C={};_C.version="0.18.5";var Use=1252,C6e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],zse=function(t){C6e.indexOf(t)!=-1&&(Use=t)};function k6e(){zse(1252)}var oS=function(t){zse(t)};function P6e(){oS(1200),k6e()}var $T=function(e){return String.fromCharCode(e)},qK=function(e){return String.fromCharCode(e)},SC,jx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function lS(t){for(var e="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,u=0;u<t.length;)r=t.charCodeAt(u++),i=r>>2,n=t.charCodeAt(u++),s=(r&3)<<4|n>>4,a=t.charCodeAt(u++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),e+=jx.charAt(i)+jx.charAt(s)+jx.charAt(o)+jx.charAt(l);return e}function Dm(t){var e="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)i=jx.indexOf(t.charAt(u++)),s=jx.indexOf(t.charAt(u++)),r=i<<2|s>>4,e+=String.fromCharCode(r),o=jx.indexOf(t.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=jx.indexOf(t.charAt(u++)),a=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(a));return e}var aa=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Wm=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Oy(t){return aa?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function GK(t){return aa?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var df=function(e){return aa?Wm(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function DP(t){if(typeof ArrayBuffer>"u")return df(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function QE(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function O6e(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var _l=aa?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Wm(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),a=0;for(e=0,r=0;e<t.length;r+=a,++e)if(a=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function D6e(t){for(var e=[],r=0,n=t.length+250,a=Oy(t.length+255),i=0;i<t.length;++i){var s=t.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=t.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(e.push(a.slice(0,r)),r=0,a=Oy(65535),n=65530)}return e.push(a.slice(0,r)),_l(e)}var A_=/\u0000/g,VT=/[\u0001-\u0006]/g;function A2(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function ff(t,e){var r=""+t;return r.length>=e?r:ds("0",e-r.length)+r}function GB(t,e){var r=""+t;return r.length>=e?r:ds(" ",e-r.length)+r}function NC(t,e){var r=""+t;return r.length>=e?r:r+ds(" ",e-r.length)}function R6e(t,e){var r=""+Math.round(t);return r.length>=e?r:ds("0",e-r.length)+r}function I6e(t,e){var r=""+t;return r.length>=e?r:ds("0",e-r.length)+r}var WK=Math.pow(2,32);function Db(t,e){if(t>WK||t<-WK)return R6e(t,e);var r=Math.round(t);return I6e(r,e)}function EC(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var KK=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],TR=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function L6e(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var fs={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},YK={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},M6e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function TC(t,e,r){for(var n=t<0?-1:1,a=t*n,i=0,s=1,o=0,l=1,u=0,h=0,f=Math.floor(a);u<e&&(f=Math.floor(a),o=f*s+i,h=f*u+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=u,u=h;if(h>e&&(u>e?(h=l,o=i):(h=u,o=s)),!r)return[0,n*o,h];var m=Math.floor(n*o/h);return[m,n*o-m*h,h]}function HT(t,e,r){if(t>2958465||t<0)return null;var n=t|0,a=Math.floor(86400*(t-n)),i=0,s=[],o={D:n,T:a,u:86400*(t-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=H6e(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var $se=new Date(1899,11,31,0,0,0),F6e=$se.getTime(),B6e=new Date(1900,2,1,0,0,0);function Vse(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=B6e&&(r+=1440*60*1e3),(r-(F6e+(t.getTimezoneOffset()-$se.getTimezoneOffset())*6e4))/(1440*60*1e3)}function WB(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function U6e(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function z6e(t){var e=t<0?12:11,r=WB(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function $6e(t){var e=WB(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function V6e(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=z6e(t):e===10?r=t.toFixed(10).substr(0,12):r=$6e(t),WB(U6e(r.toUpperCase()))}function i8(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):V6e(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Hx(14,Vse(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function H6e(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function q6e(t,e,r,n){var a="",i=0,s=0,o=r.y,l,u=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,u=e.length;break;case 3:return TR[r.m-1][1];case 5:return TR[r.m-1][0];default:return TR[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,u=e.length;break;case 3:return KK[r.q][0];default:return KK[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?ff(r.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),e==="s"?i===0?"0":""+i/s:(a=ff(i,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=o,u=1;break}var h=u>0?ff(l,u):"";return h}function Cx(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var Hse=/%/g;function G6e(t,e,r){var n=e.replace(Hse,""),a=e.length-n.length;return pm(t,n,r*Math.pow(10,2*a))+ds("%",a)}function W6e(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return pm(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function qse(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+qse(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,h){return l+u+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Gse=/# (\?+)( ?)\/( ?)(\d+)/;function K6e(t,e,r){var n=parseInt(t[4],10),a=Math.round(e*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?ds(" ",t[1].length+1+t[4].length):GB(s,t[1].length)+t[2]+"/"+t[3]+ff(o,t[4].length))}function Y6e(t,e,r){return r+(e===0?"":""+e)+ds(" ",t[1].length+2+t[4].length)}var Wse=/^#*0*\.([0#]+)/,Kse=/\).*[0#]/,Yse=/\(###\) ###\\?-####/;function Cc(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function XK(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function JK(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function X6e(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function J6e(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Vd(t,e,r){if(t.charCodeAt(0)===40&&!e.match(Kse)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Vd("n",n,r):"("+Vd("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return W6e(t,e,r);if(e.indexOf("%")!==-1)return G6e(t,e,r);if(e.indexOf("E")!==-1)return qse(e,r);if(e.charCodeAt(0)===36)return"$"+Vd(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Db(l,e.length);if(e.match(/^[#?]+$/))return a=Db(r,0),a==="0"&&(a=""),a.length>e.length?a:Cc(e.substr(0,e.length-a.length))+a;if(i=e.match(Gse))return K6e(i,l,u);if(e.match(/^#+0+$/))return u+Db(l,e.length-e.indexOf("0"));if(i=e.match(Wse))return a=XK(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Cc(i[1])).replace(/\.$/,"."+Cc(i[1])).replace(/\.(\d*)$/,function(b,y){return"."+y+ds("0",Cc(i[1]).length-y.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return u+XK(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return u+Cx(Db(l,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Vd(t,e,-r):Cx(""+(Math.floor(r)+X6e(r,i[1].length)))+"."+ff(JK(r,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return Vd(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=A2(Vd(t,e.replace(/[\\-]/g,""),r)),s=0,A2(A2(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return s<a.length?a.charAt(s++):b==="0"?"0":""}));if(e.match(Yse))return a=Vd(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=TC(l,Math.pow(10,s)-1,!1),a=""+u,h=pm("n",i[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=NC(o[2],s),h.length<i[4].length&&(h=Cc(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=TC(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?GB(o[1],s)+i[2]+"/"+i[3]+NC(o[2],s):ds(" ",2*s+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=Db(r,0),e.length<=a.length?a:Cc(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=e.indexOf(".")-s,m=e.length-a.length-f;return Cc(e.substr(0,f)+a+e.substr(e.length-m))}if(i=e.match(/^00,000\.([#0]*0)$/))return s=JK(r,i[1].length),r<0?"-"+Vd(t,e,-r):Cx(J6e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?ff(0,3-b.length):"")+b})+"."+ff(s,i[1].length);switch(e){case"###,##0.00":return Vd(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var g=Cx(Db(l,0));return g!=="0"?u+g:"";case"###,###.00":return Vd(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Vd(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Z6e(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return pm(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function Q6e(t,e,r){var n=e.replace(Hse,""),a=e.length-n.length;return pm(t,n,r*Math.pow(10,2*a))+ds("%",a)}function Xse(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Xse(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,h){return l+u+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function n0(t,e,r){if(t.charCodeAt(0)===40&&!e.match(Kse)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?n0("n",n,r):"("+n0("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return Z6e(t,e,r);if(e.indexOf("%")!==-1)return Q6e(t,e,r);if(e.indexOf("E")!==-1)return Xse(e,r);if(e.charCodeAt(0)===36)return"$"+n0(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+ff(l,e.length);if(e.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>e.length?a:Cc(e.substr(0,e.length-a.length))+a;if(i=e.match(Gse))return Y6e(i,l,u);if(e.match(/^#+0+$/))return u+ff(l,e.length-e.indexOf("0"));if(i=e.match(Wse))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Cc(i[1])).replace(/\.$/,"."+Cc(i[1])),a=a.replace(/\.(\d*)$/,function(b,y){return"."+y+ds("0",Cc(i[1]).length-y.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return u+Cx(""+l);if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+n0(t,e,-r):Cx(""+r)+"."+ds("0",i[1].length);if(i=e.match(/^#,#*,#0/))return n0(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=A2(n0(t,e.replace(/[\\-]/g,""),r)),s=0,A2(A2(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return s<a.length?a.charAt(s++):b==="0"?"0":""}));if(e.match(Yse))return a=n0(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=TC(l,Math.pow(10,s)-1,!1),a=""+u,h=pm("n",i[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=NC(o[2],s),h.length<i[4].length&&(h=Cc(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=TC(l,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?GB(o[1],s)+i[2]+"/"+i[3]+NC(o[2],s):ds(" ",2*s+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=""+r,e.length<=a.length?a:Cc(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=e.indexOf(".")-s,m=e.length-a.length-f;return Cc(e.substr(0,f)+a+e.substr(e.length-m))}if(i=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+n0(t,e,-r):Cx(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?ff(0,3-b.length):"")+b})+"."+ff(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var g=Cx(""+l);return g!=="0"?u+g:"";default:if(e.match(/\.[0#?]*$/))return n0(t,e.slice(0,e.lastIndexOf(".")),r)+Cc(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function pm(t,e,r){return(r|0)===r?n0(t,e,r):Vd(t,e,r)}function eDe(t){for(var e=[],r=!1,n=0,a=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(a,n-a),a=n+1}if(e[e.length]=t.substr(a),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var Jse=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Zse(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":EC(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(Jse))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function tDe(t,e,r,n){for(var a=[],i="",s=0,o="",l="t",u,h,f,m="H";s<t.length;)switch(o=t.charAt(s)){case"G":if(!EC(t,s))throw new Error("unrecognized character "+o+" in "+t);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=t.charCodeAt(++s))!==34&&s<t.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var g=t.charAt(++s),b=g==="("||g===")"?g:"t";a[a.length]={t:b,v:g},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(u==null&&(u=HT(e,r,t.charAt(s+1)==="2"),u==null))return"";a[a.length]={t:"X",v:t.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=HT(e,r),u==null))return"";for(i=o;++s<t.length&&t.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=m),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"":var y={t:o,v:o};if(u==null&&(u=HT(e,r)),t.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(y.v=u.H>=12?"P":"A"),y.t="T",m="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(y.v=u.H>=12?"PM":"AM"),y.t="T",s+=5,m="h"):t.substr(s,5).toUpperCase()==="/"?(u!=null&&(y.v=u.H>=12?"":""),y.t="T",s+=5,m="h"):(y.t="t",++s),u==null&&y.t==="T")return"";a[a.length]=y,l=o;break;case"[":for(i=o;t.charAt(s++)!=="]"&&s<t.length;)i+=t.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Jse)){if(u==null&&(u=HT(e,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Zse(t)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=o;++s<t.length&&(o=t.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;t.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)i+=t.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);a[a.length]={t:"t",v:o},++s;break}var w=0,A=0,S;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=m,l="h",w<1&&(w=1);break;case"s":(S=a[s].v.match(/\.0+$/))&&(A=Math.max(A,S[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&a[s].v.match(/[Hh]/)&&(w=1),w<2&&a[s].v.match(/[Mm]/)&&(w=2),w<3&&a[s].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var N="",T;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=q6e(a[s].t.charCodeAt(0),a[s].v,u,A),a[s].t="t";break;case"n":case"?":for(T=s+1;a[T]!=null&&((o=a[T].t)==="?"||o==="D"||(o===" "||o==="t")&&a[T+1]!=null&&(a[T+1].t==="?"||a[T+1].t==="t"&&a[T+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[T].v==="/"||a[T].v===" "&&a[T+1]!=null&&a[T+1].t=="?"));)a[s].v+=a[T].v,a[T]={v:"",t:";"},++T;N+=a[s].v,s=T-1;break;case"G":a[s].t="t",a[s].v=i8(e,r);break}var k="",R,O;if(N.length>0){N.charCodeAt(0)==40?(R=e<0&&N.charCodeAt(0)===45?-e:e,O=pm("n",N,R)):(R=e<0&&n>1?-e:e,O=pm("n",N,R),R<0&&a[0]&&a[0].t=="t"&&(O=O.substr(1),a[0].v="-"+a[0].v)),T=O.length-1;var U=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){U=s;break}var H=a.length;if(U===a.length&&O.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(T>=a[s].v.length-1?(T-=a[s].v.length,a[s].v=O.substr(T+1,a[s].v.length)):T<0?a[s].v="":(a[s].v=O.substr(0,T+1),T=-1),a[s].t="t",H=s);T>=0&&H<a.length&&(a[H].v=O.substr(0,T+1)+a[H].v)}else if(U!==a.length&&O.indexOf("E")===-1){for(T=O.indexOf(".")-1,s=U;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(h=a[s].v.indexOf(".")>-1&&s===U?a[s].v.indexOf(".")-1:a[s].v.length-1,k=a[s].v.substr(h+1);h>=0;--h)T>=0&&(a[s].v.charAt(h)==="0"||a[s].v.charAt(h)==="#")&&(k=O.charAt(T--)+k);a[s].v=k,a[s].t="t",H=s}for(T>=0&&H<a.length&&(a[H].v=O.substr(0,T+1)+a[H].v),T=O.indexOf(".")+1,s=U;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==U)){for(h=a[s].v.indexOf(".")>-1&&s===U?a[s].v.indexOf(".")+1:0,k=a[s].v.substr(0,h);h<a[s].v.length;++h)T<O.length&&(k+=O.charAt(T++));a[s].v=k,a[s].t="t",H=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(R=n>1&&e<0&&s>0&&a[s-1].v==="-"?-e:e,a[s].v=pm(a[s].t,a[s].v,R),a[s].t="t");var G="";for(s=0;s!==a.length;++s)a[s]!=null&&(G+=a[s].v);return G}var ZK=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function QK(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function rDe(t,e){var r=eDe(t),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(ZK),o=r[1].match(ZK);return QK(e,s)?[n,r[0]]:QK(e,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function Hx(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:fs)[t],n==null&&(n=r.table&&r.table[YK[t]]||fs[YK[t]]),n==null&&(n=M6e[t]||"General");break}if(EC(n,0))return i8(e,r);e instanceof Date&&(e=Vse(e,r.date1904));var a=rDe(n,e);if(EC(a[1]))return i8(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return tDe(a[1],e,r,a[0])}function Qse(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(fs[r]==null){e<0&&(e=r);continue}if(fs[r]==t){e=r;break}}e<0&&(e=391)}return fs[e]=t,e}function RP(t){for(var e=0;e!=392;++e)t[e]!==void 0&&Qse(t[e],e)}function IP(){fs=L6e()}var eoe=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function nDe(t){var e=typeof t=="number"?fs[t]:t;return e=e.replace(eoe,"(\\d+)"),new RegExp("^"+e+"$")}function aDe(t,e,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(e.match(eoe)||[]).forEach(function(f,m){var g=parseInt(r[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=g;break;case"d":i=g;break;case"h":s=g;break;case"s":l=g;break;case"m":s>=0?o=g:a=g;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var h=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?u:n==-1&&a==-1&&i==-1?h:u+"T"+h}var iDe=(function(){var t={};t.version="1.2.0";function e(){for(var O=0,U=new Array(256),H=0;H!=256;++H)O=H,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,U[H]=O;return typeof Int32Array<"u"?new Int32Array(U):U}var r=e();function n(O){var U=0,H=0,G=0,F=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(G=0;G!=256;++G)F[G]=O[G];for(G=0;G!=256;++G)for(H=O[G],U=256+G;U<4096;U+=256)H=F[U]=H>>>8^O[H&255];var L=[];for(G=1;G!=16;++G)L[G-1]=typeof Int32Array<"u"?F.subarray(G*256,G*256+256):F.slice(G*256,G*256+256);return L}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],u=a[4],h=a[5],f=a[6],m=a[7],g=a[8],b=a[9],y=a[10],w=a[11],A=a[12],S=a[13],N=a[14];function T(O,U){for(var H=U^-1,G=0,F=O.length;G<F;)H=H>>>8^r[(H^O.charCodeAt(G++))&255];return~H}function k(O,U){for(var H=U^-1,G=O.length-15,F=0;F<G;)H=N[O[F++]^H&255]^S[O[F++]^H>>8&255]^A[O[F++]^H>>16&255]^w[O[F++]^H>>>24]^y[O[F++]]^b[O[F++]]^g[O[F++]]^m[O[F++]]^f[O[F++]]^h[O[F++]]^u[O[F++]]^l[O[F++]]^o[O[F++]]^s[O[F++]]^i[O[F++]]^r[O[F++]];for(G+=15;F<G;)H=H>>>8^r[(H^O[F++])&255];return~H}function R(O,U){for(var H=U^-1,G=0,F=O.length,L=0,re=0;G<F;)L=O.charCodeAt(G++),L<128?H=H>>>8^r[(H^L)&255]:L<2048?(H=H>>>8^r[(H^(192|L>>6&31))&255],H=H>>>8^r[(H^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,re=O.charCodeAt(G++)&1023,H=H>>>8^r[(H^(240|L>>8&7))&255],H=H>>>8^r[(H^(128|L>>2&63))&255],H=H>>>8^r[(H^(128|re>>6&15|(L&3)<<4))&255],H=H>>>8^r[(H^(128|re&63))&255]):(H=H>>>8^r[(H^(224|L>>12&15))&255],H=H>>>8^r[(H^(128|L>>6&63))&255],H=H>>>8^r[(H^(128|L&63))&255]);return~H}return t.table=r,t.bstr=T,t.buf=k,t.str=R,t})(),La=(function(){var e={};e.version="1.2.1";function r(ge,Pe){for(var Se=ge.split("/"),_e=Pe.split("/"),je=0,ke=0,ot=Math.min(Se.length,_e.length);je<ot;++je){if(ke=Se[je].length-_e[je].length)return ke;if(Se[je]!=_e[je])return Se[je]<_e[je]?-1:1}return Se.length-_e.length}function n(ge){if(ge.charAt(ge.length-1)=="/")return ge.slice(0,-1).indexOf("/")===-1?ge:n(ge.slice(0,-1));var Pe=ge.lastIndexOf("/");return Pe===-1?ge:ge.slice(0,Pe+1)}function a(ge){if(ge.charAt(ge.length-1)=="/")return a(ge.slice(0,-1));var Pe=ge.lastIndexOf("/");return Pe===-1?ge:ge.slice(Pe+1)}function i(ge,Pe){typeof Pe=="string"&&(Pe=new Date(Pe));var Se=Pe.getHours();Se=Se<<6|Pe.getMinutes(),Se=Se<<5|Pe.getSeconds()>>>1,ge.write_shift(2,Se);var _e=Pe.getFullYear()-1980;_e=_e<<4|Pe.getMonth()+1,_e=_e<<5|Pe.getDate(),ge.write_shift(2,_e)}function s(ge){var Pe=ge.read_shift(2)&65535,Se=ge.read_shift(2)&65535,_e=new Date,je=Se&31;Se>>>=5;var ke=Se&15;Se>>>=4,_e.setMilliseconds(0),_e.setFullYear(Se+1980),_e.setMonth(ke-1),_e.setDate(je);var ot=Pe&31;Pe>>>=5;var _t=Pe&63;return Pe>>>=6,_e.setHours(Pe),_e.setMinutes(_t),_e.setSeconds(ot<<1),_e}function o(ge){ud(ge,0);for(var Pe={},Se=0;ge.l<=ge.length-4;){var _e=ge.read_shift(2),je=ge.read_shift(2),ke=ge.l+je,ot={};switch(_e){case 21589:Se=ge.read_shift(1),Se&1&&(ot.mtime=ge.read_shift(4)),je>5&&(Se&2&&(ot.atime=ge.read_shift(4)),Se&4&&(ot.ctime=ge.read_shift(4))),ot.mtime&&(ot.mt=new Date(ot.mtime*1e3));break}ge.l=ke,Pe[_e]=ot}return Pe}var l;function u(){return l||(l={})}function h(ge,Pe){if(ge[0]==80&&ge[1]==75)return Ht(ge,Pe);if((ge[0]|32)==109&&(ge[1]|32)==105)return ni(ge,Pe);if(ge.length<512)throw new Error("CFB file size "+ge.length+" < 512");var Se=3,_e=512,je=0,ke=0,ot=0,_t=0,it=0,dt=[],lt=ge.slice(0,512);ud(lt,0);var Gt=f(lt);switch(Se=Gt[0],Se){case 3:_e=512;break;case 4:_e=4096;break;case 0:if(Gt[1]==0)return Ht(ge,Pe);default:throw new Error("Major Version: Expected 3 or 4 saw "+Se)}_e!==512&&(lt=ge.slice(0,_e),ud(lt,28));var ar=ge.slice(0,_e);m(lt,Se);var Xt=lt.read_shift(4,"i");if(Se===3&&Xt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Xt);lt.l+=4,ot=lt.read_shift(4,"i"),lt.l+=4,lt.chk("00100000","Mini Stream Cutoff Size: "),_t=lt.read_shift(4,"i"),je=lt.read_shift(4,"i"),it=lt.read_shift(4,"i"),ke=lt.read_shift(4,"i");for(var Yt=-1,lr=0;lr<109&&(Yt=lt.read_shift(4,"i"),!(Yt<0));++lr)dt[lr]=Yt;var Ar=g(ge,_e);w(it,ke,Ar,_e,dt);var bn=S(Ar,ot,dt,_e);bn[ot].name="!Directory",je>0&&_t!==re&&(bn[_t].name="!MiniFAT"),bn[dt[0]].name="!FAT",bn.fat_addrs=dt,bn.ssz=_e;var Rn={},Gn=[],Wi=[],Js=[];N(ot,bn,Ar,Gn,je,Rn,Wi,_t),b(Wi,Js,Gn),Gn.shift();var Cl={FileIndex:Wi,FullPaths:Js};return Pe&&Pe.raw&&(Cl.raw={header:ar,sectors:Ar}),Cl}function f(ge){if(ge[ge.l]==80&&ge[ge.l+1]==75)return[0,0];ge.chk(Z,"Header Signature: "),ge.l+=16;var Pe=ge.read_shift(2,"u");return[ge.read_shift(2,"u"),Pe]}function m(ge,Pe){var Se=9;switch(ge.l+=2,Se=ge.read_shift(2)){case 9:if(Pe!=3)throw new Error("Sector Shift: Expected 9 saw "+Se);break;case 12:if(Pe!=4)throw new Error("Sector Shift: Expected 12 saw "+Se);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Se)}ge.chk("0600","Mini Sector Shift: "),ge.chk("000000000000","Reserved: ")}function g(ge,Pe){for(var Se=Math.ceil(ge.length/Pe)-1,_e=[],je=1;je<Se;++je)_e[je-1]=ge.slice(je*Pe,(je+1)*Pe);return _e[Se-1]=ge.slice(Se*Pe),_e}function b(ge,Pe,Se){for(var _e=0,je=0,ke=0,ot=0,_t=0,it=Se.length,dt=[],lt=[];_e<it;++_e)dt[_e]=lt[_e]=_e,Pe[_e]=Se[_e];for(;_t<lt.length;++_t)_e=lt[_t],je=ge[_e].L,ke=ge[_e].R,ot=ge[_e].C,dt[_e]===_e&&(je!==-1&&dt[je]!==je&&(dt[_e]=dt[je]),ke!==-1&&dt[ke]!==ke&&(dt[_e]=dt[ke])),ot!==-1&&(dt[ot]=_e),je!==-1&&_e!=dt[_e]&&(dt[je]=dt[_e],lt.lastIndexOf(je)<_t&&lt.push(je)),ke!==-1&&_e!=dt[_e]&&(dt[ke]=dt[_e],lt.lastIndexOf(ke)<_t&&lt.push(ke));for(_e=1;_e<it;++_e)dt[_e]===_e&&(ke!==-1&&dt[ke]!==ke?dt[_e]=dt[ke]:je!==-1&&dt[je]!==je&&(dt[_e]=dt[je]));for(_e=1;_e<it;++_e)if(ge[_e].type!==0){if(_t=_e,_t!=dt[_t])do _t=dt[_t],Pe[_e]=Pe[_t]+"/"+Pe[_e];while(_t!==0&&dt[_t]!==-1&&_t!=dt[_t]);dt[_e]=-1}for(Pe[0]+="/",_e=1;_e<it;++_e)ge[_e].type!==2&&(Pe[_e]+="/")}function y(ge,Pe,Se){for(var _e=ge.start,je=ge.size,ke=[],ot=_e;Se&&je>0&&ot>=0;)ke.push(Pe.slice(ot*L,ot*L+L)),je-=L,ot=jv(Se,ot*4);return ke.length===0?kt(0):_l(ke).slice(0,ge.size)}function w(ge,Pe,Se,_e,je){var ke=re;if(ge===re){if(Pe!==0)throw new Error("DIFAT chain shorter than expected")}else if(ge!==-1){var ot=Se[ge],_t=(_e>>>2)-1;if(!ot)return;for(var it=0;it<_t&&(ke=jv(ot,it*4))!==re;++it)je.push(ke);w(jv(ot,_e-4),Pe-1,Se,_e,je)}}function A(ge,Pe,Se,_e,je){var ke=[],ot=[];je||(je=[]);var _t=_e-1,it=0,dt=0;for(it=Pe;it>=0;){je[it]=!0,ke[ke.length]=it,ot.push(ge[it]);var lt=Se[Math.floor(it*4/_e)];if(dt=it*4&_t,_e<4+dt)throw new Error("FAT boundary crossed: "+it+" 4 "+_e);if(!ge[lt])break;it=jv(ge[lt],dt)}return{nodes:ke,data:oY([ot])}}function S(ge,Pe,Se,_e){var je=ge.length,ke=[],ot=[],_t=[],it=[],dt=_e-1,lt=0,Gt=0,ar=0,Xt=0;for(lt=0;lt<je;++lt)if(_t=[],ar=lt+Pe,ar>=je&&(ar-=je),!ot[ar]){it=[];var Yt=[];for(Gt=ar;Gt>=0;){Yt[Gt]=!0,ot[Gt]=!0,_t[_t.length]=Gt,it.push(ge[Gt]);var lr=Se[Math.floor(Gt*4/_e)];if(Xt=Gt*4&dt,_e<4+Xt)throw new Error("FAT boundary crossed: "+Gt+" 4 "+_e);if(!ge[lr]||(Gt=jv(ge[lr],Xt),Yt[Gt]))break}ke[ar]={nodes:_t,data:oY([it])}}return ke}function N(ge,Pe,Se,_e,je,ke,ot,_t){for(var it=0,dt=_e.length?2:0,lt=Pe[ge].data,Gt=0,ar=0,Xt;Gt<lt.length;Gt+=128){var Yt=lt.slice(Gt,Gt+128);ud(Yt,64),ar=Yt.read_shift(2),Xt=ZB(Yt,0,ar-dt),_e.push(Xt);var lr={name:Xt,type:Yt.read_shift(1),color:Yt.read_shift(1),L:Yt.read_shift(4,"i"),R:Yt.read_shift(4,"i"),C:Yt.read_shift(4,"i"),clsid:Yt.read_shift(16),state:Yt.read_shift(4,"i"),start:0,size:0},Ar=Yt.read_shift(2)+Yt.read_shift(2)+Yt.read_shift(2)+Yt.read_shift(2);Ar!==0&&(lr.ct=T(Yt,Yt.l-8));var bn=Yt.read_shift(2)+Yt.read_shift(2)+Yt.read_shift(2)+Yt.read_shift(2);bn!==0&&(lr.mt=T(Yt,Yt.l-8)),lr.start=Yt.read_shift(4,"i"),lr.size=Yt.read_shift(4,"i"),lr.size<0&&lr.start<0&&(lr.size=lr.type=0,lr.start=re,lr.name=""),lr.type===5?(it=lr.start,je>0&&it!==re&&(Pe[it].name="!StreamData")):lr.size>=4096?(lr.storage="fat",Pe[lr.start]===void 0&&(Pe[lr.start]=A(Se,lr.start,Pe.fat_addrs,Pe.ssz)),Pe[lr.start].name=lr.name,lr.content=Pe[lr.start].data.slice(0,lr.size)):(lr.storage="minifat",lr.size<0?lr.size=0:it!==re&&lr.start!==re&&Pe[it]&&(lr.content=y(lr,Pe[it].data,(Pe[_t]||{}).data))),lr.content&&ud(lr.content,0),ke[Xt]=lr,ot.push(lr)}}function T(ge,Pe){return new Date((hd(ge,Pe+4)/1e7*Math.pow(2,32)+hd(ge,Pe)/1e7-11644473600)*1e3)}function k(ge,Pe){return u(),h(l.readFileSync(ge),Pe)}function R(ge,Pe){var Se=Pe&&Pe.type;switch(Se||aa&&Buffer.isBuffer(ge)&&(Se="buffer"),Se||"base64"){case"file":return k(ge,Pe);case"base64":return h(df(Dm(ge)),Pe);case"binary":return h(df(ge),Pe)}return h(ge,Pe)}function O(ge,Pe){var Se=Pe||{},_e=Se.root||"Root Entry";if(ge.FullPaths||(ge.FullPaths=[]),ge.FileIndex||(ge.FileIndex=[]),ge.FullPaths.length!==ge.FileIndex.length)throw new Error("inconsistent CFB structure");ge.FullPaths.length===0&&(ge.FullPaths[0]=_e+"/",ge.FileIndex[0]={name:_e,type:5}),Se.CLSID&&(ge.FileIndex[0].clsid=Se.CLSID),U(ge)}function U(ge){var Pe="Sh33tJ5";if(!La.find(ge,"/"+Pe)){var Se=kt(4);Se[0]=55,Se[1]=Se[3]=50,Se[2]=54,ge.FileIndex.push({name:Pe,type:2,content:Se,size:4,L:69,R:69,C:69}),ge.FullPaths.push(ge.FullPaths[0]+Pe),H(ge)}}function H(ge,Pe){O(ge);for(var Se=!1,_e=!1,je=ge.FullPaths.length-1;je>=0;--je){var ke=ge.FileIndex[je];switch(ke.type){case 0:_e?Se=!0:(ge.FileIndex.pop(),ge.FullPaths.pop());break;case 1:case 2:case 5:_e=!0,isNaN(ke.R*ke.L*ke.C)&&(Se=!0),ke.R>-1&&ke.L>-1&&ke.R==ke.L&&(Se=!0);break;default:Se=!0;break}}if(!(!Se&&!Pe)){var ot=new Date(1987,1,19),_t=0,it=Object.create?Object.create(null):{},dt=[];for(je=0;je<ge.FullPaths.length;++je)it[ge.FullPaths[je]]=!0,ge.FileIndex[je].type!==0&&dt.push([ge.FullPaths[je],ge.FileIndex[je]]);for(je=0;je<dt.length;++je){var lt=n(dt[je][0]);_e=it[lt],_e||(dt.push([lt,{name:a(lt).replace("/",""),type:1,clsid:Q,ct:ot,mt:ot,content:null}]),it[lt]=!0)}for(dt.sort(function(Xt,Yt){return r(Xt[0],Yt[0])}),ge.FullPaths=[],ge.FileIndex=[],je=0;je<dt.length;++je)ge.FullPaths[je]=dt[je][0],ge.FileIndex[je]=dt[je][1];for(je=0;je<dt.length;++je){var Gt=ge.FileIndex[je],ar=ge.FullPaths[je];if(Gt.name=a(ar).replace("/",""),Gt.L=Gt.R=Gt.C=-(Gt.color=1),Gt.size=Gt.content?Gt.content.length:0,Gt.start=0,Gt.clsid=Gt.clsid||Q,je===0)Gt.C=dt.length>1?1:-1,Gt.size=0,Gt.type=5;else if(ar.slice(-1)=="/"){for(_t=je+1;_t<dt.length&&n(ge.FullPaths[_t])!=ar;++_t);for(Gt.C=_t>=dt.length?-1:_t,_t=je+1;_t<dt.length&&n(ge.FullPaths[_t])!=n(ar);++_t);Gt.R=_t>=dt.length?-1:_t,Gt.type=1}else n(ge.FullPaths[je+1]||"")==n(ar)&&(Gt.R=je+1),Gt.type=2}}}function G(ge,Pe){var Se=Pe||{};if(Se.fileType=="mad")return Mr(ge,Se);switch(H(ge),Se.fileType){case"zip":return Gi(ge,Se)}var _e=(function(Xt){for(var Yt=0,lr=0,Ar=0;Ar<Xt.FileIndex.length;++Ar){var bn=Xt.FileIndex[Ar];if(bn.content){var Rn=bn.content.length;Rn>0&&(Rn<4096?Yt+=Rn+63>>6:lr+=Rn+511>>9)}}for(var Gn=Xt.FullPaths.length+3>>2,Wi=Yt+7>>3,Js=Yt+127>>7,Cl=Wi+lr+Gn+Js,Zs=Cl+127>>7,oc=Zs<=109?0:Math.ceil((Zs-109)/127);Cl+Zs+oc+127>>7>Zs;)oc=++Zs<=109?0:Math.ceil((Zs-109)/127);var qr=[1,oc,Zs,Js,Gn,lr,Yt,0];return Xt.FileIndex[0].size=Yt<<6,qr[7]=(Xt.FileIndex[0].start=qr[0]+qr[1]+qr[2]+qr[3]+qr[4]+qr[5])+(qr[6]+7>>3),qr})(ge),je=kt(_e[7]<<9),ke=0,ot=0;{for(ke=0;ke<8;++ke)je.write_shift(1,pe[ke]);for(ke=0;ke<8;++ke)je.write_shift(2,0);for(je.write_shift(2,62),je.write_shift(2,3),je.write_shift(2,65534),je.write_shift(2,9),je.write_shift(2,6),ke=0;ke<3;++ke)je.write_shift(2,0);for(je.write_shift(4,0),je.write_shift(4,_e[2]),je.write_shift(4,_e[0]+_e[1]+_e[2]+_e[3]-1),je.write_shift(4,0),je.write_shift(4,4096),je.write_shift(4,_e[3]?_e[0]+_e[1]+_e[2]-1:re),je.write_shift(4,_e[3]),je.write_shift(-4,_e[1]?_e[0]-1:re),je.write_shift(4,_e[1]),ke=0;ke<109;++ke)je.write_shift(-4,ke<_e[2]?_e[1]+ke:-1)}if(_e[1])for(ot=0;ot<_e[1];++ot){for(;ke<236+ot*127;++ke)je.write_shift(-4,ke<_e[2]?_e[1]+ke:-1);je.write_shift(-4,ot===_e[1]-1?re:ot+1)}var _t=function(Xt){for(ot+=Xt;ke<ot-1;++ke)je.write_shift(-4,ke+1);Xt&&(++ke,je.write_shift(-4,re))};for(ot=ke=0,ot+=_e[1];ke<ot;++ke)je.write_shift(-4,X.DIFSECT);for(ot+=_e[2];ke<ot;++ke)je.write_shift(-4,X.FATSECT);_t(_e[3]),_t(_e[4]);for(var it=0,dt=0,lt=ge.FileIndex[0];it<ge.FileIndex.length;++it)lt=ge.FileIndex[it],lt.content&&(dt=lt.content.length,!(dt<4096)&&(lt.start=ot,_t(dt+511>>9)));for(_t(_e[6]+7>>3);je.l&511;)je.write_shift(-4,X.ENDOFCHAIN);for(ot=ke=0,it=0;it<ge.FileIndex.length;++it)lt=ge.FileIndex[it],lt.content&&(dt=lt.content.length,!(!dt||dt>=4096)&&(lt.start=ot,_t(dt+63>>6)));for(;je.l&511;)je.write_shift(-4,X.ENDOFCHAIN);for(ke=0;ke<_e[4]<<2;++ke){var Gt=ge.FullPaths[ke];if(!Gt||Gt.length===0){for(it=0;it<17;++it)je.write_shift(4,0);for(it=0;it<3;++it)je.write_shift(4,-1);for(it=0;it<12;++it)je.write_shift(4,0);continue}lt=ge.FileIndex[ke],ke===0&&(lt.start=lt.size?lt.start-1:re);var ar=ke===0&&Se.root||lt.name;if(dt=2*(ar.length+1),je.write_shift(64,ar,"utf16le"),je.write_shift(2,dt),je.write_shift(1,lt.type),je.write_shift(1,lt.color),je.write_shift(-4,lt.L),je.write_shift(-4,lt.R),je.write_shift(-4,lt.C),lt.clsid)je.write_shift(16,lt.clsid,"hex");else for(it=0;it<4;++it)je.write_shift(4,0);je.write_shift(4,lt.state||0),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(4,lt.start),je.write_shift(4,lt.size),je.write_shift(4,0)}for(ke=1;ke<ge.FileIndex.length;++ke)if(lt=ge.FileIndex[ke],lt.size>=4096)if(je.l=lt.start+1<<9,aa&&Buffer.isBuffer(lt.content))lt.content.copy(je,je.l,0,lt.size),je.l+=lt.size+511&-512;else{for(it=0;it<lt.size;++it)je.write_shift(1,lt.content[it]);for(;it&511;++it)je.write_shift(1,0)}for(ke=1;ke<ge.FileIndex.length;++ke)if(lt=ge.FileIndex[ke],lt.size>0&&lt.size<4096)if(aa&&Buffer.isBuffer(lt.content))lt.content.copy(je,je.l,0,lt.size),je.l+=lt.size+63&-64;else{for(it=0;it<lt.size;++it)je.write_shift(1,lt.content[it]);for(;it&63;++it)je.write_shift(1,0)}if(aa)je.l=je.length;else for(;je.l<je.length;)je.write_shift(1,0);return je}function F(ge,Pe){var Se=ge.FullPaths.map(function(it){return it.toUpperCase()}),_e=Se.map(function(it){var dt=it.split("/");return dt[dt.length-(it.slice(-1)=="/"?2:1)]}),je=!1;Pe.charCodeAt(0)===47?(je=!0,Pe=Se[0].slice(0,-1)+Pe):je=Pe.indexOf("/")!==-1;var ke=Pe.toUpperCase(),ot=je===!0?Se.indexOf(ke):_e.indexOf(ke);if(ot!==-1)return ge.FileIndex[ot];var _t=!ke.match(VT);for(ke=ke.replace(A_,""),_t&&(ke=ke.replace(VT,"!")),ot=0;ot<Se.length;++ot)if((_t?Se[ot].replace(VT,"!"):Se[ot]).replace(A_,"")==ke||(_t?_e[ot].replace(VT,"!"):_e[ot]).replace(A_,"")==ke)return ge.FileIndex[ot];return null}var L=64,re=-2,Z="d0cf11e0a1b11ae1",pe=[208,207,17,224,161,177,26,225],Q="00000000000000000000000000000000",X={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:re,FREESECT:-1,HEADER_SIGNATURE:Z,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function oe(ge,Pe,Se){u();var _e=G(ge,Se);l.writeFileSync(Pe,_e)}function ce(ge){for(var Pe=new Array(ge.length),Se=0;Se<ge.length;++Se)Pe[Se]=String.fromCharCode(ge[Se]);return Pe.join("")}function Ne(ge,Pe){var Se=G(ge,Pe);switch(Pe&&Pe.type||"buffer"){case"file":return u(),l.writeFileSync(Pe.filename,Se),Se;case"binary":return typeof Se=="string"?Se:ce(Se);case"base64":return lS(typeof Se=="string"?Se:ce(Se));case"buffer":if(aa)return Buffer.isBuffer(Se)?Se:Wm(Se);case"array":return typeof Se=="string"?df(Se):Se}return Se}var ne;function B(ge){try{var Pe=ge.InflateRaw,Se=new Pe;if(Se._processChunk(new Uint8Array([3,0]),Se._finishFlushFlag),Se.bytesRead)ne=ge;else throw new Error("zlib does not expose bytesRead")}catch(_e){console.error("cannot use native zlib: "+(_e.message||_e))}}function V(ge,Pe){if(!ne)return Wr(ge,Pe);var Se=ne.InflateRaw,_e=new Se,je=_e._processChunk(ge.slice(ge.l),_e._finishFlushFlag);return ge.l+=_e.bytesRead,je}function Y(ge){return ne?ne.deflateRawSync(ge):xt(ge)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function De(ge){var Pe=(ge<<1|ge<<11)&139536|(ge<<5|ge<<15)&558144;return(Pe>>16|Pe>>8|Pe)&255}for(var de=typeof Uint8Array<"u",Le=de?new Uint8Array(256):[],Ge=0;Ge<256;++Ge)Le[Ge]=De(Ge);function Re(ge,Pe){var Se=Le[ge&255];return Pe<=8?Se>>>8-Pe:(Se=Se<<8|Le[ge>>8&255],Pe<=16?Se>>>16-Pe:(Se=Se<<8|Le[ge>>16&255],Se>>>24-Pe))}function wt(ge,Pe){var Se=Pe&7,_e=Pe>>>3;return(ge[_e]|(Se<=6?0:ge[_e+1]<<8))>>>Se&3}function St(ge,Pe){var Se=Pe&7,_e=Pe>>>3;return(ge[_e]|(Se<=5?0:ge[_e+1]<<8))>>>Se&7}function rt(ge,Pe){var Se=Pe&7,_e=Pe>>>3;return(ge[_e]|(Se<=4?0:ge[_e+1]<<8))>>>Se&15}function Te(ge,Pe){var Se=Pe&7,_e=Pe>>>3;return(ge[_e]|(Se<=3?0:ge[_e+1]<<8))>>>Se&31}function Nt(ge,Pe){var Se=Pe&7,_e=Pe>>>3;return(ge[_e]|(Se<=1?0:ge[_e+1]<<8))>>>Se&127}function rr(ge,Pe,Se){var _e=Pe&7,je=Pe>>>3,ke=(1<<Se)-1,ot=ge[je]>>>_e;return Se<8-_e||(ot|=ge[je+1]<<8-_e,Se<16-_e)||(ot|=ge[je+2]<<16-_e,Se<24-_e)||(ot|=ge[je+3]<<24-_e),ot&ke}function Ot(ge,Pe,Se){var _e=Pe&7,je=Pe>>>3;return _e<=5?ge[je]|=(Se&7)<<_e:(ge[je]|=Se<<_e&255,ge[je+1]=(Se&7)>>8-_e),Pe+3}function vt(ge,Pe,Se){var _e=Pe&7,je=Pe>>>3;return Se=(Se&1)<<_e,ge[je]|=Se,Pe+1}function Dt(ge,Pe,Se){var _e=Pe&7,je=Pe>>>3;return Se<<=_e,ge[je]|=Se&255,Se>>>=8,ge[je+1]=Se,Pe+8}function yt(ge,Pe,Se){var _e=Pe&7,je=Pe>>>3;return Se<<=_e,ge[je]|=Se&255,Se>>>=8,ge[je+1]=Se&255,ge[je+2]=Se>>>8,Pe+16}function qt(ge,Pe){var Se=ge.length,_e=2*Se>Pe?2*Se:Pe+5,je=0;if(Se>=Pe)return ge;if(aa){var ke=GK(_e);if(ge.copy)ge.copy(ke);else for(;je<ge.length;++je)ke[je]=ge[je];return ke}else if(de){var ot=new Uint8Array(_e);if(ot.set)ot.set(ge);else for(;je<Se;++je)ot[je]=ge[je];return ot}return ge.length=_e,ge}function We(ge){for(var Pe=new Array(ge),Se=0;Se<ge;++Se)Pe[Se]=0;return Pe}function Jt(ge,Pe,Se){var _e=1,je=0,ke=0,ot=0,_t=0,it=ge.length,dt=de?new Uint16Array(32):We(32);for(ke=0;ke<32;++ke)dt[ke]=0;for(ke=it;ke<Se;++ke)ge[ke]=0;it=ge.length;var lt=de?new Uint16Array(it):We(it);for(ke=0;ke<it;++ke)dt[je=ge[ke]]++,_e<je&&(_e=je),lt[ke]=0;for(dt[0]=0,ke=1;ke<=_e;++ke)dt[ke+16]=_t=_t+dt[ke-1]<<1;for(ke=0;ke<it;++ke)_t=ge[ke],_t!=0&&(lt[ke]=dt[_t+16]++);var Gt=0;for(ke=0;ke<it;++ke)if(Gt=ge[ke],Gt!=0)for(_t=Re(lt[ke],_e)>>_e-Gt,ot=(1<<_e+4-Gt)-1;ot>=0;--ot)Pe[_t|ot<<Gt]=Gt&15|ke<<4;return _e}var ir=de?new Uint16Array(512):We(512),Vt=de?new Uint16Array(32):We(32);if(!de){for(var Ue=0;Ue<512;++Ue)ir[Ue]=0;for(Ue=0;Ue<32;++Ue)Vt[Ue]=0}(function(){for(var ge=[],Pe=0;Pe<32;Pe++)ge.push(5);Jt(ge,Vt,32);var Se=[];for(Pe=0;Pe<=143;Pe++)Se.push(8);for(;Pe<=255;Pe++)Se.push(9);for(;Pe<=279;Pe++)Se.push(7);for(;Pe<=287;Pe++)Se.push(8);Jt(Se,ir,288)})();var ur=(function(){for(var Pe=de?new Uint8Array(32768):[],Se=0,_e=0;Se<Ae.length-1;++Se)for(;_e<Ae[Se+1];++_e)Pe[_e]=Se;for(;_e<32768;++_e)Pe[_e]=29;var je=de?new Uint8Array(259):[];for(Se=0,_e=0;Se<le.length-1;++Se)for(;_e<le[Se+1];++_e)je[_e]=Se;function ke(_t,it){for(var dt=0;dt<_t.length;){var lt=Math.min(65535,_t.length-dt),Gt=dt+lt==_t.length;for(it.write_shift(1,+Gt),it.write_shift(2,lt),it.write_shift(2,~lt&65535);lt-- >0;)it[it.l++]=_t[dt++]}return it.l}function ot(_t,it){for(var dt=0,lt=0,Gt=de?new Uint16Array(32768):[];lt<_t.length;){var ar=Math.min(65535,_t.length-lt);if(ar<10){for(dt=Ot(it,dt,+(lt+ar==_t.length)),dt&7&&(dt+=8-(dt&7)),it.l=dt/8|0,it.write_shift(2,ar),it.write_shift(2,~ar&65535);ar-- >0;)it[it.l++]=_t[lt++];dt=it.l*8;continue}dt=Ot(it,dt,+(lt+ar==_t.length)+2);for(var Xt=0;ar-- >0;){var Yt=_t[lt];Xt=(Xt<<5^Yt)&32767;var lr=-1,Ar=0;if((lr=Gt[Xt])&&(lr|=lt&-32768,lr>lt&&(lr-=32768),lr<lt))for(;_t[lr+Ar]==_t[lt+Ar]&&Ar<250;)++Ar;if(Ar>2){Yt=je[Ar],Yt<=22?dt=Dt(it,dt,Le[Yt+1]>>1)-1:(Dt(it,dt,3),dt+=5,Dt(it,dt,Le[Yt-23]>>5),dt+=3);var bn=Yt<8?0:Yt-4>>2;bn>0&&(yt(it,dt,Ar-le[Yt]),dt+=bn),Yt=Pe[lt-lr],dt=Dt(it,dt,Le[Yt]>>3),dt-=3;var Rn=Yt<4?0:Yt-2>>1;Rn>0&&(yt(it,dt,lt-lr-Ae[Yt]),dt+=Rn);for(var Gn=0;Gn<Ar;++Gn)Gt[Xt]=lt&32767,Xt=(Xt<<5^_t[lt])&32767,++lt;ar-=Ar-1}else Yt<=143?Yt=Yt+48:dt=vt(it,dt,1),dt=Dt(it,dt,Le[Yt]),Gt[Xt]=lt&32767,++lt}dt=Dt(it,dt,0)-1}return it.l=(dt+7)/8|0,it.l}return function(it,dt){return it.length<8?ke(it,dt):ot(it,dt)}})();function xt(ge){var Pe=kt(50+Math.floor(ge.length*1.1)),Se=ur(ge,Pe);return Pe.slice(0,Se)}var bt=de?new Uint16Array(32768):We(32768),br=de?new Uint16Array(32768):We(32768),gr=de?new Uint16Array(128):We(128),Lr=1,Tr=1;function Mt(ge,Pe){var Se=Te(ge,Pe)+257;Pe+=5;var _e=Te(ge,Pe)+1;Pe+=5;var je=rt(ge,Pe)+4;Pe+=4;for(var ke=0,ot=de?new Uint8Array(19):We(19),_t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],it=1,dt=de?new Uint8Array(8):We(8),lt=de?new Uint8Array(8):We(8),Gt=ot.length,ar=0;ar<je;++ar)ot[K[ar]]=ke=St(ge,Pe),it<ke&&(it=ke),dt[ke]++,Pe+=3;var Xt=0;for(dt[0]=0,ar=1;ar<=it;++ar)lt[ar]=Xt=Xt+dt[ar-1]<<1;for(ar=0;ar<Gt;++ar)(Xt=ot[ar])!=0&&(_t[ar]=lt[Xt]++);var Yt=0;for(ar=0;ar<Gt;++ar)if(Yt=ot[ar],Yt!=0){Xt=Le[_t[ar]]>>8-Yt;for(var lr=(1<<7-Yt)-1;lr>=0;--lr)gr[Xt|lr<<Yt]=Yt&7|ar<<3}var Ar=[];for(it=1;Ar.length<Se+_e;)switch(Xt=gr[Nt(ge,Pe)],Pe+=Xt&7,Xt>>>=3){case 16:for(ke=3+wt(ge,Pe),Pe+=2,Xt=Ar[Ar.length-1];ke-- >0;)Ar.push(Xt);break;case 17:for(ke=3+St(ge,Pe),Pe+=3;ke-- >0;)Ar.push(0);break;case 18:for(ke=11+Nt(ge,Pe),Pe+=7;ke-- >0;)Ar.push(0);break;default:Ar.push(Xt),it<Xt&&(it=Xt);break}var bn=Ar.slice(0,Se),Rn=Ar.slice(Se);for(ar=Se;ar<286;++ar)bn[ar]=0;for(ar=_e;ar<30;++ar)Rn[ar]=0;return Lr=Jt(bn,bt,286),Tr=Jt(Rn,br,30),Pe}function Dn(ge,Pe){if(ge[0]==3&&!(ge[1]&3))return[Oy(Pe),2];for(var Se=0,_e=0,je=GK(Pe||1<<18),ke=0,ot=je.length>>>0,_t=0,it=0;(_e&1)==0;){if(_e=St(ge,Se),Se+=3,_e>>>1)_e>>1==1?(_t=9,it=5):(Se=Mt(ge,Se),_t=Lr,it=Tr);else{Se&7&&(Se+=8-(Se&7));var dt=ge[Se>>>3]|ge[(Se>>>3)+1]<<8;if(Se+=32,dt>0)for(!Pe&&ot<ke+dt&&(je=qt(je,ke+dt),ot=je.length);dt-- >0;)je[ke++]=ge[Se>>>3],Se+=8;continue}for(;;){!Pe&&ot<ke+32767&&(je=qt(je,ke+32767),ot=je.length);var lt=rr(ge,Se,_t),Gt=_e>>>1==1?ir[lt]:bt[lt];if(Se+=Gt&15,Gt>>>=4,(Gt>>>8&255)===0)je[ke++]=Gt;else{if(Gt==256)break;Gt-=257;var ar=Gt<8?0:Gt-4>>2;ar>5&&(ar=0);var Xt=ke+le[Gt];ar>0&&(Xt+=rr(ge,Se,ar),Se+=ar),lt=rr(ge,Se,it),Gt=_e>>>1==1?Vt[lt]:br[lt],Se+=Gt&15,Gt>>>=4;var Yt=Gt<4?0:Gt-2>>1,lr=Ae[Gt];for(Yt>0&&(lr+=rr(ge,Se,Yt),Se+=Yt),!Pe&&ot<Xt&&(je=qt(je,Xt+100),ot=je.length);ke<Xt;)je[ke]=je[ke-lr],++ke}}}return Pe?[je,Se+7>>>3]:[je.slice(0,ke),Se+7>>>3]}function Wr(ge,Pe){var Se=ge.slice(ge.l||0),_e=Dn(Se,Pe);return ge.l+=_e[1],_e[0]}function Es(ge,Pe){if(ge)typeof console<"u"&&console.error(Pe);else throw new Error(Pe)}function Ht(ge,Pe){var Se=ge;ud(Se,0);var _e=[],je=[],ke={FileIndex:_e,FullPaths:je};O(ke,{root:Pe.root});for(var ot=Se.length-4;(Se[ot]!=80||Se[ot+1]!=75||Se[ot+2]!=5||Se[ot+3]!=6)&&ot>=0;)--ot;Se.l=ot+4,Se.l+=4;var _t=Se.read_shift(2);Se.l+=6;var it=Se.read_shift(4);for(Se.l=it,ot=0;ot<_t;++ot){Se.l+=20;var dt=Se.read_shift(4),lt=Se.read_shift(4),Gt=Se.read_shift(2),ar=Se.read_shift(2),Xt=Se.read_shift(2);Se.l+=8;var Yt=Se.read_shift(4),lr=o(Se.slice(Se.l+Gt,Se.l+Gt+ar));Se.l+=Gt+ar+Xt;var Ar=Se.l;Se.l=Yt+4,ri(Se,dt,lt,ke,lr),Se.l=Ar}return ke}function ri(ge,Pe,Se,_e,je){ge.l+=2;var ke=ge.read_shift(2),ot=ge.read_shift(2),_t=s(ge);if(ke&8257)throw new Error("Unsupported ZIP encryption");for(var it=ge.read_shift(4),dt=ge.read_shift(4),lt=ge.read_shift(4),Gt=ge.read_shift(2),ar=ge.read_shift(2),Xt="",Yt=0;Yt<Gt;++Yt)Xt+=String.fromCharCode(ge[ge.l++]);if(ar){var lr=o(ge.slice(ge.l,ge.l+ar));(lr[21589]||{}).mt&&(_t=lr[21589].mt),((je||{})[21589]||{}).mt&&(_t=je[21589].mt)}ge.l+=ar;var Ar=ge.slice(ge.l,ge.l+dt);switch(ot){case 8:Ar=V(ge,lt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ot)}var bn=!1;ke&8&&(it=ge.read_shift(4),it==134695760&&(it=ge.read_shift(4),bn=!0),dt=ge.read_shift(4),lt=ge.read_shift(4)),dt!=Pe&&Es(bn,"Bad compressed size: "+Pe+" != "+dt),lt!=Se&&Es(bn,"Bad uncompressed size: "+Se+" != "+lt),pn(_e,Xt,Ar,{unsafe:!0,mt:_t})}function Gi(ge,Pe){var Se=Pe||{},_e=[],je=[],ke=kt(1),ot=Se.compression?8:0,_t=0,it=0,dt=0,lt=0,Gt=0,ar=ge.FullPaths[0],Xt=ar,Yt=ge.FileIndex[0],lr=[],Ar=0;for(it=1;it<ge.FullPaths.length;++it)if(Xt=ge.FullPaths[it].slice(ar.length),Yt=ge.FileIndex[it],!(!Yt.size||!Yt.content||Xt=="Sh33tJ5")){var bn=lt,Rn=kt(Xt.length);for(dt=0;dt<Xt.length;++dt)Rn.write_shift(1,Xt.charCodeAt(dt)&127);Rn=Rn.slice(0,Rn.l),lr[Gt]=iDe.buf(Yt.content,0);var Gn=Yt.content;ot==8&&(Gn=Y(Gn)),ke=kt(30),ke.write_shift(4,67324752),ke.write_shift(2,20),ke.write_shift(2,_t),ke.write_shift(2,ot),Yt.mt?i(ke,Yt.mt):ke.write_shift(4,0),ke.write_shift(-4,lr[Gt]),ke.write_shift(4,Gn.length),ke.write_shift(4,Yt.content.length),ke.write_shift(2,Rn.length),ke.write_shift(2,0),lt+=ke.length,_e.push(ke),lt+=Rn.length,_e.push(Rn),lt+=Gn.length,_e.push(Gn),ke=kt(46),ke.write_shift(4,33639248),ke.write_shift(2,0),ke.write_shift(2,20),ke.write_shift(2,_t),ke.write_shift(2,ot),ke.write_shift(4,0),ke.write_shift(-4,lr[Gt]),ke.write_shift(4,Gn.length),ke.write_shift(4,Yt.content.length),ke.write_shift(2,Rn.length),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(4,0),ke.write_shift(4,bn),Ar+=ke.l,je.push(ke),Ar+=Rn.length,je.push(Rn),++Gt}return ke=kt(22),ke.write_shift(4,101010256),ke.write_shift(2,0),ke.write_shift(2,0),ke.write_shift(2,Gt),ke.write_shift(2,Gt),ke.write_shift(4,Ar),ke.write_shift(4,lt),ke.write_shift(2,0),_l([_l(_e),_l(je),ke])}var hn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Hr(ge,Pe){if(ge.ctype)return ge.ctype;var Se=ge.name||"",_e=Se.match(/\.([^\.]+)$/);return _e&&hn[_e[1]]||Pe&&(_e=(Se=Pe).match(/[\.\\]([^\.\\])+$/),_e&&hn[_e[1]])?hn[_e[1]]:"application/octet-stream"}function fn(ge){for(var Pe=lS(ge),Se=[],_e=0;_e<Pe.length;_e+=76)Se.push(Pe.slice(_e,_e+76));return Se.join(`\r
`)+`\r
`}function Nu(ge){var Pe=ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(dt){var lt=dt.charCodeAt(0).toString(16).toUpperCase();return"="+(lt.length==1?"0"+lt:lt)});Pe=Pe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Pe.charAt(0)==`
`&&(Pe="=0D"+Pe.slice(1)),Pe=Pe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Se=[],_e=Pe.split(`\r
`),je=0;je<_e.length;++je){var ke=_e[je];if(ke.length==0){Se.push("");continue}for(var ot=0;ot<ke.length;){var _t=76,it=ke.slice(ot,ot+_t);it.charAt(_t-1)=="="?_t--:it.charAt(_t-2)=="="?_t-=2:it.charAt(_t-3)=="="&&(_t-=3),it=ke.slice(ot,ot+_t),ot+=_t,ot<ke.length&&(it+="="),Se.push(it)}}return Se.join(`\r
`)}function mi(ge){for(var Pe=[],Se=0;Se<ge.length;++Se){for(var _e=ge[Se];Se<=ge.length&&_e.charAt(_e.length-1)=="=";)_e=_e.slice(0,_e.length-1)+ge[++Se];Pe.push(_e)}for(var je=0;je<Pe.length;++je)Pe[je]=Pe[je].replace(/[=][0-9A-Fa-f]{2}/g,function(ke){return String.fromCharCode(parseInt(ke.slice(1),16))});return df(Pe.join(`\r
`))}function Ri(ge,Pe,Se){for(var _e="",je="",ke="",ot,_t=0;_t<10;++_t){var it=Pe[_t];if(!it||it.match(/^\s*$/))break;var dt=it.match(/^(.*?):\s*([^\s].*)$/);if(dt)switch(dt[1].toLowerCase()){case"content-location":_e=dt[2].trim();break;case"content-type":ke=dt[2].trim();break;case"content-transfer-encoding":je=dt[2].trim();break}}switch(++_t,je.toLowerCase()){case"base64":ot=df(Dm(Pe.slice(_t).join("")));break;case"quoted-printable":ot=mi(Pe.slice(_t));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+je)}var lt=pn(ge,_e.slice(Se.length),ot,{unsafe:!0});ke&&(lt.ctype=ke)}function ni(ge,Pe){if(ce(ge.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Se=Pe&&Pe.root||"",_e=(aa&&Buffer.isBuffer(ge)?ge.toString("binary"):ce(ge)).split(`\r
`),je=0,ke="";for(je=0;je<_e.length;++je)if(ke=_e[je],!!/^Content-Location:/i.test(ke)&&(ke=ke.slice(ke.indexOf("file")),Se||(Se=ke.slice(0,ke.lastIndexOf("/")+1)),ke.slice(0,Se.length)!=Se))for(;Se.length>0&&(Se=Se.slice(0,Se.length-1),Se=Se.slice(0,Se.lastIndexOf("/")+1),ke.slice(0,Se.length)!=Se););var ot=(_e[1]||"").match(/boundary="(.*?)"/);if(!ot)throw new Error("MAD cannot find boundary");var _t="--"+(ot[1]||""),it=[],dt=[],lt={FileIndex:it,FullPaths:dt};O(lt);var Gt,ar=0;for(je=0;je<_e.length;++je){var Xt=_e[je];Xt!==_t&&Xt!==_t+"--"||(ar++&&Ri(lt,_e.slice(Gt,je),Se),Gt=je)}return lt}function Mr(ge,Pe){var Se=Pe||{},_e=Se.boundary||"SheetJS";_e="------="+_e;for(var je=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+_e.slice(2)+'"',"","",""],ke=ge.FullPaths[0],ot=ke,_t=ge.FileIndex[0],it=1;it<ge.FullPaths.length;++it)if(ot=ge.FullPaths[it].slice(ke.length),_t=ge.FileIndex[it],!(!_t.size||!_t.content||ot=="Sh33tJ5")){ot=ot.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ar){return"_x"+Ar.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ar){return"_u"+Ar.charCodeAt(0).toString(16)+"_"});for(var dt=_t.content,lt=aa&&Buffer.isBuffer(dt)?dt.toString("binary"):ce(dt),Gt=0,ar=Math.min(1024,lt.length),Xt=0,Yt=0;Yt<=ar;++Yt)(Xt=lt.charCodeAt(Yt))>=32&&Xt<128&&++Gt;var lr=Gt>=ar*4/5;je.push(_e),je.push("Content-Location: "+(Se.root||"file:///C:/SheetJS/")+ot),je.push("Content-Transfer-Encoding: "+(lr?"quoted-printable":"base64")),je.push("Content-Type: "+Hr(_t,ot)),je.push(""),je.push(lr?Nu(lt):fn(lt))}return je.push(_e+`--\r
`),je.join(`\r
`)}function ps(ge){var Pe={};return O(Pe,ge),Pe}function pn(ge,Pe,Se,_e){var je=_e&&_e.unsafe;je||O(ge);var ke=!je&&La.find(ge,Pe);if(!ke){var ot=ge.FullPaths[0];Pe.slice(0,ot.length)==ot?ot=Pe:(ot.slice(-1)!="/"&&(ot+="/"),ot=(ot+Pe).replace("//","/")),ke={name:a(Pe),type:2},ge.FileIndex.push(ke),ge.FullPaths.push(ot),je||La.utils.cfb_gc(ge)}return ke.content=Se,ke.size=Se?Se.length:0,_e&&(_e.CLSID&&(ke.clsid=_e.CLSID),_e.mt&&(ke.mt=_e.mt),_e.ct&&(ke.ct=_e.ct)),ke}function Nn(ge,Pe){O(ge);var Se=La.find(ge,Pe);if(Se){for(var _e=0;_e<ge.FileIndex.length;++_e)if(ge.FileIndex[_e]==Se)return ge.FileIndex.splice(_e,1),ge.FullPaths.splice(_e,1),!0}return!1}function Fa(ge,Pe,Se){O(ge);var _e=La.find(ge,Pe);if(_e){for(var je=0;je<ge.FileIndex.length;++je)if(ge.FileIndex[je]==_e)return ge.FileIndex[je].name=a(Se),ge.FullPaths[je]=Se,!0}return!1}function Qn(ge){H(ge,!0)}return e.find=F,e.read=R,e.parse=h,e.write=Ne,e.writeFile=oe,e.utils={cfb_new:ps,cfb_add:pn,cfb_del:Nn,cfb_mov:Fa,cfb_gc:Qn,ReadShift:S_,CheckField:voe,prep_blob:ud,bconcat:_l,use_zlib:B,_deflateRaw:xt,_inflateRaw:Wr,consts:X},e})();function sDe(t){return typeof t=="string"?DP(t):Array.isArray(t)?O6e(t):t}function e4(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=DP(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?uS(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var a=new Blob([sDe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,t);if(typeof saveAs<"u")return saveAs(a,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=QE(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function jl(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function eY(t,e){for(var r=[],n=jl(t),a=0;a!==n.length;++a)r[t[n[a]][e]]==null&&(r[t[n[a]][e]]=n[a]);return r}function KB(t){for(var e=[],r=jl(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function LP(t){for(var e=[],r=jl(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function oDe(t){for(var e=[],r=jl(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var jC=new Date(1899,11,30,0,0,0);function wu(t,e){var r=t.getTime(),n=jC.getTime()+(t.getTimezoneOffset()-jC.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var toe=new Date,lDe=jC.getTime()+(toe.getTimezoneOffset()-jC.getTimezoneOffset())*6e4,tY=toe.getTimezoneOffset();function roe(t){var e=new Date;return e.setTime(t*24*60*60*1e3+lDe),e.getTimezoneOffset()!==tY&&e.setTime(e.getTime()+(e.getTimezoneOffset()-tY)*6e4),e}var rY=new Date("2017-02-19T19:06:09.000Z"),noe=isNaN(rY.getFullYear())?new Date("2/19/17"):rY,cDe=noe.getFullYear()==2017;function Lc(t,e){var r=new Date(t);if(cDe)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(noe.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function MP(t,e){if(aa&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=t.length;++a)n.push(String.fromCharCode(t[a]));return n.join("")}function Au(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Au(t[r]));return e}function ds(t,e){for(var r="";r.length<e;)r+=t;return r}function mm(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(e=Number(n)))?e/r:e}var uDe=["january","february","march","april","may","june","july","august","september","october","november","december"];function cS(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),a=e.getMonth(),i=e.getDate();if(isNaN(i))return r;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&uDe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function An(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return aa?n=Wm(r):n=D6e(r),La.utils.cfb_add(t,e,n)}La.utils.cfb_add(t,e,r)}else t.file(e,r)}function YB(){return La.utils.cfb_new()}var Xs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,dDe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},XB=KB(dDe),JB=/[&<>'"]/g,hDe=/[\u0000-\u0008\u000b-\u001f]/g;function _a(t){var e=t+"";return e.replace(JB,function(r){return XB[r]}).replace(hDe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function nY(t){return _a(t).replace(/ /g,"_x0020_")}var aoe=/[\u0000-\u001f]/g;function fDe(t){var e=t+"";return e.replace(JB,function(r){return XB[r]}).replace(/\n/g,"<br/>").replace(aoe,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function pDe(t){var e=t+"";return e.replace(JB,function(r){return XB[r]}).replace(aoe,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function mDe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function gDe(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function jR(t){for(var e="",r=0,n=0,a=0,i=0,s=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(a=t.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,e+=String.fromCharCode(s);continue}if(i=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=t.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function aY(t){var e=Oy(2*t.length),r,n,a=1,i=0,s=0,o;for(n=0;n<t.length;n+=a)a=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(e[i++]=s&255,e[i++]=s>>>8,s=0),e[i++]=r%256,e[i++]=r>>>8;return e.slice(0,i).toString("ucs2")}function iY(t){return Wm(t,"binary").toString("utf8")}var qT="foo bar baz",__=aa&&(iY(qT)==jR(qT)&&iY||aY(qT)==jR(qT)&&aY)||jR,uS=aa?function(t){return Wm(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,a=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},xDe=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<t.length;++a)n=n.replace(t[a][0],t[a][1]);return n}})(),ioe=/(^\s|\s$|\n)/;function Sl(t,e){return"<"+t+(e.match(ioe)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function dS(t){return jl(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function dr(t,e,r){return"<"+t+(r!=null?dS(r):"")+(e!=null?(e.match(ioe)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function s8(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function vDe(t,e){switch(typeof t){case"string":var r=dr("vt:lpwstr",_a(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return dr((t|0)==t?"vt:i4":"vt:r8",_a(String(t)));case"boolean":return dr("vt:bool",t?"true":"false")}if(t instanceof Date)return dr("vt:filetime",s8(t));throw new Error("Unable to serialize "+t)}var qo={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},T5=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],dd={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function yDe(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),a=t[e+6]&15,i=5;i>=0;--i)a=a*256+t[e+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function bDe(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,i=0,s=n?-e:e;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(e)?26985:0);for(var o=0;o<=5;++o,i/=256)t[r+o]=i&255;t[r+6]=(a&15)<<4|i&15,t[r+7]=a>>4|n}var sY=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var a=0,i=t[0][n].length;a<i;a+=r)e.push.apply(e,t[0][n].slice(a,a+r));return e},oY=aa?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Wm(e)})):sY(t)}:sY,lY=function(t,e,r){for(var n=[],a=e;a<r;a+=2)n.push(String.fromCharCode(l_(t,a)));return n.join("").replace(A_,"")},ZB=aa?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(A_,""):lY(t,e,r)}:lY,cY=function(t,e,r){for(var n=[],a=e;a<e+r;++a)n.push(("0"+t[a].toString(16)).slice(-2));return n.join("")},soe=aa?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):cY(t,e,r)}:cY,uY=function(t,e,r){for(var n=[],a=e;a<r;a++)n.push(String.fromCharCode(Jb(t,a)));return n.join("")},t4=aa?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):uY(e,r,n)}:uY,ooe=function(t,e){var r=hd(t,e);return r>0?t4(t,e+4,e+4+r-1):""},loe=ooe,coe=function(t,e){var r=hd(t,e);return r>0?t4(t,e+4,e+4+r-1):""},uoe=coe,doe=function(t,e){var r=2*hd(t,e);return r>0?t4(t,e+4,e+4+r-1):""},hoe=doe,foe=function(e,r){var n=hd(e,r);return n>0?ZB(e,r+4,r+4+n):""},poe=foe,moe=function(t,e){var r=hd(t,e);return r>0?t4(t,e+4,e+4+r):""},goe=moe,xoe=function(t,e){return yDe(t,e)},CC=xoe,QB=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};aa&&(loe=function(e,r){if(!Buffer.isBuffer(e))return ooe(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},uoe=function(e,r){if(!Buffer.isBuffer(e))return coe(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},hoe=function(e,r){if(!Buffer.isBuffer(e))return doe(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},poe=function(e,r){if(!Buffer.isBuffer(e))return foe(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},goe=function(e,r){if(!Buffer.isBuffer(e))return moe(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},CC=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):xoe(e,r)},QB=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Jb=function(t,e){return t[e]},l_=function(t,e){return t[e+1]*256+t[e]},wDe=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},hd=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},jv=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},ADe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function S_(t,e){var r="",n,a,i=[],s,o,l,u;switch(e){case"dbcs":if(u=this.l,aa&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(l_(this,u)),u+=2;t*=2;break;case"utf8":r=t4(this,this.l,this.l+t);break;case"utf16le":t*=2,r=ZB(this,this.l,this.l+t);break;case"wstr":return S_.call(this,t,"dbcs");case"lpstr-ansi":r=loe(this,this.l),t=4+hd(this,this.l);break;case"lpstr-cp":r=uoe(this,this.l),t=4+hd(this,this.l);break;case"lpwstr":r=hoe(this,this.l),t=4+2*hd(this,this.l);break;case"lpp4":t=4+hd(this,this.l),r=poe(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+hd(this,this.l),r=goe(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(s=Jb(this,this.l+t++))!==0;)i.push($T(s));r=i.join("");break;case"_wstr":for(t=0,r="";(s=l_(this,this.l+t))!==0;)i.push($T(s)),t+=2;t+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Jb(this,u),this.l=u+1,o=S_.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push($T(l_(this,u))),u+=2}r=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Jb(this,u),this.l=u+1,o=S_.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push($T(Jb(this,u))),u+=1}r=i.join("");break;default:switch(t){case 1:return n=Jb(this,this.l),this.l++,n;case 2:return n=(e==="i"?wDe:l_)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?jv:ADe)(this,this.l),this.l+=4,n):(a=hd(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return t==8?a=CC(this,this.l):a=CC([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;t=8;case 16:r=soe(this,this.l,t);break}}return this.l+=t,r}var _De=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},SDe=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},NDe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function EDe(t,e,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=e.length;++a)NDe(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(r==="hex"){for(;a<t;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+t,this.length);for(a=0;a<Math.min(e.length,t);++a){var s=e.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,_De(this,e,this.l);break;case 8:if(n=8,r==="f"){bDe(this,e,this.l);break}case 16:break;case-4:n=4,SDe(this,e,this.l);break}return this.l+=n,this}function voe(t,e){var r=soe(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function ud(t,e){t.l=e,t.read_shift=S_,t.chk=voe,t.write_shift=EDe}function H0(t,e){t.l+=e}function kt(t){var e=Oy(t);return ud(e,0),e}function vu(){var t=[],e=aa?256:2048,r=function(u){var h=kt(u);return ud(h,0),h},n=r(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,e)))},s=function(){return a(),_l(t)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:o,end:s,_bufs:t}}function Kt(t,e,r,n){var a=+e,i;if(!isNaN(a)){n||(n=yFe[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=t.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&QB(r)&&t.push(r)}}function N_(t,e,r){var n=Au(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function dY(t,e,r){var n=Au(t);return n.s=N_(n.s,e.s,r),n.e=N_(n.e,e.s,r),n}function E_(t,e){if(t.cRel&&t.c<0)for(t=Au(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Au(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Sa(t);return!t.cRel&&t.cRel!=null&&(r=CDe(r)),!t.rRel&&t.rRel!=null&&(r=TDe(r)),r}function CR(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+nc(t.s.c)+":"+(t.e.cRel?"":"$")+nc(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+El(t.s.r)+":"+(t.e.rRel?"":"$")+El(t.e.r):E_(t.s,e.biff)+":"+E_(t.e,e.biff)}function e9(t){return parseInt(jDe(t),10)-1}function El(t){return""+(t+1)}function TDe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function jDe(t){return t.replace(/\$(\d+)$/,"$1")}function t9(t){for(var e=kDe(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function nc(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function CDe(t){return t.replace(/^([A-Z])/,"$$$1")}function kDe(t){return t.replace(/^\$([A-Z])/,"$1")}function PDe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Wo(t){for(var e=0,r=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:e-1}}function Sa(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function wd(t){var e=t.indexOf(":");return e==-1?{s:Wo(t),e:Wo(t)}:{s:Wo(t.slice(0,e)),e:Wo(t.slice(e+1))}}function Ws(t,e){return typeof e>"u"||typeof e=="number"?Ws(t.s,t.e):(typeof t!="string"&&(t=Sa(t)),typeof e!="string"&&(e=Sa(e)),t==e?t:t+":"+e)}function pi(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=t.length;for(r=0;n<i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.s.c=--r,r=0;n<i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(e.s.r=--r,n===i||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.e.c=--r,r=0;n!=i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return e.e.r=--r,e}function hY(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Hx(t.z,r?wu(e):e)}catch{}try{return t.w=Hx((t.XF||{}).numFmtId||(r?14:0),r?wu(e):e)}catch{return""+e}}function Rm(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?r4[t.v]||t.v:e==null?hY(t,t.v):hY(t,e))}function $y(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function yoe(t,e,r){var n=r||{},a=t?Array.isArray(t):n.dense,i=t||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Wo(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=pi(i["!ref"]);u.s.c=h.s.c,u.s.r=h.s.r,u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),s==-1&&(u.e.r=s=h.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=e[f].length;++m)if(!(typeof e[f][m]>"u")){var g={v:e[f][m]},b=s+f,y=o+m;if(u.s.r>b&&(u.s.r=b),u.s.c>y&&(u.s.c=y),u.e.r<b&&(u.e.r=b),u.e.c<y&&(u.e.c=y),e[f][m]&&typeof e[f][m]=="object"&&!Array.isArray(e[f][m])&&!(e[f][m]instanceof Date))g=e[f][m];else if(Array.isArray(g.v)&&(g.f=e[f][m][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(n.nullError)g.t="e",g.v=0;else if(n.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=n.dateNF||fs[14],n.cellDates?(g.t="d",g.w=Hx(g.z,wu(g.v))):(g.t="n",g.v=wu(g.v),g.w=Hx(g.z,g.v))):g.t="s";if(a)i[b]||(i[b]=[]),i[b][y]&&i[b][y].z&&(g.z=i[b][y].z),i[b][y]=g;else{var w=Sa({c:y,r:b});i[w]&&i[w].z&&(g.z=i[w].z),i[w]=g}}}return u.s.c<1e7&&(i["!ref"]=Ws(u)),i}function j5(t,e){return yoe(null,t,e)}function ODe(t){return t.read_shift(4,"i")}function xf(t,e){return e||(e=kt(4)),e.write_shift(4,t),e}function ac(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Ko(t,e){var r=!1;return e==null&&(r=!0,e=kt(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function DDe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function RDe(t,e){return e||(e=kt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function r9(t,e){var r=t.l,n=t.read_shift(1),a=ac(t),i=[],s={t:a,h:a};if((n&1)!==0){for(var o=t.read_shift(4),l=0;l!=o;++l)i.push(DDe(t));s.r=i}else s.r=[{ich:0,ifnt:0}];return t.l=r+e,s}function IDe(t,e){var r=!1;return e==null&&(r=!0,e=kt(15+4*t.t.length)),e.write_shift(1,0),Ko(t.t,e),r?e.slice(0,e.l):e}var LDe=r9;function MDe(t,e){var r=!1;return e==null&&(r=!0,e=kt(23+4*t.t.length)),e.write_shift(1,1),Ko(t.t,e),e.write_shift(4,1),RDe({},e),r?e.slice(0,e.l):e}function vh(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Vy(t,e){return e==null&&(e=kt(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Hy(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function qy(t,e){return e==null&&(e=kt(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var FDe=ac,boe=Ko;function n9(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function kC(t,e){var r=!1;return e==null&&(r=!0,e=kt(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var BDe=ac,o8=n9,a9=kC;function woe(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var a=n===0?CC([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):jv(e,0)>>2;return r?a/100:a}function Aoe(t,e){e==null&&(e=kt(4));var r=0,n=0,a=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?a:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function _oe(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function UDe(t,e){return e||(e=kt(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Gy=_oe,C5=UDe;function k5(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Dy(t,e){return(e||kt(8)).write_shift(8,t,"f")}function zDe(t){var e={},r=t.read_shift(1),n=r>>>1,a=t.read_shift(1),i=t.read_shift(2,"i"),s=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var u=XDe[a];u&&(e.rgb=_Y(u));break;case 2:e.rgb=_Y([s,o,l]);break;case 3:e.theme=a;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function PC(t,e){if(e||(e=kt(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function $De(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function VDe(t,e){e||(e=kt(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var Soe=2,od=3,GT=11,OC=19,WT=64,HDe=65,qDe=71,GDe=4108,WDe=4126,bl=80,fY={1:{n:"CodePage",t:Soe},2:{n:"Category",t:bl},3:{n:"PresentationFormat",t:bl},4:{n:"ByteCount",t:od},5:{n:"LineCount",t:od},6:{n:"ParagraphCount",t:od},7:{n:"SlideCount",t:od},8:{n:"NoteCount",t:od},9:{n:"HiddenCount",t:od},10:{n:"MultimediaClipCount",t:od},11:{n:"ScaleCrop",t:GT},12:{n:"HeadingPairs",t:GDe},13:{n:"TitlesOfParts",t:WDe},14:{n:"Manager",t:bl},15:{n:"Company",t:bl},16:{n:"LinksUpToDate",t:GT},17:{n:"CharacterCount",t:od},19:{n:"SharedDoc",t:GT},22:{n:"HyperlinksChanged",t:GT},23:{n:"AppVersion",t:od,p:"version"},24:{n:"DigSig",t:HDe},26:{n:"ContentType",t:bl},27:{n:"ContentStatus",t:bl},28:{n:"Language",t:bl},29:{n:"Version",t:bl},255:{},2147483648:{n:"Locale",t:OC},2147483651:{n:"Behavior",t:OC},1919054434:{}},pY={1:{n:"CodePage",t:Soe},2:{n:"Title",t:bl},3:{n:"Subject",t:bl},4:{n:"Author",t:bl},5:{n:"Keywords",t:bl},6:{n:"Comments",t:bl},7:{n:"Template",t:bl},8:{n:"LastAuthor",t:bl},9:{n:"RevNumber",t:bl},10:{n:"EditTime",t:WT},11:{n:"LastPrinted",t:WT},12:{n:"CreatedDate",t:WT},13:{n:"ModifiedDate",t:WT},14:{n:"PageCount",t:od},15:{n:"WordCount",t:od},16:{n:"CharCount",t:od},17:{n:"Thumbnail",t:qDe},18:{n:"Application",t:bl},19:{n:"DocSecurity",t:od},255:{},2147483648:{n:"Locale",t:OC},2147483651:{n:"Behavior",t:OC},1919054434:{}};function KDe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var YDe=KDe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),XDe=Au(YDe),r4={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},JDe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},KT={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Noe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Eoe(t,e){var r=oDe(JDe),n=[],a;n[n.length]=Xs,n[n.length]=dr("Types",null,{xmlns:qo.CT,"xmlns:xsd":qo.xsd,"xmlns:xsi":qo.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return dr("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){t[l]&&t[l].length>0&&(a=t[l][0],n[n.length]=dr("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:KT[l][e.bookType]||KT[l].xlsx}))},s=function(l){(t[l]||[]).forEach(function(u){n[n.length]=dr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:KT[l][e.bookType]||KT[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(u){n[n.length]=dr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Jn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Toe(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function _2(t){var e=[Xs,dr("Relationships",null,{xmlns:qo.RELS})];return jl(t["!id"]).forEach(function(r){e[e.length]=dr("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function ya(t,e,r,n,a,i){if(a||(a={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,a.Id="rId"+e,a.Type=n,a.Target=r,[Jn.HLINK,Jn.XPATH,Jn.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),t["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][a.Id]=a,t[("/"+a.Target).replace("//","/")]=a,e}function ZDe(t){var e=[Xs];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function mY(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function QDe(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function eRe(t){var e=[Xs];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(mY(t[r][0],t[r][1])),e.push(QDe("",t[r][0]));return e.push(mY("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function joe(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+_C.version+"</meta:generator></office:meta></office:document-meta>"}var hy=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function kR(t,e,r,n,a){a[t]!=null||e==null||e===""||(a[t]=e,e=_a(e),n[n.length]=r?dr(t,e,r):Sl(t,e))}function Coe(t,e){var r=e||{},n=[Xs,dr("cp:coreProperties",null,{"xmlns:cp":qo.CORE_PROPS,"xmlns:dc":qo.dc,"xmlns:dcterms":qo.dcterms,"xmlns:dcmitype":qo.dcmitype,"xmlns:xsi":qo.xsi})],a={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&kR("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:s8(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),t.ModifiedDate!=null&&kR("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:s8(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=hy.length;++i){var s=hy[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:t?t[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&kR(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var S2=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],koe=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Poe(t){var e=[],r=dr;return t||(t={}),t.Application="SheetJS",e[e.length]=Xs,e[e.length]=dr("Properties",null,{xmlns:qo.EXT_PROPS,"xmlns:vt":qo.vt}),S2.forEach(function(n){if(t[n[1]]!==void 0){var a;switch(n[2]){case"string":a=_a(String(t[n[1]]));break;case"bool":a=t[n[1]]?"true":"false";break}a!==void 0&&(e[e.length]=r(n[0],a))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+_a(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function Ooe(t){var e=[Xs,dr("Properties",null,{xmlns:qo.CUST_PROPS,"xmlns:vt":qo.vt})];if(!t)return e.join("");var r=1;return jl(t).forEach(function(a){++r,e[e.length]=dr("property",vDe(t[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:_a(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var gY={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function tRe(t,e){var r=[];return jl(gY).map(function(n){for(var a=0;a<hy.length;++a)if(hy[a][1]==n)return hy[a];for(a=0;a<S2.length;++a)if(S2[a][1]==n)return S2[a];throw n}).forEach(function(n){if(t[n[1]]!=null){var a=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Sl(gY[n[1]]||n[1],a))}}),dr("DocumentProperties",r.join(""),{xmlns:dd.o})}function rRe(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return t&&jl(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)){for(var s=0;s<hy.length;++s)if(i==hy[s][1])return;for(s=0;s<S2.length;++s)if(i==S2[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),a.push(dr(nY(i),o,{"dt:dt":l}))}}),e&&jl(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)&&!(t&&Object.prototype.hasOwnProperty.call(t,i))){var s=e[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(dr(nY(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+dd.o+'">'+a.join("")+"</"+n+">"}function nRe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=kt(8);return s.write_shift(4,n),s.write_shift(4,a),s}function xY(t,e){var r=kt(4),n=kt(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=kt(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=nRe(e);break;case 31:case 80:for(n=kt(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return _l([r,n])}var Doe=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function aRe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function vY(t,e,r){var n=kt(8),a=[],i=[],s=8,o=0,l=kt(8),u=kt(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),i.push(l),a.push(u),s+=8+l.length,!e){u=kt(8),u.write_shift(4,0),a.unshift(u);var h=[kt(4)];for(h[0].write_shift(4,t.length),o=0;o<t.length;++o){var f=t[o][0];for(l=kt(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);h.push(l)}l=_l(h),i.unshift(l),s+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(Doe.indexOf(t[o][0])>-1||koe.indexOf(t[o][0])>-1)&&t[o][1]!=null){var m=t[o][1],g=0;if(e){g=+e[t[o][0]];var b=r[g];if(b.p=="version"&&typeof m=="string"){var y=m.split(".");m=(+y[0]<<16)+(+y[1]||0)}l=xY(b.t,m)}else{var w=aRe(m);w==-1&&(w=31,m=String(m)),l=xY(w,m)}i.push(l),u=kt(8),u.write_shift(4,e?g:2+o),a.push(u),s+=8+l.length}var A=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,A),A+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),_l([n].concat(a).concat(i))}function yY(t,e,r,n,a,i){var s=kt(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,La.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,a?68:48);var l=vY(t,r,n);if(o.push(l),a){var u=vY(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+l.length),o.push(u)}return _l(o)}function iRe(t,e){e||(e=kt(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function sRe(t,e){return t.read_shift(e)===1}function kc(t,e){return e||(e=kt(2)),e.write_shift(2,+!!t),e}function Roe(t){return t.read_shift(2,"u")}function nh(t,e){return e||(e=kt(2)),e.write_shift(2,t),e}function Ioe(t,e,r){return r||(r=kt(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function Loe(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=t.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?t.read_shift(n,a):"";return s}function oRe(t){var e=t.t||"",r=kt(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=kt(2*e.length);n.write_shift(2*e.length,e,"utf16le");var a=[r,n];return _l(a)}function lRe(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var a=t.read_shift(1);return a===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function cRe(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):lRe(t,n,r)}function uRe(t,e,r){if(r.biff>5)return cRe(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function Moe(t,e,r){return r||(r=kt(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function bY(t,e){e||(e=kt(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function dRe(t){var e=kt(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}e.write_shift(4,2),e.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)e.write_shift(4,s[r]);if(i==28)n=n.slice(1),bY(n,e);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),i&8&&bY(a>-1?n.slice(a+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function Ry(t,e,r,n){return n||(n=kt(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function hRe(t,e,r){var n=r.biff>8?4:2,a=t.read_shift(n),i=t.read_shift(n,"i"),s=t.read_shift(n,"i");return[a,i,s]}function fRe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2);return{s:{c:n,r:e},e:{c:a,r}}}function Foe(t,e){return e||(e=kt(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function i9(t,e,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=kt(a);return i.write_shift(2,n),i.write_shift(2,e),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function pRe(t,e){var r=!e||e.biff==8,n=kt(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function mRe(t,e){var r=!e||e.biff>=8?2:1,n=kt(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function gRe(t,e){var r=kt(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],a=0;a<t.length;++a)n[a]=oRe(t[a]);var i=_l([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function xRe(){var t=kt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function vRe(t){var e=kt(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function yRe(t,e){var r=t.name||"Arial",n=e&&e.biff==5,a=n?15+r.length:16+2*r.length,i=kt(a);return i.write_shift(2,t.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function bRe(t,e,r,n){var a=kt(10);return Ry(t,e,n,a),a.write_shift(4,r),a}function wRe(t,e,r,n,a){var i=!a||a.biff==8,s=kt(8+ +i+(1+i)*r.length);return Ry(t,e,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function ARe(t,e,r,n){var a=r&&r.biff==5;n||(n=kt(a?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(a?1:2,e.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function _Re(t,e){var r=e.biff==8||!e.biff?4:2,n=kt(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function wY(t,e,r,n){var a=r&&r.biff==5;n||(n=kt(a?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var i=0;return t.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function SRe(t){var e=kt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function NRe(t,e,r,n,a,i){var s=kt(8);return Ry(t,e,n,s),Ioe(r,i,s),s}function ERe(t,e,r,n){var a=kt(14);return Ry(t,e,n,a),Dy(r,a),a}function TRe(t,e,r){if(r.biff<8)return jRe(t,e,r);for(var n=[],a=t.l+e,i=t.read_shift(r.biff>8?4:2);i--!==0;)n.push(hRe(t,r.biff>8?12:6,r));if(t.l!=a)throw new Error("Bad ExternSheet: "+t.l+" != "+a);return n}function jRe(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Loe(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function CRe(t){var e=kt(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)Foe(t[r],e);return e}function kRe(t){var e=kt(24),r=Wo(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(n[a],16));return _l([e,dRe(t[1])])}function PRe(t){var e=t[1].Tooltip,r=kt(10+2*(e.length+1));r.write_shift(2,2048);var n=Wo(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<e.length;++a)r.write_shift(2,e.charCodeAt(a));return r.write_shift(2,0),r}function ORe(t){return t||(t=kt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function DRe(t,e,r){if(!r.cellStyles)return H0(t,e);var n=r&&r.biff>=12?4:2,a=t.read_shift(n),i=t.read_shift(n),s=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var u={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function RRe(t,e){var r=kt(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function IRe(t){for(var e=kt(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function LRe(t,e,r){var n=kt(15);return a4(n,t,e),n.write_shift(8,r,"f"),n}function MRe(t,e,r){var n=kt(9);return a4(n,t,e),n.write_shift(2,r),n}var FRe=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=KB({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var u=[],h=Oy(1);switch(l.type){case"base64":h=df(Dm(o));break;case"binary":h=df(o);break;case"buffer":case"array":h=o;break}ud(h,0);var f=h.read_shift(1),m=!!(f&136),g=!1,b=!1;switch(f){case 2:break;case 3:break;case 48:g=!0,m=!0;break;case 49:g=!0,m=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var y=0,w=521;f==2&&(y=h.read_shift(2)),h.l+=3,f!=2&&(y=h.read_shift(4)),y>1048576&&(y=1e6),f!=2&&(w=h.read_shift(2));var A=h.read_shift(2),S=l.codepage||1252;f!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(S=t[h[h.l]]),h.l+=1,h.l+=2),b&&(h.l+=36);for(var N=[],T={},k=Math.min(h.length,f==2?521:w-10-(g?264:0)),R=b?32:11;h.l<k&&h[h.l]!=13;)switch(T={},T.name=SC.utils.decode(S,h.slice(h.l,h.l+R)).replace(/[\u0000\r\n].*$/g,""),h.l+=R,T.type=String.fromCharCode(h.read_shift(1)),f!=2&&!b&&(T.offset=h.read_shift(4)),T.len=h.read_shift(1),f==2&&(T.offset=h.read_shift(2)),T.dec=h.read_shift(1),T.name.length&&N.push(T),f!=2&&(h.l+=b?13:14),T.type){case"B":(!g||T.len!=8)&&l.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(h[h.l]!==13&&(h.l=w-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=w;var O=0,U=0;for(u[0]=[],U=0;U!=N.length;++U)u[0][U]=N[U].name;for(;y-- >0;){if(h[h.l]===42){h.l+=A;continue}for(++h.l,u[++O]=[],U=0,U=0;U!=N.length;++U){var H=h.slice(h.l,h.l+N[U].len);h.l+=N[U].len,ud(H,0);var G=SC.utils.decode(S,H);switch(N[U].type){case"C":G.trim().length&&(u[O][U]=G.replace(/\s+$/,""));break;case"D":G.length===8?u[O][U]=new Date(+G.slice(0,4),+G.slice(4,6)-1,+G.slice(6,8)):u[O][U]=G;break;case"F":u[O][U]=parseFloat(G.trim());break;case"+":case"I":u[O][U]=b?H.read_shift(-4,"i")^2147483648:H.read_shift(4,"i");break;case"L":switch(G.trim().toUpperCase()){case"Y":case"T":u[O][U]=!0;break;case"N":case"F":u[O][U]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+G+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[O][U]="##MEMO##"+(b?parseInt(G.trim(),10):H.read_shift(4));break;case"N":G=G.replace(/\u0000/g,"").trim(),G&&G!="."&&(u[O][U]=+G||0);break;case"@":u[O][U]=new Date(H.read_shift(-8,"f")-621356832e5);break;case"T":u[O][U]=new Date((H.read_shift(4)-2440588)*864e5+H.read_shift(4));break;case"Y":u[O][U]=H.read_shift(4,"i")/1e4+H.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[O][U]=-H.read_shift(-8,"f");break;case"B":if(g&&N[U].len==8){u[O][U]=H.read_shift(8,"f");break}case"G":case"P":H.l+=N[U].len;break;case"0":if(N[U].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+N[U].type)}}}if(f!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=N,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var h=j5(r(o,u),u);return h["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,h}function a(o,l){try{return $y(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var u=l||{};if(+u.codepage>=0&&oS(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var h=vu(),f=MC(o,{header:1,raw:!0,cellDates:!0}),m=f[0],g=f.slice(1),b=o["!cols"]||[],y=0,w=0,A=0,S=1;for(y=0;y<m.length;++y){if(((b[y]||{}).DBF||{}).name){m[y]=b[y].DBF.name,++A;continue}if(m[y]!=null){if(++A,typeof m[y]=="number"&&(m[y]=m[y].toString(10)),typeof m[y]!="string")throw new Error("DBF Invalid column name "+m[y]+" |"+typeof m[y]+"|");if(m.indexOf(m[y])!==y){for(w=0;w<1024;++w)if(m.indexOf(m[y]+"_"+w)==-1){m[y]+="_"+w;break}}}}var N=pi(o["!ref"]),T=[],k=[],R=[];for(y=0;y<=N.e.c-N.s.c;++y){var O="",U="",H=0,G=[];for(w=0;w<g.length;++w)g[w][y]!=null&&G.push(g[w][y]);if(G.length==0||m[y]==null){T[y]="?";continue}for(w=0;w<G.length;++w){switch(typeof G[w]){case"number":U="B";break;case"string":U="C";break;case"boolean":U="L";break;case"object":U=G[w]instanceof Date?"D":"C";break;default:U="C"}H=Math.max(H,String(G[w]).length),O=O&&O!=U?"C":U}H>250&&(H=250),U=((b[y]||{}).DBF||{}).type,U=="C"&&b[y].DBF.len>H&&(H=b[y].DBF.len),O=="B"&&U=="N"&&(O="N",R[y]=b[y].DBF.dec,H=b[y].DBF.len),k[y]=O=="C"||U=="N"?H:i[O]||0,S+=k[y],T[y]=O}var F=h.next(32);for(F.write_shift(4,318902576),F.write_shift(4,g.length),F.write_shift(2,296+32*A),F.write_shift(2,S),y=0;y<4;++y)F.write_shift(4,0);for(F.write_shift(4,0|(+e[Use]||3)<<8),y=0,w=0;y<m.length;++y)if(m[y]!=null){var L=h.next(32),re=(m[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,re,"sbcs"),L.write_shift(1,T[y]=="?"?"C":T[y],"sbcs"),L.write_shift(4,w),L.write_shift(1,k[y]||i[T[y]]||0),L.write_shift(1,R[y]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),w+=k[y]||i[T[y]]||0}var Z=h.next(264);for(Z.write_shift(4,13),y=0;y<65;++y)Z.write_shift(4,0);for(y=0;y<g.length;++y){var pe=h.next(S);for(pe.write_shift(1,0),w=0;w<m.length;++w)if(m[w]!=null)switch(T[w]){case"L":pe.write_shift(1,g[y][w]==null?63:g[y][w]?84:70);break;case"B":pe.write_shift(8,g[y][w]||0,"f");break;case"N":var Q="0";for(typeof g[y][w]=="number"&&(Q=g[y][w].toFixed(R[w]||0)),A=0;A<k[w]-Q.length;++A)pe.write_shift(1,32);pe.write_shift(1,Q,"sbcs");break;case"D":g[y][w]?(pe.write_shift(4,("0000"+g[y][w].getFullYear()).slice(-4),"sbcs"),pe.write_shift(2,("00"+(g[y][w].getMonth()+1)).slice(-2),"sbcs"),pe.write_shift(2,("00"+g[y][w].getDate()).slice(-2),"sbcs")):pe.write_shift(8,"00000000","sbcs");break;case"C":var X=String(g[y][w]!=null?g[y][w]:"").slice(0,k[w]);for(pe.write_shift(1,X,"sbcs"),A=0;A<k[w]-X.length;++A)pe.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}})(),BRe=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+jl(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,g){var b=t[g];return typeof b=="number"?qK(b):b},n=function(m,g,b){var y=g.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return y==59?m:qK(y)};t["|"]=254;function a(m,g){switch(g.type){case"base64":return i(Dm(m),g);case"binary":return i(m,g);case"buffer":return i(aa&&Buffer.isBuffer(m)?m.toString("binary"):QE(m),g);case"array":return i(MP(m),g)}throw new Error("Unrecognized type "+g.type)}function i(m,g){var b=m.split(/[\n\r]+/),y=-1,w=-1,A=0,S=0,N=[],T=[],k=null,R={},O=[],U=[],H=[],G=0,F;for(+g.codepage>=0&&oS(+g.codepage);A!==b.length;++A){G=0;var L=b[A].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),re=L.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),Z=re[0],pe;if(L.length>0)switch(Z){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":re[1].charAt(0)=="P"&&T.push(L.slice(3).replace(/;;/g,";"));break;case"C":var Q=!1,X=!1,oe=!1,ce=!1,Ne=-1,ne=-1;for(S=1;S<re.length;++S)switch(re[S].charAt(0)){case"A":break;case"X":w=parseInt(re[S].slice(1))-1,X=!0;break;case"Y":for(y=parseInt(re[S].slice(1))-1,X||(w=0),F=N.length;F<=y;++F)N[F]=[];break;case"K":pe=re[S].slice(1),pe.charAt(0)==='"'?pe=pe.slice(1,pe.length-1):pe==="TRUE"?pe=!0:pe==="FALSE"?pe=!1:isNaN(mm(pe))?isNaN(cS(pe).getDate())||(pe=Lc(pe)):(pe=mm(pe),k!==null&&Zse(k)&&(pe=roe(pe))),Q=!0;break;case"E":ce=!0;var B=MIe(re[S].slice(1),{r:y,c:w});N[y][w]=[N[y][w],B];break;case"S":oe=!0,N[y][w]=[N[y][w],"S5S"];break;case"G":break;case"R":Ne=parseInt(re[S].slice(1))-1;break;case"C":ne=parseInt(re[S].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+L)}if(Q&&(N[y][w]&&N[y][w].length==2?N[y][w][0]=pe:N[y][w]=pe,k=null),oe){if(ce)throw new Error("SYLK shared formula cannot have own formula");var V=Ne>-1&&N[Ne][ne];if(!V||!V[1])throw new Error("SYLK shared formula cannot find base");N[y][w][1]=FIe(V[1],{r:y-Ne,c:w-ne})}break;case"F":var Y=0;for(S=1;S<re.length;++S)switch(re[S].charAt(0)){case"X":w=parseInt(re[S].slice(1))-1,++Y;break;case"Y":for(y=parseInt(re[S].slice(1))-1,F=N.length;F<=y;++F)N[F]=[];break;case"M":G=parseInt(re[S].slice(1))/20;break;case"F":break;case"G":break;case"P":k=T[parseInt(re[S].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(H=re[S].slice(1).split(" "),F=parseInt(H[0],10);F<=parseInt(H[1],10);++F)G=parseInt(H[2],10),U[F-1]=G===0?{hidden:!0}:{wch:G},s9(U[F-1]);break;case"C":w=parseInt(re[S].slice(1))-1,U[w]||(U[w]={});break;case"R":y=parseInt(re[S].slice(1))-1,O[y]||(O[y]={}),G>0?(O[y].hpt=G,O[y].hpx=Voe(G)):G===0&&(O[y].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+L)}Y<1&&(k=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+L)}}return O.length>0&&(R["!rows"]=O),U.length>0&&(R["!cols"]=U),g&&g.sheetRows&&(N=N.slice(0,g.sheetRows)),[N,R]}function s(m,g){var b=a(m,g),y=b[0],w=b[1],A=j5(y,g);return jl(w).forEach(function(S){A[S]=w[S]}),A}function o(m,g){return $y(s(m,g),g)}function l(m,g,b,y){var w="C;Y"+(b+1)+";X"+(y+1)+";K";switch(m.t){case"n":w+=m.v||0,m.f&&!m.F&&(w+=";E"+l9(m.f,{r:b,c:y}));break;case"b":w+=m.v?"TRUE":"FALSE";break;case"e":w+=m.w||m.v;break;case"d":w+='"'+(m.w||m.v)+'"';break;case"s":w+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function u(m,g){g.forEach(function(b,y){var w="F;W"+(y+1)+" "+(y+1)+" ";b.hidden?w+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=DC(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=RC(b.wpx)),typeof b.wch=="number"&&(w+=Math.round(b.wch))),w.charAt(w.length-1)!=" "&&m.push(w)})}function h(m,g){g.forEach(function(b,y){var w="F;";b.hidden?w+="M0;":b.hpt?w+="M"+20*b.hpt+";":b.hpx&&(w+="M"+20*IC(b.hpx)+";"),w.length>2&&m.push(w+"R"+(y+1))})}function f(m,g){var b=["ID;PWXL;N;E"],y=[],w=pi(m["!ref"]),A,S=Array.isArray(m),N=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),m["!cols"]&&u(b,m["!cols"]),m["!rows"]&&h(b,m["!rows"]),b.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var T=w.s.r;T<=w.e.r;++T)for(var k=w.s.c;k<=w.e.c;++k){var R=Sa({r:T,c:k});A=S?(m[T]||[])[k]:m[R],!(!A||A.v==null&&(!A.f||A.F))&&y.push(l(A,m,T,k))}return b.join(N)+N+y.join(N)+N+"E"+N}return{to_workbook:o,to_sheet:s,from_sheet:f}})(),URe=(function(){function t(i,s){switch(s.type){case"base64":return e(Dm(i),s);case"binary":return e(i,s);case"buffer":return e(aa&&Buffer.isBuffer(i)?i.toString("binary"):QE(i),s);case"array":return e(MP(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){for(var o=i.split(`
`),l=-1,u=-1,h=0,f=[];h!==o.length;++h){if(o[h].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var m=o[h].trim().split(","),g=m[0],b=m[1];++h;for(var y=o[h]||"";(y.match(/["]/g)||[]).length&1&&h<o.length-1;)y+=`
`+o[++h];switch(y=y.trim(),+g){case-1:if(y==="BOT"){f[++l]=[],u=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?f[l][u]=!0:y==="FALSE"?f[l][u]=!1:isNaN(mm(b))?isNaN(cS(b).getDate())?f[l][u]=b:f[l][u]=Lc(b):f[l][u]=mm(b),++u;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),f[l][u++]=y!==""?y:null;break}if(y==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return j5(t(i,s),s)}function n(i,s){return $y(r(i,s),s)}var a=(function(){var i=function(l,u,h,f,m){l.push(u),l.push(h+","+f),l.push('"'+m.replace(/"/g,'""')+'"')},s=function(l,u,h,f){l.push(u+","+h),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],h=pi(l["!ref"]),f,m=Array.isArray(l);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,h.e.r-h.s.r+1,""),i(u,"TUPLES",0,h.e.c-h.s.c+1,""),i(u,"DATA",0,0,"");for(var g=h.s.r;g<=h.e.r;++g){s(u,-1,0,"BOT");for(var b=h.s.c;b<=h.e.c;++b){var y=Sa({r:g,c:b});if(f=m?(l[g]||[])[b]:l[y],!f){s(u,1,0,"");continue}switch(f.t){case"n":var w=f.w;!w&&f.v!=null&&(w=f.v),w==null?f.f&&!f.F?s(u,1,0,"="+f.f):s(u,1,0,""):s(u,0,w,"V");break;case"b":s(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Hx(f.z||fs[14],wu(Lc(f.v)))),s(u,0,f.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var A=`\r
`,S=u.join(A);return S}})();return{to_workbook:n,to_sheet:r,from_sheet:a}})(),Boe=(function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,m){for(var g=f.split(`
`),b=-1,y=-1,w=0,A=[];w!==g.length;++w){var S=g[w].trim().split(":");if(S[0]==="cell"){var N=Wo(S[1]);if(A.length<=N.r)for(b=A.length;b<=N.r;++b)A[b]||(A[b]=[]);switch(b=N.r,y=N.c,S[2]){case"t":A[b][y]=t(S[3]);break;case"v":A[b][y]=+S[3];break;case"vtf":var T=S[S.length-1];case"vtc":switch(S[3]){case"nl":A[b][y]=!!+S[4];break;default:A[b][y]=+S[4];break}S[2]=="vtf"&&(A[b][y]=[A[b][y],T])}}}return m&&m.sheetRows&&(A=A.slice(0,m.sheetRows)),A}function n(f,m){return j5(r(f,m),m)}function a(f,m){return $y(n(f,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var m=[],g=[],b,y="",w=wd(f["!ref"]),A=Array.isArray(f),S=w.s.r;S<=w.e.r;++S)for(var N=w.s.c;N<=w.e.c;++N)if(y=Sa({r:S,c:N}),b=A?(f[S]||[])[N]:f[y],!(!b||b.v==null||b.t==="z")){switch(g=["cell",y,"t"],b.t){case"s":case"str":g.push(e(b.v));break;case"n":b.f?(g[2]="vtf",g[3]="n",g[4]=b.v,g[5]=e(b.f)):(g[2]="v",g[3]=b.v);break;case"b":g[2]="vt"+(b.f?"f":"c"),g[3]="nl",g[4]=b.v?"1":"0",g[5]=e(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var T=wu(Lc(b.v));g[2]="vtc",g[3]="nd",g[4]=""+T,g[5]=b.w||Hx(b.z||fs[14],T);break;case"e":continue}m.push(g.join(":"))}return m.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function h(f){return[i,s,o,s,u(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:h}})(),zRe=(function(){function t(h,f,m,g,b){b.raw?f[m][g]=h:h===""||(h==="TRUE"?f[m][g]=!0:h==="FALSE"?f[m][g]=!1:isNaN(mm(h))?isNaN(cS(h).getDate())?f[m][g]=h:f[m][g]=Lc(h):f[m][g]=mm(h))}function e(h,f){var m=f||{},g=[];if(!h||h.length===0)return g;for(var b=h.split(/[\r\n]/),y=b.length-1;y>=0&&b[y].length===0;)--y;for(var w=10,A=0,S=0;S<=y;++S)A=b[S].indexOf(" "),A==-1?A=b[S].length:A++,w=Math.max(w,A);for(S=0;S<=y;++S){g[S]=[];var N=0;for(t(b[S].slice(0,w).trim(),g,S,N,m),N=1;N<=(b[S].length-w)/10+1;++N)t(b[S].slice(w+(N-1)*10,w+N*10).trim(),g,S,N,m)}return m.sheetRows&&(g=g.slice(0,m.sheetRows)),g}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(h){for(var f={},m=!1,g=0,b=0;g<h.length;++g)(b=h.charCodeAt(g))==34?m=!m:!m&&b in r&&(f[b]=(f[b]||0)+1);b=[];for(g in f)Object.prototype.hasOwnProperty.call(f,g)&&b.push([f[g],g]);if(!b.length){f=n;for(g in f)Object.prototype.hasOwnProperty.call(f,g)&&b.push([f[g],g])}return b.sort(function(y,w){return y[0]-w[0]||n[y[1]]-n[w[1]]}),r[b.pop()[1]]||44}function i(h,f){var m=f||{},g="",b=m.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(g=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(g=h.charAt(4),h=h.slice(6)):g=a(h.slice(0,1024)):m&&m.FS?g=m.FS:g=a(h.slice(0,1024));var w=0,A=0,S=0,N=0,T=0,k=g.charCodeAt(0),R=!1,O=0,U=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var H=m.dateNF!=null?nDe(m.dateNF):null;function G(){var F=h.slice(N,T),L={};if(F.charAt(0)=='"'&&F.charAt(F.length-1)=='"'&&(F=F.slice(1,-1).replace(/""/g,'"')),F.length===0)L.t="z";else if(m.raw)L.t="s",L.v=F;else if(F.trim().length===0)L.t="s",L.v=F;else if(F.charCodeAt(0)==61)F.charCodeAt(1)==34&&F.charCodeAt(F.length-1)==34?(L.t="s",L.v=F.slice(2,-1).replace(/""/g,'"')):BIe(F)?(L.t="n",L.f=F.slice(1)):(L.t="s",L.v=F);else if(F=="TRUE")L.t="b",L.v=!0;else if(F=="FALSE")L.t="b",L.v=!1;else if(!isNaN(S=mm(F)))L.t="n",m.cellText!==!1&&(L.w=F),L.v=S;else if(!isNaN(cS(F).getDate())||H&&F.match(H)){L.z=m.dateNF||fs[14];var re=0;H&&F.match(H)&&(F=aDe(F,m.dateNF,F.match(H)||[]),re=1),m.cellDates?(L.t="d",L.v=Lc(F,re)):(L.t="n",L.v=wu(Lc(F,re))),m.cellText!==!1&&(L.w=Hx(L.z,L.v instanceof Date?wu(L.v):L.v)),m.cellNF||delete L.z}else L.t="s",L.v=F;if(L.t=="z"||(m.dense?(b[w]||(b[w]=[]),b[w][A]=L):b[Sa({c:A,r:w})]=L),N=T+1,U=h.charCodeAt(N),y.e.c<A&&(y.e.c=A),y.e.r<w&&(y.e.r=w),O==k)++A;else if(A=0,++w,m.sheetRows&&m.sheetRows<=w)return!0}e:for(;T<h.length;++T)switch(O=h.charCodeAt(T)){case 34:U===34&&(R=!R);break;case k:case 10:case 13:if(!R&&G())break e;break}return T-N>0&&G(),b["!ref"]=Ws(y),b}function s(h,f){return!(f&&f.PRN)||f.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,f):j5(e(h,f),f)}function o(h,f){var m="",g=f.type=="string"?[0,0,0,0]:QFe(h,f);switch(f.type){case"base64":m=Dm(h);break;case"binary":m=h;break;case"buffer":f.codepage==65001?m=h.toString("utf8"):f.codepage&&typeof SC<"u"||(m=aa&&Buffer.isBuffer(h)?h.toString("binary"):QE(h));break;case"array":m=MP(h);break;case"string":m=h;break;default:throw new Error("Unrecognized type "+f.type)}return g[0]==239&&g[1]==187&&g[2]==191?m=__(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=__(m):f.type=="binary"&&typeof SC<"u",m.slice(0,19)=="socialcalc:version:"?Boe.to_sheet(f.type=="string"?m:__(m),f):s(m,f)}function l(h,f){return $y(o(h,f),f)}function u(h){for(var f=[],m=pi(h["!ref"]),g,b=Array.isArray(h),y=m.s.r;y<=m.e.r;++y){for(var w=[],A=m.s.c;A<=m.e.c;++A){var S=Sa({r:y,c:A});if(g=b?(h[y]||[])[A]:h[S],!g||g.v==null){w.push("          ");continue}for(var N=(g.w||(Rm(g),g.w)||"").slice(0,10);N.length<10;)N+=" ";w.push(N+(A===0?" ":""))}f.push(w.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}})(),AY=(function(){function t(B,V,Y){if(B){ud(B,B.l||0);for(var K=Y.Enum||Ne;B.l<B.length;){var le=B.read_shift(2),Ae=K[le]||K[65535],De=B.read_shift(2),de=B.l+De,Le=Ae.f&&Ae.f(B,De,Y);if(B.l=de,V(Le,Ae,le))return}}}function e(B,V){switch(V.type){case"base64":return r(df(Dm(B)),V);case"binary":return r(df(B),V);case"buffer":case"array":return r(B,V)}throw"Unsupported type "+V.type}function r(B,V){if(!B)return B;var Y=V||{},K=Y.dense?[]:{},le="Sheet1",Ae="",De=0,de={},Le=[],Ge=[],Re={s:{r:0,c:0},e:{r:0,c:0}},wt=Y.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)Y.Enum=Ne,t(B,function(Nt,rr,Ot){switch(Ot){case 0:Y.vers=Nt,Nt>=4096&&(Y.qpro=!0);break;case 6:Re=Nt;break;case 204:Nt&&(Ae=Nt);break;case 222:Ae=Nt;break;case 15:case 51:Y.qpro||(Nt[1].v=Nt[1].v.slice(1));case 13:case 14:case 16:Ot==14&&(Nt[2]&112)==112&&(Nt[2]&15)>1&&(Nt[2]&15)<15&&(Nt[1].z=Y.dateNF||fs[14],Y.cellDates&&(Nt[1].t="d",Nt[1].v=roe(Nt[1].v))),Y.qpro&&Nt[3]>De&&(K["!ref"]=Ws(Re),de[le]=K,Le.push(le),K=Y.dense?[]:{},Re={s:{r:0,c:0},e:{r:0,c:0}},De=Nt[3],le=Ae||"Sheet"+(De+1),Ae="");var vt=Y.dense?(K[Nt[0].r]||[])[Nt[0].c]:K[Sa(Nt[0])];if(vt){vt.t=Nt[1].t,vt.v=Nt[1].v,Nt[1].z!=null&&(vt.z=Nt[1].z),Nt[1].f!=null&&(vt.f=Nt[1].f);break}Y.dense?(K[Nt[0].r]||(K[Nt[0].r]=[]),K[Nt[0].r][Nt[0].c]=Nt[1]):K[Sa(Nt[0])]=Nt[1];break}},Y);else if(B[2]==26||B[2]==14)Y.Enum=ne,B[2]==14&&(Y.qpro=!0,B.l=0),t(B,function(Nt,rr,Ot){switch(Ot){case 204:le=Nt;break;case 22:Nt[1].v=Nt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Nt[3]>De&&(K["!ref"]=Ws(Re),de[le]=K,Le.push(le),K=Y.dense?[]:{},Re={s:{r:0,c:0},e:{r:0,c:0}},De=Nt[3],le="Sheet"+(De+1)),wt>0&&Nt[0].r>=wt)break;Y.dense?(K[Nt[0].r]||(K[Nt[0].r]=[]),K[Nt[0].r][Nt[0].c]=Nt[1]):K[Sa(Nt[0])]=Nt[1],Re.e.c<Nt[0].c&&(Re.e.c=Nt[0].c),Re.e.r<Nt[0].r&&(Re.e.r=Nt[0].r);break;case 27:Nt[14e3]&&(Ge[Nt[14e3][0]]=Nt[14e3][1]);break;case 1537:Ge[Nt[0]]=Nt[1],Nt[0]==De&&(le=Nt[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(K["!ref"]=Ws(Re),de[Ae||le]=K,Le.push(Ae||le),!Ge.length)return{SheetNames:Le,Sheets:de};for(var St={},rt=[],Te=0;Te<Ge.length;++Te)de[Le[Te]]?(rt.push(Ge[Te]||Le[Te]),St[Ge[Te]]=de[Ge[Te]]||de[Le[Te]]):(rt.push(Ge[Te]),St[Ge[Te]]={"!ref":"A1"});return{SheetNames:rt,Sheets:St}}function n(B,V){var Y=V||{};if(+Y.codepage>=0&&oS(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var K=vu(),le=pi(B["!ref"]),Ae=Array.isArray(B),De=[];fr(K,0,i(1030)),fr(K,6,l(le));for(var de=Math.min(le.e.r,8191),Le=le.s.r;Le<=de;++Le)for(var Ge=El(Le),Re=le.s.c;Re<=le.e.c;++Re){Le===le.s.r&&(De[Re]=nc(Re));var wt=De[Re]+Ge,St=Ae?(B[Le]||[])[Re]:B[wt];if(!(!St||St.t=="z"))if(St.t=="n")(St.v|0)==St.v&&St.v>=-32768&&St.v<=32767?fr(K,13,g(Le,Re,St.v)):fr(K,14,y(Le,Re,St.v));else{var rt=Rm(St);fr(K,15,f(Le,Re,rt.slice(0,239)))}}return fr(K,1),K.end()}function a(B,V){var Y=V||{};if(+Y.codepage>=0&&oS(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var K=vu();fr(K,0,s(B));for(var le=0,Ae=0;le<B.SheetNames.length;++le)(B.Sheets[B.SheetNames[le]]||{})["!ref"]&&fr(K,27,ce(B.SheetNames[le],Ae++));var De=0;for(le=0;le<B.SheetNames.length;++le){var de=B.Sheets[B.SheetNames[le]];if(!(!de||!de["!ref"])){for(var Le=pi(de["!ref"]),Ge=Array.isArray(de),Re=[],wt=Math.min(Le.e.r,8191),St=Le.s.r;St<=wt;++St)for(var rt=El(St),Te=Le.s.c;Te<=Le.e.c;++Te){St===Le.s.r&&(Re[Te]=nc(Te));var Nt=Re[Te]+rt,rr=Ge?(de[St]||[])[Te]:de[Nt];if(!(!rr||rr.t=="z"))if(rr.t=="n")fr(K,23,G(St,Te,De,rr.v));else{var Ot=Rm(rr);fr(K,22,O(St,Te,De,Ot.slice(0,239)))}}++De}}return fr(K,1),K.end()}function i(B){var V=kt(2);return V.write_shift(2,B),V}function s(B){var V=kt(26);V.write_shift(2,4096),V.write_shift(2,4),V.write_shift(4,0);for(var Y=0,K=0,le=0,Ae=0;Ae<B.SheetNames.length;++Ae){var De=B.SheetNames[Ae],de=B.Sheets[De];if(!(!de||!de["!ref"])){++le;var Le=wd(de["!ref"]);Y<Le.e.r&&(Y=Le.e.r),K<Le.e.c&&(K=Le.e.c)}}return Y>8191&&(Y=8191),V.write_shift(2,Y),V.write_shift(1,le),V.write_shift(1,K),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(1,1),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(4,0),V}function o(B,V,Y){var K={s:{c:0,r:0},e:{c:0,r:0}};return V==8&&Y.qpro?(K.s.c=B.read_shift(1),B.l++,K.s.r=B.read_shift(2),K.e.c=B.read_shift(1),B.l++,K.e.r=B.read_shift(2),K):(K.s.c=B.read_shift(2),K.s.r=B.read_shift(2),V==12&&Y.qpro&&(B.l+=2),K.e.c=B.read_shift(2),K.e.r=B.read_shift(2),V==12&&Y.qpro&&(B.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function l(B){var V=kt(8);return V.write_shift(2,B.s.c),V.write_shift(2,B.s.r),V.write_shift(2,B.e.c),V.write_shift(2,B.e.r),V}function u(B,V,Y){var K=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(K[0].c=B.read_shift(1),K[3]=B.read_shift(1),K[0].r=B.read_shift(2),B.l+=2):(K[2]=B.read_shift(1),K[0].c=B.read_shift(2),K[0].r=B.read_shift(2)),K}function h(B,V,Y){var K=B.l+V,le=u(B,V,Y);if(le[1].t="s",Y.vers==20768){B.l++;var Ae=B.read_shift(1);return le[1].v=B.read_shift(Ae,"utf8"),le}return Y.qpro&&B.l++,le[1].v=B.read_shift(K-B.l,"cstr"),le}function f(B,V,Y){var K=kt(7+Y.length);K.write_shift(1,255),K.write_shift(2,V),K.write_shift(2,B),K.write_shift(1,39);for(var le=0;le<K.length;++le){var Ae=Y.charCodeAt(le);K.write_shift(1,Ae>=128?95:Ae)}return K.write_shift(1,0),K}function m(B,V,Y){var K=u(B,V,Y);return K[1].v=B.read_shift(2,"i"),K}function g(B,V,Y){var K=kt(7);return K.write_shift(1,255),K.write_shift(2,V),K.write_shift(2,B),K.write_shift(2,Y,"i"),K}function b(B,V,Y){var K=u(B,V,Y);return K[1].v=B.read_shift(8,"f"),K}function y(B,V,Y){var K=kt(13);return K.write_shift(1,255),K.write_shift(2,V),K.write_shift(2,B),K.write_shift(8,Y,"f"),K}function w(B,V,Y){var K=B.l+V,le=u(B,V,Y);if(le[1].v=B.read_shift(8,"f"),Y.qpro)B.l=K;else{var Ae=B.read_shift(2);T(B.slice(B.l,B.l+Ae),le),B.l+=Ae}return le}function A(B,V,Y){var K=V&32768;return V&=-32769,V=(K?B:0)+(V>=8192?V-16384:V),(K?"":"$")+(Y?nc(V):El(V))}var S={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},N=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(B,V){ud(B,0);for(var Y=[],K=0,le="",Ae="",De="",de="";B.l<B.length;){var Le=B[B.l++];switch(Le){case 0:Y.push(B.read_shift(8,"f"));break;case 1:Ae=A(V[0].c,B.read_shift(2),!0),le=A(V[0].r,B.read_shift(2),!1),Y.push(Ae+le);break;case 2:{var Ge=A(V[0].c,B.read_shift(2),!0),Re=A(V[0].r,B.read_shift(2),!1);Ae=A(V[0].c,B.read_shift(2),!0),le=A(V[0].r,B.read_shift(2),!1),Y.push(Ge+Re+":"+Ae+le)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(B.read_shift(2));break;case 6:{for(var wt="";Le=B[B.l++];)wt+=String.fromCharCode(Le);Y.push('"'+wt.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:de=Y.pop(),De=Y.pop(),Y.push(["AND","OR"][Le-20]+"("+De+","+de+")");break;default:if(Le<32&&N[Le])de=Y.pop(),De=Y.pop(),Y.push(De+N[Le]+de);else if(S[Le]){if(K=S[Le][1],K==69&&(K=B[B.l++]),K>Y.length){console.error("WK1 bad formula parse 0x"+Le.toString(16)+":|"+Y.join("|")+"|");return}var St=Y.slice(-K);Y.length-=K,Y.push(S[Le][0]+"("+St.join(",")+")")}else return Le<=7?console.error("WK1 invalid opcode "+Le.toString(16)):Le<=24?console.error("WK1 unsupported op "+Le.toString(16)):Le<=30?console.error("WK1 invalid opcode "+Le.toString(16)):Le<=115?console.error("WK1 unsupported function opcode "+Le.toString(16)):console.error("WK1 unrecognized opcode "+Le.toString(16))}}Y.length==1?V[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function k(B){var V=[{c:0,r:0},{t:"n",v:0},0];return V[0].r=B.read_shift(2),V[3]=B[B.l++],V[0].c=B[B.l++],V}function R(B,V){var Y=k(B);return Y[1].t="s",Y[1].v=B.read_shift(V-4,"cstr"),Y}function O(B,V,Y,K){var le=kt(6+K.length);le.write_shift(2,B),le.write_shift(1,Y),le.write_shift(1,V),le.write_shift(1,39);for(var Ae=0;Ae<K.length;++Ae){var De=K.charCodeAt(Ae);le.write_shift(1,De>=128?95:De)}return le.write_shift(1,0),le}function U(B,V){var Y=k(B);Y[1].v=B.read_shift(2);var K=Y[1].v>>1;if(Y[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return Y[1].v=K,Y}function H(B,V){var Y=k(B),K=B.read_shift(4),le=B.read_shift(4),Ae=B.read_shift(2);if(Ae==65535)return K===0&&le===3221225472?(Y[1].t="e",Y[1].v=15):K===0&&le===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var De=Ae&32768;return Ae=(Ae&32767)-16446,Y[1].v=(1-De*2)*(le*Math.pow(2,Ae+32)+K*Math.pow(2,Ae)),Y}function G(B,V,Y,K){var le=kt(14);if(le.write_shift(2,B),le.write_shift(1,Y),le.write_shift(1,V),K==0)return le.write_shift(4,0),le.write_shift(4,0),le.write_shift(2,65535),le;var Ae=0,De=0,de=0,Le=0;return K<0&&(Ae=1,K=-K),De=Math.log2(K)|0,K/=Math.pow(2,De-31),Le=K>>>0,(Le&2147483648)==0&&(K/=2,++De,Le=K>>>0),K-=Le,Le|=2147483648,Le>>>=0,K*=Math.pow(2,32),de=K>>>0,le.write_shift(4,de),le.write_shift(4,Le),De+=16383+(Ae?32768:0),le.write_shift(2,De),le}function F(B,V){var Y=H(B);return B.l+=V-14,Y}function L(B,V){var Y=k(B),K=B.read_shift(4);return Y[1].v=K>>6,Y}function re(B,V){var Y=k(B),K=B.read_shift(8,"f");return Y[1].v=K,Y}function Z(B,V){var Y=re(B);return B.l+=V-10,Y}function pe(B,V){return B[B.l+V-1]==0?B.read_shift(V,"cstr"):""}function Q(B,V){var Y=B[B.l++];Y>V-1&&(Y=V-1);for(var K="";K.length<Y;)K+=String.fromCharCode(B[B.l++]);return K}function X(B,V,Y){if(!(!Y.qpro||V<21)){var K=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var le=B.read_shift(V-21,"cstr");return[K,le]}}function oe(B,V){for(var Y={},K=B.l+V;B.l<K;){var le=B.read_shift(2);if(le==14e3){for(Y[le]=[0,""],Y[le][0]=B.read_shift(2);B[B.l];)Y[le][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return Y}function ce(B,V){var Y=kt(5+B.length);Y.write_shift(2,14e3),Y.write_shift(2,V);for(var K=0;K<B.length;++K){var le=B.charCodeAt(K);Y[Y.l++]=le>127?95:le}return Y[Y.l++]=0,Y}var Ne={0:{n:"BOF",f:Roe},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:pe},222:{n:"SHEETNAMELP",f:Q},65535:{n:""}},ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:H},24:{n:"NUMBER18",f:U},25:{n:"FORMULA19",f:F},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:oe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:re},40:{n:"FORMULA28",f:Z},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:pe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:X},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}})(),$Re=/^\s|\s$|[\t\n\r]/;function Uoe(t,e){if(!e.bookSST)return"";var r=[Xs];r[r.length]=dr("sst",null,{xmlns:T5[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var a=t[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match($Re)&&(i+=' xml:space="preserve"'),i+=">"+_a(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function VRe(t){return[t.read_shift(4),t.read_shift(4)]}function HRe(t,e){return e||(e=kt(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var qRe=IDe;function GRe(t){var e=vu();Kt(e,159,HRe(t));for(var r=0;r<t.length;++r)Kt(e,19,qRe(t[r]));return Kt(e,160),e.end()}function WRe(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function zoe(t){var e=0,r,n=WRe(t),a=n.length+1,i,s,o,l,u;for(r=Oy(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=(e&16384)===0?0:1,l=e<<1&32767,u=o|l,e=u^s;return e^52811}var KRe=(function(){function t(a,i){switch(i.type){case"base64":return e(Dm(a),i);case"binary":return e(a,i);case"buffer":return e(aa&&Buffer.isBuffer(a)?a.toString("binary"):QE(a),i);case"array":return e(MP(a),i)}throw new Error("Unrecognized type "+i.type)}function e(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(h,f){Array.isArray(o)&&(o[f]=[]);for(var m=/\\\w+\b/g,g=0,b,y=-1;b=m.exec(h);){switch(b[0]){case"\\cell":var w=h.slice(g,m.lastIndex-b[0].length);if(w[0]==" "&&(w=w.slice(1)),++y,w.length){var A={v:w,t:"s"};Array.isArray(o)?o[f][y]=A:o[Sa({r:f,c:y})]=A}break}g=m.lastIndex}y>u.e.c&&(u.e.c=y)}),o["!ref"]=Ws(u),o}function r(a,i){return $y(t(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=pi(a["!ref"]),o,l=Array.isArray(a),u=s.s.r;u<=s.e.r;++u){i.push("\\trowd\\trautofit1");for(var h=s.s.c;h<=s.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=s.s.c;h<=s.e.c;++h){var f=Sa({r:u,c:h});o=l?(a[u]||[])[h]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Rm(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function _Y(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var YRe=6,gm=YRe;function DC(t){return Math.floor((t+Math.round(128/gm)/256)*gm)}function RC(t){return Math.floor((t-5)/gm*100+.5)/100}function l8(t){return Math.round((t*gm+5)/gm*256)/256}function s9(t){t.width?(t.wpx=DC(t.width),t.wch=RC(t.wpx),t.MDW=gm):t.wpx?(t.wch=RC(t.wpx),t.width=l8(t.wch),t.MDW=gm):typeof t.wch=="number"&&(t.width=l8(t.wch),t.wpx=DC(t.width),t.MDW=gm),t.customWidth&&delete t.customWidth}var XRe=96,$oe=XRe;function IC(t){return t*96/$oe}function Voe(t){return t*$oe/96}function JRe(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=dr("numFmt",null,{numFmtId:n,formatCode:_a(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=dr("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function ZRe(t){var e=[];return e[e.length]=dr("cellXfs",null),t.forEach(function(r){e[e.length]=dr("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=dr("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Hoe(t,e){var r=[Xs,dr("styleSheet",null,{xmlns:T5[0],"xmlns:vt":qo.vt})],n;return t.SSF&&(n=JRe(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=ZRe(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function QRe(t,e){var r=t.read_shift(2),n=ac(t);return[r,n]}function eIe(t,e,r){r||(r=kt(6+4*e.length)),r.write_shift(2,t),Ko(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function tIe(t,e,r){var n={};n.sz=t.read_shift(2)/20;var a=$De(t);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=t.read_shift(2);switch(i===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(n.underline=s);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=zDe(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ac(t),n}function rIe(t,e){e||(e=kt(153)),e.write_shift(2,t.sz*20),VDe(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),PC(t.color,e);var n=0;return n=2,e.write_shift(1,n),Ko(t.name,e),e.length>e.l?e.slice(0,e.l):e}var nIe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],PR,aIe=H0;function SY(t,e){e||(e=kt(84)),PR||(PR=KB(nIe));var r=PR[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(PC({auto:1},e),PC({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function iIe(t,e){var r=t.l+e,n=t.read_shift(2),a=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:a}}function qoe(t,e,r){r||(r=kt(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function PA(t,e){return e||(e=kt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var sIe=H0;function oIe(t,e){return e||(e=kt(51)),e.write_shift(1,0),PA(null,e),PA(null,e),PA(null,e),PA(null,e),PA(null,e),e.length>e.l?e.slice(0,e.l):e}function lIe(t,e){return e||(e=kt(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),kC(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function cIe(t,e,r){var n=kt(2052);return n.write_shift(4,t),kC(e,n),kC(r,n),n.length>n.l?n.slice(0,n.l):n}function uIe(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&++r}),r!=0&&(Kt(t,615,xf(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&Kt(t,44,eIe(a,e[a]))}),Kt(t,616))}}function dIe(t){var e=1;Kt(t,611,xf(e)),Kt(t,43,rIe({sz:12,color:{theme:1},name:"Calibri",family:2})),Kt(t,612)}function hIe(t){var e=2;Kt(t,603,xf(e)),Kt(t,45,SY({patternType:"none"})),Kt(t,45,SY({patternType:"gray125"})),Kt(t,604)}function fIe(t){var e=1;Kt(t,613,xf(e)),Kt(t,46,oIe()),Kt(t,614)}function pIe(t){var e=1;Kt(t,626,xf(e)),Kt(t,47,qoe({numFmtId:0},65535)),Kt(t,627)}function mIe(t,e){Kt(t,617,xf(e.length)),e.forEach(function(r){Kt(t,47,qoe(r,0))}),Kt(t,618)}function gIe(t){var e=1;Kt(t,619,xf(e)),Kt(t,48,lIe({xfId:0,name:"Normal"})),Kt(t,620)}function xIe(t){var e=0;Kt(t,505,xf(e)),Kt(t,506)}function vIe(t){var e=0;Kt(t,508,cIe(e,"TableStyleMedium9","PivotStyleMedium4")),Kt(t,509)}function yIe(t,e){var r=vu();return Kt(r,278),uIe(r,t.SSF),dIe(r),hIe(r),fIe(r),pIe(r),mIe(r,e.cellXfs),gIe(r),xIe(r),vIe(r),Kt(r,279),r.end()}function Goe(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Xs];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function bIe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:ac(t)}}function wIe(t){var e=kt(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Ko(t.name,e),e.slice(0,e.l)}function AIe(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function _Ie(t){var e=kt(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function SIe(t,e){var r=kt(8+2*e.length);return r.write_shift(4,t),Ko(e,r),r.slice(0,r.l)}function NIe(t){return t.l+=4,t.read_shift(4)!=0}function EIe(t,e){var r=kt(8);return r.write_shift(4,t),r.write_shift(4,1),r}function TIe(){var t=vu();return Kt(t,332),Kt(t,334,xf(1)),Kt(t,335,wIe({name:"XLDAPR",version:12e4,flags:3496657072})),Kt(t,336),Kt(t,339,SIe(1,"XLDAPR")),Kt(t,52),Kt(t,35,xf(514)),Kt(t,4096,xf(0)),Kt(t,4097,nh(1)),Kt(t,36),Kt(t,53),Kt(t,340),Kt(t,337,EIe(1)),Kt(t,51,_Ie([[1,0]])),Kt(t,338),Kt(t,333),t.end()}function Woe(){var t=[Xs];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function jIe(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Sa(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var i2=1024;function Koe(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[dr("xml",null,{"xmlns:v":dd.v,"xmlns:o":dd.o,"xmlns:x":dd.x,"xmlns:mv":dd.mv}).replace(/\/>/,">"),dr("o:shapelayout",dr("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),dr("v:shapetype",[dr("v:stroke",null,{joinstyle:"miter"}),dr("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];i2<t*1e3;)i2+=1e3;return e.forEach(function(i){var s=Wo(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?dr("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=dr("v:fill",l,o),h={on:"t",obscured:"t"};++i2,a=a.concat(["<v:shape"+dS({id:"_x0000_s"+i2,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,dr("v:shadow",null,h),dr("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Sl("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Sl("x:AutoFill","False"),Sl("x:Row",String(s.r)),Sl("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function Yoe(t){var e=[Xs,dr("comments",null,{xmlns:T5[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(a){var i=_a(a.a);r.indexOf(i)==-1&&(r.push(i),e.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(a=r.indexOf(_a(l.a))),i.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)e.push(Sl("t",_a(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;e.push(Sl("t",_a(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function CIe(t,e,r){var n=[Xs,dr("ThreadedComments",null,{xmlns:qo.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var l={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=l.id:l.parentId=i,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),n.push(dr("threadedComment",Sl("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function kIe(t){var e=[Xs,dr("personList",null,{xmlns:qo.TCMNT,"xmlns:x":T5[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(dr("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function PIe(t){var e={};e.iauthor=t.read_shift(4);var r=Gy(t);return e.rfx=r.s,e.ref=Sa(r.s),t.l+=16,e}function OIe(t,e){return e==null&&(e=kt(36)),e.write_shift(4,t[1].iauthor),C5(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var DIe=ac;function RIe(t){return Ko(t.slice(0,54))}function IIe(t){var e=vu(),r=[];return Kt(e,628),Kt(e,630),t.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Kt(e,632,RIe(a.a)))})}),Kt(e,631),Kt(e,633),t.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Wo(n[0]),e:Wo(n[0])};Kt(e,635,OIe([i,a])),a.t&&a.t.length>0&&Kt(e,637,MDe(a)),Kt(e,636),delete a.iauthor})}),Kt(e,634),Kt(e,629),e.end()}function LIe(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&La.utils.cfb_add(t,a,e.FileIndex[n].content)}})}var Xoe=["xlsb","xlsm","xlam","biff8","xla"],MIe=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,h=s.length>0?parseInt(s,10)|0:0;return o?h+=e.c:--h,l?u+=e.r:--u,a+(o?"":"$")+nc(h)+(l?"":"$")+El(u)}return function(a,i){return e=i,a.replace(t,r)}})(),o9=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,l9=(function(){return function(e,r){return e.replace(o9,function(n,a,i,s,o,l){var u=t9(s)-(i?0:r.c),h=e9(l)-(o?0:r.r),f=h==0?"":o?h+1:"["+h+"]",m=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+m})}})();function FIe(t,e){return t.replace(o9,function(r,n,a,i,s,o){return n+(a=="$"?a+i:nc(t9(i)+e.c))+(s=="$"?s+o:El(e9(o)+e.r))})}function BIe(t){return t.length!=1}function Ls(t){t.l+=1}function qx(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Joe(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Zoe(t);r.biff==12&&(n=4)}var a=t.read_shift(n),i=t.read_shift(n),s=qx(t),o=qx(t);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function Zoe(t){var e=qx(t),r=qx(t),n=t.read_shift(1),a=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function UIe(t,e,r){if(r.biff<8)return Zoe(t);var n=t.read_shift(r.biff==12?4:2),a=t.read_shift(r.biff==12?4:2),i=qx(t),s=qx(t);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function Qoe(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return zIe(t);var n=t.read_shift(r&&r.biff==12?4:2),a=qx(t);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function zIe(t){var e=qx(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function $Ie(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function VIe(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return HIe(t);var a=t.read_shift(n>=12?4:2),i=t.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function HIe(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:a,rRel:n}}function qIe(t,e,r){var n=(t[t.l++]&96)>>5,a=Joe(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function GIe(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var s=Joe(t,i,r);return[n,a,s]}function WIe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function KIe(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[n,a]}function YIe(t,e,r){var n=(t[t.l++]&96)>>5,a=UIe(t,e-1,r);return[n,a]}function XIe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function NY(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function JIe(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(t.read_shift(r&&r.biff==2?1:2));return a}function ZIe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function QIe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function eLe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function tLe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function ele(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function rLe(t){return t.read_shift(2),ele(t)}function nLe(t){return t.read_shift(2),ele(t)}function aLe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=Qoe(t,0,r);return[n,a]}function iLe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=VIe(t,0,r);return[n,a]}function sLe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var i=Qoe(t,0,r);return[n,a,i]}function oLe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(r&&r.biff<=3?1:2);return[oMe[a],nle[a],n]}function lLe(t,e,r){var n=t[t.l++],a=t.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:cLe(t);return[a,(i[0]===0?nle:sMe)[i[1]]]}function cLe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function uLe(t,e,r){t.l+=r&&r.biff==2?3:4}function dLe(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function hLe(t){return t.l++,r4[t.read_shift(1)]}function fLe(t){return t.l++,t.read_shift(2)}function pLe(t){return t.l++,t.read_shift(1)!==0}function mLe(t){return t.l++,k5(t)}function gLe(t,e,r){return t.l++,Loe(t,e-1,r)}function xLe(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=sRe(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=r4[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=k5(t);break;case 2:r[1]=uRe(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function vLe(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Gy:fRe)(t));return a}function yLe(t,e,r){var n=0,a=0;r.biff==12?(n=t.read_shift(4),a=t.read_shift(4)):(a=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=xLe(t,r.biff);return s}function bLe(t,e,r){var n=t.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=t.read_shift(a);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,i]}function wLe(t,e,r){if(r.biff==5)return ALe(t);var n=t.read_shift(1)>>>5&3,a=t.read_shift(2),i=t.read_shift(4);return[n,a,i]}function ALe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function _Le(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function SLe(t,e,r){var n=t.read_shift(1)>>>5&3,a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function NLe(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function ELe(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[n,a]}var TLe=H0,jLe=H0,CLe=H0;function n4(t,e,r){return t.l+=2,[$Ie(t)]}function c9(t){return t.l+=6,[]}var kLe=n4,PLe=c9,OLe=c9,DLe=n4;function tle(t){return t.l+=2,[Roe(t),t.read_shift(2)&1]}var RLe=n4,ILe=tle,LLe=c9,MLe=n4,FLe=n4,BLe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function ULe(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a=t.read_shift(2),i=t.read_shift(2),s=BLe[r>>2&31];return{ixti:e,coltype:r&3,rt:s,idx:n,c:a,C:i}}function zLe(t){return t.l+=2,[t.read_shift(4)]}function $Le(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function VLe(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function HLe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function qLe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function GLe(t){return t.l+=4,[0,0]}var EY={1:{n:"PtgExp",f:dLe},2:{n:"PtgTbl",f:CLe},3:{n:"PtgAdd",f:Ls},4:{n:"PtgSub",f:Ls},5:{n:"PtgMul",f:Ls},6:{n:"PtgDiv",f:Ls},7:{n:"PtgPower",f:Ls},8:{n:"PtgConcat",f:Ls},9:{n:"PtgLt",f:Ls},10:{n:"PtgLe",f:Ls},11:{n:"PtgEq",f:Ls},12:{n:"PtgGe",f:Ls},13:{n:"PtgGt",f:Ls},14:{n:"PtgNe",f:Ls},15:{n:"PtgIsect",f:Ls},16:{n:"PtgUnion",f:Ls},17:{n:"PtgRange",f:Ls},18:{n:"PtgUplus",f:Ls},19:{n:"PtgUminus",f:Ls},20:{n:"PtgPercent",f:Ls},21:{n:"PtgParen",f:Ls},22:{n:"PtgMissArg",f:Ls},23:{n:"PtgStr",f:gLe},26:{n:"PtgSheet",f:$Le},27:{n:"PtgEndSheet",f:VLe},28:{n:"PtgErr",f:hLe},29:{n:"PtgBool",f:pLe},30:{n:"PtgInt",f:fLe},31:{n:"PtgNum",f:mLe},32:{n:"PtgArray",f:XIe},33:{n:"PtgFunc",f:oLe},34:{n:"PtgFuncVar",f:lLe},35:{n:"PtgName",f:bLe},36:{n:"PtgRef",f:aLe},37:{n:"PtgArea",f:qIe},38:{n:"PtgMemArea",f:_Le},39:{n:"PtgMemErr",f:TLe},40:{n:"PtgMemNoMem",f:jLe},41:{n:"PtgMemFunc",f:SLe},42:{n:"PtgRefErr",f:NLe},43:{n:"PtgAreaErr",f:WIe},44:{n:"PtgRefN",f:iLe},45:{n:"PtgAreaN",f:YIe},46:{n:"PtgMemAreaN",f:HLe},47:{n:"PtgMemNoMemN",f:qLe},57:{n:"PtgNameX",f:wLe},58:{n:"PtgRef3d",f:sLe},59:{n:"PtgArea3d",f:GIe},60:{n:"PtgRefErr3d",f:ELe},61:{n:"PtgAreaErr3d",f:KIe},255:{}},WLe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},KLe={1:{n:"PtgElfLel",f:tle},2:{n:"PtgElfRw",f:MLe},3:{n:"PtgElfCol",f:kLe},6:{n:"PtgElfRwV",f:FLe},7:{n:"PtgElfColV",f:DLe},10:{n:"PtgElfRadical",f:RLe},11:{n:"PtgElfRadicalS",f:LLe},13:{n:"PtgElfColS",f:PLe},15:{n:"PtgElfColSV",f:OLe},16:{n:"PtgElfRadicalLel",f:ILe},25:{n:"PtgList",f:ULe},29:{n:"PtgSxName",f:zLe},255:{}},YLe={0:{n:"PtgAttrNoop",f:GLe},1:{n:"PtgAttrSemi",f:tLe},2:{n:"PtgAttrIf",f:QIe},4:{n:"PtgAttrChoose",f:JIe},8:{n:"PtgAttrGoto",f:ZIe},16:{n:"PtgAttrSum",f:uLe},32:{n:"PtgAttrBaxcel",f:NY},33:{n:"PtgAttrBaxcel",f:NY},64:{n:"PtgAttrSpace",f:rLe},65:{n:"PtgAttrSpaceSemi",f:nLe},128:{n:"PtgAttrIfError",f:eLe},255:{}};function XLe(t,e,r,n){if(n.biff<8)return H0(t,e);for(var a=t.l+e,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=yLe(t,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=vLe(t,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=t.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return e=a-t.l,e!==0&&i.push(H0(t,e)),i}function JLe(t,e,r){for(var n=t.l+e,a,i,s=[];n!=t.l;)e=n-t.l,i=t[t.l],a=EY[i]||EY[WLe[i]],(i===24||i===25)&&(a=(i===24?KLe:YLe)[t[t.l+1]]),!a||!a.f?H0(t,e):s.push([a.n,a.f(t,e,r)]);return s}function ZLe(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var QLe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function eMe(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function rle(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(t[n[0]][0]){case 357:return a=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[n[0]][0][3]?(a=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function TY(t,e,r){var n=rle(t,e,r);return n=="#REF"?n:eMe(n,r)}function u5(t,e,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],l,u,h,f=0,m=0,g,b="";if(!t[0]||!t[0][0])return"";for(var y=-1,w="",A=0,S=t[0].length;A<S;++A){var N=t[0][A];switch(N[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),y>=0){switch(t[0][y][1][0]){case 0:w=ds(" ",t[0][y][1][1]);break;case 1:w=ds("\r",t[0][y][1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][y][1][0])}u=u+w,y=-1}o.push(u+QLe[N[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=N_(N[1][1],s,a),o.push(E_(h,i));break;case"PtgRefN":h=r?N_(N[1][1],r,a):N[1][1],o.push(E_(h,i));break;case"PtgRef3d":f=N[1][1],h=N_(N[1][2],s,a),b=TY(n,f,a),o.push(b+"!"+E_(h,i));break;case"PtgFunc":case"PtgFuncVar":var T=N[1][0],k=N[1][1];T||(T=0),T&=127;var R=T==0?[]:o.slice(-T);o.length-=T,k==="User"&&(k=R.shift()),o.push(k+"("+R.join(",")+")");break;case"PtgBool":o.push(N[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(N[1]);break;case"PtgNum":o.push(String(N[1]));break;case"PtgStr":o.push('"'+N[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(N[1]);break;case"PtgAreaN":g=dY(N[1][1],r?{s:r}:s,a),o.push(CR(g,a));break;case"PtgArea":g=dY(N[1][1],s,a),o.push(CR(g,a));break;case"PtgArea3d":f=N[1][1],g=N[1][2],b=TY(n,f,a),o.push(b+"!"+CR(g,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=N[1][2];var O=(n.names||[])[m-1]||(n[0]||[])[m],U=O?O.Name:"SH33TJSNAME"+String(m);U&&U.slice(0,6)=="_xlfn."&&!a.xlfn&&(U=U.slice(6)),o.push(U);break;case"PtgNameX":var H=N[1][1];m=N[1][2];var G;if(a.biff<=5)H<0&&(H=-H),n[H]&&(G=n[H][m]);else{var F="";if(((n[H]||[])[0]||[])[0]==14849||(((n[H]||[])[0]||[])[0]==1025?n[H][m]&&n[H][m].itab>0&&(F=n.SheetNames[n[H][m].itab-1]+"!"):F=n.SheetNames[m-1]+"!"),n[H]&&n[H][m])F+=n[H][m].Name;else if(n[0]&&n[0][m])F+=n[0][m].Name;else{var L=(rle(n,H,a)||"").split(";;");L[m-1]?F=L[m-1]:F+="SH33TJSERRX"}o.push(F);break}G||(G={Name:"SH33TJSERRY"}),o.push(G.Name);break;case"PtgParen":var re="(",Z=")";if(y>=0){switch(w="",t[0][y][1][0]){case 2:re=ds(" ",t[0][y][1][1])+re;break;case 3:re=ds("\r",t[0][y][1][1])+re;break;case 4:Z=ds(" ",t[0][y][1][1])+Z;break;case 5:Z=ds("\r",t[0][y][1][1])+Z;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][y][1][0])}y=-1}o.push(re+o.pop()+Z);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:N[1][1],r:N[1][0]};var pe={c:r.c,r:r.r};if(n.sharedf[Sa(h)]){var Q=n.sharedf[Sa(h)];o.push(u5(Q,s,pe,n,a))}else{var X=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(h.c<u[0].s.c||h.c>u[0].e.c)&&!(h.r<u[0].s.r||h.r>u[0].e.r)){o.push(u5(u[1],s,pe,n,a)),X=!0;break}X||o.push(N[1])}break;case"PtgArray":o.push("{"+ZLe(N[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=A;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+N[1].idx+"[#"+N[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(N));default:throw new Error("Unrecognized Formula Token: "+String(N))}var oe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&y>=0&&oe.indexOf(t[0][A][0])==-1){N=t[0][y];var ce=!0;switch(N[1][0]){case 4:ce=!1;case 0:w=ds(" ",N[1][1]);break;case 5:ce=!1;case 1:w=ds("\r",N[1][1]);break;default:if(w="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+N[1][0])}o.push((ce?w:"")+o.pop()+(ce?"":w)),y=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function tMe(t){if(t==null){var e=kt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Dy(t);return Dy(0)}function rMe(t,e,r,n,a){var i=Ry(e,r,a),s=tMe(t.v),o=kt(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=kt(t.bf.length),h=0;h<t.bf.length;++h)u[h]=t.bf[h];var f=_l([i,s,o,u]);return f}function FP(t,e,r){var n=t.read_shift(4),a=JLe(t,n,r),i=t.read_shift(4),s=i>0?XLe(t,i,a,r):null;return[a,s]}var nMe=FP,BP=FP,aMe=FP,iMe=FP,sMe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},nle={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},oMe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function lMe(t){var e="of:="+t.replace(o9,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function cMe(t){return t.replace(/\./,"!")}var T_=typeof Map<"u";function u9(t,e,r){var n=0,a=t.length;if(r){if(T_?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var i=T_?r.get(e):r[e];n<i.length;++n)if(t[i[n]].t===e)return t.Count++,i[n]}}else for(;n<a;++n)if(t[n].t===e)return t.Count++,n;return t[a]={t:e},t.Count++,t.Unique++,r&&(T_?(r.has(e)||r.set(e,[]),r.get(e).push(a)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(a))),a}function UP(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(gm=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=RC(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=l8(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function ale(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function ev(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],a=60,i=t.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){Qse(e.z,a),r.ssf[a]=e.z,r.revssf[e.z]=n=a;break}}for(a=0;a!=i;++a)if(t[a].numFmtId===n)return a;return t[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function uMe(t,e,r){if(t&&t["!ref"]){var n=pi(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function dMe(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Ws(t[r])+'"/>';return e+"</mergeCells>"}function hMe(t,e,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,s.codeName=uS(_a(l))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),o=(o||"")+dr("outlinePr",null,u)}!i&&!o||(a[a.length]=dr("sheetPr",o,s))}var fMe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],pMe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function mMe(t){var e={sheet:1};return fMe.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),pMe.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=zoe(t.password).toString(16).toUpperCase()),dr("sheetProtection",null,e)}function gMe(t){return ale(t),dr("pageMargins",null,t)}function xMe(t,e){for(var r=["<cols>"],n,a=0;a!=e.length;++a)(n=e[a])&&(r[r.length]=dr("col",null,UP(a,n)));return r[r.length]="</cols>",r.join("")}function vMe(t,e,r,n){var a=typeof t.ref=="string"?t.ref:Ws(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=wd(a);s.s.r==s.e.r&&(s.e.r=wd(e["!ref"]).e.r,a=Ws(s));for(var o=0;o<i.length;++o){var l=i[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),dr("autoFilter",null,{ref:a})}function yMe(t,e,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),dr("sheetViews",dr("sheetView",null,a),{})}function bMe(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var a="",i=t.t,s=t.v;if(t.t!=="z")switch(t.t){case"b":a=t.v?"1":"0";break;case"n":a=""+t.v;break;case"e":a=r4[t.v];break;case"d":n&&n.cellDates?a=Lc(t.v,-1).toISOString():(t=Au(t),t.t="n",a=""+(t.v=wu(Lc(t.v)))),typeof t.z>"u"&&(t.z=fs[14]);break;default:a=t.v;break}var o=Sl("v",_a(a)),l={r:e},u=ev(n.cellXfs,t,n);switch(u!==0&&(l.s=u),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Sl("v",""+u9(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=i&&(t.t=i,t.v=s),typeof t.f=="string"&&t.f){var h=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=dr("f",_a(t.f),h)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),dr("c",o,l)}function wMe(t,e,r,n){var a=[],i=[],s=pi(t["!ref"]),o="",l,u="",h=[],f=0,m=0,g=t["!rows"],b=Array.isArray(t),y={r:u},w,A=-1;for(m=s.s.c;m<=s.e.c;++m)h[m]=nc(m);for(f=s.s.r;f<=s.e.r;++f){for(i=[],u=El(f),m=s.s.c;m<=s.e.c;++m){l=h[m]+u;var S=b?(t[f]||[])[m]:t[l];S!==void 0&&(o=bMe(S,l,t,e))!=null&&i.push(o)}(i.length>0||g&&g[f])&&(y={r:u},g&&g[f]&&(w=g[f],w.hidden&&(y.hidden=1),A=-1,w.hpx?A=IC(w.hpx):w.hpt&&(A=w.hpt),A>-1&&(y.ht=A,y.customHeight=1),w.level&&(y.outlineLevel=w.level)),a[a.length]=dr("row",i.join(""),y))}if(g)for(;f<g.length;++f)g&&g[f]&&(y={r:f+1},w=g[f],w.hidden&&(y.hidden=1),A=-1,w.hpx?A=IC(w.hpx):w.hpt&&(A=w.hpt),A>-1&&(y.ht=A,y.customHeight=1),w.level&&(y.outlineLevel=w.level),a[a.length]=dr("row","",y));return a.join("")}function ile(t,e,r,n){var a=[Xs,dr("worksheet",null,{xmlns:T5[0],"xmlns:r":qo.r})],i=r.SheetNames[t],s=0,o="",l=r.Sheets[i];l==null&&(l={});var u=l["!ref"]||"A1",h=pi(u);if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),u=Ws(h)}n||(n={}),l["!comments"]=[];var f=[];hMe(l,r,t,e,a),a[a.length]=dr("dimension",null,{ref:u}),a[a.length]=yMe(l,e,t,r),e.sheetFormat&&(a[a.length]=dr("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(a[a.length]=xMe(l,l["!cols"])),a[s=a.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=wMe(l,e),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),l["!protect"]&&(a[a.length]=mMe(l["!protect"])),l["!autofilter"]!=null&&(a[a.length]=vMe(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(a[a.length]=dMe(l["!merges"]));var m=-1,g,b=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(y){y[1].Target&&(g={ref:y[0]},y[1].Target.charAt(0)!="#"&&(b=ya(n,-1,_a(y[1].Target).replace(/#.*$/,""),Jn.HLINK),g["r:id"]="rId"+b),(m=y[1].Target.indexOf("#"))>-1&&(g.location=_a(y[1].Target.slice(m+1))),y[1].Tooltip&&(g.tooltip=_a(y[1].Tooltip)),a[a.length]=dr("hyperlink",null,g))}),a[a.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(a[a.length]=gMe(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=Sl("ignoredErrors",dr("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(b=ya(n,-1,"../drawings/drawing"+(t+1)+".xml",Jn.DRAW),a[a.length]=dr("drawing",null,{"r:id":"rId"+b}),l["!drawing"]=f),l["!comments"].length>0&&(b=ya(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Jn.VML),a[a.length]=dr("legacyDrawing",null,{"r:id":"rId"+b}),l["!legacy"]=b),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function AMe(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var a=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function _Me(t,e,r){var n=kt(145),a=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var i=320;a.hpx?i=IC(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var u={r:t,c:0},h=0;h<16;++h)if(!(e.s.c>h+1<<10||e.e.c<h<<10)){for(var f=-1,m=-1,g=h<<10;g<h+1<<10;++g){u.c=g;var b=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Sa(u)];b&&(f<0&&(f=g),m=g)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,m))}var y=n.l;return n.l=l,n.write_shift(4,o),n.l=y,n.length>n.l?n.slice(0,n.l):n}function SMe(t,e,r,n){var a=_Me(n,r,e);(a.length>17||(e["!rows"]||[])[n])&&Kt(t,0,a)}var NMe=Gy,EMe=C5;function TMe(){}function jMe(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=FDe(t),r}function CMe(t,e,r){r==null&&(r=kt(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return PC({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),boe(t,r),r.slice(0,r.l)}function kMe(t){var e=vh(t);return[e]}function PMe(t,e,r){return r==null&&(r=kt(8)),Vy(e,r)}function OMe(t){var e=Hy(t);return[e]}function DMe(t,e,r){return r==null&&(r=kt(4)),qy(e,r)}function RMe(t){var e=vh(t),r=t.read_shift(1);return[e,r,"b"]}function IMe(t,e,r){return r==null&&(r=kt(9)),Vy(e,r),r.write_shift(1,t.v?1:0),r}function LMe(t){var e=Hy(t),r=t.read_shift(1);return[e,r,"b"]}function MMe(t,e,r){return r==null&&(r=kt(5)),qy(e,r),r.write_shift(1,t.v?1:0),r}function FMe(t){var e=vh(t),r=t.read_shift(1);return[e,r,"e"]}function BMe(t,e,r){return r==null&&(r=kt(9)),Vy(e,r),r.write_shift(1,t.v),r}function UMe(t){var e=Hy(t),r=t.read_shift(1);return[e,r,"e"]}function zMe(t,e,r){return r==null&&(r=kt(8)),qy(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function $Me(t){var e=vh(t),r=t.read_shift(4);return[e,r,"s"]}function VMe(t,e,r){return r==null&&(r=kt(12)),Vy(e,r),r.write_shift(4,e.v),r}function HMe(t){var e=Hy(t),r=t.read_shift(4);return[e,r,"s"]}function qMe(t,e,r){return r==null&&(r=kt(8)),qy(e,r),r.write_shift(4,e.v),r}function GMe(t){var e=vh(t),r=k5(t);return[e,r,"n"]}function WMe(t,e,r){return r==null&&(r=kt(16)),Vy(e,r),Dy(t.v,r),r}function KMe(t){var e=Hy(t),r=k5(t);return[e,r,"n"]}function YMe(t,e,r){return r==null&&(r=kt(12)),qy(e,r),Dy(t.v,r),r}function XMe(t){var e=vh(t),r=woe(t);return[e,r,"n"]}function JMe(t,e,r){return r==null&&(r=kt(12)),Vy(e,r),Aoe(t.v,r),r}function ZMe(t){var e=Hy(t),r=woe(t);return[e,r,"n"]}function QMe(t,e,r){return r==null&&(r=kt(8)),qy(e,r),Aoe(t.v,r),r}function e8e(t){var e=vh(t),r=r9(t);return[e,r,"is"]}function t8e(t){var e=vh(t),r=ac(t);return[e,r,"str"]}function r8e(t,e,r){return r==null&&(r=kt(12+4*t.v.length)),Vy(e,r),Ko(t.v,r),r.length>r.l?r.slice(0,r.l):r}function n8e(t){var e=Hy(t),r=ac(t);return[e,r,"str"]}function a8e(t,e,r){return r==null&&(r=kt(8+4*t.v.length)),qy(e,r),Ko(t.v,r),r.length>r.l?r.slice(0,r.l):r}function i8e(t,e,r){var n=t.l+e,a=vh(t);a.r=r["!row"];var i=t.read_shift(1),s=[a,i,"b"];if(r.cellFormula){t.l+=2;var o=BP(t,n-t.l,r);s[3]=u5(o,null,a,r.supbooks,r)}else t.l=n;return s}function s8e(t,e,r){var n=t.l+e,a=vh(t);a.r=r["!row"];var i=t.read_shift(1),s=[a,i,"e"];if(r.cellFormula){t.l+=2;var o=BP(t,n-t.l,r);s[3]=u5(o,null,a,r.supbooks,r)}else t.l=n;return s}function o8e(t,e,r){var n=t.l+e,a=vh(t);a.r=r["!row"];var i=k5(t),s=[a,i,"n"];if(r.cellFormula){t.l+=2;var o=BP(t,n-t.l,r);s[3]=u5(o,null,a,r.supbooks,r)}else t.l=n;return s}function l8e(t,e,r){var n=t.l+e,a=vh(t);a.r=r["!row"];var i=ac(t),s=[a,i,"str"];if(r.cellFormula){t.l+=2;var o=BP(t,n-t.l,r);s[3]=u5(o,null,a,r.supbooks,r)}else t.l=n;return s}var c8e=Gy,u8e=C5;function d8e(t,e){return e==null&&(e=kt(4)),e.write_shift(4,t),e}function h8e(t,e){var r=t.l+e,n=Gy(t),a=n9(t),i=ac(t),s=ac(t),o=ac(t);t.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function f8e(t,e){var r=kt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));C5({s:Wo(t[0]),e:Wo(t[0])},r),a9("rId"+e,r);var n=t[1].Target.indexOf("#"),a=n==-1?"":t[1].Target.slice(n+1);return Ko(a||"",r),Ko(t[1].Tooltip||"",r),Ko("",r),r.slice(0,r.l)}function p8e(){}function m8e(t,e,r){var n=t.l+e,a=_oe(t),i=t.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=nMe(t,n-t.l,r);s[1]=o}else t.l=n;return s}function g8e(t,e,r){var n=t.l+e,a=Gy(t),i=[a];if(r.cellFormula){var s=iMe(t,n-t.l,r);i[1]=s,t.l=n}else t.l=n;return i}function x8e(t,e,r){r==null&&(r=kt(18));var n=UP(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),r.write_shift(2,a),r}var sle=["left","right","top","bottom","header","footer"];function v8e(t){var e={};return sle.forEach(function(r){e[r]=k5(t)}),e}function y8e(t,e){return e==null&&(e=kt(48)),ale(t),sle.forEach(function(r){Dy(t[r],e)}),e}function b8e(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function w8e(t,e,r){r==null&&(r=kt(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function A8e(t){var e=kt(24);return e.write_shift(4,4),e.write_shift(4,1),C5(t,e),e}function _8e(t,e){return e==null&&(e=kt(66)),e.write_shift(2,t.password?zoe(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function S8e(){}function N8e(){}function E8e(t,e,r,n,a,i,s){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Au(e),e.z=e.z||fs[14],e.v=wu(Lc(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=ev(a.cellXfs,e,a),e.l&&i["!links"].push([Sa(l),e.l]),e.c&&i["!comments"].push([Sa(l),e.c]),e.t){case"s":case"str":return a.bookSST?(o=u9(a.Strings,e.v,a.revStrings),l.t="s",l.v=o,s?Kt(t,18,qMe(e,l)):Kt(t,7,VMe(e,l))):(l.t="str",s?Kt(t,17,a8e(e,l)):Kt(t,6,r8e(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?Kt(t,13,QMe(e,l)):Kt(t,2,JMe(e,l)):s?Kt(t,16,YMe(e,l)):Kt(t,5,WMe(e,l)),!0;case"b":return l.t="b",s?Kt(t,15,MMe(e,l)):Kt(t,4,IMe(e,l)),!0;case"e":return l.t="e",s?Kt(t,14,zMe(e,l)):Kt(t,3,BMe(e,l)),!0}return s?Kt(t,12,DMe(e,l)):Kt(t,1,PMe(e,l)),!0}function T8e(t,e,r,n){var a=pi(e["!ref"]||"A1"),i,s="",o=[];Kt(t,145);var l=Array.isArray(e),u=a.e.r;e["!rows"]&&(u=Math.max(a.e.r,e["!rows"].length-1));for(var h=a.s.r;h<=u;++h){s=El(h),SMe(t,e,a,h);var f=!1;if(h<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){h===a.s.r&&(o[m]=nc(m)),i=o[m]+s;var g=l?(e[h]||[])[m]:e[i];if(!g){f=!1;continue}f=E8e(t,g,h,m,n,e,f)}}Kt(t,146)}function j8e(t,e){!e||!e["!merges"]||(Kt(t,177,d8e(e["!merges"].length)),e["!merges"].forEach(function(r){Kt(t,176,u8e(r))}),Kt(t,178))}function C8e(t,e){!e||!e["!cols"]||(Kt(t,390),e["!cols"].forEach(function(r,n){r&&Kt(t,60,x8e(n,r))}),Kt(t,391))}function k8e(t,e){!e||!e["!ref"]||(Kt(t,648),Kt(t,649,A8e(pi(e["!ref"]))),Kt(t,650))}function P8e(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var a=ya(r,-1,n[1].Target.replace(/#.*$/,""),Jn.HLINK);Kt(t,494,f8e(n,a))}}),delete e["!links"]}function O8e(t,e,r,n){if(e["!comments"].length>0){var a=ya(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Jn.VML);Kt(t,551,a9("rId"+a)),e["!legacy"]=a}}function D8e(t,e,r,n){if(e["!autofilter"]){var a=e["!autofilter"],i=typeof a.ref=="string"?a.ref:Ws(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=wd(i);o.s.r==o.e.r&&(o.e.r=wd(e["!ref"]).e.r,i=Ws(o));for(var l=0;l<s.length;++l){var u=s[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Kt(t,161,C5(pi(i))),Kt(t,162)}}function R8e(t,e,r){Kt(t,133),Kt(t,137,w8e(e,r)),Kt(t,138),Kt(t,134)}function I8e(t,e){e["!protect"]&&Kt(t,535,_8e(e["!protect"]))}function L8e(t,e,r,n){var a=vu(),i=r.SheetNames[t],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=pi(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],Kt(a,129),(r.vbaraw||s["!outline"])&&Kt(a,147,CMe(o,s["!outline"])),Kt(a,148,EMe(l)),R8e(a,s,r.Workbook),C8e(a,s),T8e(a,s,t,e),I8e(a,s),D8e(a,s,r,t),j8e(a,s),P8e(a,s,n),s["!margins"]&&Kt(a,476,y8e(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&k8e(a,s),O8e(a,s,t,n),Kt(a,130),a.end()}function M8e(t,e){t.l+=10;var r=ac(t);return{name:r}}var F8e=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function B8e(t){return!t.Workbook||!t.Workbook.WBProps?"false":gDe(t.Workbook.WBProps.date1904)?"true":"false"}var U8e="][*?/\\".split("");function ole(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return U8e.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function z8e(t,e,r){t.forEach(function(n,a){ole(n);for(var i=0;i<a;++i)if(n==t[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=e&&e[a]&&e[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function $8e(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];z8e(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)uMe(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function lle(t){var e=[Xs];e[e.length]=dr("workbook",null,{xmlns:T5[0],"xmlns:r":qo.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(F8e.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=dr("workbookPr",null,n);var a=t.Workbook&&t.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",i=0;i!=t.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==t.SheetNames.length&&(i=0),e[e.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",i=0;i!=t.SheetNames.length;++i){var s={name:_a(t.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=dr("sheet",null,s)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=dr("definedName",_a(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function V8e(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=o8(t),r.name=ac(t),r}function H8e(t,e){return e||(e=kt(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),a9(t.strRelID,e),Ko(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function q8e(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var a=e>8?ac(t):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function G8e(t,e){e||(e=kt(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),boe(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function W8e(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var a=t.read_shift(4),i=BDe(t),s=aMe(t,0,r),o=n9(t);t.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function K8e(t,e){Kt(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Kt(t,156,H8e(a))}Kt(t,144)}function Y8e(t,e){e||(e=kt(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Ko("SheetJS",e),Ko(_C.version,e),Ko(_C.version,e),Ko("7262",e),e.length>e.l?e.slice(0,e.l):e}function X8e(t,e){e||(e=kt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function J8e(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(Kt(t,135),Kt(t,158,X8e(a)),Kt(t,136))}}function Z8e(t,e){var r=vu();return Kt(r,131),Kt(r,128,Y8e()),Kt(r,153,G8e(t.Workbook&&t.Workbook.WBProps||null)),J8e(r,t),K8e(r,t),Kt(r,132),r.end()}function Q8e(t,e,r){return(e.slice(-4)===".bin"?Z8e:lle)(t)}function eFe(t,e,r,n,a){return(e.slice(-4)===".bin"?L8e:ile)(t,r,n,a)}function tFe(t,e,r){return(e.slice(-4)===".bin"?yIe:Hoe)(t,r)}function rFe(t,e,r){return(e.slice(-4)===".bin"?GRe:Uoe)(t,r)}function nFe(t,e,r){return(e.slice(-4)===".bin"?IIe:Yoe)(t)}function aFe(t){return(t.slice(-4)===".bin"?TIe:Woe)()}function iFe(t,e){var r=[];return t.Props&&r.push(tRe(t.Props,e)),t.Custprops&&r.push(rRe(t.Props,t.Custprops)),r.join("")}function sFe(){return""}function oFe(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,a){var i=[];i.push(dr("NumberFormat",null,{"ss:Format":_a(fs[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(dr("Style",i.join(""),s))}),dr("Styles",r.join(""))}function cle(t){return dr("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+l9(t.Ref,{r:0,c:0})})}function lFe(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var a=e[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(cle(a)))}return dr("Names",r.join(""))}function cFe(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(cle(o)))}return i.join("")}function uFe(t,e,r,n){if(!t)return"";var a=[];if(t["!margins"]&&(a.push("<PageSetup>"),t["!margins"].header&&a.push(dr("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&a.push(dr("Footer",null,{"x:Margin":t["!margins"].footer})),a.push(dr("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(dr("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),t["!protect"]&&(a.push(Sl("ProtectContents","True")),t["!protect"].objects&&a.push(Sl("ProtectObjects","True")),t["!protect"].scenarios&&a.push(Sl("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?a.push(Sl("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&a.push(Sl("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":dr("WorksheetOptions",a.join(""),{xmlns:dd.x})}function dFe(t){return t.map(function(e){var r=mDe(e.t||""),n=dr("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return dr("Comment",n,{"ss:Author":e.a})}).join("")}function hFe(t,e,r,n,a,i,s){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+_a(l9(t.f,s))),t.F&&t.F.slice(0,e.length)==e){var l=Wo(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=_a(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=_a(t.l.Tooltip))),r["!merges"])for(var u=r["!merges"],h=0;h!=u.length;++h)u[h].s.c!=s.c||u[h].s.r!=s.r||(u[h].e.c>u[h].s.c&&(o["ss:MergeAcross"]=u[h].e.c-u[h].s.c),u[h].e.r>u[h].s.r&&(o["ss:MergeDown"]=u[h].e.r-u[h].s.r));var f="",m="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",m=String(t.v);break;case"b":f="Boolean",m=t.v?"1":"0";break;case"e":f="Error",m=r4[t.v];break;case"d":f="DateTime",m=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||fs[14]);break;case"s":f="String",m=pDe(t.v||"");break}var g=ev(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+g),o["ss:Index"]=s.c+1;var b=t.v!=null?m:"",y=t.t=="z"?"":'<Data ss:Type="'+f+'">'+b+"</Data>";return(t.c||[]).length>0&&(y+=dFe(t.c)),dr("Cell",y,o)}function fFe(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=Voe(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function pFe(t,e,r,n){if(!t["!ref"])return"";var a=pi(t["!ref"]),i=t["!merges"]||[],s=0,o=[];t["!cols"]&&t["!cols"].forEach(function(w,A){s9(w);var S=!!w.width,N=UP(A,w),T={"ss:Index":A+1};S&&(T["ss:Width"]=DC(N.width)),w.hidden&&(T["ss:Hidden"]="1"),o.push(dr("Column",null,T))});for(var l=Array.isArray(t),u=a.s.r;u<=a.e.r;++u){for(var h=[fFe(u,(t["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var m=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>f)&&!(i[s].s.r>u)&&!(i[s].e.c<f)&&!(i[s].e.r<u)){(i[s].s.c!=f||i[s].s.r!=u)&&(m=!0);break}if(!m){var g={r:u,c:f},b=Sa(g),y=l?(t[u]||[])[f]:t[b];h.push(hFe(y,b,t,e,r,n,g))}}h.push("</Row>"),h.length>2&&o.push(h.join(""))}return o.join("")}function mFe(t,e,r){var n=[],a=r.SheetNames[t],i=r.Sheets[a],s=i?cFe(i,e,t,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?pFe(i,e,t,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(uFe(i,e,t,r)),n.join("")}function gFe(t,e){e||(e={}),t.SSF||(t.SSF=Au(fs)),t.SSF&&(IP(),RP(t.SSF),e.revssf=LP(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],ev(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(iFe(t,e)),r.push(sFe()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(dr("Worksheet",mFe(n,e,t),{"ss:Name":_a(t.SheetNames[n])}));return r[2]=oFe(t,e),r[3]=lFe(t),Xs+dr("Workbook",r.join(""),{xmlns:dd.ss,"xmlns:o":dd.o,"xmlns:x":dd.x,"xmlns:ss":dd.ss,"xmlns:dt":dd.dt,"xmlns:html":dd.html})}var OR={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function xFe(t,e){var r=[],n=[],a=[],i=0,s,o=eY(fY,"n"),l=eY(pY,"n");if(t.Props)for(s=jl(t.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],t.Props[s[i]]]);if(t.Custprops)for(s=jl(t.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(t.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],t.Custprops[s[i]]]);var u=[];for(i=0;i<a.length;++i)Doe.indexOf(a[i][0])>-1||koe.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&La.utils.cfb_add(e,"/SummaryInformation",yY(n,OR.SI,l,pY)),(r.length||u.length)&&La.utils.cfb_add(e,"/DocumentSummaryInformation",yY(r,OR.DSI,o,fY,u.length?u:null,OR.UDI))}function vFe(t,e){var r=e||{},n=La.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return La.utils.cfb_add(n,a,ule(t,r)),r.biff==8&&(t.Props||t.Custprops)&&xFe(t,n),r.biff==8&&t.vbaraw&&LIe(n,La.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var yFe={0:{f:AMe},1:{f:kMe},2:{f:XMe},3:{f:FMe},4:{f:RMe},5:{f:GMe},6:{f:t8e},7:{f:$Me},8:{f:l8e},9:{f:o8e},10:{f:i8e},11:{f:s8e},12:{f:OMe},13:{f:ZMe},14:{f:UMe},15:{f:LMe},16:{f:KMe},17:{f:n8e},18:{f:HMe},19:{f:r9},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:W8e},40:{},42:{},43:{f:tIe},44:{f:QRe},45:{f:aIe},46:{f:sIe},47:{f:iIe},48:{},49:{f:ODe},50:{},51:{f:AIe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:DRe},62:{f:e8e},63:{f:jIe},64:{f:S8e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:H0,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:b8e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:jMe},148:{f:NMe,p:16},151:{f:p8e},152:{},153:{f:q8e},154:{},155:{},156:{f:V8e},157:{},158:{},159:{T:1,f:VRe},160:{T:-1},161:{T:1,f:Gy},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:c8e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:bIe},336:{T:-1},337:{f:NIe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:o8},357:{},358:{},359:{},360:{T:1},361:{},362:{f:TRe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:m8e},427:{f:g8e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:v8e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:TMe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:h8e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:o8},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:DIe},633:{T:1},634:{T:-1},635:{T:1,f:PIe},636:{T:-1},637:{f:LDe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:M8e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:N8e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function fr(t,e,r,n){var a=e;if(!isNaN(a)){var i=n||(r||[]).length||0,s=t.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&QB(r)&&t.push(r)}}function bFe(t,e,r,n){var a=(r||[]).length||0;if(a<=8224)return fr(t,e,r,a);var i=e;if(!isNaN(i)){for(var s=r.parts||[],o=0,l=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var h=t.next(4);for(h.write_shift(2,i),h.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u;l<a;){for(h=t.next(4),h.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;h.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u}}}function a4(t,e,r){return t||(t=kt(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function wFe(t,e,r,n){var a=kt(9);return a4(a,t,e),Ioe(r,n||"b",a),a}function AFe(t,e,r){var n=kt(8+2*r.length);return a4(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function _Fe(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?wu(Lc(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?fr(t,2,MRe(r,n,a)):fr(t,3,LRe(r,n,a));return;case"b":case"e":fr(t,5,wFe(r,n,e.v,e.t));return;case"s":case"str":fr(t,4,AFe(r,n,(e.v||"").slice(0,255)));return}fr(t,1,a4(null,r,n))}function SFe(t,e,r,n){var a=Array.isArray(e),i=pi(e["!ref"]||"A1"),s,o="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=Ws(i)}for(var u=i.s.r;u<=i.e.r;++u){o=El(u);for(var h=i.s.c;h<=i.e.c;++h){u===i.s.r&&(l[h]=nc(h)),s=l[h]+o;var f=a?(e[u]||[])[h]:e[s];f&&_Fe(t,f,u,h)}}}function NFe(t,e){for(var r=e||{},n=vu(),a=0,i=0;i<t.SheetNames.length;++i)t.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return fr(n,r.biff==4?1033:r.biff==3?521:9,i9(t,16,r)),SFe(n,t.Sheets[t.SheetNames[a]],a,r),fr(n,10),n.end()}function EFe(t,e,r){fr(t,49,yRe({sz:12,name:"Arial"},r))}function TFe(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&fr(t,1054,ARe(a,e[a],r))})}function jFe(t,e){var r=kt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),fr(t,2151,r),r=kt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Foe(pi(e["!ref"]||"A1"),r),r.write_shift(4,4),fr(t,2152,r)}function CFe(t,e){for(var r=0;r<16;++r)fr(t,224,wY({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){fr(t,224,wY(n,0,e))})}function kFe(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];fr(t,440,kRe(n)),n[1].Tooltip&&fr(t,2048,PRe(n))}delete e["!links"]}function PFe(t,e){if(e){var r=0;e.forEach(function(n,a){++r<=256&&n&&fr(t,125,RRe(UP(a,n),a))})}}function OFe(t,e,r,n,a){var i=16+ev(a.cellXfs,e,a);if(e.v==null&&!e.bf){fr(t,513,Ry(r,n,i));return}if(e.bf)fr(t,6,rMe(e,r,n,a,i));else switch(e.t){case"d":case"n":var s=e.t=="d"?wu(Lc(e.v)):e.v;fr(t,515,ERe(r,n,s,i));break;case"b":case"e":fr(t,517,NRe(r,n,e.v,i,a,e.t));break;case"s":case"str":if(a.bookSST){var o=u9(a.Strings,e.v,a.revStrings);fr(t,253,bRe(r,n,o,i))}else fr(t,516,wRe(r,n,(e.v||"").slice(0,255),i,a));break;default:fr(t,513,Ry(r,n,i))}}function DFe(t,e,r){var n=vu(),a=r.SheetNames[t],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[t]||{},l=Array.isArray(i),u=e.biff==8,h,f="",m=[],g=pi(i["!ref"]||"A1"),b=u?65536:16384;if(g.e.c>255||g.e.r>=b){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,b-1)}fr(n,2057,i9(r,16,e)),fr(n,13,nh(1)),fr(n,12,nh(100)),fr(n,15,kc(!0)),fr(n,17,kc(!1)),fr(n,16,Dy(.001)),fr(n,95,kc(!0)),fr(n,42,kc(!1)),fr(n,43,kc(!1)),fr(n,130,nh(1)),fr(n,128,SRe()),fr(n,131,kc(!1)),fr(n,132,kc(!1)),u&&PFe(n,i["!cols"]),fr(n,512,_Re(g,e)),u&&(i["!links"]=[]);for(var y=g.s.r;y<=g.e.r;++y){f=El(y);for(var w=g.s.c;w<=g.e.c;++w){y===g.s.r&&(m[w]=nc(w)),h=m[w]+f;var A=l?(i[y]||[])[w]:i[h];A&&(OFe(n,A,y,w,e),u&&A.l&&i["!links"].push([h,A.l]))}}var S=o.CodeName||o.name||a;return u&&fr(n,574,vRe((s.Views||[])[0])),u&&(i["!merges"]||[]).length&&fr(n,229,CRe(i["!merges"])),u&&kFe(n,i),fr(n,442,Moe(S)),u&&jFe(n,i),fr(n,10),n.end()}function RFe(t,e,r){var n=vu(),a=(t||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,l=r.biff==5;if(fr(n,2057,i9(t,5,r)),r.bookType=="xla"&&fr(n,135),fr(n,225,o?nh(1200):null),fr(n,193,iRe(2)),l&&fr(n,191),l&&fr(n,192),fr(n,226),fr(n,92,pRe("SheetJS",r)),fr(n,66,nh(o?1200:1252)),o&&fr(n,353,nh(0)),o&&fr(n,448),fr(n,317,IRe(t.SheetNames.length)),o&&t.vbaraw&&fr(n,211),o&&t.vbaraw){var u=s.CodeName||"ThisWorkbook";fr(n,442,Moe(u))}fr(n,156,nh(17)),fr(n,25,kc(!1)),fr(n,18,kc(!1)),fr(n,19,nh(0)),o&&fr(n,431,kc(!1)),o&&fr(n,444,nh(0)),fr(n,61,xRe()),fr(n,64,kc(!1)),fr(n,141,nh(0)),fr(n,34,kc(B8e(t)=="true")),fr(n,14,kc(!0)),o&&fr(n,439,kc(!1)),fr(n,218,nh(0)),EFe(n,t,r),TFe(n,t.SSF,r),CFe(n,r),o&&fr(n,352,kc(!1));var h=n.end(),f=vu();o&&fr(f,140,ORe()),o&&r.Strings&&bFe(f,252,gRe(r.Strings)),fr(f,10);var m=f.end(),g=vu(),b=0,y=0;for(y=0;y<t.SheetNames.length;++y)b+=(o?12:11)+(o?2:1)*t.SheetNames[y].length;var w=h.length+b+m.length;for(y=0;y<t.SheetNames.length;++y){var A=i[y]||{};fr(g,133,mRe({pos:w,hs:A.Hidden||0,dt:0,name:t.SheetNames[y]},r)),w+=e[y].length}var S=g.end();if(b!=S.length)throw new Error("BS8 "+b+" != "+S.length);var N=[];return h.length&&N.push(h),S.length&&N.push(S),m.length&&N.push(m),_l(N)}function IFe(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Au(fs)),t&&t.SSF&&(IP(),RP(t.SSF),r.revssf=LP(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,d9(r),r.cellXfs=[],ev(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var a=0;a<t.SheetNames.length;++a)n[n.length]=DFe(a,r,t);return n.unshift(RFe(t,n,r)),_l(n)}function ule(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var a=wd(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=e||{};switch(i.biff||2){case 8:case 5:return IFe(t,e);case 4:case 3:case 2:return NFe(t,e)}throw new Error("invalid type "+i.bookType+" for BIFF")}function LFe(t,e,r,n){for(var a=t["!merges"]||[],i=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,l=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>s)&&!(a[u].e.r<r||a[u].e.c<s)){if(a[u].s.r<r||a[u].s.c<s){o=-1;break}o=a[u].e.r-a[u].s.r+1,l=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var h=Sa({r,c:s}),f=n.dense?(t[r]||[])[s]:t[h],m=f&&f.v!=null&&(f.h||fDe(f.w||(Rm(f),f.w)||""))||"",g={};o>1&&(g.rowspan=o),l>1&&(g.colspan=l),n.editable?m='<span contenteditable="true">'+m+"</span>":f&&(g["data-t"]=f&&f.t||"z",f.v!=null&&(g["data-v"]=f.v),f.z!=null&&(g["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),g.id=(n.id||"sjs")+"-"+h,i.push(dr("td",m,g))}}var b="<tr>";return b+i.join("")+"</tr>"}var MFe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',FFe="</body></html>";function BFe(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function dle(t,e){var r=e||{},n=r.header!=null?r.header:MFe,a=r.footer!=null?r.footer:FFe,i=[n],s=wd(t["!ref"]);r.dense=Array.isArray(t),i.push(BFe(t,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(LFe(t,s,o,r));return i.push("</table>"+a),i.join("")}function hle(t,e,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?Wo(n.origin):n.origin;a=s.r,i=s.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(t["!ref"]){var h=wd(t["!ref"]);u.s.r=Math.min(u.s.r,h.s.r),u.s.c=Math.min(u.s.c,h.s.c),u.e.r=Math.max(u.e.r,h.e.r),u.e.c=Math.max(u.e.c,h.e.c),a==-1&&(u.e.r=a=h.e.r+1)}var f=[],m=0,g=t["!rows"]||(t["!rows"]=[]),b=0,y=0,w=0,A=0,S=0,N=0;for(t["!cols"]||(t["!cols"]=[]);b<o.length&&y<l;++b){var T=o[b];if(jY(T)){if(n.display)continue;g[y]={hidden:!0}}var k=T.children;for(w=A=0;w<k.length;++w){var R=k[w];if(!(n.display&&jY(R))){var O=R.hasAttribute("data-v")?R.getAttribute("data-v"):R.hasAttribute("v")?R.getAttribute("v"):xDe(R.innerHTML),U=R.getAttribute("data-z")||R.getAttribute("z");for(m=0;m<f.length;++m){var H=f[m];H.s.c==A+i&&H.s.r<y+a&&y+a<=H.e.r&&(A=H.e.c+1-i,m=-1)}N=+R.getAttribute("colspan")||1,((S=+R.getAttribute("rowspan")||1)>1||N>1)&&f.push({s:{r:y+a,c:A+i},e:{r:y+a+(S||1)-1,c:A+i+(N||1)-1}});var G={t:"s",v:O},F=R.getAttribute("data-t")||R.getAttribute("t")||"";O!=null&&(O.length==0?G.t=F||"z":n.raw||O.trim().length==0||F=="s"||(O==="TRUE"?G={t:"b",v:!0}:O==="FALSE"?G={t:"b",v:!1}:isNaN(mm(O))?isNaN(cS(O).getDate())||(G={t:"d",v:Lc(O)},n.cellDates||(G={t:"n",v:wu(G.v)}),G.z=n.dateNF||fs[14]):G={t:"n",v:mm(O)})),G.z===void 0&&U!=null&&(G.z=U);var L="",re=R.getElementsByTagName("A");if(re&&re.length)for(var Z=0;Z<re.length&&!(re[Z].hasAttribute("href")&&(L=re[Z].getAttribute("href"),L.charAt(0)!="#"));++Z);L&&L.charAt(0)!="#"&&(G.l={Target:L}),n.dense?(t[y+a]||(t[y+a]=[]),t[y+a][A+i]=G):t[Sa({c:A+i,r:y+a})]=G,u.e.c<A+i&&(u.e.c=A+i),A+=N}}++y}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,y-1+a),t["!ref"]=Ws(u),y>=l&&(t["!fullref"]=Ws((u.e.r=o.length-b+y-1+a,u))),t}function fle(t,e){var r=e||{},n=r.dense?[]:{};return hle(n,t,e)}function UFe(t,e){return $y(fle(t,e),e)}function jY(t){var e="",r=zFe(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function zFe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var $Fe=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+dS({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Xs+e}})(),CY=(function(){var t=function(i){return _a(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var l=[];l.push('      <table:table table:name="'+_a(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,h=0,f=wd(i["!ref"]||"A1"),m=i["!merges"]||[],g=0,b=Array.isArray(i);if(i["!cols"])for(h=0;h<=f.e.c;++h)l.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var y="",w=i["!rows"]||[];for(u=0;u<f.s.r;++u)y=w[u]?' table:style-name="ro'+w[u].ods+'"':"",l.push("        <table:table-row"+y+`></table:table-row>
`);for(;u<=f.e.r;++u){for(y=w[u]?' table:style-name="ro'+w[u].ods+'"':"",l.push("        <table:table-row"+y+`>
`),h=0;h<f.s.c;++h)l.push(e);for(;h<=f.e.c;++h){var A=!1,S={},N="";for(g=0;g!=m.length;++g)if(!(m[g].s.c>h)&&!(m[g].s.r>u)&&!(m[g].e.c<h)&&!(m[g].e.r<u)){(m[g].s.c!=h||m[g].s.r!=u)&&(A=!0),S["table:number-columns-spanned"]=m[g].e.c-m[g].s.c+1,S["table:number-rows-spanned"]=m[g].e.r-m[g].s.r+1;break}if(A){l.push(r);continue}var T=Sa({r:u,c:h}),k=b?(i[u]||[])[h]:i[T];if(k&&k.f&&(S["table:formula"]=_a(lMe(k.f)),k.F&&k.F.slice(0,T.length)==T)){var R=wd(k.F);S["table:number-matrix-columns-spanned"]=R.e.c-R.s.c+1,S["table:number-matrix-rows-spanned"]=R.e.r-R.s.r+1}if(!k){l.push(e);continue}switch(k.t){case"b":N=k.v?"TRUE":"FALSE",S["office:value-type"]="boolean",S["office:boolean-value"]=k.v?"true":"false";break;case"n":N=k.w||String(k.v||0),S["office:value-type"]="float",S["office:value"]=k.v||0;break;case"s":case"str":N=k.v==null?"":k.v,S["office:value-type"]="string";break;case"d":N=k.w||Lc(k.v).toISOString(),S["office:value-type"]="date",S["office:date-value"]=Lc(k.v).toISOString(),S["table:style-name"]="ce1";break;default:l.push(e);continue}var O=t(N);if(k.l&&k.l.Target){var U=k.l.Target;U=U.charAt(0)=="#"?"#"+cMe(U.slice(1)):U,U.charAt(0)!="#"&&!U.match(/^\w+:/)&&(U="../"+U),O=dr("text:a",O,{"xlink:href":U.replace(/&/g,"&amp;")})}l.push("          "+dr("table:table-cell",dr("text:p",O,{}),S)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var h=0;h<u["!cols"].length;++h)if(u["!cols"][h]){var f=u["!cols"][h];if(f.width==null&&f.wpx==null&&f.wch==null)continue;s9(f),f.ods=o;var m=u["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var h=0;h<u["!rows"].length;++h)if(u["!rows"][h]){u["!rows"][h].ods=l;var f=u["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var l=[Xs],u=dS({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=dS({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+h+`>
`),l.push(joe().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),a(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)l.push(n(s.Sheets[s.SheetNames[f]],s,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function ple(t,e){if(e.bookType=="fods")return CY(t,e);var r=YB(),n="",a=[],i=[];return n="mimetype",An(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",An(r,n,CY(t,e)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",An(r,n,$Fe(t,e)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",An(r,n,Xs+joe()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",An(r,n,eRe(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",An(r,n,ZDe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function LC(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function VFe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):df(uS(t))}function HFe(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Gx(t){var e=t.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(a){r.set(a,n),n+=a.length}),r}function qFe(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)t[e+i]=a&255;t[e+15]|=r>=0?0:128}function hS(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function va(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function N2(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function ho(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],a=hS(t,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:s=4,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=hS(t,r),o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:i};e[a]==null?e[a]=[u]:e[a].push(u)}return e}function cl(t){var e=[];return t.forEach(function(r,n){r.forEach(function(a){a.data&&(e.push(va(n*8+a.type)),a.type==2&&e.push(va(a.data.length)),e.push(a.data))})}),Gx(e)}function Uh(t){for(var e,r=[],n=[0];n[0]<t.length;){var a=hS(t,n),i=ho(t.slice(n[0],n[0]+a));n[0]+=a;var s={id:N2(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=ho(o.data),u=N2(l[3][0].data);s.messages.push({meta:l,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=i[3])!=null&&e[0]&&(s.merge=N2(i[3][0].data)>>>0>0),r.push(s)}return r}function Rb(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:va(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:va(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:va(s.data.length)}],n[2].push({data:cl(s.meta),type:2})});var i=cl(n);e.push(va(i.length)),e.push(i),a.forEach(function(s){return e.push(s)})}),Gx(e)}function GFe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=hS(e,r),a=[];r[0]<e.length;){var i=e[r[0]]&3;if(i==0){var s=e[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[r[0]],o>1&&(s|=e[r[0]+1]<<8),o>2&&(s|=e[r[0]+2]<<16),o>3&&(s|=e[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(e.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,u=0;if(i==1?(u=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,i==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Gx(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(a.push(a[0].slice(-l)),u-=l;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-l,-l+u))}}var h=Gx(a);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function zh(t){for(var e=[],r=0;r<t.length;){var n=t[r++],a=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(GFe(n,t.slice(r,r+a))),r+=a}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Gx(e)}function Ib(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),a=new Uint8Array(4);e.push(a);var i=va(n),s=i.length;e.push(i),n<=60?(s++,e.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return Gx(e)}function DR(t,e){var r=new Uint8Array(32),n=LC(r),a=12,i=0;switch(r[0]=5,t.t){case"n":r[1]=2,qFe(r,a,t.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,t.v?1:0,!0),i|=2,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(a,e.indexOf(t.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,i,!0),r.slice(0,a)}function RR(t,e){var r=new Uint8Array(32),n=LC(r),a=12,i=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(a,t.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,t.v?1:0,!0),i|=32,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(a,e.indexOf(t.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Ng(t){var e=ho(t);return hS(e[1][0].data)}function WFe(t,e,r){var n,a,i,s;if(!((n=t[6])!=null&&n[0])||!((a=t[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=t[8])==null?void 0:i[0])==null?void 0:s.data)&&N2(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=LC(t[7][0].data),h=0,f=[],m=LC(t[4][0].data),g=0,b=[],y=0;y<e.length;++y){if(e[y]==null){u.setUint16(y*2,65535,!0),m.setUint16(y*2,65535);continue}u.setUint16(y*2,h,!0),m.setUint16(y*2,g,!0);var w,A;switch(typeof e[y]){case"string":w=DR({t:"s",v:e[y]},r),A=RR({t:"s",v:e[y]},r);break;case"number":w=DR({t:"n",v:e[y]},r),A=RR({t:"n",v:e[y]},r);break;case"boolean":w=DR({t:"b",v:e[y]},r),A=RR({t:"b",v:e[y]},r);break;default:throw new Error("Unsupported value "+e[y])}f.push(w),h+=w.length,b.push(A),g+=A.length,++l}for(t[2][0].data=va(l);y<t[7][0].data.length/2;++y)u.setUint16(y*2,65535,!0),m.setUint16(y*2,65535,!0);return t[6][0].data=Gx(f),t[3][0].data=Gx(b),l}function KFe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=wd(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Ws(n)));var i=MC(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(V){return V.forEach(function(Y){typeof Y=="string"&&s.push(Y)})});var o={},l=[],u=La.read(e.numbers,{type:"base64"});u.FileIndex.map(function(V,Y){return[V,u.FullPaths[Y]]}).forEach(function(V){var Y=V[0],K=V[1];if(Y.type==2&&Y.name.match(/\.iwa/)){var le=Y.content,Ae=zh(le),De=Uh(Ae);De.forEach(function(de){l.push(de.id),o[de.id]={deps:[],location:K,type:N2(de.messages[0].meta[1][0].data)}})}}),l.sort(function(V,Y){return V-Y});var h=l.filter(function(V){return V>1}).map(function(V){return[V,va(V)]});u.FileIndex.map(function(V,Y){return[V,u.FullPaths[Y]]}).forEach(function(V){var Y=V[0];if(V[1],!!Y.name.match(/\.iwa/)){var K=Uh(zh(Y.content));K.forEach(function(le){le.messages.forEach(function(Ae){h.forEach(function(De){le.messages.some(function(de){return N2(de.meta[1][0].data)!=11006&&HFe(de.data,De[1])})&&o[De[0]].deps.push(le.id)})})})}});for(var f=La.find(u,o[1].location),m=Uh(zh(f.content)),g,b=0;b<m.length;++b){var y=m[b];y.id==1&&(g=y)}var w=Ng(ho(g.messages[0].data)[1][0].data);for(f=La.find(u,o[w].location),m=Uh(zh(f.content)),b=0;b<m.length;++b)y=m[b],y.id==w&&(g=y);for(w=Ng(ho(g.messages[0].data)[2][0].data),f=La.find(u,o[w].location),m=Uh(zh(f.content)),b=0;b<m.length;++b)y=m[b],y.id==w&&(g=y);for(w=Ng(ho(g.messages[0].data)[2][0].data),f=La.find(u,o[w].location),m=Uh(zh(f.content)),b=0;b<m.length;++b)y=m[b],y.id==w&&(g=y);var A=ho(g.messages[0].data);{A[6][0].data=va(n.e.r+1),A[7][0].data=va(n.e.c+1);var S=Ng(A[46][0].data),N=La.find(u,o[S].location),T=Uh(zh(N.content));{for(var k=0;k<T.length&&T[k].id!=S;++k);if(T[k].id!=S)throw"Bad ColumnRowUIDMapArchive";var R=ho(T[k].messages[0].data);R[1]=[],R[2]=[],R[3]=[];for(var O=0;O<=n.e.c;++O){var U=[];U[1]=U[2]=[{type:0,data:va(O+420690)}],R[1].push({type:2,data:cl(U)}),R[2].push({type:0,data:va(O)}),R[3].push({type:0,data:va(O)})}R[4]=[],R[5]=[],R[6]=[];for(var H=0;H<=n.e.r;++H)U=[],U[1]=U[2]=[{type:0,data:va(H+726270)}],R[4].push({type:2,data:cl(U)}),R[5].push({type:0,data:va(H)}),R[6].push({type:0,data:va(H)});T[k].messages[0].data=cl(R)}N.content=Ib(Rb(T)),N.size=N.content.length,delete A[46];var G=ho(A[4][0].data);{G[7][0].data=va(n.e.r+1);var F=ho(G[1][0].data),L=Ng(F[2][0].data);N=La.find(u,o[L].location),T=Uh(zh(N.content));{if(T[0].id!=L)throw"Bad HeaderStorageBucket";var re=ho(T[0].messages[0].data);for(H=0;H<i.length;++H){var Z=ho(re[2][0].data);Z[1][0].data=va(H),Z[4][0].data=va(i[H].length),re[2][H]={type:re[2][0].type,data:cl(Z)}}T[0].messages[0].data=cl(re)}N.content=Ib(Rb(T)),N.size=N.content.length;var pe=Ng(G[2][0].data);N=La.find(u,o[pe].location),T=Uh(zh(N.content));{if(T[0].id!=pe)throw"Bad HeaderStorageBucket";for(re=ho(T[0].messages[0].data),O=0;O<=n.e.c;++O)Z=ho(re[2][0].data),Z[1][0].data=va(O),Z[4][0].data=va(n.e.r+1),re[2][O]={type:re[2][0].type,data:cl(Z)};T[0].messages[0].data=cl(re)}N.content=Ib(Rb(T)),N.size=N.content.length;var Q=Ng(G[4][0].data);(function(){for(var V=La.find(u,o[Q].location),Y=Uh(zh(V.content)),K,le=0;le<Y.length;++le){var Ae=Y[le];Ae.id==Q&&(K=Ae)}var De=ho(K.messages[0].data);{De[3]=[];var de=[];s.forEach(function(Re,wt){de[1]=[{type:0,data:va(wt)}],de[2]=[{type:0,data:va(1)}],de[3]=[{type:2,data:VFe(Re)}],De[3].push({type:2,data:cl(de)})})}K.messages[0].data=cl(De);var Le=Rb(Y),Ge=Ib(Le);V.content=Ge,V.size=V.content.length})();var X=ho(G[3][0].data);{var oe=X[1][0];delete X[2];var ce=ho(oe.data);{var Ne=Ng(ce[2][0].data);(function(){for(var V=La.find(u,o[Ne].location),Y=Uh(zh(V.content)),K,le=0;le<Y.length;++le){var Ae=Y[le];Ae.id==Ne&&(K=Ae)}var De=ho(K.messages[0].data);{delete De[6],delete X[7];var de=new Uint8Array(De[5][0].data);De[5]=[];for(var Le=0,Ge=0;Ge<=n.e.r;++Ge){var Re=ho(de);Le+=WFe(Re,i[Ge],s),Re[1][0].data=va(Ge),De[5].push({data:cl(Re),type:2})}De[1]=[{type:0,data:va(n.e.c+1)}],De[2]=[{type:0,data:va(n.e.r+1)}],De[3]=[{type:0,data:va(Le)}],De[4]=[{type:0,data:va(n.e.r+1)}]}K.messages[0].data=cl(De);var wt=Rb(Y),St=Ib(wt);V.content=St,V.size=V.content.length})()}oe.data=cl(ce)}G[3][0].data=cl(X)}A[4][0].data=cl(G)}g.messages[0].data=cl(A);var ne=Rb(m),B=Ib(ne);return f.content=B,f.size=f.content.length,u}function YFe(t){return function(r){for(var n=0;n!=t.length;++n){var a=t[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function d9(t){YFe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function XFe(t,e){return e.bookType=="ods"?ple(t,e):e.bookType=="numbers"?KFe(t,e):e.bookType=="xlsb"?JFe(t,e):ZFe(t,e)}function JFe(t,e){i2=1024,t&&!t.SSF&&(t.SSF=Au(fs)),t&&t.SSF&&(IP(),RP(t.SSF),e.revssf=LP(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,T_?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=Xoe.indexOf(e.bookType)>-1,a=Noe();d9(e=e||{});var i=YB(),s="",o=0;if(e.cellXfs=[],ev(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",An(i,s,Coe(t.Props,e)),a.coreprops.push(s),ya(e.rels,2,s,Jn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,An(i,s,Poe(t.Props)),a.extprops.push(s),ya(e.rels,3,s,Jn.EXT_PROPS),t.Custprops!==t.Props&&jl(t.Custprops||{}).length>0&&(s="docProps/custom.xml",An(i,s,Ooe(t.Custprops)),a.custprops.push(s),ya(e.rels,4,s,Jn.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,An(i,s,eFe(o-1,s,e,t,h)),a.sheets.push(s),ya(e.wbrels,-1,"worksheets/sheet"+o+"."+r,Jn.WS[0])}if(f){var g=f["!comments"],b=!1,y="";g&&g.length>0&&(y="xl/comments"+o+"."+r,An(i,y,nFe(g,y)),a.comments.push(y),ya(h,-1,"../comments"+o+"."+r,Jn.CMNT),b=!0),f["!legacy"]&&b&&An(i,"xl/drawings/vmlDrawing"+o+".vml",Koe(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}h["!id"].rId1&&An(i,Toe(s),_2(h))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,An(i,s,rFe(e.Strings,s,e)),a.strs.push(s),ya(e.wbrels,-1,"sharedStrings."+r,Jn.SST)),s="xl/workbook."+r,An(i,s,Q8e(t,s)),a.workbooks.push(s),ya(e.rels,1,s,Jn.WB),s="xl/theme/theme1.xml",An(i,s,Goe(t.Themes,e)),a.themes.push(s),ya(e.wbrels,-1,"theme/theme1.xml",Jn.THEME),s="xl/styles."+r,An(i,s,tFe(t,s,e)),a.styles.push(s),ya(e.wbrels,-1,"styles."+r,Jn.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",An(i,s,t.vbaraw),a.vba.push(s),ya(e.wbrels,-1,"vbaProject.bin",Jn.VBA)),s="xl/metadata."+r,An(i,s,aFe(s)),a.metadata.push(s),ya(e.wbrels,-1,"metadata."+r,Jn.XLMETA),An(i,"[Content_Types].xml",Eoe(a,e)),An(i,"_rels/.rels",_2(e.rels)),An(i,"xl/_rels/workbook."+r+".rels",_2(e.wbrels)),delete e.revssf,delete e.ssf,i}function ZFe(t,e){i2=1024,t&&!t.SSF&&(t.SSF=Au(fs)),t&&t.SSF&&(IP(),RP(t.SSF),e.revssf=LP(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,T_?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=Xoe.indexOf(e.bookType)>-1,a=Noe();d9(e=e||{});var i=YB(),s="",o=0;if(e.cellXfs=[],ev(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",An(i,s,Coe(t.Props,e)),a.coreprops.push(s),ya(e.rels,2,s,Jn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,An(i,s,Poe(t.Props)),a.extprops.push(s),ya(e.rels,3,s,Jn.EXT_PROPS),t.Custprops!==t.Props&&jl(t.Custprops||{}).length>0&&(s="docProps/custom.xml",An(i,s,Ooe(t.Custprops)),a.custprops.push(s),ya(e.rels,4,s,Jn.CUST_PROPS));var h=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},m=t.Sheets[t.SheetNames[o-1]],g=(m||{})["!type"]||"sheet";switch(g){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,An(i,s,ile(o-1,e,t,f)),a.sheets.push(s),ya(e.wbrels,-1,"worksheets/sheet"+o+"."+r,Jn.WS[0])}if(m){var b=m["!comments"],y=!1,w="";if(b&&b.length>0){var A=!1;b.forEach(function(S){S[1].forEach(function(N){N.T==!0&&(A=!0)})}),A&&(w="xl/threadedComments/threadedComment"+o+"."+r,An(i,w,CIe(b,h,e)),a.threadedcomments.push(w),ya(f,-1,"../threadedComments/threadedComment"+o+"."+r,Jn.TCMNT)),w="xl/comments"+o+"."+r,An(i,w,Yoe(b)),a.comments.push(w),ya(f,-1,"../comments"+o+"."+r,Jn.CMNT),y=!0}m["!legacy"]&&y&&An(i,"xl/drawings/vmlDrawing"+o+".vml",Koe(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&An(i,Toe(s),_2(f))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,An(i,s,Uoe(e.Strings,e)),a.strs.push(s),ya(e.wbrels,-1,"sharedStrings."+r,Jn.SST)),s="xl/workbook."+r,An(i,s,lle(t)),a.workbooks.push(s),ya(e.rels,1,s,Jn.WB),s="xl/theme/theme1.xml",An(i,s,Goe(t.Themes,e)),a.themes.push(s),ya(e.wbrels,-1,"theme/theme1.xml",Jn.THEME),s="xl/styles."+r,An(i,s,Hoe(t,e)),a.styles.push(s),ya(e.wbrels,-1,"styles."+r,Jn.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",An(i,s,t.vbaraw),a.vba.push(s),ya(e.wbrels,-1,"vbaProject.bin",Jn.VBA)),s="xl/metadata."+r,An(i,s,Woe()),a.metadata.push(s),ya(e.wbrels,-1,"metadata."+r,Jn.XLMETA),h.length>1&&(s="xl/persons/person.xml",An(i,s,kIe(h)),a.people.push(s),ya(e.wbrels,-1,"persons/person.xml",Jn.PEOPLE)),An(i,"[Content_Types].xml",Eoe(a,e)),An(i,"_rels/.rels",_2(e.rels)),An(i,"xl/_rels/workbook."+r+".rels",_2(e.wbrels)),delete e.revssf,delete e.ssf,i}function QFe(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Dm(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function mle(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return e4(e.file,La.write(t,{type:aa?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return La.write(t,e)}function e7e(t,e){var r=Au(e||{}),n=XFe(t,r);return t7e(n,r)}function t7e(t,e){var r={},n=aa?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var a=t.FullPaths?La.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(DP(a))}return e.password&&typeof encrypt_agile<"u"?mle(encrypt_agile(a,e.password),e):e.type==="file"?e4(e.file,a):e.type=="string"?__(a):a}function r7e(t,e){var r=e||{},n=vFe(t,r);return mle(n,r)}function a0(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return lS(uS(n));case"binary":return uS(n);case"string":return t;case"file":return e4(e.file,n,"utf8");case"buffer":return aa?Wm(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):a0(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function n7e(t,e){switch(e.type){case"base64":return lS(t);case"binary":return t;case"string":return t;case"file":return e4(e.file,t,"binary");case"buffer":return aa?Wm(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function YT(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?lS(r):e.type=="string"?__(r):r;case"file":return e4(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function gle(t,e){P6e(),$8e(t);var r=Au(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=gle(t,r);return r.type="array",DP(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=t.SheetNames.indexOf(r.sheet),!t.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return a0(gFe(t,r),r);case"slk":case"sylk":return a0(BRe.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"htm":case"html":return a0(dle(t.Sheets[t.SheetNames[a]],r),r);case"txt":return n7e(xle(t.Sheets[t.SheetNames[a]],r),r);case"csv":return a0(f9(t.Sheets[t.SheetNames[a]],r),r,"\uFEFF");case"dif":return a0(URe.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"dbf":return YT(FRe.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"prn":return a0(zRe.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"rtf":return a0(KRe.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"eth":return a0(Boe.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"fods":return a0(ple(t,r),r);case"wk1":return YT(AY.sheet_to_wk1(t.Sheets[t.SheetNames[a]],r),r);case"wk3":return YT(AY.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),YT(ule(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),r7e(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return e7e(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function a7e(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function h9(t,e,r){var n={};return n.type="file",n.file=e,a7e(n),gle(t,n)}function i7e(t,e,r,n,a,i,s,o){var l=El(r),u=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!s||t[r])for(var g=e.s.c;g<=e.e.c;++g){var b=s?t[r][g]:t[n[g]+l];if(b===void 0||b.t===void 0){if(u===void 0)continue;i[g]!=null&&(m[i[g]]=u);continue}var y=b.v;switch(b.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(i[g]!=null){if(y==null)if(b.t=="e"&&y===null)m[i[g]]=null;else if(u!==void 0)m[i[g]]=u;else if(h&&y===null)m[i[g]]=null;else continue;else m[i[g]]=h&&(b.t!=="n"||b.t==="n"&&o.rawNumbers!==!1)?y:Rm(b,y,o);y!=null&&(f=!1)}}return{row:m,isempty:f}}function MC(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},h=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof h){case"string":l=pi(h);break;case"number":l=pi(t["!ref"]),l.s.r=h;break;default:l=h}n>0&&(a=0);var f=El(l.s.r),m=[],g=[],b=0,y=0,w=Array.isArray(t),A=l.s.r,S=0,N={};w&&!t[A]&&(t[A]=[]);var T=u.skipHidden&&t["!cols"]||[],k=u.skipHidden&&t["!rows"]||[];for(S=l.s.c;S<=l.e.c;++S)if(!(T[S]||{}).hidden)switch(m[S]=nc(S),r=w?t[A][S]:t[m[S]+f],n){case 1:i[S]=S-l.s.c;break;case 2:i[S]=m[S];break;case 3:i[S]=u.header[S-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Rm(r,null,u),y=N[s]||0,!y)N[s]=1;else{do o=s+"_"+y++;while(N[o]);N[s]=y,N[o]=1}i[S]=o}for(A=l.s.r+a;A<=l.e.r;++A)if(!(k[A]||{}).hidden){var R=i7e(t,l,A,m,n,i,w,u);(R.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(g[b++]=R.row)}return g.length=b,g}var kY=/"/g;function s7e(t,e,r,n,a,i,s,o){for(var l=!0,u=[],h="",f=El(r),m=e.s.c;m<=e.e.c;++m)if(n[m]){var g=o.dense?(t[r]||[])[m]:t[n[m]+f];if(g==null)h="";else if(g.v!=null){l=!1,h=""+(o.rawNumbers&&g.t=="n"?g.v:Rm(g,null,o));for(var b=0,y=0;b!==h.length;++b)if((y=h.charCodeAt(b))===a||y===i||y===34||o.forceQuotes){h='"'+h.replace(kY,'""')+'"';break}h=="ID"&&(h='"ID"')}else g.f!=null&&!g.F?(l=!1,h="="+g.f,h.indexOf(",")>=0&&(h='"'+h.replace(kY,'""')+'"')):h="";u.push(h)}return o.blankrows===!1&&l?null:u.join(s)}function f9(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var a=pi(t["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),h="",f=[];n.dense=Array.isArray(t);for(var m=n.skipHidden&&t["!cols"]||[],g=n.skipHidden&&t["!rows"]||[],b=a.s.c;b<=a.e.c;++b)(m[b]||{}).hidden||(f[b]=nc(b));for(var y=0,w=a.s.r;w<=a.e.r;++w)(g[w]||{}).hidden||(h=s7e(t,a,w,f,s,l,i,n),h!=null&&(n.strip&&(h=h.replace(u,"")),(h||n.blankrows!==!1)&&r.push((y++?o:"")+h)));return delete n.dense,r.join("")}function xle(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=f9(t,e);return r}function o7e(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var a=pi(t["!ref"]),i="",s=[],o,l=[],u=Array.isArray(t);for(o=a.s.c;o<=a.e.c;++o)s[o]=nc(o);for(var h=a.s.r;h<=a.e.r;++h)for(i=El(h),o=a.s.c;o<=a.e.c;++o)if(e=s[o]+i,r=u?(t[h]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function vle(t,e,r){var n=r||{},a=+!n.skipHeader,i=t||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Wo(n.origin):n.origin;s=l.r,o=l.c}var u,h={s:{c:0,r:0},e:{c:o,r:s+e.length-1+a}};if(i["!ref"]){var f=pi(i["!ref"]);h.e.c=Math.max(h.e.c,f.e.c),h.e.r=Math.max(h.e.r,f.e.r),s==-1&&(s=f.e.r+1,h.e.r=s+e.length-1+a)}else s==-1&&(s=0,h.e.r=e.length-1+a);var m=n.header||[],g=0;e.forEach(function(y,w){jl(y).forEach(function(A){(g=m.indexOf(A))==-1&&(m[g=m.length]=A);var S=y[A],N="z",T="",k=Sa({c:o+g,r:s+w+a});u=fS(i,k),S&&typeof S=="object"&&!(S instanceof Date)?i[k]=S:(typeof S=="number"?N="n":typeof S=="boolean"?N="b":typeof S=="string"?N="s":S instanceof Date?(N="d",n.cellDates||(N="n",S=wu(S)),T=n.dateNF||fs[14]):S===null&&n.nullError&&(N="e",S=0),u?(u.t=N,u.v=S,delete u.w,delete u.R,T&&(u.z=T)):i[k]=u={t:N,v:S},T&&(u.z=T))})}),h.e.c=Math.max(h.e.c,o+m.length-1);var b=El(s);if(a)for(g=0;g<m.length;++g)i[nc(g+o)+b]={t:"s",v:m[g]};return i["!ref"]=Ws(h),i}function l7e(t,e){return vle(null,t,e)}function fS(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Wo(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?fS(t,Sa(e)):fS(t,Sa({r:e,c:r||0}))}function c7e(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function u7e(){return{SheetNames:[],Sheets:{}}}function d7e(t,e,r,n){var a=1;if(!r)for(;a<=65535&&t.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&t.SheetNames.indexOf(r=s+a)!=-1;++a);}if(ole(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function h7e(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=c7e(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function f7e(t,e){return t.z=e,t}function yle(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function p7e(t,e,r){return yle(t,"#"+e,r)}function m7e(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function g7e(t,e,r,n){for(var a=typeof e!="string"?e:pi(e),i=typeof e=="string"?e:Ws(e),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=fS(t,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return t}var xm={encode_col:nc,encode_row:El,encode_cell:Sa,encode_range:Ws,decode_col:t9,decode_row:e9,split_cell:PDe,decode_cell:Wo,decode_range:wd,format_cell:Rm,sheet_add_aoa:yoe,sheet_add_json:vle,sheet_add_dom:hle,aoa_to_sheet:j5,json_to_sheet:l7e,table_to_sheet:fle,table_to_book:UFe,sheet_to_csv:f9,sheet_to_txt:xle,sheet_to_json:MC,sheet_to_html:dle,sheet_to_formulae:o7e,sheet_to_row_object_array:MC,sheet_get_cell:fS,book_new:u7e,book_append_sheet:d7e,book_set_sheet_visibility:h7e,cell_set_number_format:f7e,cell_set_hyperlink:yle,cell_set_internal_link:p7e,cell_add_comment:m7e,sheet_set_array_formula:g7e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const x7e=(t,e,r)=>{var g,b,y,w;const n=A=>A?new Date(A).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],a=A=>A?new Date(A).toISOString().split(".")[0]:new Date().toISOString().split(".")[0],i=`
    <Header>
        <AuditFileVersion>1.01_AO</AuditFileVersion>
        <CompanyID>${r}</CompanyID>
        <TaxRegistrationNumber>${r}</TaxRegistrationNumber>
        <TaxAccountingBasis>F</TaxAccountingBasis>
        <CompanyName>${e}</CompanyName>
        <BusinessName>${e}</BusinessName>
        <CompanyAddress>
            <AddressDetail>Luanda, Angola</AddressDetail>
            <City>Luanda</City>
            <Country>AO</Country>
        </CompanyAddress>
        <FiscalYear>${new Date().getFullYear()}</FiscalYear>
        <StartDate>${n(((b=(g=t[t.length-1])==null?void 0:g.data)==null?void 0:b.date)||new Date)}</StartDate>
        <EndDate>${n(((w=(y=t[0])==null?void 0:y.data)==null?void 0:w.date)||new Date)}</EndDate>
        <CurrencyCode>AOA</CurrencyCode>
        <DateCreated>${n(new Date)}</DateCreated>
        <TaxEntity>Global</TaxEntity>
        <ProductCompanyTaxID>999999999</ProductCompanyTaxID>
        <SoftwareCertificateNumber>0</SoftwareCertificateNumber>
        <ProductID>KwikDocs/AI</ProductID>
        <ProductVersion>1.0.0</ProductVersion>
    </Header>`,s=new Map;t.forEach(A=>{var k,R,O,U,H,G;const S=((R=(k=A.data)==null?void 0:k.client_data)==null?void 0:R.name)||"Cliente Final",N=((U=(O=A.data)==null?void 0:O.client_data)==null?void 0:U.nif)||"999999999",T=N==="999999999"?"ConsumidorFinal":N;s.has(T)||s.set(T,{CustomerID:T,AccountID:"CLIENTES",CustomerTaxID:N,CompanyName:S,BillingAddress:{AddressDetail:((G=(H=A.data)==null?void 0:H.client_data)==null?void 0:G.address)||"Desconhecido",City:"Luanda",Country:"AO"},SelfBillingIndicator:0})});let o="";s.forEach(A=>{o+=`
        <Customer>
            <CustomerID>${A.CustomerID}</CustomerID>
            <AccountID>${A.AccountID}</AccountID>
            <CustomerTaxID>${A.CustomerTaxID}</CustomerTaxID>
            <CompanyName>${A.CompanyName}</CompanyName>
            <BillingAddress>
                <AddressDetail>${A.BillingAddress.AddressDetail}</AddressDetail>
                <City>${A.BillingAddress.City}</City>
                <Country>${A.BillingAddress.Country}</Country>
            </BillingAddress>
            <SelfBillingIndicator>${A.SelfBillingIndicator}</SelfBillingIndicator>
        </Customer>`});const u=`
    <MasterFiles>
        ${o}
        
        <Product>
            <ProductType>S</ProductType>
            <ProductCode>SERVICO</ProductCode>
            <ProductDescription>Servios Diversos</ProductDescription>
            <ProductNumberCode>SERVICO</ProductNumberCode>
        </Product>
        <TaxTable>
            <TaxTableEntry>
                <TaxType>IVA</TaxType>
                <TaxCountryRegion>AO</TaxCountryRegion>
                <TaxCode>NOR</TaxCode>
                <Description>Taxa Normal</Description>
                <TaxPercentage>14.00</TaxPercentage>
            </TaxTableEntry>
        </TaxTable>
    </MasterFiles>`;let h="",f=0;t.forEach(A=>{var O,U,H,G,F,L,re,Z;const S=((O=A.data)==null?void 0:O.totalAmount)||0,N=S/1.14,T=S-N,k=(U=A.data)!=null&&U.date?a(A.data.date):a(A.uploadDate),R=A.fileName.substring(0,20)||`FT ${A.id.substring(0,8)}`;f+=S,h+=`
        <Invoice>
            <InvoiceNo>${R}</InvoiceNo>
            <DocumentStatus>
                <InvoiceStatus>N</InvoiceStatus>
                <InvoiceStatusDate>${a(new Date)}</InvoiceStatusDate>
                <SourceID>${A.uploadedBy||"User"}</SourceID>
                <SourceBilling>P</SourceBilling>
            </DocumentStatus>
            <Hash>0</Hash> <!-- Hash is mocked as we are reconstructing -->
            <HashControl>0</HashControl>
            <Period>${new Date().getMonth()+1}</Period>
            <InvoiceDate>${k.split("T")[0]}</InvoiceDate>
            <InvoiceType>FT</InvoiceType>
            <SpecialRegimes>
                <SelfBillingIndicator>0</SelfBillingIndicator>
                <CashVATSchemeIndicator>0</CashVATSchemeIndicator>
                <ThirdPartiesBillingIndicator>0</ThirdPartiesBillingIndicator>
            </SpecialRegimes>
            <SourceID>${A.uploadedBy||"System"}</SourceID>
            <SystemEntryDate>${a(A.uploadDate)}</SystemEntryDate>
            <CustomerID>${((G=(H=A.data)==null?void 0:H.client_data)==null?void 0:G.nif)==="999999999"?"ConsumidorFinal":((L=(F=A.data)==null?void 0:F.client_data)==null?void 0:L.nif)||"ConsumidorFinal"}</CustomerID>
            <Line>
                <LineNumber>1</LineNumber>
                <ProductCode>SERVICO</ProductCode>
                <ProductDescription>${((re=A.data)==null?void 0:re.category)||"Servios"}</ProductDescription>
                <Quantity>1</Quantity>
                <UnitOfMeasure>Un</UnitOfMeasure>
                <UnitPrice>${N.toFixed(2)}</UnitPrice>
                <TaxPointDate>${k.split("T")[0]}</TaxPointDate>
                <References>
                    <Reference>${A.id}</Reference>
                </References>
                <Description>${((Z=A.data)==null?void 0:Z.category)||"Servios"}</Description>
                <DebitAmount>0.00</DebitAmount>
                <CreditAmount>${N.toFixed(2)}</CreditAmount>
                <Tax>
                    <TaxType>IVA</TaxType>
                    <TaxCountryRegion>AO</TaxCountryRegion>
                    <TaxCode>NOR</TaxCode>
                    <TaxPercentage>14.00</TaxPercentage>
                </Tax>
                <SettlementAmount>0.00</SettlementAmount>
            </Line>
            <DocumentTotals>
                <TaxPayable>${T.toFixed(2)}</TaxPayable>
                <NetTotal>${N.toFixed(2)}</NetTotal>
                <GrossTotal>${S.toFixed(2)}</GrossTotal>
            </DocumentTotals>
        </Invoice>`});const m=`
    <SourceDocuments>
        <SalesInvoices>
            <NumberOfEntries>${t.length}</NumberOfEntries>
            <TotalDebit>0.00</TotalDebit>
            <TotalCredit>${f.toFixed(2)}</TotalCredit>
            ${h}
        </SalesInvoices>
    </SourceDocuments>`;return`<?xml version="1.0" encoding="UTF-8"?>
<AuditFile xmlns="urn:OECD:StandardAuditFile-Tax:AO_1.01_01" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    ${i}
    ${u}
    ${m}
</AuditFile>`},IR=10,v7e=async(t,e,r,n)=>{if(await new Promise(l=>setTimeout(l,400)),!t||!Array.isArray(t))return{data:[],total:0,allFiltered:[]};let a=t.filter(l=>{var N,T,k,R;if(!l)return!1;const u=((N=l.data)==null?void 0:N.merchantName)||l.companyName||"",h=l.fileName||"",f=((k=(T=l.data)==null?void 0:T.totalAmount)==null?void 0:k.toString())||"",m=(e.search||"").toLowerCase(),g=u.toLowerCase().includes(m)||h.toLowerCase().includes(m)||f.includes(m),b=e.status==="ALL"||(e.status===or.COMPLETED?l.status===or.COMPLETED||l.status===or.APROVADO:e.status===or.REJEITADO?l.status===or.REJEITADO||l.status===or.ERROR:l.status===e.status),y=e.type==="ALL"||(((R=l.data)==null?void 0:R.category)||"OUTROS")===e.type,w=e.company==="ALL"||l.companyId===e.company,A=e.user==="ALL"||l.responsible_user_id===e.user||e.user==="AI"&&!l.responsible_user_id;let S=!0;if(e.month!=="ALL"&&l.uploadDate){const O=new Date(l.uploadDate),U=new Date().getFullYear();isNaN(O.getTime())||(S=O.getMonth()===parseInt(e.month)&&O.getFullYear()===U)}return g&&b&&y&&S&&w&&A});a.sort((l,u)=>{const h=l.uploadDate?new Date(l.uploadDate).getTime():0;return(u.uploadDate?new Date(u.uploadDate).getTime():0)-h});const i=a.length,s=(r-1)*n;return{data:a.slice(s,s+n),total:i,allFiltered:a}},y7e=()=>{const{documents:t,isAccountingMode:e,clients:r,setFullscreenMode:n,refreshData:a,selectedCompany:i,stopNotificationSound:s}=_o(),[o,l]=C.useState(null),[u,h]=C.useState(!1),[f,m]=C.useState("TABLE"),[g,b]=C.useState(""),[y,w]=C.useState(""),[A,S]=C.useState("ALL"),[N,T]=C.useState("ALL"),[k,R]=C.useState("ALL"),[O,U]=C.useState("ALL"),[H,G]=C.useState("ALL"),[F,L]=C.useState(1),[re,Z]=C.useState([]),[pe,Q]=C.useState([]),[X,oe]=C.useState(0),[ce,Ne]=C.useState(!0),[ne,B]=C.useState({total:0,totalValue:0,validated:0}),[V,Y]=C.useState(new Set),[K,le]=C.useState(!1),[Ae,De]=C.useState(!1),[de,Le]=C.useState(-1),[Ge,Re]=C.useState(null),[wt,St]=C.useState(!1),[rt,Te]=C.useState(!1),Nt=()=>{const xt=V.size>0?pe.filter(gr=>V.has(gr.id)):pe,bt=new Gr;bt.setFontSize(18),bt.text("Relatrio de Documentos Fiscais",14,22),bt.setFontSize(10),bt.text(`Gerado em: ${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}`,14,30),bt.text(`Total de Registros: ${xt.length}`,14,35),e&&i!=="ALL"&&bt.text(`Empresa: ${(i==null?void 0:i.name)||"N/A"}`,14,40);const br=xt.map(gr=>{var Lr,Tr,Mt,Dn;return[((Lr=gr.data)==null?void 0:Lr.merchantName)||gr.fileName,((Tr=gr.data)==null?void 0:Tr.category)||"Geral",((Mt=gr.data)==null?void 0:Mt.date)||"-",gr.status,is(((Dn=gr.data)==null?void 0:Dn.totalAmount)||0)]});AC(bt,{head:[["Documento","Categoria","Data","Status","Valor total"]],body:br,startY:45,styles:{fontSize:8},headStyles:{fillColor:[6,182,212]}}),bt.save(`relatorio_${new Date().getTime()}.pdf`),Te(!1)},rr=()=>{const bt=(V.size>0?pe.filter(Lr=>V.has(Lr.id)):pe).map(Lr=>{var Tr,Mt,Dn,Wr,Es,Ht,ri,Gi,hn;return{"Nome do Arquivo":Lr.fileName,Comerciante:((Tr=Lr.data)==null?void 0:Tr.merchantName)||"-","NIF Comerciante":((Dn=(Mt=Lr.data)==null?void 0:Mt.issuer_data)==null?void 0:Dn.nif)||"-",Categoria:((Wr=Lr.data)==null?void 0:Wr.category)||"Geral","Data Emisso":((Es=Lr.data)==null?void 0:Es.date)||"-",Status:Lr.status,"Total Declarado":((ri=(Ht=Lr.rawData)==null?void 0:Ht.analise_matematica)==null?void 0:ri.total_declarado)||0,"Total Recalculado":((Gi=Lr.data)==null?void 0:Gi.totalAmount)||0,"Validao Fiscal":((hn=Lr.data)==null?void 0:hn.fiscal_validation)||"-","Empresa ID":Lr.companyId}}),br=xm.json_to_sheet(bt),gr=xm.book_new();xm.book_append_sheet(gr,br,"Documentos"),h9(gr,`exportacao_${new Date().getTime()}.xlsx`),Te(!1)},Ot=()=>{const xt=V.size>0?pe.filter(Dn=>V.has(Dn.id)):pe;if(xt.length===0){alert("Nenhum documento disponvel para exportao.");return}const bt=e&&i!=="ALL"&&(i==null?void 0:i.name)||"Empresa Exemplo",br=(i==null?void 0:i.nif)||"999999999",gr=x7e(xt,bt,br),Lr=new Blob([gr],{type:"application/xml"}),Tr=URL.createObjectURL(Lr),Mt=document.createElement("a");Mt.href=Tr,Mt.download=`SAFT_AO_${bt.replace(/\s+/g,"_")}_${new Date().getTime()}.xml`,document.body.appendChild(Mt),Mt.click(),document.body.removeChild(Mt),URL.revokeObjectURL(Tr),Te(!1)},vt=async()=>{try{await Promise.all(Array.from(V).map(xt=>m_.deleteDocument(xt))),await a()}catch(xt){console.error(xt),alert("Erro ao excluir alguns documentos.")}finally{Y(new Set)}};C.useEffect(()=>(n(f==="WORKSTATION"),()=>n(!1)),[f,n]),C.useEffect(()=>{const xt=bt=>{if(!(u||ce))if(bt.key==="ArrowDown")bt.preventDefault(),Le(br=>Math.min(br+1,re.length-1));else if(bt.key==="ArrowUp")bt.preventDefault(),Le(br=>Math.max(br-1,0));else if(bt.key==="Enter"&&de>=0){bt.preventDefault();const br=re[de];br&&yt(br)}else bt.key==="Escape"&&f==="WORKSTATION"&&m("TABLE")};return window.addEventListener("keydown",xt),()=>window.removeEventListener("keydown",xt)},[re,u,ce,de,f]),C.useEffect(()=>{const xt=setTimeout(()=>w(g),400);return()=>clearTimeout(xt)},[g]),C.useEffect(()=>{let xt=!0;return(async()=>{try{Ne(!0);const gr=await v7e(t,{search:y,status:A,type:N,month:k,company:e?O:"ALL",user:H},F,IR);if(xt){Z(gr.data),Q(gr.allFiltered),oe(gr.total);const Lr=gr.allFiltered.reduce((Mt,Dn)=>{var Wr;return Mt+(((Wr=Dn.data)==null?void 0:Wr.totalAmount)||0)},0),Tr=gr.allFiltered.filter(Mt=>{var Dn;return Mt.status===or.COMPLETED&&((Dn=Mt.data)==null?void 0:Dn.fiscal_validation)!=="REJEITADO"}).length;B({total:gr.total,totalValue:Lr,validated:Tr}),Ne(!1)}}catch{xt&&Ne(!1)}})(),()=>{xt=!1}},[t,y,A,N,k,O,H,F,e]);const Dt=C.useMemo(()=>{const xt=new Map;return t.forEach(bt=>{bt.responsible_user_id&&bt.responsible_user_name&&xt.set(bt.responsible_user_id,bt.responsible_user_name)}),Array.from(xt.entries()).map(([bt,br])=>({id:bt,name:br}))},[t]),yt=async xt=>{console.log("DEBUG: handleViewAnalysis clicked for:",xt.id),s();let bt=xt;if(!xt.fileBase64&&xt.fileUrl==="DB_STORED"){console.log("DEBUG: Fetching full doc logic triggered");try{const{documentService:br}=await Om(async()=>{const{documentService:gr}=await Promise.resolve().then(()=>ate);return{documentService:gr}},void 0);bt=await br.getDocumentById(xt.id),console.log("DEBUG: Full doc fetched:",bt?"YES":"NO")}catch(br){console.error("DEBUG: Failed to load full document details:",br)}}else console.log("DEBUG: Document already has base64 or not DB_STORED",!!xt.fileBase64,xt.fileUrl);console.log("DEBUG: Setting selected document and view mode"),l(bt),m("WORKSTATION")},qt=()=>{h(!1),setTimeout(()=>l(null),300)},We=xt=>{const bt=new Set(V);bt.has(xt)?bt.delete(xt):bt.add(xt),Y(bt)},Jt=()=>{if(V.size===pe.length&&pe.length>0)Y(new Set);else{const xt=new Set(pe.map(bt=>bt.id));Y(xt)}},ir=(xt,bt=!1)=>{const br=xt.status;if(br===or.APROVADO_USUARIO)return c.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-[9px] font-bold bg-cyan-500/10 text-cyan-400 border border-cyan-500/20 uppercase tracking-wider",children:[c.jsx(mf,{className:"w-2.5 h-2.5"})," ",!bt&&"Aprovado (Manual)"]});if(br===or.COMPLETED||br===or.APROVADO)return c.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-[9px] font-bold bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 uppercase tracking-wider",children:[c.jsx(Ns,{className:"w-2.5 h-2.5"})," ",!bt&&"Aprovado"]});if(br===or.REJEITADO)return c.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-[9px] font-bold bg-red-500/10 text-red-400 border border-red-500/20 uppercase tracking-wider",children:[c.jsx(gk,{className:"w-2.5 h-2.5"})," ",!bt&&"Rejeitado"]});if(br===or.PROCESSING)return c.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-[9px] font-bold bg-blue-500/10 text-blue-400 border border-blue-500/20 animate-pulse uppercase tracking-wider",children:[c.jsx(ji,{className:"w-2.5 h-2.5 animate-spin"})," ",!bt&&"Em Anlise"]});if(br===or.ERROR)return c.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-[9px] font-bold bg-red-500/10 text-red-400 border border-red-500/20 uppercase tracking-wider",children:[c.jsx(Ys,{className:"w-2.5 h-2.5"})," ",!bt&&"Falha"]});const gr={[or.ARCHIVED]:"Arquivado",[or.PENDING_REVIEW]:"Pendente"};return c.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-[9px] font-bold bg-slate-500/10 text-slate-400 border border-dashed border-white/10 uppercase tracking-wider",children:[c.jsx(Yo,{className:"w-2.5 h-2.5"})," ",!bt&&(gr[br]||br||"Pendente")]})},Vt=()=>c.jsxs("tr",{className:"animate-pulse border-b border-white/5",children:[c.jsx("td",{className:"px-6 py-5",children:c.jsx("div",{className:"w-4 h-4 bg-white/5 rounded"})}),c.jsx("td",{className:"px-4 py-5",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-xl"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"h-3 w-32 bg-white/5 rounded"}),c.jsx("div",{className:"h-2 w-20 bg-white/5 rounded"})]})]})}),e&&c.jsx("td",{className:"px-6 py-5",children:c.jsx("div",{className:"h-3 w-24 bg-white/5 rounded"})}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("div",{className:"h-6 w-20 bg-white/5 rounded-lg"})}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("div",{className:"h-3 w-20 bg-white/5 rounded"})}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("div",{className:"h-6 w-24 bg-white/5 rounded-full"})}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("div",{className:"h-3 w-20 bg-white/5 rounded"})}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("div",{className:"h-3 w-32 bg-white/5 rounded"})}),c.jsx("td",{className:"px-6 py-5 text-center",children:c.jsx("div",{className:"h-8 w-8 bg-white/5 rounded mx-auto"})})]}),[Ue,ur]=C.useState(!1);return f==="WORKSTATION"?c.jsxs("div",{className:"flex flex-col h-full w-full bg-[#020202] animate-in fade-in duration-300",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/5 bg-[#080808] flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{onClick:()=>m("TABLE"),className:"p-2 hover:bg-white/10 rounded-xl text-slate-400 hover:text-white transition-all flex items-center gap-2 group",children:[c.jsx(t5,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),c.jsx("span",{className:"text-sm font-bold uppercase tracking-wide",children:"Voltar ao Dashboard"})]}),c.jsx("div",{className:"h-6 w-px bg-white/10"}),c.jsx("button",{onClick:()=>ur(!Ue),className:`p-2 hover:bg-white/10 rounded-xl text-slate-400 hover:text-cyan-400 transition-all ${Ue?"bg-cyan-500/10 text-cyan-400":""}`,title:Ue?"Mostrar Lista":"Ocultar Lista",children:c.jsx(H0e,{className:"w-5 h-5"})}),c.jsx("div",{children:c.jsxs("h2",{className:"text-lg font-bold text-white tracking-tight flex items-center gap-2",children:[c.jsx(f6,{className:"w-5 h-5 text-cyan-400"})," Workstation Pro"]})})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest hidden md:block",children:["Documento ",pe.findIndex(xt=>xt.id===(o==null?void 0:o.id))+1," de ",pe.length]}),c.jsx("button",{onClick:()=>m("TABLE"),className:"p-2 bg-white/5 rounded-lg text-slate-400 hover:text-red-400 hover:bg-red-500/10 transition-colors",children:c.jsx(Hs,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[c.jsxs("div",{className:`
                            flex-shrink-0 border-r border-white/5 bg-[#050505] flex flex-col transition-all duration-300 ease-in-out
                            ${Ue?"w-0 opacity-0 overflow-hidden":"w-80 opacity-100"}
                        `,children:[c.jsx("div",{className:"p-4 border-b border-white/5",children:c.jsxs("div",{className:"relative",children:[c.jsx(yu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 w-3.5 h-3.5"}),c.jsx("input",{type:"text",placeholder:"Filtrar lista...",value:g,onChange:xt=>b(xt.target.value),className:"w-full bg-[#111] border border-white/10 rounded-xl pl-9 pr-3 py-2 text-xs text-white focus:outline-none focus:border-cyan-500/50"})]})}),c.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-1",children:pe.map(xt=>{var Lr,Tr,Mt,Dn,Wr;const bt=(o==null?void 0:o.id)===xt.id,gr=(((Tr=(Lr=xt.data)==null?void 0:Lr.decisao_final)==null?void 0:Tr.nivel_risco)||((Mt=xt.data)==null?void 0:Mt.risk_level))==="ALTO";return c.jsxs("div",{onClick:()=>l(xt),className:`p-3 rounded-xl cursor-pointer transition-all flex items-center gap-3 border ${bt?"bg-cyan-500/10 border-cyan-500/30":"bg-transparent border-transparent hover:bg-white/5"}`,children:[c.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 text-xs font-bold ${bt?"bg-cyan-500 text-black":"bg-slate-900 text-slate-500"}`,children:xt.type===ny.INVOICE?"FT":"RC"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:`text-xs font-bold truncate ${bt?"text-cyan-400":"text-slate-300"}`,children:((Dn=xt.data)==null?void 0:Dn.merchantName)||xt.fileName}),c.jsxs("div",{className:"flex justify-between items-center mt-0.5",children:[c.jsx("span",{className:"text-[9px] text-slate-500 font-mono",children:(Wr=xt.data)!=null&&Wr.totalAmount?`${(xt.data.totalAmount/1e3).toFixed(1)}k`:"-"}),c.jsxs("div",{className:"flex items-center gap-1",children:[gr&&c.jsx(wo,{className:"w-3 h-3 text-red-500"}),ir(xt,!0)]})]})]})]},xt.id)})})]}),c.jsx("div",{className:"flex-1 bg-[#020202] overflow-hidden relative flex flex-col h-full transition-all duration-300",children:o?c.jsx("div",{className:"flex-1 h-full w-full",children:c.jsx("div",{className:"h-full w-full p-4 md:p-6",children:c.jsx(zB,{document:o})})}):c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-600",children:[c.jsx(f6,{className:"w-16 h-16 mb-4 opacity-20"}),c.jsx("p",{className:"text-sm font-bold uppercase tracking-widest",children:"Selecione um documento"})]})})]})]}):c.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-24 relative",children:[u&&c.jsx(NOe,{isOpen:u,document:o,onClose:qt}),c.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-end gap-6 bg-[#080808] border border-white/[0.03] p-6 md:p-8 rounded-[32px] relative",children:[c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),c.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Base de Dados Fiscal"})]}),c.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white tracking-tight",children:"Arquivo Digital"})]}),c.jsx("div",{className:"flex items-center gap-2 md:gap-4 relative z-10 flex-wrap",children:c.jsxs("div",{className:"flex bg-[#111] p-1 rounded-xl border border-white/5 relative",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>Te(!rt),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-[10px] font-bold uppercase transition-all text-slate-500 hover:text-white",children:[c.jsx(py,{className:"w-3.5 h-3.5"})," Exportar"]}),rt&&c.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-[#111] border border-white/10 rounded-xl shadow-xl z-50 overflow-hidden animate-in fade-in slide-in-from-top-2",children:[c.jsxs("button",{onClick:Nt,className:"w-full text-left px-4 py-3 text-xs text-slate-300 hover:bg-white/5 hover:text-white flex items-center gap-2",children:[c.jsx(Yo,{className:"w-3.5 h-3.5 text-red-400"})," Exportar PDF (",V.size>0?V.size:"Todos",")"]}),c.jsx("div",{className:"h-px bg-white/5 mx-2"}),c.jsxs("button",{onClick:rr,className:"w-full text-left px-4 py-3 text-xs text-slate-300 hover:bg-white/5 hover:text-white flex items-center gap-2",children:[c.jsx(p0e,{className:"w-3.5 h-3.5 text-emerald-400"})," Exportar Excel (",V.size>0?V.size:"Todos",")"]}),c.jsx("div",{className:"h-px bg-white/5 mx-2"}),c.jsxs("button",{onClick:Ot,className:"w-full text-left px-4 py-3 text-xs text-slate-300 hover:bg-white/5 hover:text-white flex items-center gap-2",children:[c.jsx(x0e,{className:"w-3.5 h-3.5 text-amber-400"})," Exportar SAFT-AO"]})]})]}),c.jsx("div",{className:"w-px bg-white/10 my-1 mx-1"}),c.jsxs("button",{onClick:()=>m("TABLE"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-[10px] font-bold uppercase transition-all ${f==="TABLE"?"bg-white text-black":"text-slate-500 hover:text-white"}`,children:[c.jsx(ome,{className:"w-3.5 h-3.5"})," Tabela"]}),c.jsxs("button",{onClick:()=>{m("WORKSTATION"),re.length>0&&!o&&l(re[0])},className:`flex items-center gap-2 px-4 py-2 rounded-lg text-[10px] font-bold uppercase transition-all ${f==="WORKSTATION"?"bg-white text-black shadow-[0_0_15px_rgba(255,255,255,0.2)]":"text-slate-500 hover:text-white"}`,children:[c.jsx(f6,{className:"w-3.5 h-3.5"})," Pro-View"]})]})})]}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 p-1.5 bg-[#080808] border border-white/[0.03] rounded-[20px]",children:[c.jsxs("div",{className:"relative flex-1 group",children:[c.jsx(yu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 w-4 h-4 group-focus-within:text-white transition-colors"}),c.jsx("input",{type:"text",placeholder:"Buscar...",value:g,onChange:xt=>b(xt.target.value),className:"w-full bg-[#111] border border-transparent rounded-2xl pl-11 pr-4 py-3 text-sm text-white placeholder-slate-600 focus:outline-none focus:bg-[#151515] transition-all font-medium"})]}),c.jsxs("div",{className:"flex gap-2 overflow-x-auto p-1 custom-scrollbar",children:[e&&c.jsxs("select",{value:O,onChange:xt=>U(xt.target.value),className:"bg-cyan-500/10 border border-cyan-500/20 rounded-xl text-xs font-bold text-cyan-400 px-4 py-2.5 focus:outline-none uppercase tracking-wider",children:[c.jsx("option",{value:"ALL",children:"Todas Empresas"}),r.map(xt=>c.jsx("option",{value:xt.id,children:xt.name},xt.id))]}),c.jsxs("select",{value:A,onChange:xt=>S(xt.target.value),className:"bg-[#151515] border border-white/5 rounded-xl text-xs font-bold text-slate-300 px-4 py-2.5 focus:outline-none uppercase tracking-wider",children:[c.jsx("option",{value:"ALL",children:"Todos os Status"}),c.jsx("option",{value:or.COMPLETED,children:"Vlidos (IA)"}),c.jsx("option",{value:or.APROVADO_USUARIO,children:"Aprovados Manual"}),c.jsx("option",{value:or.REJEITADO,children:"Rejeitados"}),c.jsx("option",{value:or.PROCESSING,children:"Em Anlise"}),c.jsx("option",{value:or.ERROR,children:"Com Erro"})]}),c.jsxs("select",{value:H,onChange:xt=>G(xt.target.value),className:"bg-[#151515] border border-white/5 rounded-xl text-xs font-bold text-slate-300 px-4 py-2.5 focus:outline-none uppercase tracking-wider",children:[c.jsx("option",{value:"ALL",children:"Todos Responsveis"}),c.jsx("option",{value:"AI",children:"Processado por IA"}),Dt.map(xt=>c.jsx("option",{value:xt.id,children:xt.name},xt.id))]})]})]}),c.jsx("div",{className:"bg-[#080808] border border-white/[0.03] rounded-[32px] overflow-hidden shadow-2xl relative min-h-[400px]",children:!ce&&re.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center p-20 text-center relative z-10 h-full",children:[c.jsx("div",{className:"w-20 h-20 bg-[#111] rounded-full flex items-center justify-center mb-4 border border-white/5",children:c.jsx(fE,{className:"w-8 h-8 text-slate-500 opacity-50"})}),c.jsx("h3",{className:"text-white font-bold text-xl",children:"Nenhum documento encontrado"})]}):c.jsx("div",{className:"overflow-x-auto relative z-10",children:c.jsxs("table",{className:"w-full text-left text-sm text-slate-400",children:[c.jsx("thead",{className:"bg-[#0c0c0c] text-[10px] uppercase font-bold text-slate-500 border-b border-white/5 tracking-widest",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-5 w-12",children:c.jsx("button",{onClick:Jt,className:"flex items-center text-slate-500 hover:text-white transition-colors group",children:V.size>0?V.size===pe.length?c.jsx(ij,{className:"w-4 h-4 text-cyan-500"}):c.jsx("div",{className:"w-4 h-4 bg-cyan-500/20 rounded border border-cyan-500 flex items-center justify-center",children:c.jsx("div",{className:"w-2 h-0.5 bg-cyan-500 rounded-full"})}):c.jsx(sj,{className:"w-4 h-4 group-hover:text-slate-300"})})}),c.jsx("th",{className:"px-4 py-5",children:"Documento"}),c.jsx("th",{className:"px-6 py-5",children:"Valor Total"}),c.jsx("th",{className:"px-6 py-5",children:"IVA (Imposto)"}),c.jsx("th",{className:"px-6 py-5",children:"Anlise de Risco"}),c.jsx("th",{className:"px-6 py-5",children:"Estado Fiscal"}),c.jsx("th",{className:"px-6 py-5",children:"Responsvel"}),c.jsx("th",{className:"px-6 py-5 text-center",children:"Aes"})]})}),c.jsx("tbody",{className:"divide-y divide-white/5",children:ce?Array(5).fill(0).map((xt,bt)=>c.jsx(Vt,{},bt)):re.map((xt,bt)=>{var br,gr,Lr;return c.jsxs("tr",{onClick:()=>{Le(bt),yt(xt)},className:`transition-colors group relative cursor-pointer ${V.has(xt.id)?"bg-cyan-500/5":"hover:bg-white/[0.02]"} ${bt===de?"bg-white/[0.04] shadow-[inset_3px_0_0_0_#06b6d4]":""}`,children:[c.jsx("td",{className:"px-6 py-5",onClick:Tr=>Tr.stopPropagation(),children:c.jsx("button",{onClick:()=>We(xt.id),className:"flex items-center text-slate-600 hover:text-white transition-colors",children:V.has(xt.id)?c.jsx(ij,{className:"w-4 h-4 text-cyan-500"}):c.jsx(sj,{className:"w-4 h-4"})})}),c.jsx("td",{className:"px-4 py-5",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#151515] flex items-center justify-center border border-white/5 group-hover:border-cyan-500/30 group-hover:text-cyan-400 transition-all",children:c.jsx(Yo,{className:"w-4 h-4"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-white text-sm truncate max-w-[200px]",children:((br=xt.data)==null?void 0:br.merchantName)||xt.fileName}),c.jsx("p",{className:"text-[9px] font-mono text-slate-500 uppercase",children:xt.fileName})]})]})}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:"text-emerald-400 font-bold text-xs",children:is(xt.valor_documento??((gr=xt.data)==null?void 0:gr.totalAmount)??0)})}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:"text-slate-300 font-mono text-xs",children:is(xt.valor_iva??((Lr=xt.data)==null?void 0:Lr.taxAmount)??0)})}),c.jsx("td",{className:"px-6 py-5",children:xt.compliance_level==="ALTO"||xt.compliance_level==="ALERTA"?c.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-red-500/10 border border-red-500/20 rounded-full w-fit",children:[c.jsx(wo,{className:"w-3 h-3 text-red-500"}),c.jsx("span",{className:"text-[9px] font-bold text-red-400 uppercase",children:"Risco Alto"})]}):xt.compliance_level==="MEDIO"?c.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-amber-500/10 border border-amber-500/20 rounded-full w-fit",children:[c.jsx(Ys,{className:"w-3 h-3 text-amber-500"}),c.jsx("span",{className:"text-[9px] font-bold text-amber-400 uppercase",children:"Mdio"})]}):c.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-emerald-500/10 border border-emerald-500/20 rounded-full w-fit",children:[c.jsx(Ns,{className:"w-3 h-3 text-emerald-500"}),c.jsx("span",{className:"text-[9px] font-bold text-emerald-400 uppercase",children:"Conforme"})]})}),c.jsx("td",{className:"px-6 py-5",children:ir(xt)}),c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-7 h-7 rounded-full bg-cyan-500/10 flex items-center justify-center border border-cyan-500/20 group-hover:border-cyan-500/40 transition-colors",children:c.jsx(mf,{className:"w-3.5 h-3.5 text-cyan-400"})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[10px] font-bold text-slate-200 truncate max-w-[100px]",children:xt.responsible_user_name||"IA Sentinela"}),c.jsx("span",{className:"text-[8px] text-slate-500 uppercase tracking-tighter",children:"Analista"})]})]})}),c.jsx("td",{className:"px-6 py-5 text-center",children:c.jsx("button",{title:"Ver Anlise",onClick:Tr=>{Tr.stopPropagation(),yt(xt)},className:"p-2 rounded-lg bg-[#111] text-slate-500 hover:text-cyan-400 transition-colors",children:c.jsx(my,{className:"w-4 h-4"})})})]},xt.id)})})]})})}),!ce&&X>0&&c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center px-4 bg-[#080808] border border-white/[0.03] rounded-[20px] p-4 gap-4",children:[c.jsxs("p",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest",children:["Total: ",X," registros"]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>L(xt=>Math.max(1,xt-1)),disabled:F===1,className:"px-4 py-2 rounded-xl bg-[#111] border border-white/5 text-xs font-bold text-slate-400 hover:text-white disabled:opacity-30 transition-colors",children:c.jsx(t5,{className:"w-3 h-3"})}),c.jsxs("span",{className:"text-xs font-mono text-slate-500",children:["Pg. ",c.jsx("span",{className:"text-cyan-400 font-bold",children:F})]}),c.jsx("button",{onClick:()=>L(xt=>Math.min(Math.ceil(X/IR),xt+1)),disabled:F===Math.ceil(X/IR),className:"px-4 py-2 rounded-xl bg-[#111] border border-white/5 text-xs font-bold text-slate-400 hover:text-white disabled:opacity-30 transition-colors",children:c.jsx(Nx,{className:"w-3 h-3"})})]})]}),V.size>0&&c.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[100] bg-[#0a0a0c]/90 backdrop-blur-xl border border-white/10 rounded-full px-6 py-3 shadow-2xl flex items-center gap-6 animate-in slide-in-from-bottom-10 fade-in duration-300",children:[c.jsxs("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:[V.size," selecionado(s)"]}),c.jsx("div",{className:"h-6 w-px bg-white/10"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{className:"bg-[#111] hover:bg-white/10 text-slate-300 hover:text-white px-4 py-2 rounded-full text-xs font-bold uppercase transition-colors flex items-center gap-2",onClick:()=>{alert("Exportando seleo...")},children:[c.jsx(py,{className:"w-3.5 h-3.5"})," Exportar"]}),c.jsxs("button",{className:"bg-red-500/10 hover:bg-red-500/20 text-red-400 hover:text-red-300 px-4 py-2 rounded-full text-xs font-bold uppercase transition-colors flex items-center gap-2",disabled:K,onClick:()=>St(!0),children:[K?c.jsx(ji,{className:"w-3.5 h-3.5 animate-spin"}):c.jsx(Sm,{className:"w-3.5 h-3.5"})," Deletar"]})]}),c.jsx("button",{onClick:()=>Y(new Set),className:"ml-2 w-6 h-6 rounded-full hover:bg-white/10 flex items-center justify-center text-slate-500 hover:text-white transition-colors",children:c.jsx(Hs,{className:"w-3.5 h-3.5"})})]}),c.jsx(EOe,{isOpen:wt,onClose:()=>St(!1),onConfirm:vt,count:V.size,title:"Excluir Documentos",description:"Tem certeza que deseja excluir os documentos selecionados? Esta ao no pode ser desfeita.",itemType:"documentos"})]})},ble=t=>{const e=C.useRef(null),[r,n]=C.useState(!1);return C.useEffect(()=>{const a=new IntersectionObserver(([i])=>{i.isIntersecting&&(n(!0),a.disconnect())},t);return e.current&&a.observe(e.current),()=>{e.current&&a.unobserve(e.current)}},[e,t]),[e,r]},b7e=()=>c.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[c.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),c.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_800px_at_50%_200px,#14b8a61a,transparent)]"})]}),w7e=({children:t,className:e="",delay:r=0})=>{const[n,a]=ble({threshold:.1});return c.jsx("div",{ref:n,className:`transition-all duration-1000 ease-out transform ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-12"} ${e}`,style:{transitionDelay:`${r}ms`},children:t})},Lb=({children:t,className:e="",delay:r=0,onClick:n})=>{const a=C.useRef(null),[i,s]=C.useState({x:0,y:0}),[o,l]=C.useState(0),u=g=>{if(!a.current)return;const b=a.current.getBoundingClientRect();s({x:g.clientX-b.left,y:g.clientY-b.top}),l(1)},h=()=>l(0),[f,m]=ble({threshold:.1});return c.jsx("div",{ref:f,onClick:n,className:`transition-all duration-1000 ease-out h-full ${m?"opacity-100 translate-y-0":"opacity-0 translate-y-12"}`,style:{transitionDelay:`${r}ms`},children:c.jsxs("div",{ref:a,onMouseMove:u,onMouseLeave:h,className:`relative overflow-hidden h-full ${e} bg-[#0a0b10] border border-white/[0.05] hover:border-white/10 transition-colors group`,children:[c.jsx("div",{className:"pointer-events-none absolute -inset-px opacity-0 transition duration-300 z-0",style:{opacity:o,background:`radial-gradient(600px circle at ${i.x}px ${i.y}px, rgba(20,184,166,0.15), transparent 40%)`}}),c.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-0 transition duration-300 z-0 border border-teal-500/50 rounded-[inherit]",style:{opacity:o,maskImage:`radial-gradient(300px circle at ${i.x}px ${i.y}px, black, transparent)`,WebkitMaskImage:`radial-gradient(300px circle at ${i.x}px ${i.y}px, black, transparent)`}}),c.jsx("div",{className:"relative z-10 h-full",children:t})]})})},A7e=()=>c.jsxs("div",{className:"relative w-full max-w-md mx-auto aspect-[3/4] bg-[#0c0c0c] rounded-2xl border border-white/10 shadow-2xl overflow-hidden transform rotate-y-12 rotate-x-6 hover:rotate-0 transition-transform duration-700 perspective-1000 group",children:[c.jsx("style",{children:`
                @keyframes scanMove {
                    0%, 100% { top: 0%; opacity: 0; }
                    10% { opacity: 1; }
                    50% { top: 100%; opacity: 1; }
                    90% { opacity: 1; }
                }
                @keyframes popIn {
                    0% { opacity: 0; transform: scale(0.8) translateY(10px); }
                    100% { opacity: 1; transform: scale(1) translateY(0); }
                }
                .scan-line {
                    animation: scanMove 3s cubic-bezier(0.4, 0, 0.2, 1) infinite;
                }
                .pop-item-1 { animation: popIn 0.5s ease-out 1s forwards; opacity: 0; }
                .pop-item-2 { animation: popIn 0.5s ease-out 1.5s forwards; opacity: 0; }
                .pop-item-3 { animation: popIn 0.5s ease-out 2s forwards; opacity: 0; }
            `}),c.jsxs("div",{className:"h-12 border-b border-white/5 bg-[#111] flex items-center px-4 justify-between",children:[c.jsx("div",{className:"w-20 h-2 bg-white/10 rounded-full"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500/20"}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500/20"}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500/20"})]})]}),c.jsxs("div",{className:"p-6 space-y-4 relative opacity-80",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-lg mb-4"}),c.jsxs("div",{className:"text-right space-y-2",children:[c.jsx("div",{className:"w-24 h-3 bg-white/10 rounded ml-auto"}),c.jsx("div",{className:"w-16 h-2 bg-white/5 rounded ml-auto"})]})]}),c.jsx("div",{className:"space-y-3 pt-4 border-t border-white/5 border-dashed",children:[1,2,3,4,5].map(t=>c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("div",{className:"w-32 h-2 bg-white/5 rounded"}),c.jsx("div",{className:"w-10 h-2 bg-white/5 rounded"})]},t))}),c.jsx("div",{className:"pt-8 flex justify-end",children:c.jsx("div",{className:"w-24 h-8 bg-white/10 rounded"})})]}),c.jsx("div",{className:"absolute left-0 w-full h-1 bg-teal-500 shadow-[0_0_30px_rgba(20,184,166,1)] z-20 scan-line"}),c.jsx("div",{className:"absolute left-0 w-full h-32 bg-gradient-to-t from-teal-500/20 to-transparent z-10 scan-line",style:{transform:"translateY(-100%)"}}),c.jsxs("div",{className:"absolute top-24 right-6 bg-[#0f172a]/90 border border-emerald-500/50 text-emerald-400 px-3 py-1.5 rounded-lg text-[10px] font-bold font-mono flex items-center gap-2 backdrop-blur-md shadow-lg pop-item-1",children:[c.jsx("div",{className:"p-0.5 bg-emerald-500/20 rounded-full",children:c.jsx(Pc,{className:"w-3 h-3"})}),"NIF: 5000123456"]}),c.jsxs("div",{className:"absolute top-48 left-6 bg-[#0f172a]/90 border border-teal-500/50 text-teal-400 px-3 py-1.5 rounded-lg text-[10px] font-bold font-mono flex items-center gap-2 backdrop-blur-md shadow-lg pop-item-2",children:[c.jsx("div",{className:"p-0.5 bg-teal-500/20 rounded-full",children:c.jsx(mE,{className:"w-3 h-3"})}),"DATA: 2024-03-20"]}),c.jsxs("div",{className:"absolute bottom-24 right-8 bg-[#0f172a]/90 border border-teal-500/50 text-teal-400 px-4 py-2 rounded-xl text-xs font-bold font-mono flex items-center gap-2 backdrop-blur-md shadow-xl pop-item-3",children:[c.jsx("div",{className:"p-0.5 bg-teal-500/20 rounded-full",children:c.jsx(fk,{className:"w-3 h-3"})}),"TOTAL: 125.000 Kz"]})]}),_7e=({text:t})=>{const[e,r]=C.useState("");return C.useEffect(()=>{let n=0;r("");const a=setInterval(()=>{n<t.length?(r(i=>i+t.charAt(n)),n++):clearInterval(a)},100);return()=>clearInterval(a)},[t]),c.jsx("span",{children:e})},ll=({text:t})=>c.jsxs("div",{className:"flex items-start gap-3 group",children:[c.jsx("div",{className:"mt-0.5 p-0.5 rounded-full bg-emerald-500/10 text-emerald-500 flex-shrink-0 group-hover:bg-emerald-500 group-hover:text-black transition-colors",children:c.jsx(Pc,{className:"w-4 h-4"})}),c.jsx("span",{className:"text-slate-400 text-sm group-hover:text-slate-200 transition-colors",children:t})]}),S7e=({onLogin:t,onRegister:e})=>{const[r,n]=C.useState(!1),[a,i]=C.useState(null);C.useEffect(()=>{const o=()=>n(window.scrollY>20);return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const s=[{q:"O KwikDocs  compatvel com o SAFT-AO?",a:"Sim, 100%. A nossa plataforma valida todos os documentos segundo as regras da AGT e permite a exportao de ficheiros compatveis com o SAFT-AO para fcil integrao."},{q:"Como funciona a leitura de documentos manuscritos?",a:"O nosso motor OCR Neural v3.0 foi treinado especificamente com milhares de recibos angolanos, incluindo manuscritos, conseguindo uma preciso superior a 95% em tales e faturas manuais."},{q:"Os meus dados financeiros esto seguros?",a:"Utilizamos criptografia AES-256 de nvel militar para todos os dados em repouso e TLS 1.3 para dados em trnsito. Os servidores esto em conformidade com normas ISO 27001."},{q:"Posso testar antes de comprar?",a:"Absolutamente. Oferecemos 14 dias de teste gratuito no plano Pro, sem necessidade de carto de crdito. Pode cancelar a qualquer momento."}];return c.jsxs("div",{className:"min-h-screen bg-[#020202] text-white font-sans selection:bg-teal-500/30 selection:text-teal-200 overflow-x-hidden",children:[c.jsx("nav",{className:`fixed top-0 w-full z-50 transition-all duration-500 border-b ${r?"bg-[#020202]/80 backdrop-blur-xl border-white/5 py-4":"bg-transparent border-transparent py-6"}`,children:c.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center cursor-pointer group",onClick:t,children:c.jsx(Bx,{className:"w-52 h-14",iconClassName:"w-full h-full"})}),c.jsxs("div",{className:"hidden lg:flex items-center gap-8 text-sm font-medium text-slate-400",children:[c.jsx("a",{href:"#funcionalidades",className:"hover:text-white transition-colors",children:"Funcionalidades"}),c.jsx("a",{href:"#casos-uso",className:"hover:text-white transition-colors",children:"Para Quem"}),c.jsx("a",{href:"#precos",className:"hover:text-white transition-colors",children:"Preos"}),c.jsx("a",{href:"#faq",className:"hover:text-white transition-colors",children:"FAQ"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:t,className:"hidden md:block text-sm font-bold text-slate-300 hover:text-white transition-colors",children:"Login"}),c.jsxs("button",{onClick:e,className:"bg-white text-black px-6 py-2.5 rounded-full font-bold text-sm hover:bg-teal-50 transition-all flex items-center gap-2 shadow-[0_0_25px_rgba(255,255,255,0.2)] hover:scale-105 hover:shadow-teal-500/30 group",children:["Comear Grtis ",c.jsx(mu,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]})}),c.jsxs("section",{className:"relative pt-40 pb-32 px-6 overflow-hidden min-h-screen flex items-center",children:[c.jsx(b7e,{}),c.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[800px] h-[800px] bg-teal-900/20 rounded-full blur-[120px] mix-blend-screen animate-pulse"}),c.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[800px] h-[800px] bg-emerald-900/20 rounded-full blur-[120px] mix-blend-screen animate-pulse delay-1000"}),c.jsxs("div",{className:"max-w-7xl mx-auto w-full grid grid-cols-1 lg:grid-cols-2 gap-16 items-center relative z-10",children:[c.jsxs("div",{className:"text-left space-y-8",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full border border-teal-500/30 bg-teal-950/20 text-[11px] font-bold uppercase tracking-widest text-teal-400 backdrop-blur-md shadow-[0_0_20px_rgba(20,184,166,0.1)]",children:[c.jsxs("span",{className:"relative flex h-2 w-2",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-teal-400 opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-teal-500"})]}),"KwikDocs Fiscal AI"]}),c.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold tracking-tight leading-[1.1] text-white",children:["O sistema inteligente que ",c.jsx("br",{}),c.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-teal-400 via-emerald-500 to-teal-600",children:c.jsx(_7e,{text:"automatiza."})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("p",{className:"text-xl font-medium text-white max-w-lg leading-relaxed",children:"Documentos, contabilidade e compliance fiscal em piloto automtico."}),c.jsx("p",{className:"text-base text-slate-400 max-w-lg leading-relaxed border-l-2 border-white/10 pl-4",children:"OCR avanado, validao AGT com IA e exportao SAFT instantnea  tudo em uma nica plataforma empresarial segura."})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[c.jsx("button",{onClick:e,className:"h-14 px-8 rounded-full bg-white text-black font-bold text-sm uppercase tracking-wide hover:bg-teal-50 transition-all flex items-center justify-center gap-2 shadow-[0_0_40px_rgba(255,255,255,0.3)] hover:scale-105 group",children:"Solicitar Demonstrao"}),c.jsxs("button",{onClick:t,className:"h-14 px-8 rounded-full bg-[#111] text-white border border-white/10 font-bold text-sm uppercase tracking-wide hover:bg-[#1a1a1a] hover:border-teal-500/50 hover:text-teal-400 transition-all flex items-center justify-center gap-2 group",children:[c.jsx(mE,{className:"w-4 h-4 group-hover:animate-pulse"})," Testar Scanner ao Vivo"]})]}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 font-medium pt-4",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Ox,{className:"w-3 h-3 text-emerald-500"})," Setup em 2 min"]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Ox,{className:"w-3 h-3 text-emerald-500"})," Sem carto de crdito"]})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-teal-500/20 to-emerald-500/20 rounded-full blur-[100px] -z-10"}),c.jsx("div",{className:"absolute -top-6 right-0 md:-right-6 z-30 bg-[#0f111a]/90 backdrop-blur-xl border border-white/10 rounded-xl p-4 shadow-2xl animate-bounce-slow",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-lg text-emerald-400",children:c.jsx($s,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider",children:"Sistema Operacional"}),c.jsx("p",{className:"text-sm font-bold text-white",children:"Processando Lote #924"})]})]})}),c.jsx(A7e,{})]})]})]}),c.jsx("section",{className:"py-20 px-6 overflow-hidden",children:c.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[c.jsx("h2",{className:"text-3xl font-bold mb-12 text-white",children:"Controle Total em Um nico Painel"}),c.jsxs("div",{className:"relative group perspective-1000 mx-auto max-w-5xl",children:[c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90%] h-[80%] bg-teal-500/20 blur-[120px] rounded-full group-hover:bg-teal-500/30 transition-all duration-1000"}),c.jsx("div",{className:"relative bg-[#050505] border border-white/10 rounded-2xl p-2 shadow-2xl transform rotate-x-12 hover:rotate-x-0 transition-all duration-1000 ease-out origin-bottom",children:c.jsxs("div",{className:"rounded-xl overflow-hidden border border-white/5 relative",children:[c.jsx("img",{src:"https://i.ibb.co/pBWcTWzS/PAINEL2.jpg",alt:"KwikDocs Dashboard Preview",className:"w-full h-auto object-cover opacity-90 hover:opacity-100 transition-opacity"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#020202] to-transparent opacity-20 pointer-events-none"})]})})]})]})}),c.jsx("section",{id:"funcionalidades",className:"py-32 px-6 relative z-10",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-20",children:[c.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-white",children:["Inteligncia Fiscal ",c.jsx("br",{})," ",c.jsx("span",{className:"text-slate-500",children:"em cada pixel."})]}),c.jsx("p",{className:"text-slate-400 max-w-2xl mx-auto text-lg",children:"Funcionalidades desenhadas para a realidade empresarial angolana."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 auto-rows-[350px]",children:[c.jsx(Lb,{className:"rounded-[32px] p-8 flex flex-col justify-between",children:c.jsxs("div",{children:[c.jsx("div",{className:"p-3 bg-teal-500/10 w-fit rounded-xl text-teal-400 mb-6 border border-teal-500/20 shadow-[0_0_15px_rgba(20,184,166,0.1)]",children:c.jsx(Yo,{className:"w-8 h-8"})}),c.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:"OCR Neural"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ll,{text:"Leitura automtica de PDFs e Imagens"}),c.jsx(ll,{text:"Extrao precisa de tabelas"}),c.jsx(ll,{text:"Classificao inteligente"})]})]})}),c.jsx(Lb,{className:"rounded-[32px] p-8 flex flex-col justify-between border-emerald-500/20",children:c.jsxs("div",{children:[c.jsx("div",{className:"p-3 bg-emerald-500/10 w-fit rounded-xl text-emerald-400 mb-6 border border-emerald-500/20 shadow-[0_0_15px_rgba(16,185,129,0.1)]",children:c.jsx(ki,{className:"w-8 h-8"})}),c.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:"Validao AGT"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ll,{text:"Verificao de NIF em tempo real"}),c.jsx(ll,{text:"Clculo reverso de impostos"}),c.jsx(ll,{text:"Deteco de duplicidade"})]})]})}),c.jsx(Lb,{className:"rounded-[32px] p-8 flex flex-col justify-between",children:c.jsxs("div",{children:[c.jsx("div",{className:"p-3 bg-teal-500/10 w-fit rounded-xl text-teal-400 mb-6 border border-teal-500/20",children:c.jsx(fk,{className:"w-8 h-8"})}),c.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:"Contabilidade"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ll,{text:"Plano de contas automtico"}),c.jsx(ll,{text:"Lanamentos organizados"}),c.jsx(ll,{text:"Gesto multi-empresa"})]})]})}),c.jsx(Lb,{className:"rounded-[32px] p-8 flex flex-col justify-between md:col-span-2 lg:col-span-1 bg-gradient-to-br from-[#0c0c0c] to-[#111]",children:c.jsxs("div",{children:[c.jsx("div",{className:"p-3 bg-emerald-500/10 w-fit rounded-xl text-emerald-400 mb-6 border border-emerald-500/20",children:c.jsx(u0e,{className:"w-8 h-8"})}),c.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:"Exportao SAFT"}),c.jsxs("div",{className:"space-y-2 mb-6",children:[c.jsx(ll,{text:"Gerao de XML validado"}),c.jsx(ll,{text:"Estrutura OECD/AGT compatvel"})]}),c.jsxs("div",{className:"bg-[#050505] p-3 rounded-lg border border-white/5 font-mono text-[10px] text-slate-500 overflow-hidden relative",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-transparent to-[#050505]"}),c.jsx("p",{className:"text-teal-400",children:'<AuditFile xmlns="urn:OECD...">'}),c.jsx("p",{className:"pl-2 text-emerald-600",children:"<Header>"}),c.jsx("p",{className:"pl-4 text-slate-400",children:"<CompanyID>5000123...</CompanyID>"}),c.jsx("p",{className:"pl-4 text-slate-400",children:"<TaxRegistration>500...</TaxRegistration>"}),c.jsx("p",{className:"pl-2 text-emerald-600",children:"</Header>"})]})]})}),c.jsx(Lb,{className:"rounded-[32px] p-8 flex flex-col justify-between",children:c.jsxs("div",{children:[c.jsx("div",{className:"p-3 bg-teal-500/10 w-fit rounded-xl text-teal-400 mb-6 border border-teal-500/20",children:c.jsx(ia,{className:"w-8 h-8"})}),c.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:"Performance"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ll,{text:"Processamento < 2s/pgina"}),c.jsx(ll,{text:"Escalabilidade horizontal"}),c.jsx(ll,{text:"Alta disponibilidade (99.9%)"})]})]})}),c.jsx(Lb,{className:"rounded-[32px] p-8 flex flex-col justify-between",children:c.jsxs("div",{children:[c.jsx("div",{className:"p-3 bg-emerald-500/10 w-fit rounded-xl text-emerald-400 mb-6 border border-emerald-500/20",children:c.jsx(z8,{className:"w-8 h-8"})}),c.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:"Analytics"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ll,{text:"Dashboard de integridade"}),c.jsx(ll,{text:"Alertas de erro crticos"}),c.jsx(ll,{text:"Mtricas financeiras live"})]})]})})]})]})}),c.jsxs("section",{id:"casos-uso",className:"py-32 px-6 bg-[#050505] relative border-y border-white/5",children:[c.jsx("style",{children:`
                    @keyframes cardFloat {
                        0% { transform: translateY(0); }
                        50% { transform: translateY(-10px); }
                        100% { transform: translateY(0); }
                    }
                `}),c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-4xl font-bold mb-6 text-white",children:"Feito para Escalar"}),c.jsx("p",{className:"text-slate-400 max-w-2xl mx-auto text-lg",children:"Infraestrutura robusta que cresce junto com a sua operao, adaptvel a qualquer cenrio empresarial."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Grupos Empresariais",icon:Wa,desc:"Gesto multi-entidade consolidada com controle de acesso granular.",color:"text-teal-400",bg:"bg-teal-500/10"},{title:"Contabilidade",icon:Zb,desc:"Automatize a recolha de documentos de centenas de clientes em simultneo.",color:"text-emerald-400",bg:"bg-emerald-500/10"},{title:"Fintechs & Bancos",icon:Y8,desc:"Integrao via API para processamento massivo de transaes e compliance.",color:"text-teal-400",bg:"bg-teal-500/10"},{title:"Departamentos Fiscais",icon:ki,desc:"Auditoria contnua e deteo de riscos fiscais antes do fecho do ms.",color:"text-emerald-400",bg:"bg-emerald-500/10"},{title:"Startups",icon:N7e,desc:"Comece rpido com processos eficientes que no quebram no hipercrescimento.",color:"text-teal-400",bg:"bg-teal-500/10"},{title:"Operaes Multi-NIF",icon:gy,desc:"Viso 360 de todas as obrigaes fiscais em uma nica interface.",color:"text-emerald-400",bg:"bg-emerald-500/10"}].map((o,l)=>c.jsxs("div",{className:"relative group p-8 bg-[#0c0c0c] border border-white/5 rounded-[32px] hover:bg-[#111] transition-all hover:border-white/20 hover:-translate-y-2 duration-300 overflow-hidden",children:[c.jsx("div",{className:`absolute top-0 right-0 p-32 ${o.bg} rounded-full blur-[80px] -mr-16 -mt-16 opacity-0 group-hover:opacity-100 transition-opacity`}),c.jsx("div",{className:`w-14 h-14 rounded-2xl ${o.bg} flex items-center justify-center ${o.color} mb-6 shadow-inner relative z-10`,children:c.jsx(o.icon,{className:"w-7 h-7"})}),c.jsx("h3",{className:"text-xl font-bold text-white mb-3 relative z-10",children:o.title}),c.jsx("p",{className:"text-sm text-slate-400 leading-relaxed relative z-10",children:o.desc}),c.jsxs("div",{className:"mt-6 flex items-center gap-2 text-xs font-bold text-white opacity-0 group-hover:opacity-100 transition-opacity relative z-10",children:["Saber mais ",c.jsx(mu,{className:"w-3 h-3"})]})]},l))})]})]}),c.jsxs("section",{id:"clientes",className:"py-32 px-6 relative overflow-hidden bg-[#020202]",children:[c.jsx("style",{children:`
                    @keyframes scroll {
                        0% { transform: translateX(0); }
                        100% { transform: translateX(-50%); }
                    }
                    .logo-ticker-wrapper {
                        width: 100%;
                        overflow: hidden;
                        mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
                    }
                    .logo-ticker-track {
                        display: flex;
                        width: max-content;
                        animation: scroll 40s linear infinite;
                    }
                    .logo-item {
                        padding: 0 40px;
                        font-size: 24px;
                        font-weight: 900;
                        color: #475569;
                        opacity: 0.7;
                        transition: all 0.3s;
                        cursor: default;
                        user-select: none;
                    }
                    .logo-item:hover {
                        color: white;
                        opacity: 1;
                        text-shadow: 0 0 20px rgba(255,255,255,0.3);
                    }
                `}),c.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Confiana de Lderes em Angola"}),c.jsx("div",{className:"logo-ticker-wrapper py-8 mb-16",children:c.jsx("div",{className:"logo-ticker-track",children:[...Array(2)].map((o,l)=>c.jsx(gu.Fragment,{children:["UNITEL","SONANGOL","BAI","ZAP","NCR","TAAG","KERO","CANDANDO","SHOPRITE","BIC"].map(u=>c.jsx("div",{className:"logo-item tracking-widest font-black",children:u},`${u}-${l}`))},l))})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{name:"Joo Silva",role:"CFO, Grupo Varejo Sul",text:"O KwikDocs reduziu nosso tempo de fecho mensal em 70%. A validao automtica de faturas eliminou erros humanos crticos."},{name:"Maria Costa",role:"Diretora Fiscal, TechAngola",text:"A preciso do OCR em documentos angolanos  impressionante. Identifica NIFs e taxas corretamente mesmo em digitalizaes ruins."},{name:"Pedro Manuel",role:"Scio, Consultoria Prime",text:"Gerimos 50+ clientes na plataforma. A exportao SAFT automtica e a viso consolidada so funcionalidades indispensveis."},{name:"Ana Beatriz",role:"CEO, StartAngola",text:"Simplesmente a melhor ferramenta para startups. Consigo focar no crescimento enquanto o KwikDocs cuida da papelada.",bg:"bg-[#111]"},{name:"Carlos Dundo",role:"Gestor, Logstica AO",text:"A deteco de duplicidade nos salvou milhares de kwanzas logo no primeiro ms de uso. Recomendo vivamente.",bg:"bg-[#111]"},{name:"Sofia Marques",role:"Contabilista Snior",text:"A interface  intuitiva e o suporte  fantstico. A integrao com o nosso ERP foi suave e rpida.",bg:"bg-[#111]"}].map((o,l)=>c.jsxs("div",{className:`p-8 rounded-[24px] border border-white/5 relative group hover:border-white/10 transition-all ${l%2===0?"bg-[#0c0c0c]":"bg-[#0a0a0a]"}`,children:[c.jsx(Ppe,{className:"w-8 h-8 text-teal-500/20 absolute top-6 right-6 group-hover:text-teal-500/40 transition-colors"}),c.jsx("div",{className:"flex gap-1 text-yellow-500 mb-4 opacity-80",children:[1,2,3,4,5].map(u=>c.jsx(ime,{className:"w-3.5 h-3.5 fill-current"},u))}),c.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed mb-6 relative z-10",children:['"',o.text,'"']}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-xs font-bold text-white border border-white/10",children:o.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-bold text-sm",children:o.name}),c.jsx("p",{className:"text-slate-500 text-xs",children:o.role})]})]})]},l))})]})]}),c.jsx("section",{id:"precos",className:"py-32 px-6 bg-[#030303]",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-20",children:[c.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Planos Transparentes"}),c.jsx("p",{className:"text-slate-400",children:"Escolha a potncia ideal para a sua operao fiscal."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto items-center",children:[c.jsxs("div",{className:"bg-[#0a0a0a] border border-white/5 rounded-[32px] p-8 flex flex-col hover:border-white/10 transition-colors relative group h-[500px]",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("span",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest",children:"Starter"}),c.jsxs("div",{className:"mt-4 flex items-baseline gap-1",children:[c.jsx("span",{className:"text-4xl font-bold text-white",children:"50.000"}),c.jsx("span",{className:"text-slate-500 text-sm font-medium",children:"Kz / ms"})]}),c.jsx("p",{className:"text-slate-500 text-sm mt-4 leading-relaxed",children:"Ideal para freelancers e pequenas empresas que esto a comear."})]}),c.jsx("div",{className:"w-full h-px bg-white/5 mb-6"}),c.jsx("ul",{className:"space-y-4 mb-8 flex-1",children:["100 Documentos/ms","OCR Bsico","Exportao Excel","Suporte por Email"].map(o=>c.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-300",children:[c.jsx("div",{className:"p-0.5 rounded-full bg-slate-800 text-slate-400",children:c.jsx(Pc,{className:"w-3 h-3"})}),o]},o))}),c.jsx("button",{onClick:e,className:"w-full py-4 rounded-xl border border-white/10 text-white font-bold hover:bg-white/5 transition-colors text-sm uppercase tracking-wide",children:"Comear Agora"})]}),c.jsxs("div",{className:"bg-[#0c0c0c] border border-teal-500/50 rounded-[32px] p-8 flex flex-col relative shadow-[0_0_60px_-15px_rgba(20,184,166,0.2)] transform scale-105 z-10 h-[540px]",children:[c.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-teal-500 text-black text-[10px] font-bold px-4 py-1.5 rounded-full uppercase tracking-wider shadow-lg shadow-teal-500/20",children:"Mais Popular"}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("span",{className:"text-sm font-bold text-teal-400 uppercase tracking-widest flex items-center gap-2",children:[c.jsx(ia,{className:"w-4 h-4 fill-current"})," Pro Business"]}),c.jsxs("div",{className:"mt-4 flex items-baseline gap-1",children:[c.jsx("span",{className:"text-5xl font-bold text-white",children:"150.000"}),c.jsx("span",{className:"text-slate-500 text-sm font-medium",children:"Kz / ms"})]}),c.jsx("p",{className:"text-slate-400 text-sm mt-4 leading-relaxed",children:"Para empresas em crescimento que precisam de compliance total e automao."})]}),c.jsx("div",{className:"w-full h-px bg-teal-500/20 mb-6"}),c.jsx("ul",{className:"space-y-4 mb-8 flex-1",children:["1.000 Documentos/ms","Validao AGT Real-time","Exportao SAFT Certificado","Suporte Prioritrio","3 Utilizadores","API de Integrao"].map(o=>c.jsxs("li",{className:"flex items-center gap-3 text-sm text-white font-medium",children:[c.jsx("div",{className:"p-0.5 rounded-full bg-teal-500 text-black",children:c.jsx(Pc,{className:"w-3 h-3"})}),o]},o))}),c.jsx("button",{onClick:e,className:"w-full py-4 rounded-xl bg-teal-500 text-black font-bold hover:bg-teal-400 transition-colors shadow-lg shadow-teal-500/20 text-sm uppercase tracking-wide",children:"Assinar Pro"})]}),c.jsxs("div",{className:"bg-[#0a0a0a] border border-white/5 rounded-[32px] p-8 flex flex-col hover:border-white/10 transition-colors h-[500px]",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("span",{className:"text-sm font-bold text-emerald-400 uppercase tracking-widest",children:"Enterprise"}),c.jsx("div",{className:"mt-4 flex items-baseline gap-1",children:c.jsx("span",{className:"text-4xl font-bold text-white",children:"Sob Consulta"})}),c.jsx("p",{className:"text-slate-500 text-sm mt-4 leading-relaxed",children:"Para grandes volumes, grupos empresariais e integraes customizadas."})]}),c.jsx("div",{className:"w-full h-px bg-white/5 mb-6"}),c.jsx("ul",{className:"space-y-4 mb-8 flex-1",children:["Documentos Ilimitados","API Dedicada & Webhooks","Gestor de Conta","SLA Garantido","On-Premise Opo","SSO & Auditoria"].map(o=>c.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-300",children:[c.jsx("div",{className:"p-0.5 rounded-full bg-emerald-500/20 text-emerald-400",children:c.jsx(Pc,{className:"w-3 h-3"})}),o]},o))}),c.jsx("button",{className:"w-full py-4 rounded-xl border border-white/10 text-white font-bold hover:bg-white/5 transition-colors text-sm uppercase tracking-wide",children:"Falar com Vendas"})]})]})]})}),c.jsxs("section",{className:"py-32 px-6 text-center relative overflow-hidden bg-[#050505] border-t border-white/5",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-teal-900/10 to-transparent pointer-events-none"}),c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-teal-500/5 blur-[120px] rounded-full animate-pulse"}),c.jsxs(w7e,{children:[c.jsxs("h2",{className:"text-4xl md:text-6xl font-bold mb-8 text-white tracking-tight",children:["Transforme documentos em ",c.jsx("br",{}),c.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white to-slate-500",children:"compliance automtico."})]}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-6 mb-12 text-slate-400 font-medium",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(mu,{className:"w-4 h-4 text-teal-500"})," Solicite uma demo"]}),c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(mu,{className:"w-4 h-4 text-teal-500"})," Veja o scanner ao vivo"]}),c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(mu,{className:"w-4 h-4 text-teal-500"})," Automatize sua operao fiscal hoje"]})]}),c.jsxs("button",{onClick:e,className:"bg-white text-black px-12 py-5 rounded-full font-bold text-sm uppercase tracking-wide hover:bg-teal-50 transition-all shadow-[0_0_50px_rgba(255,255,255,0.2)] hover:scale-105 flex items-center gap-3 mx-auto group",children:["Criar Conta Agora ",c.jsx(mu,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),c.jsx("p",{className:"mt-8 text-slate-600 text-xs font-bold uppercase tracking-widest",children:"KwikDocs  Fiscal AI para empresas que no podem errar."})]})]}),c.jsx("section",{id:"faq",className:"py-32 px-6",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsx("h2",{className:"text-3xl font-bold text-center mb-12 text-white",children:"Perguntas Frequentes"}),c.jsx("div",{className:"space-y-4",children:s.map((o,l)=>c.jsxs("div",{className:"border border-white/10 rounded-2xl bg-[#0c0c0c] overflow-hidden group hover:border-white/20 transition-colors",children:[c.jsxs("button",{onClick:()=>i(a===l?null:l),className:"w-full flex items-center justify-between p-6 text-left font-bold text-white hover:bg-white/5 transition-colors",children:[o.q,c.jsx(Px,{className:`w-5 h-5 transition-transform duration-300 ${a===l?"rotate-180 text-teal-400":"text-slate-500"}`})]}),a===l&&c.jsx("div",{className:"p-6 pt-0 text-slate-400 text-sm leading-relaxed animate-in slide-in-from-top-2 border-t border-white/5 mt-2 bg-[#080808]",children:o.a})]},l))})]})}),c.jsx("footer",{className:"py-20 px-6 border-t border-white/5 bg-[#010101] relative z-10",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-16",children:[c.jsxs("div",{className:"md:col-span-1",children:[c.jsx("div",{className:"flex items-center gap-2 text-white mb-6",children:c.jsx(Bx,{className:"w-40 h-10",iconClassName:"w-4 h-4"})}),c.jsx("p",{className:"text-sm text-slate-500 leading-relaxed mb-6",children:"A primeira plataforma de inteligncia fiscal verdadeiramente angolana. Automatize, valide e cresa."}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("a",{href:"#",className:"p-2 rounded-full bg-white/5 text-slate-400 hover:text-white hover:bg-white/10 transition-colors",children:c.jsx(vme,{className:"w-4 h-4"})}),c.jsx("a",{href:"#",className:"p-2 rounded-full bg-white/5 text-slate-400 hover:text-white hover:bg-white/10 transition-colors",children:c.jsx(X0e,{className:"w-4 h-4"})}),c.jsx("a",{href:"#",className:"p-2 rounded-full bg-white/5 text-slate-400 hover:text-white hover:bg-white/10 transition-colors",children:c.jsx(I0e,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-white mb-6",children:"Produto"}),c.jsxs("ul",{className:"space-y-4 text-sm text-slate-500",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-teal-400 transition-colors",children:"OCR Neural"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-teal-400 transition-colors",children:"Validador AGT"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-teal-400 transition-colors",children:"Arquivo Digital"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-teal-400 transition-colors",children:"API para Devs"})})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-white mb-6",children:"Empresa"}),c.jsxs("ul",{className:"space-y-4 text-sm text-slate-500",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-teal-400 transition-colors",children:"Sobre Ns"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-teal-400 transition-colors",children:"Carreiras"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-teal-400 transition-colors",children:"Blog"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-teal-400 transition-colors",children:"Contactos"})})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-white mb-6",children:"Legal"}),c.jsxs("ul",{className:"space-y-4 text-sm text-slate-500",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-teal-400 transition-colors",children:"Termos de Servio"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-teal-400 transition-colors",children:"Poltica de Privacidade"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-teal-400 transition-colors",children:"Segurana"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"hover:text-teal-400 transition-colors",children:"Cookies"})})]})]})]}),c.jsxs("div",{className:"pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-4",children:[c.jsx("p",{className:"text-[10px] text-slate-600 font-bold uppercase tracking-widest",children:" 2024 KwikDocs Fiscal AI. Feito com  em Luanda."}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),c.jsx("span",{className:"text-xs text-slate-500 font-mono",children:"Todos os sistemas operacionais"})]})]})]})})]})},N7e=({className:t})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[c.jsx("path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"}),c.jsx("path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"}),c.jsx("path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"}),c.jsx("path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"})]}),E7e=({error:t,onClose:e})=>{if(!t)return null;const r={account:c.jsx(EJ,{className:"w-12 h-12 text-rose-400"}),connection:c.jsx(TJ,{className:"w-12 h-12 text-amber-400"}),general:c.jsx(wo,{className:"w-12 h-12 text-rose-400"})},n={account:"from-rose-500/20 to-rose-600/5 border-rose-500/30",connection:"from-amber-500/20 to-amber-600/5 border-amber-500/30",general:"from-rose-500/20 to-rose-600/5 border-rose-500/30"};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm animate-in fade-in duration-300",children:c.jsxs("div",{className:`relative w-full max-w-md mx-4 bg-gradient-to-br ${n[t.icon]} border rounded-3xl p-8 shadow-2xl animate-in zoom-in-95 duration-300`,children:[c.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-white transition-colors rounded-full hover:bg-white/10",children:c.jsx(Hs,{className:"w-5 h-5"})}),c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx("div",{className:"p-4 bg-black/30 rounded-2xl border border-white/10",children:r[t.icon]})}),c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:t.title}),c.jsx("p",{className:"text-slate-300 text-sm leading-relaxed mb-6",children:t.message})]}),c.jsx("button",{onClick:e,className:"w-full bg-white/10 hover:bg-white/20 text-white font-bold py-3 rounded-xl transition-all border border-white/10 hover:border-white/20",children:"Entendido"})]})})},LR=t=>{const e=t.toLowerCase();return e.includes("fetch")||e.includes("network")||e.includes("econnrefused")||e.includes("connection")?{title:"Erro de Conexo",message:"No foi possvel conectar ao servidor. Verifique sua conexo com a internet ou tente novamente mais tarde.",icon:"connection"}:e.includes("not found")||e.includes("no encontrad")||e.includes("invalid")||e.includes("invlid")||e.includes("credenciais")||e.includes("usurio")?{title:"Conta No Encontrada",message:"As credenciais informadas no correspondem a nenhuma conta. Verifique o email e a senha digitados.",icon:"account"}:e.includes("j existe")||e.includes("already exists")||e.includes("duplicate")?{title:"Email J Cadastrado",message:"Este email j est associado a uma conta existente. Tente fazer login ou use outro email.",icon:"account"}:e.includes("senha")||e.includes("password")?{title:"Erro de Senha",message:t,icon:"general"}:{title:"Erro de Autenticao",message:t||"Ocorreu um erro inesperado. Por favor, tente novamente.",icon:"general"}},XT=({icon:t,type:e,placeholder:r,value:n,onChange:a})=>c.jsxs("div",{className:"relative group mb-5",children:[c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-teal-400 transition-colors z-10",children:c.jsx(t,{className:"w-5 h-5"})}),c.jsx("input",{type:e,placeholder:r,value:n,onChange:i=>a(i.target.value),className:"w-full bg-[#0c0c0c] border border-white/10 rounded-xl py-4 pl-12 pr-4 text-white placeholder-slate-600 focus:outline-none focus:border-teal-500/50 focus:bg-[#111] focus:shadow-[0_0_20px_rgba(20,184,166,0.1)] transition-all duration-300 font-medium text-sm",required:!0})]}),T7e=({initialMode:t,onAuthSuccess:e,onSwitchMode:r})=>{const{login:n,register:a}=uh(),[i,s]=C.useState(""),[o,l]=C.useState(""),[u,h]=C.useState(""),[f,m]=C.useState(""),[g,b]=C.useState(!1),[y,w]=C.useState(!1),[A,S]=C.useState(null),N=async R=>{R.preventDefault(),w(!0),S(null);try{if(t==="LOGIN")await n(i,o);else{if(o!==f)throw new Error("As senhas no coincidem.");await a(u,i,o)}e(t)}catch(O){S(LR(O.message||"Falha na autenticao.")),w(!1)}},T=async()=>{w(!0);try{await n("john@kwikdocs.ao","123"),e("LOGIN")}catch(R){S(LR(R.message||"Falha no login de demonstrao.")),w(!1)}},k=async()=>{w(!0);try{await n("carlos@techangola.ao","123"),e("LOGIN")}catch(R){S(LR(R.message||"Falha no acesso colaborador.")),w(!1)}};return c.jsxs("div",{className:"min-h-screen bg-[#020202] flex relative overflow-hidden font-sans",children:[c.jsx(E7e,{error:A,onClose:()=>S(null)}),c.jsx("div",{className:"w-full lg:w-[45%] flex flex-col justify-center p-8 lg:p-16 relative z-20 bg-[#020202] border-r border-white/5",children:c.jsxs("div",{className:"max-w-sm mx-auto w-full animate-in fade-in slide-in-from-left-8 duration-700",children:[c.jsx("div",{className:"flex items-center justify-start text-white mb-12",children:c.jsx(Bx,{className:"w-64 h-16",iconClassName:"w-full h-full"})}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-white mb-2 tracking-tight",children:t==="LOGIN"?"Acesso Seguro.":"Criar Conta."}),c.jsx("p",{className:"text-slate-400 text-base leading-relaxed",children:t==="LOGIN"?"Entre para gerir a sua inteligncia fiscal.":"Junte-se  plataforma de contabilidade mais avanada de Angola."})]}),c.jsxs("form",{onSubmit:N,children:[t==="REGISTER"&&c.jsx(XT,{icon:mf,type:"text",placeholder:"Nome completo",value:u,onChange:h}),c.jsx(XT,{icon:d_,type:"email",placeholder:"Email profissional",value:i,onChange:s}),c.jsx(XT,{icon:P0,type:"password",placeholder:"Palavra-passe",value:o,onChange:l}),t==="REGISTER"&&c.jsx(XT,{icon:P0,type:"password",placeholder:"Confirmar palavra-passe",value:f,onChange:m}),t==="REGISTER"&&c.jsxs("div",{className:"flex items-center gap-3 py-2 mb-4",children:[c.jsx("button",{type:"button",className:`w-5 h-5 rounded border flex items-center justify-center transition-all duration-300 ${g?"bg-teal-500 border-teal-500":"border-slate-700 bg-slate-900/50 hover:border-slate-500"}`,onClick:()=>b(!g),children:g&&c.jsx(Ox,{className:"w-3.5 h-3.5 text-black"})}),c.jsxs("span",{className:"text-xs text-slate-400 select-none cursor-pointer",onClick:()=>b(!g),children:["Aceito os ",c.jsx("span",{className:"text-white hover:underline",children:"termos"})," e ",c.jsx("span",{className:"text-white hover:underline",children:"polticas de privacidade"}),"."]})]}),t==="LOGIN"&&c.jsx("div",{className:"flex justify-end mb-6",children:c.jsx("button",{type:"button",className:"text-xs text-teal-400 hover:text-teal-300 transition-colors font-bold uppercase tracking-wide",children:"Recuperar Acesso"})}),c.jsx("button",{type:"submit",disabled:y||t==="REGISTER"&&!g,className:"w-full bg-teal-500 hover:bg-teal-400 text-black font-bold py-4 rounded-xl transition-all shadow-[0_0_20px_rgba(20,184,166,0.3)] hover:shadow-[0_0_30px_rgba(20,184,166,0.5)] hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none mt-2 flex items-center justify-center gap-2 group uppercase tracking-wide text-sm",children:y?c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"w-2 h-2 bg-black rounded-full animate-bounce"}),c.jsx("span",{className:"w-2 h-2 bg-black rounded-full animate-bounce delay-100"}),c.jsx("span",{className:"w-2 h-2 bg-black rounded-full animate-bounce delay-200"})]}):c.jsxs(c.Fragment,{children:[t==="LOGIN"?"Entrar no Sistema":"Comear Agora",c.jsx(mu,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[c.jsxs("button",{type:"button",onClick:T,disabled:y,className:"bg-[#111] hover:bg-[#1A1A1A] text-slate-300 font-bold py-3 rounded-xl transition-all border border-white/5 hover:border-white/10 flex items-center justify-center gap-2 text-xs uppercase tracking-wide hover:text-white",children:[c.jsx(ia,{className:"w-4 h-4 text-emerald-400"})," Admin Demo"]}),c.jsxs("button",{type:"button",onClick:k,disabled:y,className:"bg-[#111] hover:bg-[#1A1A1A] text-slate-300 font-bold py-3 rounded-xl transition-all border border-white/5 hover:border-white/10 flex items-center justify-center gap-2 text-xs uppercase tracking-wide hover:text-white",children:[c.jsx(yy,{className:"w-4 h-4 text-cyan-400"})," Colaborador"]})]})]}),c.jsx("div",{className:"mt-10 text-center",children:c.jsxs("p",{className:"text-sm text-slate-500",children:[t==="LOGIN"?"Ainda no  cliente?":"J possui conta?",c.jsx("button",{onClick:()=>r(t==="LOGIN"?"REGISTER":"LOGIN"),className:"ml-2 text-white font-bold hover:text-teal-400 transition-colors",children:t==="LOGIN"?"Criar conta":"Fazer login"})]})})]})}),c.jsxs("div",{className:"hidden lg:flex w-[55%] bg-[#050505] relative items-center justify-center overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-10"}),c.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-teal-500/5 rounded-full blur-[120px] mix-blend-screen animate-pulse"}),c.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-emerald-600/5 rounded-full blur-[120px] mix-blend-screen animate-pulse delay-1000"}),c.jsxs("div",{className:"relative z-10 max-w-lg animate-in fade-in slide-in-from-right-8 duration-1000 delay-200",children:[c.jsxs("div",{className:"relative w-full aspect-square mb-12 flex items-center justify-center",children:[c.jsxs("div",{className:"relative w-64 h-64 bg-[#080808] border border-teal-500/20 rounded-[40px] flex items-center justify-center shadow-2xl shadow-teal-900/20 z-10",children:[c.jsx(j0e,{className:"w-24 h-24 text-teal-500 animate-pulse drop-shadow-[0_0_15px_rgba(20,184,166,0.5)]"}),c.jsx("div",{className:"absolute inset-0 border border-teal-500/10 rounded-[40px] animate-ping duration-[3s]"})]}),c.jsx("div",{className:"absolute w-96 h-96 border border-white/5 rounded-full animate-[spin_10s_linear_infinite]",children:c.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-4 h-4 bg-slate-800 border border-teal-500 rounded-full shadow-[0_0_10px_#14b8a6]"})}),c.jsx("div",{className:"absolute w-[500px] h-[500px] border border-white/5 rounded-full animate-[spin_15s_linear_infinite_reverse] border-dashed"}),c.jsxs("div",{className:"absolute -right-12 top-20 bg-[#111]/90 backdrop-blur border border-white/10 p-4 rounded-2xl shadow-xl animate-bounce delay-700 max-w-[180px]",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"p-1.5 bg-emerald-500/20 rounded text-emerald-400",children:c.jsx(Ox,{className:"w-4 h-4"})}),c.jsx("span",{className:"text-xs font-bold text-white",children:"Validado AGT"})]}),c.jsx("div",{className:"h-1.5 bg-slate-800 rounded-full w-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-emerald-500 w-full"})})]}),c.jsxs("div",{className:"absolute -left-12 bottom-20 bg-[#111]/90 backdrop-blur border border-white/10 p-4 rounded-2xl shadow-xl animate-bounce max-w-[180px]",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"p-1.5 bg-teal-500/20 rounded text-teal-400",children:c.jsx(B0,{className:"w-4 h-4"})}),c.jsx("span",{className:"text-xs font-bold text-white",children:"OCR Neural"})]}),c.jsx("p",{className:"text-[10px] text-slate-400",children:"Processando lote..."})]})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Automaco Fiscal Inteligente"}),c.jsx("p",{className:"text-slate-400 text-sm",children:"Elimine 90% do trabalho manual e garanta conformidade total com a AGT usando nossa IA."})]})]})]})]})},xv=({children:t})=>c.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 ml-1",children:t}),JT=t=>c.jsx("input",{...t,className:"w-full bg-[#111] border border-white/5 rounded-xl py-3.5 px-4 text-white placeholder-slate-600 focus:outline-none focus:border-teal-500/50 focus:bg-[#151515] transition-all mb-5 text-sm font-medium"}),PY=({options:t,placeholder:e,...r})=>c.jsxs("div",{className:"relative mb-5",children:[c.jsxs("select",{...r,className:"w-full bg-[#111] border border-white/5 rounded-xl py-3.5 px-4 text-white appearance-none focus:outline-none focus:border-teal-500/50 focus:bg-[#151515] transition-all cursor-pointer text-sm font-medium",children:[c.jsx("option",{value:"",disabled:!0,className:"text-slate-500",children:e}),t.map(n=>c.jsx("option",{value:n,className:"bg-[#111]",children:n},n))]}),c.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-500 text-xs",children:""})]}),j7e=({onComplete:t})=>{const[e,r]=C.useState(1),[n,a]=C.useState(""),[i,s]=C.useState(""),[o,l]=C.useState(""),[u,h]=C.useState(""),[f,m]=C.useState(""),[g,b]=C.useState(null),y=()=>r(N=>N+1),[w,A]=C.useState(!1),S=async()=>{A(!0);try{const N=localStorage.getItem("auth_token"),T=await fetch("/api/setup/company",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify({name:n,nif:i,type:o,regime:u,activity:f,hasAccountant:g,accountantEmail:""})});if(!T.ok){const k=await T.json();throw new Error(k.error||"Erro ao salvar dados da empresa")}t()}catch(N){console.error("Onboarding save error:",N),alert("Erro ao salvar configuraes. Tente novamente.")}finally{A(!1)}};return c.jsxs("div",{className:"min-h-screen bg-[#020202] flex items-center justify-center p-6 relative font-sans overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5"}),c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-teal-500/5 rounded-full filter blur-[100px] animate-pulse"}),c.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-emerald-500/5 rounded-full filter blur-[100px]"})]}),c.jsxs("div",{className:"w-full max-w-2xl relative z-10",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8 px-2",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Bx,{className:"w-8 h-8 flex-shrink-0",iconClassName:"w-5 h-5"}),c.jsx("span",{className:"font-bold text-xl text-white tracking-tight",children:"Setup Inicial"})]}),c.jsxs("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest bg-white/5 px-3 py-1.5 rounded-full",children:["Passo ",c.jsx("span",{className:"text-teal-400",children:e})," / 3"]})]}),c.jsxs("div",{className:"bg-[#080808] border border-white/[0.05] rounded-[32px] p-8 md:p-12 shadow-2xl relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-[#111]",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-teal-600 to-teal-400 transition-all duration-500 ease-out shadow-[0_0_10px_#14b8a6]",style:{width:`${e/3*100}%`}})}),e===1&&c.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("div",{className:"w-12 h-12 bg-[#111] rounded-2xl flex items-center justify-center text-teal-400 mb-4 border border-white/5",children:c.jsx(Wa,{className:"w-6 h-6"})}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-2 tracking-tight",children:"Dados da Empresa"}),c.jsx("p",{className:"text-slate-400 text-sm",children:"Essas informaes so usadas para validao fiscal inteligente na AGT."})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-x-6",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx(xv,{children:"Nome da Empresa"}),c.jsx(JT,{placeholder:"Ex: KwikDocs Solues Lda",value:n,onChange:N=>a(N.target.value)})]}),c.jsxs("div",{children:[c.jsx(xv,{children:"NIF"}),c.jsx(JT,{placeholder:"0000000000",value:i,onChange:N=>s(N.target.value)})]}),c.jsxs("div",{children:[c.jsx(xv,{children:"Tipo de Negcio"}),c.jsx(PY,{value:o,onChange:N=>l(N.target.value),placeholder:"Selecione...",options:["PME","Contabilidade","Comrcio Varejista","Prestao de Servios","Outro"]})]})]}),c.jsx("div",{className:"flex justify-end mt-4",children:c.jsxs("button",{onClick:y,disabled:!n||!i||!o,className:"bg-teal-500 hover:bg-teal-400 text-black px-8 py-3.5 rounded-xl font-bold transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-[0_0_20px_rgba(20,184,166,0.2)] hover:shadow-[0_0_30px_rgba(20,184,166,0.4)]",children:["Continuar ",c.jsx(mu,{className:"w-4 h-4"})]})})]}),e===2&&c.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("div",{className:"w-12 h-12 bg-[#111] rounded-2xl flex items-center justify-center text-teal-400 mb-4 border border-white/5",children:c.jsx(Yo,{className:"w-6 h-6"})}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-2 tracking-tight",children:"Contexto Fiscal"}),c.jsx("p",{className:"text-slate-400 text-sm",children:"Ajude-nos a personalizar os relatrios fiscais para o seu regime."})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-x-6",children:[c.jsxs("div",{children:[c.jsx(xv,{children:"Regime Fiscal"}),c.jsx(PY,{value:u,onChange:N=>h(N.target.value),placeholder:"Selecione o regime...",options:["Regime Geral","Regime Simplificado","Regime de Excluso"]})]}),c.jsxs("div",{children:[c.jsx(xv,{children:"Atividade Principal"}),c.jsx(JT,{placeholder:"Ex: Tecnologia",value:f,onChange:N=>m(N.target.value)})]})]}),c.jsxs("div",{className:"mt-2",children:[c.jsx(xv,{children:"Possui Contabilista Certificado?"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2 mb-5",children:[c.jsxs("button",{onClick:()=>b(!0),className:`p-4 rounded-xl border flex flex-col items-center gap-2 transition-all ${g===!0?"bg-teal-500/10 border-teal-500 text-teal-400 shadow-[0_0_15px_rgba(20,184,166,0.1)]":"bg-[#111] border-white/5 text-slate-400 hover:border-white/20"}`,children:[c.jsx(Ox,{className:"w-6 h-6"}),c.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Sim, tenho"})]}),c.jsxs("button",{onClick:()=>b(!1),className:`p-4 rounded-xl border flex flex-col items-center gap-2 transition-all ${g===!1?"bg-teal-500/10 border-teal-500 text-teal-400 shadow-[0_0_15px_rgba(20,184,166,0.1)]":"bg-[#111] border-white/5 text-slate-400 hover:border-white/20"}`,children:[c.jsx(mf,{className:"w-6 h-6"}),c.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"No tenho"})]})]})]}),g===!0&&c.jsxs("div",{className:"mt-2 animate-in fade-in slide-in-from-top-2",children:[c.jsx(xv,{children:"Email do Contabilista (Opcional)"}),c.jsx(JT,{placeholder:"contabilidade@exemplo.com"})]}),c.jsx("div",{className:"flex justify-end mt-4",children:c.jsxs("button",{onClick:y,disabled:!u||!f||g===null,className:"bg-teal-500 hover:bg-teal-400 text-black px-8 py-3.5 rounded-xl font-bold transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-[0_0_20px_rgba(20,184,166,0.2)] hover:shadow-[0_0_30px_rgba(20,184,166,0.4)]",children:["Continuar ",c.jsx(mu,{className:"w-4 h-4"})]})})]}),e===3&&c.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 text-center py-8",children:[c.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-8",children:[c.jsx("div",{className:"absolute inset-0 bg-teal-500/20 rounded-full blur-xl animate-pulse"}),c.jsx("div",{className:"w-24 h-24 bg-[#111] border border-teal-500/30 rounded-full flex items-center justify-center text-white relative z-10 shadow-2xl",children:c.jsx(Nm,{className:"w-10 h-10 text-teal-400"})})]}),c.jsx("h2",{className:"text-3xl font-bold text-white mb-4 tracking-tight",children:"Tudo Pronto!"}),c.jsx("p",{className:"text-slate-400 max-w-md mx-auto mb-8 text-base",children:"Sua conta foi configurada com sucesso. Para comear, adicionamos um presente de boas-vindas."}),c.jsxs("div",{className:"bg-[#111] border border-white/5 rounded-2xl p-6 max-w-sm mx-auto mb-10 relative group",children:[c.jsx("div",{className:"absolute inset-0 bg-teal-500/5 rounded-2xl group-hover:bg-teal-500/10 transition-colors"}),c.jsx("div",{className:"text-[10px] text-slate-500 uppercase tracking-widest font-bold mb-2",children:"Seu Saldo Inicial"}),c.jsxs("div",{className:"text-5xl font-bold text-white flex items-center justify-center gap-2 tracking-tighter",children:["50 ",c.jsx("span",{className:"text-xl text-teal-400 font-medium",children:"Crditos"})]}),c.jsx("div",{className:"text-xs text-slate-500 mt-2 font-mono",children:"Vlido para 50 documentos AGT"})]}),c.jsx("button",{onClick:S,disabled:w,className:"bg-white text-black px-10 py-4 rounded-xl font-bold text-sm uppercase tracking-wide hover:bg-teal-50 transition-all shadow-[0_0_30px_rgba(255,255,255,0.2)] hover:scale-105 disabled:opacity-50 disabled:cursor-wait",children:w?"Configurando...":"Acessar Dashboard"}),c.jsx("p",{className:"mt-6 text-[10px] text-slate-600 uppercase tracking-widest",children:"Sem compromisso  Cancele quando quiser"})]})]})]})]})},p9=C.createContext({});function m9(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const wle=typeof window<"u",Ale=wle?C.useLayoutEffect:C.useEffect,zP=C.createContext(null);function g9(t,e){t.indexOf(e)===-1&&t.push(e)}function x9(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const q0=(t,e,r)=>r>e?e:r<t?t:r;let v9=()=>{};const Im={},_le=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Sle(t){return typeof t=="object"&&t!==null}const Nle=t=>/^0[^.\s]+$/u.test(t);function y9(t){let e;return()=>(e===void 0&&(e=t()),e)}const lh=t=>t,C7e=(t,e)=>r=>e(t(r)),i4=(...t)=>t.reduce(C7e),pS=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class b9{constructor(){this.subscriptions=[]}add(e){return g9(this.subscriptions,e),()=>x9(this.subscriptions,e)}notify(e,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vm=t=>t*1e3,oh=t=>t/1e3;function Ele(t,e){return e?t*(1e3/e):0}const Tle=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,k7e=1e-7,P7e=12;function O7e(t,e,r,n,a){let i,s,o=0;do s=e+(r-e)/2,i=Tle(s,n,a)-t,i>0?r=s:e=s;while(Math.abs(i)>k7e&&++o<P7e);return s}function s4(t,e,r,n){if(t===e&&r===n)return lh;const a=i=>O7e(i,0,1,t,r);return i=>i===0||i===1?i:Tle(a(i),e,n)}const jle=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Cle=t=>e=>1-t(1-e),kle=s4(.33,1.53,.69,.99),w9=Cle(kle),Ple=jle(w9),Ole=t=>(t*=2)<1?.5*w9(t):.5*(2-Math.pow(2,-10*(t-1))),A9=t=>1-Math.sin(Math.acos(t)),Dle=Cle(A9),Rle=jle(A9),D7e=s4(.42,0,1,1),R7e=s4(0,0,.58,1),Ile=s4(.42,0,.58,1),I7e=t=>Array.isArray(t)&&typeof t[0]!="number",Lle=t=>Array.isArray(t)&&typeof t[0]=="number",L7e={linear:lh,easeIn:D7e,easeInOut:Ile,easeOut:R7e,circIn:A9,circInOut:Rle,circOut:Dle,backIn:w9,backInOut:Ple,backOut:kle,anticipate:Ole},M7e=t=>typeof t=="string",OY=t=>{if(Lle(t)){v9(t.length===4);const[e,r,n,a]=t;return s4(e,r,n,a)}else if(M7e(t))return L7e[t];return t},ZT=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function F7e(t,e){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(h){s.has(h)&&(u.schedule(h),t()),h(o)}const u={schedule:(h,f=!1,m=!1)=>{const b=m&&a?r:n;return f&&s.add(h),b.has(h)||b.add(h),h},cancel:h=>{n.delete(h),s.delete(h)},process:h=>{if(o=h,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(l),r.clear(),a=!1,i&&(i=!1,u.process(h))}};return u}const B7e=40;function Mle(t,e){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=ZT.reduce((N,T)=>(N[T]=F7e(i),N),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:h,update:f,preRender:m,render:g,postRender:b}=s,y=()=>{const N=Im.useManualTiming?a.timestamp:performance.now();r=!1,Im.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(N-a.timestamp,B7e),1)),a.timestamp=N,a.isProcessing=!0,o.process(a),l.process(a),u.process(a),h.process(a),f.process(a),m.process(a),g.process(a),b.process(a),a.isProcessing=!1,r&&e&&(n=!1,t(y))},w=()=>{r=!0,n=!0,a.isProcessing||t(y)};return{schedule:ZT.reduce((N,T)=>{const k=s[T];return N[T]=(R,O=!1,U=!1)=>(r||w(),k.schedule(R,O,U)),N},{}),cancel:N=>{for(let T=0;T<ZT.length;T++)s[ZT[T]].cancel(N)},state:a,steps:s}}const{schedule:fi,cancel:Wx,state:xl,steps:MR}=Mle(typeof requestAnimationFrame<"u"?requestAnimationFrame:lh,!0);let ej;function U7e(){ej=void 0}const Dc={now:()=>(ej===void 0&&Dc.set(xl.isProcessing||Im.useManualTiming?xl.timestamp:performance.now()),ej),set:t=>{ej=t,queueMicrotask(U7e)}},Fle=t=>e=>typeof e=="string"&&e.startsWith(t),Ble=Fle("--"),z7e=Fle("var(--"),_9=t=>z7e(t)?$7e.test(t.split("/*")[0].trim()):!1,$7e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function DY(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const P5={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mS={...P5,transform:t=>q0(0,1,t)},QT={...P5,default:1},j_=t=>Math.round(t*1e5)/1e5,S9=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function V7e(t){return t==null}const H7e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,N9=(t,e)=>r=>!!(typeof r=="string"&&H7e.test(r)&&r.startsWith(t)||e&&!V7e(r)&&Object.prototype.hasOwnProperty.call(r,e)),Ule=(t,e,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(S9);return{[t]:parseFloat(a),[e]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},q7e=t=>q0(0,255,t),FR={...P5,transform:t=>Math.round(q7e(t))},Fv={test:N9("rgb","red"),parse:Ule("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+FR.transform(t)+", "+FR.transform(e)+", "+FR.transform(r)+", "+j_(mS.transform(n))+")"};function G7e(t){let e="",r="",n="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const c8={test:N9("#"),parse:G7e,transform:Fv.transform},o4=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Tg=o4("deg"),F0=o4("%"),Nr=o4("px"),W7e=o4("vh"),K7e=o4("vw"),RY={...F0,parse:t=>F0.parse(t)/100,transform:t=>F0.transform(t*100)},s2={test:N9("hsl","hue"),parse:Ule("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+F0.transform(j_(e))+", "+F0.transform(j_(r))+", "+j_(mS.transform(n))+")"},Bs={test:t=>Fv.test(t)||c8.test(t)||s2.test(t),parse:t=>Fv.test(t)?Fv.parse(t):s2.test(t)?s2.parse(t):c8.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fv.transform(t):s2.transform(t),getAnimatableNone:t=>{const e=Bs.parse(t);return e.alpha=0,Bs.transform(e)}},Y7e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function X7e(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(S9))==null?void 0:e.length)||0)+(((r=t.match(Y7e))==null?void 0:r.length)||0)>0}const zle="number",$le="color",J7e="var",Z7e="var(",IY="${}",Q7e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gS(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=e.replace(Q7e,l=>(Bs.test(l)?(n.color.push(i),a.push($le),r.push(Bs.parse(l))):l.startsWith(Z7e)?(n.var.push(i),a.push(J7e),r.push(l)):(n.number.push(i),a.push(zle),r.push(parseFloat(l))),++i,IY)).split(IY);return{values:r,split:o,indexes:n,types:a}}function Vle(t){return gS(t).values}function Hle(t){const{split:e,types:r}=gS(t),n=e.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=e[s],a[s]!==void 0){const o=r[s];o===zle?i+=j_(a[s]):o===$le?i+=Bs.transform(a[s]):i+=a[s]}return i}}const eBe=t=>typeof t=="number"?0:Bs.test(t)?Bs.getAnimatableNone(t):t;function tBe(t){const e=Vle(t);return Hle(t)(e.map(eBe))}const Kx={test:X7e,parse:Vle,createTransformer:Hle,getAnimatableNone:tBe};function BR(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function rBe({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let a=0,i=0,s=0;if(!e)a=i=s=r;else{const o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;a=BR(l,o,t+1/3),i=BR(l,o,t),s=BR(l,o,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function FC(t,e){return r=>r>0?e:t}const $i=(t,e,r)=>t+(e-t)*r,UR=(t,e,r)=>{const n=t*t,a=r*(e*e-n)+n;return a<0?0:Math.sqrt(a)},nBe=[c8,Fv,s2],aBe=t=>nBe.find(e=>e.test(t));function LY(t){const e=aBe(t);if(!e)return!1;let r=e.parse(t);return e===s2&&(r=rBe(r)),r}const MY=(t,e)=>{const r=LY(t),n=LY(e);if(!r||!n)return FC(t,e);const a={...r};return i=>(a.red=UR(r.red,n.red,i),a.green=UR(r.green,n.green,i),a.blue=UR(r.blue,n.blue,i),a.alpha=$i(r.alpha,n.alpha,i),Fv.transform(a))},u8=new Set(["none","hidden"]);function iBe(t,e){return u8.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function sBe(t,e){return r=>$i(t,e,r)}function E9(t){return typeof t=="number"?sBe:typeof t=="string"?_9(t)?FC:Bs.test(t)?MY:cBe:Array.isArray(t)?qle:typeof t=="object"?Bs.test(t)?MY:oBe:FC}function qle(t,e){const r=[...t],n=r.length,a=t.map((i,s)=>E9(i)(i,e[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function oBe(t,e){const r={...t,...e},n={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(n[a]=E9(t[a])(t[a],e[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function lBe(t,e){const r=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],s=t.indexes[i][n[i]],o=t.values[s]??0;r[a]=o,n[i]++}return r}const cBe=(t,e)=>{const r=Kx.createTransformer(e),n=gS(t),a=gS(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?u8.has(t)&&!a.values.length||u8.has(e)&&!n.values.length?iBe(t,e):i4(qle(lBe(n,a),a.values),r):FC(t,e)};function Gle(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?$i(t,e,r):E9(t)(t,e)}const uBe=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>fi.update(e,r),stop:()=>Wx(e),now:()=>xl.isProcessing?xl.timestamp:Dc.now()}},Wle=(t,e,r=10)=>{let n="";const a=Math.max(Math.round(e/r),2);for(let i=0;i<a;i++)n+=Math.round(t(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},BC=2e4;function T9(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<BC;)e+=r,n=t.next(e);return e>=BC?1/0:e}function dBe(t,e=100,r){const n=r({...t,keyframes:[0,e]}),a=Math.min(T9(n),BC);return{type:"keyframes",ease:i=>n.next(a*i).value/e,duration:oh(a)}}const hBe=5;function Kle(t,e,r){const n=Math.max(e-hBe,0);return Ele(r-t(n),e-n)}const os={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zR=.001;function fBe({duration:t=os.duration,bounce:e=os.bounce,velocity:r=os.velocity,mass:n=os.mass}){let a,i,s=1-e;s=q0(os.minDamping,os.maxDamping,s),t=q0(os.minDuration,os.maxDuration,oh(t)),s<1?(a=u=>{const h=u*s,f=h*t,m=h-r,g=d8(u,s),b=Math.exp(-f);return zR-m/g*b},i=u=>{const f=u*s*t,m=f*r+r,g=Math.pow(s,2)*Math.pow(u,2)*t,b=Math.exp(-f),y=d8(Math.pow(u,2),s);return(-a(u)+zR>0?-1:1)*((m-g)*b)/y}):(a=u=>{const h=Math.exp(-u*t),f=(u-r)*t+1;return-zR+h*f},i=u=>{const h=Math.exp(-u*t),f=(r-u)*(t*t);return h*f});const o=5/t,l=mBe(a,i,o);if(t=vm(t),isNaN(l))return{stiffness:os.stiffness,damping:os.damping,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:s*2*Math.sqrt(n*u),duration:t}}}const pBe=12;function mBe(t,e,r){let n=r;for(let a=1;a<pBe;a++)n=n-t(n)/e(n);return n}function d8(t,e){return t*Math.sqrt(1-e*e)}const gBe=["duration","bounce"],xBe=["stiffness","damping","mass"];function FY(t,e){return e.some(r=>t[r]!==void 0)}function vBe(t){let e={velocity:os.velocity,stiffness:os.stiffness,damping:os.damping,mass:os.mass,isResolvedFromDuration:!1,...t};if(!FY(t,xBe)&&FY(t,gBe))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*q0(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:os.mass,stiffness:a,damping:i}}else{const r=fBe(t);e={...e,...r,mass:os.mass},e.isResolvedFromDuration=!0}return e}function UC(t=os.visualDuration,e=os.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:u,mass:h,duration:f,velocity:m,isResolvedFromDuration:g}=vBe({...r,velocity:-oh(r.velocity||0)}),b=m||0,y=u/(2*Math.sqrt(l*h)),w=s-i,A=oh(Math.sqrt(l/h)),S=Math.abs(w)<5;n||(n=S?os.restSpeed.granular:os.restSpeed.default),a||(a=S?os.restDelta.granular:os.restDelta.default);let N;if(y<1){const k=d8(A,y);N=R=>{const O=Math.exp(-y*A*R);return s-O*((b+y*A*w)/k*Math.sin(k*R)+w*Math.cos(k*R))}}else if(y===1)N=k=>s-Math.exp(-A*k)*(w+(b+A*w)*k);else{const k=A*Math.sqrt(y*y-1);N=R=>{const O=Math.exp(-y*A*R),U=Math.min(k*R,300);return s-O*((b+y*A*w)*Math.sinh(U)+k*w*Math.cosh(U))/k}}const T={calculatedDuration:g&&f||null,next:k=>{const R=N(k);if(g)o.done=k>=f;else{let O=k===0?b:0;y<1&&(O=k===0?vm(b):Kle(N,k,R));const U=Math.abs(O)<=n,H=Math.abs(s-R)<=a;o.done=U&&H}return o.value=o.done?s:R,o},toString:()=>{const k=Math.min(T9(T),BC),R=Wle(O=>T.next(k*O).value,k,30);return k+"ms "+R},toTransition:()=>{}};return T}UC.applyToOptions=t=>{const e=dBe(t,100,UC);return t.ease=e.ease,t.duration=vm(e.duration),t.type="keyframes",t};function h8({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:h}){const f=t[0],m={done:!1,value:f},g=U=>o!==void 0&&U<o||l!==void 0&&U>l,b=U=>o===void 0?l:l===void 0||Math.abs(o-U)<Math.abs(l-U)?o:l;let y=r*e;const w=f+y,A=s===void 0?w:s(w);A!==w&&(y=A-f);const S=U=>-y*Math.exp(-U/n),N=U=>A+S(U),T=U=>{const H=S(U),G=N(U);m.done=Math.abs(H)<=u,m.value=m.done?A:G};let k,R;const O=U=>{g(m.value)&&(k=U,R=UC({keyframes:[m.value,b(m.value)],velocity:Kle(N,U,m.value),damping:a,stiffness:i,restDelta:u,restSpeed:h}))};return O(0),{calculatedDuration:null,next:U=>{let H=!1;return!R&&k===void 0&&(H=!0,T(U),O(U)),k!==void 0&&U>=k?R.next(U-k):(!H&&T(U),m)}}}function yBe(t,e,r){const n=[],a=r||Im.mix||Gle,i=t.length-1;for(let s=0;s<i;s++){let o=a(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||lh:e;o=i4(l,o)}n.push(o)}return n}function bBe(t,e,{clamp:r=!0,ease:n,mixer:a}={}){const i=t.length;if(v9(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=yBe(e,n,a),l=o.length,u=h=>{if(s&&h<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const m=pS(t[f],t[f+1],h);return o[f](m)};return r?h=>u(q0(t[0],t[i-1],h)):u}function wBe(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const a=pS(0,e,n);t.push($i(r,1,a))}}function ABe(t){const e=[0];return wBe(e,t.length-1),e}function _Be(t,e){return t.map(r=>r*e)}function SBe(t,e){return t.map(()=>e||Ile).splice(0,t.length-1)}function C_({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const a=I7e(n)?n.map(OY):OY(n),i={done:!1,value:e[0]},s=_Be(r&&r.length===e.length?r:ABe(e),t),o=bBe(s,e,{ease:Array.isArray(a)?a:SBe(e,a)});return{calculatedDuration:t,next:l=>(i.value=o(l),i.done=l>=t,i)}}const NBe=t=>t!==null;function j9(t,{repeat:e,repeatType:r="loop"},n,a=1){const i=t.filter(NBe),o=a<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const EBe={decay:h8,inertia:h8,tween:C_,keyframes:C_,spring:UC};function Yle(t){typeof t.type=="string"&&(t.type=EBe[t.type])}class C9{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const TBe=t=>t/100;class k9 extends C9{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==Dc.now()&&this.tick(Dc.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Yle(e);const{type:r=C_,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=e;let{keyframes:o}=e;const l=r||C_;l!==C_&&typeof o[0]!="number"&&(this.mixKeyframes=i4(TBe,Gle(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=T9(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:h,repeat:f,repeatType:m,repeatDelay:g,type:b,onUpdate:y,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const A=this.currentTime-u*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?A<0:A>a;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let N=this.currentTime,T=n;if(f){const U=Math.min(this.currentTime,a)/o;let H=Math.floor(U),G=U%1;!G&&U>=1&&(G=1),G===1&&H--,H=Math.min(H,f+1),!!(H%2)&&(m==="reverse"?(G=1-G,g&&(G-=g/o)):m==="mirror"&&(T=s)),N=q0(0,1,G)*o}const k=S?{done:!1,value:h[0]}:T.next(N);i&&(k.value=i(k.value));let{done:R}=k;!S&&l!==null&&(R=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return O&&b!==h8&&(k.value=j9(h,this.options,w,this.speed)),y&&y(k.value),O&&this.finish(),k}then(e,r){return this.finished.then(e,r)}get duration(){return oh(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+oh(e)}get time(){return oh(this.currentTime)}set time(e){var r;e=vm(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Dc.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=oh(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:e=uBe,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dc.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function jBe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Bv=t=>t*180/Math.PI,f8=t=>{const e=Bv(Math.atan2(t[1],t[0]));return p8(e)},CBe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:f8,rotateZ:f8,skewX:t=>Bv(Math.atan(t[1])),skewY:t=>Bv(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},p8=t=>(t=t%360,t<0&&(t+=360),t),BY=f8,UY=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),zY=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),kBe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:UY,scaleY:zY,scale:t=>(UY(t)+zY(t))/2,rotateX:t=>p8(Bv(Math.atan2(t[6],t[5]))),rotateY:t=>p8(Bv(Math.atan2(-t[2],t[0]))),rotateZ:BY,rotate:BY,skewX:t=>Bv(Math.atan(t[4])),skewY:t=>Bv(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function m8(t){return t.includes("scale")?1:0}function g8(t,e){if(!t||t==="none")return m8(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=kBe,a=r;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=CBe,a=o}if(!a)return m8(e);const i=n[e],s=a[1].split(",").map(OBe);return typeof i=="function"?i(s):s[i]}const PBe=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return g8(r,e)};function OBe(t){return parseFloat(t.trim())}const O5=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],D5=new Set(O5),$Y=t=>t===P5||t===Nr,DBe=new Set(["x","y","z"]),RBe=O5.filter(t=>!DBe.has(t));function IBe(t){const e=[];return RBe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const kx={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>g8(e,"x"),y:(t,{transform:e})=>g8(e,"y")};kx.translateX=kx.x;kx.translateY=kx.y;const fy=new Set;let x8=!1,v8=!1,y8=!1;function Xle(){if(v8){const t=Array.from(fy).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const a=IBe(n);a.length&&(r.set(n,a),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}v8=!1,x8=!1,fy.forEach(t=>t.complete(y8)),fy.clear()}function Jle(){fy.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(v8=!0)})}function LBe(){y8=!0,Jle(),Xle(),y8=!1}class P9{constructor(e,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(fy.add(this),x8||(x8=!0,fi.read(Jle),fi.resolveKeyframes(Xle))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:a}=this;if(e[0]===null){const i=a==null?void 0:a.get(),s=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=s),a&&i===void 0&&a.set(e[0])}jBe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),fy.delete(this)}cancel(){this.state==="scheduled"&&(fy.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const MBe=t=>t.startsWith("--");function FBe(t,e,r){MBe(e)?t.style.setProperty(e,r):t.style[e]=r}const BBe=y9(()=>window.ScrollTimeline!==void 0),UBe={};function zBe(t,e){const r=y9(t);return()=>UBe[e]??r()}const Zle=zBe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),c_=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,VY={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:c_([0,.65,.55,1]),circOut:c_([.55,0,1,.45]),backIn:c_([.31,.01,.66,-.59]),backOut:c_([.33,1.53,.69,.99])};function Qle(t,e){if(t)return typeof t=="function"?Zle()?Wle(t,e):"ease-out":Lle(t)?c_(t):Array.isArray(t)?t.map(r=>Qle(r,e)||VY.easeOut):VY[t]}function $Be(t,e,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},u=void 0){const h={[e]:r};l&&(h.offset=l);const f=Qle(o,a);Array.isArray(f)&&(h.easing=f);const m={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),t.animate(h,m)}function ece(t){return typeof t=="function"&&"applyToOptions"in t}function VBe({type:t,...e}){return ece(t)&&Zle()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class HBe extends C9{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=e,v9(typeof e.type!="string");const u=VBe(e);this.animation=$Be(r,n,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=j9(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(h):FBe(r,n,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return oh(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+oh(e)}get time(){return oh(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=vm(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&BBe()?(this.animation.timeline=e,lh):r(this)}}const tce={anticipate:Ole,backInOut:Ple,circInOut:Rle};function qBe(t){return t in tce}function GBe(t){typeof t.ease=="string"&&qBe(t.ease)&&(t.ease=tce[t.ease])}const $R=10;class WBe extends HBe{constructor(e){GBe(e),Yle(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const o=new k9({...s,autoplay:!1}),l=Math.max($R,Dc.now()-this.startTime),u=q0(0,$R,l-$R);r.setWithVelocity(o.sample(Math.max(0,l-u)).value,o.sample(l).value,u),o.stop()}}const HY=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Kx.test(t)||t==="0")&&!t.startsWith("url("));function KBe(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function YBe(t,e,r,n){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],s=HY(a,e),o=HY(i,e);return!s||!o?!1:KBe(t)||(r==="spring"||ece(r))&&n}function b8(t){t.duration=0,t.type="keyframes"}const XBe=new Set(["opacity","clipPath","filter","transform"]),JBe=y9(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ZBe(t){var h;const{motionValue:e,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return JBe()&&r&&XBe.has(r)&&(r!=="transform"||!u)&&!l&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const QBe=40;class e9e extends C9{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:u,element:h,...f}){var b;super(),this.stop=()=>{var y,w;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Dc.now();const m={autoplay:e,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:u,element:h,...f},g=(h==null?void 0:h.KeyframeResolver)||P9;this.keyframeResolver=new g(o,(y,w,A)=>this.onKeyframesResolved(y,w,m,!A),l,u,h),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,r,n,a){var w,A;this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:u,onUpdate:h}=n;this.resolvedAt=Dc.now(),YBe(e,i,s,o)||((Im.instantAnimations||!l)&&(h==null||h(j9(e,n,r))),e[0]=e[e.length-1],b8(n),n.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>QBe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},g=!u&&ZBe(m),b=(A=(w=m.motionValue)==null?void 0:w.owner)==null?void 0:A.current,y=g?new WBe({...m,element:b}):new k9(m);y.finished.then(()=>{this.notifyFinished()}).catch(lh),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),LBe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function rce(t,e,r,n=0,a=1){const i=Array.from(t).sort((u,h)=>u.sortNodePosition(h)).indexOf(e),s=t.size,o=(s-1)*n;return typeof r=="function"?r(i,s):a===1?i*n:o-i*n}const t9e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function r9e(t){const e=t9e.exec(t);if(!e)return[,];const[,r,n,a]=e;return[`--${r??n}`,a]}function nce(t,e,r=1){const[n,a]=r9e(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const s=i.trim();return _le(s)?parseFloat(s):s}return _9(a)?nce(a,e,r+1):a}const n9e={type:"spring",stiffness:500,damping:25,restSpeed:10},a9e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),i9e={type:"keyframes",duration:.8},s9e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},o9e=(t,{keyframes:e})=>e.length>2?i9e:D5.has(t)?t.startsWith("scale")?a9e(e[1]):n9e:s9e,l9e=t=>t!==null;function c9e(t,{repeat:e,repeatType:r="loop"},n){const a=t.filter(l9e),i=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[i]}function O9(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function u9e({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const D9=(t,e,r,n={},a,i)=>s=>{const o=O9(n,t)||{},l=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-vm(l);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:i?void 0:a};u9e(o)||Object.assign(h,o9e(t,h)),h.duration&&(h.duration=vm(h.duration)),h.repeatDelay&&(h.repeatDelay=vm(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(b8(h),h.delay===0&&(f=!0)),(Im.instantAnimations||Im.skipAnimations)&&(f=!0,b8(h),h.delay=0),h.allowFlatten=!o.type&&!o.ease,f&&!i&&e.get()!==void 0){const m=c9e(h.keyframes,o);if(m!==void 0){fi.update(()=>{h.onUpdate(m),h.onComplete()});return}}return o.isSync?new k9(h):new e9e(h)};function qY(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function R9(t,e,r,n){if(typeof e=="function"){const[a,i]=qY(n);e=e(r!==void 0?r:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=qY(n);e=e(r!==void 0?r:t.custom,a,i)}return e}function E2(t,e,r){const n=t.getProps();return R9(n,e,r!==void 0?r:n.custom,t)}const ace=new Set(["width","height","top","left","right","bottom",...O5]),GY=30,d9e=t=>!isNaN(parseFloat(t));class h9e{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const a=Dc.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Dc.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=d9e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new b9);const n=this.events[e].add(r);return e==="change"?()=>{n(),fi.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>GY)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,GY);return Ele(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function d5(t,e){return new h9e(t,e)}const w8=t=>Array.isArray(t);function f9e(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,d5(r))}function p9e(t){return w8(t)?t[t.length-1]||0:t}function m9e(t,e){const r=E2(t,e);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=p9e(i[s]);f9e(t,s,o)}}const rc=t=>!!(t&&t.getVelocity);function g9e(t){return!!(rc(t)&&t.add)}function A8(t,e){const r=t.getValue("willChange");if(g9e(r))return r.add(e);if(!r&&Im.WillChange){const n=new Im.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function I9(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const x9e="framerAppearId",ice="data-"+I9(x9e);function sce(t){return t.props[ice]}function v9e({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function oce(t,e,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:s,...o}=e;n&&(i=n);const l=[],u=a&&t.animationState&&t.animationState.getState()[a];for(const h in o){const f=t.getValue(h,t.latestValues[h]??null),m=o[h];if(m===void 0||u&&v9e(u,h))continue;const g={delay:r,...O9(i||{},h)},b=f.get();if(b!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===b&&!g.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const A=sce(t);if(A){const S=window.MotionHandoffAnimation(A,h,fi);S!==null&&(g.startTime=S,y=!0)}}A8(t,h),f.start(D9(h,f,m,t.shouldReduceMotion&&ace.has(h)?{type:!1}:g,t,y));const w=f.animation;w&&l.push(w)}return s&&Promise.all(l).then(()=>{fi.update(()=>{s&&m9e(t,s)})}),l}function _8(t,e,r={}){var l;const n=E2(t,e,r.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(oce(t,n,r)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:m}=a;return y9e(t,e,u,h,f,m,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[u,h]=o==="beforeChildren"?[i,s]:[s,i];return u().then(()=>h())}else return Promise.all([i(),s(r.delay)])}function y9e(t,e,r=0,n=0,a=0,i=1,s){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(_8(l,e,{...s,delay:r+(typeof n=="function"?0:n)+rce(t.variantChildren,l,n,a,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function b9e(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(i=>_8(t,i,r));n=Promise.all(a)}else if(typeof e=="string")n=_8(t,e,r);else{const a=typeof e=="function"?E2(t,e,r.custom):e;n=Promise.all(oce(t,a,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const w9e={test:t=>t==="auto",parse:t=>t},lce=t=>e=>e.test(t),cce=[P5,Nr,F0,Tg,K7e,W7e,w9e],WY=t=>cce.find(lce(t));function A9e(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Nle(t):!0}const _9e=new Set(["brightness","contrast","saturate","opacity"]);function S9e(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(S9)||[];if(!n)return t;const a=r.replace(n,"");let i=_9e.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+a+")"}const N9e=/\b([a-z-]*)\(.*?\)/gu,S8={...Kx,getAnimatableNone:t=>{const e=t.match(N9e);return e?e.map(S9e).join(" "):t}},KY={...P5,transform:Math.round},E9e={rotate:Tg,rotateX:Tg,rotateY:Tg,rotateZ:Tg,scale:QT,scaleX:QT,scaleY:QT,scaleZ:QT,skew:Tg,skewX:Tg,skewY:Tg,distance:Nr,translateX:Nr,translateY:Nr,translateZ:Nr,x:Nr,y:Nr,z:Nr,perspective:Nr,transformPerspective:Nr,opacity:mS,originX:RY,originY:RY,originZ:Nr},L9={borderWidth:Nr,borderTopWidth:Nr,borderRightWidth:Nr,borderBottomWidth:Nr,borderLeftWidth:Nr,borderRadius:Nr,radius:Nr,borderTopLeftRadius:Nr,borderTopRightRadius:Nr,borderBottomRightRadius:Nr,borderBottomLeftRadius:Nr,width:Nr,maxWidth:Nr,height:Nr,maxHeight:Nr,top:Nr,right:Nr,bottom:Nr,left:Nr,inset:Nr,insetBlock:Nr,insetBlockStart:Nr,insetBlockEnd:Nr,insetInline:Nr,insetInlineStart:Nr,insetInlineEnd:Nr,padding:Nr,paddingTop:Nr,paddingRight:Nr,paddingBottom:Nr,paddingLeft:Nr,paddingBlock:Nr,paddingBlockStart:Nr,paddingBlockEnd:Nr,paddingInline:Nr,paddingInlineStart:Nr,paddingInlineEnd:Nr,margin:Nr,marginTop:Nr,marginRight:Nr,marginBottom:Nr,marginLeft:Nr,marginBlock:Nr,marginBlockStart:Nr,marginBlockEnd:Nr,marginInline:Nr,marginInlineStart:Nr,marginInlineEnd:Nr,backgroundPositionX:Nr,backgroundPositionY:Nr,...E9e,zIndex:KY,fillOpacity:mS,strokeOpacity:mS,numOctaves:KY},T9e={...L9,color:Bs,backgroundColor:Bs,outlineColor:Bs,fill:Bs,stroke:Bs,borderColor:Bs,borderTopColor:Bs,borderRightColor:Bs,borderBottomColor:Bs,borderLeftColor:Bs,filter:S8,WebkitFilter:S8},uce=t=>T9e[t];function dce(t,e){let r=uce(t);return r!==S8&&(r=Kx),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const j9e=new Set(["auto","none","0"]);function C9e(t,e,r){let n=0,a;for(;n<t.length&&!a;){const i=t[n];typeof i=="string"&&!j9e.has(i)&&gS(i).values.length&&(a=t[n]),n++}if(a&&r)for(const i of e)t[i]=dce(r,a)}class k9e extends P9{constructor(e,r,n,a,i){super(e,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),_9(f))){const m=nce(f,r.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!ace.has(n)||e.length!==2)return;const[a,i]=e,s=WY(a),o=WY(i),l=DY(a),u=DY(i);if(l!==u&&kx[n]){this.needsMeasurement=!0;return}if(s!==o)if($Y(s)&&$Y(o))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else kx[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let a=0;a<e.length;a++)(e[a]===null||A9e(e[a]))&&n.push(a);n.length&&C9e(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kx[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=kx[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function P9e(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const a=(r==null?void 0:r[t])??n.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const hce=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function fce(t){return Sle(t)&&"offsetHeight"in t}const{schedule:M9}=Mle(queueMicrotask,!1),qh={x:!1,y:!1};function pce(){return qh.x||qh.y}function O9e(t){return t==="x"||t==="y"?qh[t]?null:(qh[t]=!0,()=>{qh[t]=!1}):qh.x||qh.y?null:(qh.x=qh.y=!0,()=>{qh.x=qh.y=!1})}function mce(t,e){const r=P9e(t),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[r,a,()=>n.abort()]}function YY(t){return!(t.pointerType==="touch"||pce())}function D9e(t,e,r={}){const[n,a,i]=mce(t,r),s=o=>{if(!YY(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const h=f=>{YY(f)&&(u(f),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const gce=(t,e)=>e?t===e?!0:gce(t,e.parentElement):!1,F9=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,R9e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xce(t){return R9e.has(t.tagName)||t.isContentEditable===!0}const tj=new WeakSet;function XY(t){return e=>{e.key==="Enter"&&t(e)}}function VR(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const I9e=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=XY(()=>{if(tj.has(r))return;VR(r,"down");const a=XY(()=>{VR(r,"up")}),i=()=>VR(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function JY(t){return F9(t)&&!pce()}function L9e(t,e,r={}){const[n,a,i]=mce(t,r),s=o=>{const l=o.currentTarget;if(!JY(o))return;tj.add(l);const u=e(l,o),h=(g,b)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),tj.has(l)&&tj.delete(l),JY(g)&&typeof u=="function"&&u(g,{success:b})},f=g=>{h(g,l===window||l===document||r.useGlobalTarget||gce(l,g.target))},m=g=>{h(g,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",m,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),fce(o)&&(o.addEventListener("focus",u=>I9e(u,a)),!xce(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function vce(t){return Sle(t)&&"ownerSVGElement"in t}function M9e(t){return vce(t)&&t.tagName==="svg"}const F9e=[...cce,Bs,Kx],B9e=t=>F9e.find(lce(t)),ZY=()=>({translate:0,scale:1,origin:0,originPoint:0}),o2=()=>({x:ZY(),y:ZY()}),QY=()=>({min:0,max:0}),mo=()=>({x:QY(),y:QY()}),N8={current:null},yce={current:!1},U9e=typeof window<"u";function z9e(){if(yce.current=!0,!!U9e)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>N8.current=t.matches;t.addEventListener("change",e),e()}else N8.current=!1}const $9e=new WeakMap;function $P(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function xS(t){return typeof t=="string"||Array.isArray(t)}const B9=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],U9=["initial",...B9];function VP(t){return $P(t.animate)||U9.some(e=>xS(t[e]))}function bce(t){return!!(VP(t)||t.variants)}function V9e(t,e,r){for(const n in e){const a=e[n],i=r[n];if(rc(a))t.addValue(n,a);else if(rc(i))t.addValue(n,d5(a,{owner:t}));else if(i!==a)if(t.hasValue(n)){const s=t.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=t.getStaticValue(n);t.addValue(n,d5(s!==void 0?s:a,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const eX=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let zC={};function wce(t){zC=t}function H9e(){return zC}class q9e{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=P9,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Dc.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,fi.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=VP(r),this.isVariantNode=bce(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const g=f[m];l[m]!==void 0&&rc(g)&&g.set(l[m])}}mount(e){var r;this.current=e,$9e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(yce.current||z9e(),this.shouldReduceMotion=N8.current),(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Wx(this.notifyUpdate),Wx(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=D5.has(e);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&fi.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zC){const r=zC[e];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mo()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<eX.length;n++){const a=eX[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=e[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=V9e(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=d5(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(_le(n)||Nle(n))?n=parseFloat(n):!B9e(n)&&Kx.test(r)&&(n=dce(e,r)),this.setBaseTarget(e,rc(n)?n.get():n)),rc(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=R9(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[e])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!rc(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new b9),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){M9.render(this.render)}}class Ace extends q9e{constructor(){super(...arguments),this.KeyframeResolver=k9e}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){const n=e.style;return n?n[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rc(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class tv{constructor(e){this.isMounted=!1,this.node=e}update(){}}function _ce({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function G9e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function W9e(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function HR(t){return t===void 0||t===1}function E8({scale:t,scaleX:e,scaleY:r}){return!HR(t)||!HR(e)||!HR(r)}function Ev(t){return E8(t)||Sce(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Sce(t){return tX(t.x)||tX(t.y)}function tX(t){return t&&t!=="0%"}function $C(t,e,r){const n=t-r,a=e*n;return r+a}function rX(t,e,r,n,a){return a!==void 0&&(t=$C(t,a,n)),$C(t,r,n)+e}function T8(t,e=0,r=1,n,a){t.min=rX(t.min,e,r,n,a),t.max=rX(t.max,e,r,n,a)}function Nce(t,{x:e,y:r}){T8(t.x,e.translate,e.scale,e.originPoint),T8(t.y,r.translate,r.scale,r.originPoint)}const nX=.999999999999,aX=1.0000000000001;function K9e(t,e,r,n=!1){const a=r.length;if(!a)return;e.x=e.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&c2(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,Nce(t,s)),n&&Ev(i.latestValues)&&c2(t,i.latestValues))}e.x<aX&&e.x>nX&&(e.x=1),e.y<aX&&e.y>nX&&(e.y=1)}function l2(t,e){t.min=t.min+e,t.max=t.max+e}function iX(t,e,r,n,a=.5){const i=$i(t.min,t.max,a);T8(t,e,r,i,n)}function c2(t,e){iX(t.x,e.x,e.scaleX,e.scale,e.originX),iX(t.y,e.y,e.scaleY,e.scale,e.originY)}function Ece(t,e){return _ce(W9e(t.getBoundingClientRect(),e))}function Y9e(t,e,r){const n=Ece(t,r),{scroll:a}=e;return a&&(l2(n.x,a.offset.x),l2(n.y,a.offset.y)),n}const X9e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J9e=O5.length;function Z9e(t,e,r){let n="",a=!0;for(let i=0;i<J9e;i++){const s=O5[i],o=t[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const u=hce(o,L9[s]);if(!l){a=!1;const h=X9e[s]||s;n+=`${h}(${u}) `}r&&(e[s]=u)}}return n=n.trim(),r?n=r(e,a?"":n):a&&(n="none"),n}function z9(t,e,r){const{style:n,vars:a,transformOrigin:i}=t;let s=!1,o=!1;for(const l in e){const u=e[l];if(D5.has(l)){s=!0;continue}else if(Ble(l)){a[l]=u;continue}else{const h=hce(u,L9[l]);l.startsWith("origin")?(o=!0,i[l]=h):n[l]=h}}if(e.transform||(s||r?n.transform=Z9e(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:h=0}=i;n.transformOrigin=`${l} ${u} ${h}`}}function Tce(t,{style:e,vars:r},n,a){const i=t.style;let s;for(s in e)i[s]=e[s];a==null||a.applyProjectionStyles(i,n);for(s in r)i.setProperty(s,r[s])}function sX(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const OA={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Nr.test(t))t=parseFloat(t);else return t;const r=sX(t,e.target.x),n=sX(t,e.target.y);return`${r}% ${n}%`}},Q9e={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,a=Kx.parse(t);if(a.length>5)return n;const i=Kx.createTransformer(t),s=typeof a[0]!="number"?1:0,o=r.x.scale*e.x,l=r.y.scale*e.y;a[0+s]/=o,a[1+s]/=l;const u=$i(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=u),typeof a[3+s]=="number"&&(a[3+s]/=u),i(a)}},j8={borderRadius:{...OA,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:OA,borderTopRightRadius:OA,borderBottomLeftRadius:OA,borderBottomRightRadius:OA,boxShadow:Q9e};function jce(t,{layout:e,layoutId:r}){return D5.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!j8[t]||t==="opacity")}function $9(t,e,r){var s;const n=t.style,a=e==null?void 0:e.style,i={};if(!n)return i;for(const o in n)(rc(n[o])||a&&rc(a[o])||jce(o,t)||((s=r==null?void 0:r.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=n[o]);return i}function eUe(t){return window.getComputedStyle(t)}class tUe extends Ace{constructor(){super(...arguments),this.type="html",this.renderInstance=Tce}readValueFromInstance(e,r){var n;if(D5.has(r))return(n=this.projection)!=null&&n.isProjecting?m8(r):PBe(e,r);{const a=eUe(e),i=(Ble(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return Ece(e,r)}build(e,r,n){z9(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return $9(e,r,n)}}const rUe={offset:"stroke-dashoffset",array:"stroke-dasharray"},nUe={offset:"strokeDashoffset",array:"strokeDasharray"};function aUe(t,e,r=1,n=0,a=!0){t.pathLength=1;const i=a?rUe:nUe;t[i.offset]=Nr.transform(-n);const s=Nr.transform(e),o=Nr.transform(r);t[i.array]=`${s} ${o}`}const iUe=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Cce(t,{attrX:e,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,u,h){if(z9(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m}=t;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox);for(const g of iUe)f[g]!==void 0&&(m[g]=f[g],delete f[g]);e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&aUe(f,a,i,s,!1)}const kce=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Pce=t=>typeof t=="string"&&t.toLowerCase()==="svg";function sUe(t,e,r,n){Tce(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(kce.has(a)?a:I9(a),e.attrs[a])}function Oce(t,e,r){const n=$9(t,e,r);for(const a in t)if(rc(t[a])||rc(e[a])){const i=O5.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=t[a]}return n}class oUe extends Ace{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mo}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(D5.has(r)){const n=uce(r);return n&&n.default||0}return r=kce.has(r)?r:I9(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return Oce(e,r,n)}build(e,r,n){Cce(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,a){sUe(e,r,n,a)}mount(e){this.isSVGTag=Pce(e.tagName),super.mount(e)}}const lUe=U9.length;function Dce(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Dce(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<lUe;r++){const n=U9[r],a=t.props[n];(xS(a)||a===!1)&&(e[n]=a)}return e}function Rce(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const cUe=[...B9].reverse(),uUe=B9.length;function dUe(t){return e=>Promise.all(e.map(({animation:r,options:n})=>b9e(t,r,n)))}function hUe(t){let e=dUe(t),r=oX(),n=!0;const a=l=>(u,h)=>{var m;const f=E2(t,h,l==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:g,transitionEnd:b,...y}=f;u={...u,...y,...b}}return u};function i(l){e=l(t)}function s(l){const{props:u}=t,h=Dce(t.parent)||{},f=[],m=new Set;let g={},b=1/0;for(let w=0;w<uUe;w++){const A=cUe[w],S=r[A],N=u[A]!==void 0?u[A]:h[A],T=xS(N),k=A===l?S.isActive:null;k===!1&&(b=w);let R=N===h[A]&&N!==u[A]&&T;if(R&&n&&t.manuallyAnimateOnMount&&(R=!1),S.protectedKeys={...g},!S.isActive&&k===null||!N&&!S.prevProp||$P(N)||typeof N=="boolean")continue;const O=fUe(S.prevProp,N);let U=O||A===l&&S.isActive&&!R&&T||w>b&&T,H=!1;const G=Array.isArray(N)?N:[N];let F=G.reduce(a(A),{});k===!1&&(F={});const{prevResolvedValues:L={}}=S,re={...L,...F},Z=X=>{U=!0,m.has(X)&&(H=!0,m.delete(X)),S.needsAnimating[X]=!0;const oe=t.getValue(X);oe&&(oe.liveStyle=!1)};for(const X in re){const oe=F[X],ce=L[X];if(g.hasOwnProperty(X))continue;let Ne=!1;w8(oe)&&w8(ce)?Ne=!Rce(oe,ce):Ne=oe!==ce,Ne?oe!=null?Z(X):m.add(X):oe!==void 0&&m.has(X)?Z(X):S.protectedKeys[X]=!0}S.prevProp=N,S.prevResolvedValues=F,S.isActive&&(g={...g,...F}),n&&t.blockInitialAnimation&&(U=!1);const pe=R&&O;U&&(!pe||H)&&f.push(...G.map(X=>{const oe={type:A};if(typeof X=="string"&&n&&!pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:ce}=t,Ne=E2(ce,X);if(ce.enteringChildren&&Ne){const{delayChildren:ne}=Ne.transition||{};oe.delay=rce(ce.enteringChildren,t,ne)}}return{animation:X,options:oe}}))}if(m.size){const w={};if(typeof u.initial!="boolean"){const A=E2(t,Array.isArray(u.initial)?u.initial[0]:u.initial);A&&A.transition&&(w.transition=A.transition)}m.forEach(A=>{const S=t.getBaseTarget(A),N=t.getValue(A);N&&(N.liveStyle=!0),w[A]=S??null}),f.push({animation:w})}let y=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),n=!1,y?e(f):Promise.resolve()}function o(l,u){var f;if(r[l].isActive===u)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(l,u)}),r[l].isActive=u;const h=s(l);for(const m in r)r[m].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=oX()}}}function fUe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Rce(e,t):!1}function vv(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oX(){return{animate:vv(!0),whileInView:vv(),whileHover:vv(),whileTap:vv(),whileDrag:vv(),whileFocus:vv(),exit:vv()}}function lX(t,e){t.min=e.min,t.max=e.max}function $h(t,e){lX(t.x,e.x),lX(t.y,e.y)}function cX(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Ice=1e-4,pUe=1-Ice,mUe=1+Ice,Lce=.01,gUe=0-Lce,xUe=0+Lce;function Rc(t){return t.max-t.min}function vUe(t,e,r){return Math.abs(t-e)<=r}function uX(t,e,r,n=.5){t.origin=n,t.originPoint=$i(e.min,e.max,t.origin),t.scale=Rc(r)/Rc(e),t.translate=$i(r.min,r.max,t.origin)-t.originPoint,(t.scale>=pUe&&t.scale<=mUe||isNaN(t.scale))&&(t.scale=1),(t.translate>=gUe&&t.translate<=xUe||isNaN(t.translate))&&(t.translate=0)}function k_(t,e,r,n){uX(t.x,e.x,r.x,n?n.originX:void 0),uX(t.y,e.y,r.y,n?n.originY:void 0)}function dX(t,e,r){t.min=r.min+e.min,t.max=t.min+Rc(e)}function yUe(t,e,r){dX(t.x,e.x,r.x),dX(t.y,e.y,r.y)}function hX(t,e,r){t.min=e.min-r.min,t.max=t.min+Rc(e)}function VC(t,e,r){hX(t.x,e.x,r.x),hX(t.y,e.y,r.y)}function fX(t,e,r,n,a){return t-=e,t=$C(t,1/r,n),a!==void 0&&(t=$C(t,1/a,n)),t}function bUe(t,e=0,r=1,n=.5,a,i=t,s=t){if(F0.test(e)&&(e=parseFloat(e),e=$i(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=$i(i.min,i.max,n);t===i&&(o-=e),t.min=fX(t.min,e,r,o,a),t.max=fX(t.max,e,r,o,a)}function pX(t,e,[r,n,a],i,s){bUe(t,e[r],e[n],e[a],e.scale,i,s)}const wUe=["x","scaleX","originX"],AUe=["y","scaleY","originY"];function mX(t,e,r,n){pX(t.x,e,wUe,r?r.x:void 0,n?n.x:void 0),pX(t.y,e,AUe,r?r.y:void 0,n?n.y:void 0)}function gX(t){return t.translate===0&&t.scale===1}function Mce(t){return gX(t.x)&&gX(t.y)}function xX(t,e){return t.min===e.min&&t.max===e.max}function _Ue(t,e){return xX(t.x,e.x)&&xX(t.y,e.y)}function vX(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Fce(t,e){return vX(t.x,e.x)&&vX(t.y,e.y)}function yX(t){return Rc(t.x)/Rc(t.y)}function bX(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Hd(t){return[t("x"),t("y")]}function SUe(t,e,r){let n="";const a=t.x.translate/e.x,i=t.y.translate/e.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:h,rotateX:f,rotateY:m,skewX:g,skewY:b}=r;u&&(n=`perspective(${u}px) ${n}`),h&&(n+=`rotate(${h}deg) `),f&&(n+=`rotateX(${f}deg) `),m&&(n+=`rotateY(${m}deg) `),g&&(n+=`skewX(${g}deg) `),b&&(n+=`skewY(${b}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const Bce=["TopLeft","TopRight","BottomLeft","BottomRight"],NUe=Bce.length,wX=t=>typeof t=="string"?parseFloat(t):t,AX=t=>typeof t=="number"||Nr.test(t);function EUe(t,e,r,n,a,i){a?(t.opacity=$i(0,r.opacity??1,TUe(n)),t.opacityExit=$i(e.opacity??1,0,jUe(n))):i&&(t.opacity=$i(e.opacity??1,r.opacity??1,n));for(let s=0;s<NUe;s++){const o=`border${Bce[s]}Radius`;let l=_X(e,o),u=_X(r,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||AX(l)===AX(u)?(t[o]=Math.max($i(wX(l),wX(u),n),0),(F0.test(u)||F0.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||r.rotate)&&(t.rotate=$i(e.rotate||0,r.rotate||0,n))}function _X(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const TUe=Uce(0,.5,Dle),jUe=Uce(.5,.95,lh);function Uce(t,e,r){return n=>n<t?0:n>e?1:r(pS(t,e,n))}function CUe(t,e,r){const n=rc(t)?t:d5(t);return n.start(D9("",n,e,r)),n.animation}function vS(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const kUe=(t,e)=>t.depth-e.depth;class PUe{constructor(){this.children=[],this.isDirty=!1}add(e){g9(this.children,e),this.isDirty=!0}remove(e){x9(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kUe),this.isDirty=!1,this.children.forEach(e)}}function OUe(t,e){const r=Dc.now(),n=({timestamp:a})=>{const i=a-r;i>=e&&(Wx(n),t(i-e))};return fi.setup(n,!0),()=>Wx(n)}function rj(t){return rc(t)?t.get():t}class DUe{constructor(){this.members=[]}add(e){g9(this.members,e),e.scheduleRender()}remove(e){if(x9(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const nj={hasAnimatedSinceResize:!0,hasEverUpdated:!1},qR=["","X","Y","Z"],RUe=1e3;let IUe=0;function GR(t,e,r,n){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),n&&(n[t]=0))}function zce(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=sce(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",fi,!(a||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&zce(n)}function $ce({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=e==null?void 0:e()){this.id=IUe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(FUe),this.nodes.forEach($Ue),this.nodes.forEach(VUe),this.nodes.forEach(BUe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new PUe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new b9),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=vce(s)&&!M9e(s),this.instance=s;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let h,f=0;const m=()=>this.root.updateBlockedByResize=!1;fi.read(()=>{f=window.innerWidth}),t(s,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,h&&h(),h=OUe(m,250),nj.hasAnimatedSinceResize&&(nj.hasAnimatedSinceResize=!1,this.nodes.forEach(EX)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||KUe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=u.getProps(),A=!this.targetLayout||!Fce(this.targetLayout,g),S=!f&&m;if(this.options.layoutRoot||this.resumeFrom||S||f&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...O9(b,"layout"),onPlay:y,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(h,S)}else f||EX(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Wx(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HUe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zce(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(SX);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(NX);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(zUe),this.nodes.forEach(LUe),this.nodes.forEach(MUe)):this.nodes.forEach(NX),this.clearAllSnapshots();const o=Dc.now();xl.delta=q0(0,1e3/60,o-xl.timestamp),xl.timestamp=o,xl.isProcessing=!0,MR.update.process(xl),MR.preRender.process(xl),MR.render.process(xl),xl.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,M9.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UUe),this.sharedNodes.forEach(qUe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rc(this.snapshot.measuredBox.x)&&!Rc(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=mo(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Mce(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;s&&this.instance&&(o||Ev(this.latestValues)||h)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),YUe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return mo();const o=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(XUe))){const{scroll:h}=this.root;h&&(l2(o.x,h.offset.x),l2(o.y,h.offset.y))}return o}removeElementScroll(s){var l;const o=mo();if($h(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:m}=h;h!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&$h(o,s),l2(o.x,f.offset.x),l2(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=mo();$h(l,s);for(let u=0;u<this.path.length;u++){const h=this.path[u];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&c2(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ev(h.latestValues)&&c2(l,h.latestValues)}return Ev(this.latestValues)&&c2(l,this.latestValues),l}removeTransform(s){const o=mo();$h(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ev(u.latestValues))continue;E8(u.latestValues)&&u.updateSnapshot();const h=mo(),f=u.measurePageBox();$h(h,f),mX(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Ev(this.latestValues)&&mX(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xl.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var g;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!this.layout||!(h||f))return;this.resolvedRelativeTargetAt=xl.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=mo(),this.targetWithTransforms=mo()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yUe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$h(this.target,this.layout.layoutBox),Nce(this.target,this.targetDelta)):$h(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||E8(this.parent.latestValues)||Sce(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,o,l){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mo(),this.relativeTargetOrigin=mo(),VC(this.relativeTargetOrigin,o,l),$h(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===xl.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;$h(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;K9e(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=mo());const{target:g}=s;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cX(this.prevProjectionDelta.x,this.projectionDelta.x),cX(this.prevProjectionDelta.y,this.projectionDelta.y)),k_(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!bX(this.projectionDelta.x,this.prevProjectionDelta.x)||!bX(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=o2(),this.projectionDelta=o2(),this.projectionDeltaWithTransform=o2()}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},f=o2();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=mo(),g=l?l.source:void 0,b=this.layout?this.layout.source:void 0,y=g!==b,w=this.getStack(),A=!w||w.members.length<=1,S=!!(y&&!A&&this.options.crossfade===!0&&!this.path.some(WUe));this.animationProgress=0;let N;this.mixTargetDelta=T=>{const k=T/1e3;TX(f.x,s.x,k),TX(f.y,s.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(VC(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GUe(this.relativeTarget,this.relativeTargetOrigin,m,k),N&&_Ue(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=mo()),$h(N,this.relativeTarget)),y&&(this.animationValues=h,EUe(h,u,this.latestValues,k,S,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Wx(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fi.update(()=>{nj.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=d5(0)),this.currentAnimation=CUe(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),s.onUpdate&&s.onUpdate(h)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RUe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:h}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&Vce(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||mo();const f=Rc(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const m=Rc(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+m}$h(o,l),c2(o,h),k_(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new DUe),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&GR("z",s,u,this.animationValues);for(let h=0;h<qR.length;h++)GR(`rotate${qR[h]}`,s,u,this.animationValues),GR(`skew${qR[h]}`,s,u,this.animationValues);s.render();for(const h in u)s.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=rj(o==null?void 0:o.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=rj(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ev(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=SUe(this.projectionDeltaWithTransform,this.treeScale,h);l&&(f=l(h,f)),s.transform=f;const{x:m,y:g}=this.projectionDelta;s.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,u.animationValues?s.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:s.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in j8){if(h[b]===void 0)continue;const{correct:y,applyTo:w,isCSSVariable:A}=j8[b],S=f==="none"?h[b]:y(h[b],u);if(w){const N=w.length;for(let T=0;T<N;T++)s[w[T]]=S}else A?this.options.visualElement.renderState.vars[b]=S:s[b]=S}this.options.layoutId&&(s.pointerEvents=u===this?rj(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(SX),this.root.sharedNodes.clear()}}}function LUe(t){t.updateLayout()}function MUe(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?Hd(f=>{const m=s?e.measuredBox[f]:e.layoutBox[f],g=Rc(m);m.min=n[f].min,m.max=m.min+g}):Vce(i,e.layoutBox,n)&&Hd(f=>{const m=s?e.measuredBox[f]:e.layoutBox[f],g=Rc(n[f]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const o=o2();k_(o,n,e.layoutBox);const l=o2();s?k_(l,t.applyTransform(a,!0),e.measuredBox):k_(l,n,e.layoutBox);const u=!Mce(o);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const b=mo();VC(b,e.layoutBox,m.layoutBox);const y=mo();VC(y,n,g.layoutBox),Fce(b,y)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=b,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function FUe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function BUe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function UUe(t){t.clearSnapshot()}function SX(t){t.clearMeasurements()}function NX(t){t.isLayoutDirty=!1}function zUe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function EX(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function $Ue(t){t.resolveTargetDelta()}function VUe(t){t.calcProjection()}function HUe(t){t.resetSkewAndRotation()}function qUe(t){t.removeLeadSnapshot()}function TX(t,e,r){t.translate=$i(e.translate,0,r),t.scale=$i(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function jX(t,e,r,n){t.min=$i(e.min,r.min,n),t.max=$i(e.max,r.max,n)}function GUe(t,e,r,n){jX(t.x,e.x,r.x,n),jX(t.y,e.y,r.y,n)}function WUe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const KUe={duration:.45,ease:[.4,0,.1,1]},CX=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),kX=CX("applewebkit/")&&!CX("chrome/")?Math.round:lh;function PX(t){t.min=kX(t.min),t.max=kX(t.max)}function YUe(t){PX(t.x),PX(t.y)}function Vce(t,e,r){return t==="position"||t==="preserve-aspect"&&!vUe(yX(e),yX(r),.2)}function XUe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const JUe=$ce({attachResizeListener:(t,e)=>vS(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),WR={current:void 0},Hce=$ce({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!WR.current){const t=new JUe({});t.mount(window),t.setOptions({layoutScroll:!0}),WR.current=t}return WR.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),V9=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function OX(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ZUe(...t){return e=>{let r=!1;const n=t.map(a=>{const i=OX(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():OX(t[a],null)}}}}function QUe(...t){return C.useCallback(ZUe(...t),t)}class eze extends C.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=fce(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function tze({children:t,isPresent:e,anchorX:r,root:n}){var h;const a=C.useId(),i=C.useRef(null),s=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=C.useContext(V9),l=((h=t.props)==null?void 0:h.ref)??(t==null?void 0:t.ref),u=QUe(i,l);return C.useInsertionEffect(()=>{const{width:f,height:m,top:g,left:b,right:y}=s.current;if(e||!i.current||!f||!m)return;const w=r==="left"?`left: ${b}`:`right: ${y}`;i.current.dataset.motionPopId=a;const A=document.createElement("style");o&&(A.nonce=o);const S=n??document.head;return S.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${w}px !important;
            top: ${g}px !important;
          }
        `),()=>{S.contains(A)&&S.removeChild(A)}},[e]),c.jsx(eze,{isPresent:e,childRef:i,sizeRef:s,children:C.cloneElement(t,{ref:u})})}const rze=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o,root:l})=>{const u=m9(nze),h=C.useId();let f=!0,m=C.useMemo(()=>(f=!1,{id:h,initial:e,isPresent:r,custom:a,onExitComplete:g=>{u.set(g,!0);for(const b of u.values())if(!b)return;n&&n()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[r,u,n]);return i&&f&&(m={...m}),C.useMemo(()=>{u.forEach((g,b)=>u.set(b,!1))},[r]),C.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),s==="popLayout"&&(t=c.jsx(tze,{isPresent:r,anchorX:o,root:l,children:t})),c.jsx(zP.Provider,{value:m,children:t})};function nze(){return new Map}function qce(t=!0){const e=C.useContext(zP);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=e,i=C.useId();C.useEffect(()=>{if(t)return a(i)},[t]);const s=C.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,s]:[!0]}const e3=t=>t.key||"";function DX(t){const e=[];return C.Children.forEach(t,r=>{C.isValidElement(r)&&e.push(r)}),e}const H9=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left",root:l})=>{const[u,h]=qce(s),f=C.useMemo(()=>DX(t),[t]),m=s&&!u?[]:f.map(e3),g=C.useRef(!0),b=C.useRef(f),y=m9(()=>new Map),w=C.useRef(new Set),[A,S]=C.useState(f),[N,T]=C.useState(f);Ale(()=>{g.current=!1,b.current=f;for(let O=0;O<N.length;O++){const U=e3(N[O]);m.includes(U)?(y.delete(U),w.current.delete(U)):y.get(U)!==!0&&y.set(U,!1)}},[N,m.length,m.join("-")]);const k=[];if(f!==A){let O=[...f];for(let U=0;U<N.length;U++){const H=N[U],G=e3(H);m.includes(G)||(O.splice(U,0,H),k.push(H))}return i==="wait"&&k.length&&(O=k),T(DX(O)),S(f),null}const{forceRender:R}=C.useContext(p9);return c.jsx(c.Fragment,{children:N.map(O=>{const U=e3(O),H=s&&!u?!1:f===N||m.includes(U),G=()=>{if(w.current.has(U))return;if(w.current.add(U),y.has(U))y.set(U,!0);else return;let F=!0;y.forEach(L=>{L||(F=!1)}),F&&(R==null||R(),T(b.current),s&&(h==null||h()),n&&n())};return c.jsx(rze,{isPresent:H,initial:!g.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:i,root:l,onExitComplete:H?void 0:G,anchorX:o,children:O},U)})})},Gce=C.createContext({strict:!1}),RX={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let IX=!1;function aze(){if(IX)return;const t={};for(const e in RX)t[e]={isEnabled:r=>RX[e].some(n=>!!r[n])};wce(t),IX=!0}function Wce(){return aze(),H9e()}function ize(t){const e=Wce();for(const r in t)e[r]={...e[r],...t[r]};wce(e)}const sze=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function HC(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||sze.has(t)}let Kce=t=>!HC(t);function oze(t){typeof t=="function"&&(Kce=e=>e.startsWith("on")?!HC(e):t(e))}try{oze(require("@emotion/is-prop-valid").default)}catch{}function lze(t,e,r){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(Kce(a)||r===!0&&HC(a)||!e&&!HC(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}const HP=C.createContext({});function cze(t,e){if(VP(t)){const{initial:r,animate:n}=t;return{initial:r===!1||xS(r)?r:void 0,animate:xS(n)?n:void 0}}return t.inherit!==!1?e:{}}function uze(t){const{initial:e,animate:r}=cze(t,C.useContext(HP));return C.useMemo(()=>({initial:e,animate:r}),[LX(e),LX(r)])}function LX(t){return Array.isArray(t)?t.join(" "):t}const q9=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Yce(t,e,r){for(const n in e)!rc(e[n])&&!jce(n,r)&&(t[n]=e[n])}function dze({transformTemplate:t},e){return C.useMemo(()=>{const r=q9();return z9(r,e,t),Object.assign({},r.vars,r.style)},[e])}function hze(t,e){const r=t.style||{},n={};return Yce(n,r,t),Object.assign(n,dze(t,e)),n}function fze(t,e){const r={},n=hze(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Xce=()=>({...q9(),attrs:{}});function pze(t,e,r,n){const a=C.useMemo(()=>{const i=Xce();return Cce(i,e,Pce(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Yce(i,t.style,t),a.style={...i,...a.style}}return a}const mze=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function G9(t){return typeof t!="string"||t.includes("-")?!1:!!(mze.indexOf(t)>-1||/[A-Z]/u.test(t))}function gze(t,e,r,{latestValues:n},a,i=!1,s){const l=(s??G9(t)?pze:fze)(e,n,a,t),u=lze(e,typeof t=="string",i),h=t!==C.Fragment?{...u,...l,ref:r}:{},{children:f}=e,m=C.useMemo(()=>rc(f)?f.get():f,[f]);return C.createElement(t,{...h,children:m})}function xze({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,a){return{latestValues:vze(r,n,a,t),renderState:e()}}function vze(t,e,r,n){const a={},i=n(t,{});for(const m in i)a[m]=rj(i[m]);let{initial:s,animate:o}=t;const l=VP(t),u=bce(t);e&&u&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let h=r?r.initial===!1:!1;h=h||s===!1;const f=h?o:s;if(f&&typeof f!="boolean"&&!$P(f)){const m=Array.isArray(f)?f:[f];for(let g=0;g<m.length;g++){const b=R9(t,m[g]);if(b){const{transitionEnd:y,transition:w,...A}=b;for(const S in A){let N=A[S];if(Array.isArray(N)){const T=h?N.length-1:0;N=N[T]}N!==null&&(a[S]=N)}for(const S in y)a[S]=y[S]}}}return a}const Jce=t=>(e,r)=>{const n=C.useContext(HP),a=C.useContext(zP),i=()=>xze(t,e,n,a);return r?i():m9(i)},yze=Jce({scrapeMotionValuesFromProps:$9,createRenderState:q9}),bze=Jce({scrapeMotionValuesFromProps:Oce,createRenderState:Xce}),wze=Symbol.for("motionComponentSymbol");function Aze(t,e,r){const n=C.useRef(r);C.useInsertionEffect(()=>{n.current=r});const a=C.useRef(null);return C.useCallback(i=>{var o;i&&((o=t.onMount)==null||o.call(t,i)),e&&(i?e.mount(i):e.unmount());const s=n.current;if(typeof s=="function")if(i){const l=s(i);typeof l=="function"&&(a.current=l)}else a.current?(a.current(),a.current=null):s(i);else s&&(s.current=i)},[e])}const Zce=C.createContext({});function u_(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _ze(t,e,r,n,a,i){var w,A;const{visualElement:s}=C.useContext(HP),o=C.useContext(Gce),l=C.useContext(zP),u=C.useContext(V9).reducedMotion,h=C.useRef(null);n=n||o.renderer,!h.current&&n&&(h.current=n(t,{visualState:e,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u,isSVG:i}));const f=h.current,m=C.useContext(Zce);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&Sze(h.current,r,a,m);const g=C.useRef(!1);C.useInsertionEffect(()=>{f&&g.current&&f.update(r,l)});const b=r[ice],y=C.useRef(!!b&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,b))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,b)));return Ale(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),y.current&&f.animationState&&f.animationState.animateChanges())}),C.useEffect(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,b)}),y.current=!1),f.enteringChildren=void 0)}),f}function Sze(t,e,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:h}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:Qce(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&u_(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:l,layoutRoot:u})}function Qce(t){if(t)return t.options.allowProjection!==!1?t.projection:Qce(t.parent)}function KR(t,{forwardMotionProps:e=!1,type:r}={},n,a){n&&ize(n);const i=r?r==="svg":G9(t),s=i?bze:yze;function o(u,h){let f;const m={...C.useContext(V9),...u,layoutId:Nze(u)},{isStatic:g}=m,b=uze(u),y=s(u,g);if(!g&&wle){Eze();const w=Tze(m);f=w.MeasureLayout,b.visualElement=_ze(t,y,m,a,w.ProjectionNode,i)}return c.jsxs(HP.Provider,{value:b,children:[f&&b.visualElement?c.jsx(f,{visualElement:b.visualElement,...m}):null,gze(t,u,Aze(y,b.visualElement,h),y,g,e,i)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=C.forwardRef(o);return l[wze]=t,l}function Nze({layoutId:t}){const e=C.useContext(p9).id;return e&&t!==void 0?e+"-"+t:t}function Eze(t,e){C.useContext(Gce).strict}function Tze(t){const e=Wce(),{drag:r,layout:n}=e;if(!r&&!n)return{};const a={...r,...n};return{MeasureLayout:r!=null&&r.isEnabled(t)||n!=null&&n.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function jze(t,e){if(typeof Proxy>"u")return KR;const r=new Map,n=(i,s)=>KR(i,s,t,e),a=(i,s)=>n(i,s);return new Proxy(a,{get:(i,s)=>s==="create"?n:(r.has(s)||r.set(s,KR(s,void 0,t,e)),r.get(s))})}const Cze=(t,e)=>e.isSVG??G9(t)?new oUe(e):new tUe(e,{allowProjection:t!==C.Fragment});class kze extends tv{constructor(e){super(e),e.animationState||(e.animationState=hUe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();$P(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Pze=0;class Oze extends tv{constructor(){super(...arguments),this.id=Pze++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Dze={animation:{Feature:kze},exit:{Feature:Oze}};function l4(t){return{point:{x:t.pageX,y:t.pageY}}}const Rze=t=>e=>F9(e)&&t(e,l4(e));function P_(t,e,r,n){return vS(t,e,Rze(r),n)}const eue=({current:t})=>t?t.ownerDocument.defaultView:null,MX=(t,e)=>Math.abs(t-e);function Ize(t,e){const r=MX(t.x,e.x),n=MX(t.y,e.y);return Math.sqrt(r**2+n**2)}const FX=new Set(["auto","scroll"]);class tue{constructor(e,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:s=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=XR(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,y=Ize(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!y)return;const{point:w}=g,{timestamp:A}=xl;this.history.push({...w,timestamp:A});const{onStart:S,onMove:N}=this.handlers;b||(S&&S(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=YR(b,this.transformPagePoint),fi.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:A}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=XR(g.type==="pointercancel"?this.lastMoveEventInfo:YR(b,this.transformPagePoint),this.history);this.startEvent&&y&&y(g,S),w&&w(g,S)},!F9(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=a||window;const l=l4(e),u=YR(l,this.transformPagePoint),{point:h}=u,{timestamp:f}=xl;this.history=[{...h,timestamp:f}];const{onSessionStart:m}=r;m&&m(e,XR(u,this.history)),this.removeListeners=i4(P_(this.contextWindow,"pointermove",this.handlePointerMove),P_(this.contextWindow,"pointerup",this.handlePointerUp),P_(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let r=e.parentElement;for(;r;){const n=getComputedStyle(r);(FX.has(n.overflowX)||FX.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const r=this.scrollPositions.get(e);if(!r)return;const n=e===window,a=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:a.x-r.x,y:a.y-r.y};i.x===0&&i.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,a),fi.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Wx(this.updatePoint)}}function YR(t,e){return e?{point:e(t.point)}:t}function BX(t,e){return{x:t.x-e.x,y:t.y-e.y}}function XR({point:t},e){return{point:t,delta:BX(t,rue(e)),offset:BX(t,Lze(e)),velocity:Mze(e,.1)}}function Lze(t){return t[0]}function rue(t){return t[t.length-1]}function Mze(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const a=rue(t);for(;r>=0&&(n=t[r],!(a.timestamp-n.timestamp>vm(e)));)r--;if(!n)return{x:0,y:0};const i=oh(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Fze(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?$i(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?$i(r,t,n.max):Math.min(t,r)),t}function UX(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Bze(t,{top:e,left:r,bottom:n,right:a}){return{x:UX(t.x,r,a),y:UX(t.y,e,n)}}function zX(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function Uze(t,e){return{x:zX(t.x,e.x),y:zX(t.y,e.y)}}function zze(t,e){let r=.5;const n=Rc(t),a=Rc(e);return a>n?r=pS(e.min,e.max-n,t.min):n>a&&(r=pS(t.min,t.max-a,e.min)),q0(0,1,r)}function $ze(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const C8=.35;function Vze(t=C8){return t===!1?t=0:t===!0&&(t=C8),{x:$X(t,"left","right"),y:$X(t,"top","bottom")}}function $X(t,e,r){return{min:VX(t,e),max:VX(t,r)}}function VX(t,e){return typeof t=="number"?t:t[e]||0}const Hze=new WeakMap;class qze{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mo(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{r?(this.stopAnimation(),this.snapToCursor(l4(f).point)):this.pauseAnimation()},s=(f,m)=>{this.stopAnimation();const{drag:g,dragPropagation:b,onDragStart:y}=this.getProps();if(g&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=O9e(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hd(A=>{let S=this.getAxisMotionValue(A).get()||0;if(F0.test(S)){const{projection:N}=this.visualElement;if(N&&N.layout){const T=N.layout.layoutBox[A];T&&(S=Rc(T)*(parseFloat(S)/100))}}this.originPoint[A]=S}),y&&fi.postRender(()=>y(f,m)),A8(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:g,dragDirectionLock:b,onDirectionLock:y,onDrag:w}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:A}=m;if(b&&this.currentDirection===null){this.currentDirection=Gze(A),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",m.point,A),this.updateAxis("y",m.point,A),this.visualElement.render(),w&&w(f,m)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Hd(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)==null?void 0:m.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new tue(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:n,contextWindow:eue(this.visualElement),element:this.visualElement.current})}stop(e,r){const n=e||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:s}=a;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&fi.postRender(()=>o(n,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:a}=this.getProps();if(!n||!t3(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=Fze(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;e&&u_(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=Bze(n.layoutBox,e):this.constraints=!1,this.elastic=Vze(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Hd(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=$ze(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!u_(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Y9e(n,a.root,this.visualElement.getTransformPagePoint());let s=Uze(a.layout.layoutBox,i);if(r){const o=r(G9e(s));this.hasMutatedConstraints=!!o,o&&(s=_ce(o))}return s}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Hd(h=>{if(!t3(h,r,this.currentDirection))return;let f=l&&l[h]||{};s&&(f={min:0,max:0});const m=a?200:1e6,g=a?40:1e7,b={type:"inertia",velocity:n?e[h]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,b)});return Promise.all(u).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return A8(this.visualElement,e),n.start(D9(e,n,0,r,this.visualElement,!1))}stopAnimation(){Hd(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hd(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Hd(r=>{const{drag:n}=this.getProps();if(!t3(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r],l=i.get()||0;i.set(e[r]-$i(s,o,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!u_(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Hd(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=zze({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Hd(s=>{if(!t3(s,e,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set($i(l,u,a[s]))})}addListeners(){if(!this.visualElement.current)return;Hze.set(this.visualElement,this);const e=this.visualElement.current,r=P_(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&!xce(l.target)&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();u_(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),fi.read(n);const s=vS(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Hd(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())}));return()=>{s(),r(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=C8,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function t3(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Gze(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Wze extends tv{constructor(e){super(e),this.removeGroupControls=lh,this.removeListeners=lh,this.controls=new qze(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lh}update(){const{dragControls:e}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};e!==r&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const HX=t=>(e,r)=>{t&&fi.postRender(()=>t(e,r))};class Kze extends tv{constructor(){super(...arguments),this.removePointerDownListener=lh}onPointerDown(e){this.session=new tue(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eue(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:HX(e),onStart:HX(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&fi.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=P_(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let JR=!1;class Yze extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=e;i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),JR&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),nj.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,JR=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==i?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||fi.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),M9.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=e;JR=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function nue(t){const[e,r]=qce(),n=C.useContext(p9);return c.jsx(Yze,{...t,layoutGroup:n,switchLayoutGroup:C.useContext(Zce),isPresent:e,safeToRemove:r})}const Xze={pan:{Feature:Kze},drag:{Feature:Wze,ProjectionNode:Hce,MeasureLayout:nue}};function qX(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&fi.postRender(()=>i(e,l4(e)))}class Jze extends tv{mount(){const{current:e}=this.node;e&&(this.unmount=D9e(e,(r,n)=>(qX(this.node,n,"Start"),a=>qX(this.node,a,"End"))))}unmount(){}}class Zze extends tv{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=i4(vS(this.node.current,"focus",()=>this.onFocus()),vS(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function GX(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&fi.postRender(()=>i(e,l4(e)))}class Qze extends tv{mount(){const{current:e}=this.node;e&&(this.unmount=L9e(e,(r,n)=>(GX(this.node,n,"Start"),(a,{success:i})=>GX(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const k8=new WeakMap,ZR=new WeakMap,e$e=t=>{const e=k8.get(t.target);e&&e(t)},t$e=t=>{t.forEach(e$e)};function r$e({root:t,...e}){const r=t||document;ZR.has(r)||ZR.set(r,{});const n=ZR.get(r),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(t$e,{root:t,...e})),n[a]}function n$e(t,e,r){const n=r$e(e);return k8.set(t,r),n.observe(t),()=>{k8.delete(t),n.unobserve(t)}}const a$e={some:0,all:1};class i$e extends tv{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=e,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:a$e[a]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=u?h:f;m&&m(l)};return n$e(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(s$e(e,r))&&this.startObserver()}unmount(){}}function s$e({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const o$e={inView:{Feature:i$e},tap:{Feature:Qze},focus:{Feature:Zze},hover:{Feature:Jze}},l$e={layout:{ProjectionNode:Hce,MeasureLayout:nue}},c$e={...Dze,...o$e,...Xze,...l$e},Dg=jze(c$e,Cze),u$e=({onCapture:t,onClose:e})=>{const r=C.useRef(null),n=C.useRef(null),[a,i]=C.useState(null),[s,o]=C.useState(!1),[l,u]=C.useState(null),[h,f]=C.useState(!1),[m,g]=C.useState(!1),[b,y]=C.useState(0),[w,A]=C.useState("searching");C.useEffect(()=>{if(!s||m)return;const T=setInterval(()=>{Math.random()>.8?A("aligned"):A("searching")},2e3);return()=>clearInterval(T)},[s,m]);const S=C.useCallback(async()=>{try{u(null);const T={video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}},k=await navigator.mediaDevices.getUserMedia(T);i(k),r.current&&(r.current.srcObject=k),o(!0)}catch(T){console.error("Camera Access Error:",T),u("No foi possvel aceder  cmara. Verifique as permisses do navegador.")}},[]);C.useEffect(()=>(S(),()=>{a&&a.getTracks().forEach(T=>T.stop())}),[]);const N=()=>{if(!r.current||!n.current)return;g(!0),A("capturing");const T=r.current,k=n.current,R=k.getContext("2d");R&&(k.width=T.videoWidth,k.height=T.videoHeight,R.drawImage(T,0,0,k.width,k.height),k.toBlob(O=>{if(O){const U=new File([O],`scan_${new Date().getTime()}.jpg`,{type:"image/jpeg"});setTimeout(()=>{t(U),e()},800)}},"image/jpeg",.95))};return c.jsxs("div",{className:"fixed inset-0 z-[1000] bg-black flex flex-col items-center justify-center overflow-hidden touch-none select-none",children:[c.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-700 ${s?"opacity-100":"opacity-0"}`}),c.jsx(H9,{children:s&&!m&&c.jsxs(Dg.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute inset-0 bg-black/40 mask-scanner shadow-[inset_0_0_150px_rgba(0,0,0,0.8)]"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-8 lg:p-24",children:c.jsxs("div",{className:`relative w-full max-w-[500px] aspect-[1/1.414] transition-all duration-500 rounded-3xl ${w==="aligned"?"scale-[1.02]":"scale-100"}`,children:[c.jsx("div",{className:"absolute top-0 left-0 w-12 h-12 border-t-4 border-l-4 rounded-tl-3xl transition-colors duration-500",style:{borderColor:w==="aligned"?"#06b6d4":"rgba(255,255,255,0.4)"}}),c.jsx("div",{className:"absolute top-0 right-0 w-12 h-12 border-t-4 border-r-4 rounded-tr-3xl transition-colors duration-500",style:{borderColor:w==="aligned"?"#06b6d4":"rgba(255,255,255,0.4)"}}),c.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-12 border-b-4 border-l-4 rounded-bl-3xl transition-colors duration-500",style:{borderColor:w==="aligned"?"#06b6d4":"rgba(255,255,255,0.4)"}}),c.jsx("div",{className:"absolute bottom-0 right-0 w-12 h-12 border-b-4 border-r-4 rounded-br-3xl transition-colors duration-500",style:{borderColor:w==="aligned"?"#06b6d4":"rgba(255,255,255,0.4)"}}),w==="aligned"&&c.jsx(Dg.div,{initial:{opacity:0},animate:{opacity:.3},className:"absolute inset-0 bg-cyan-500/10 rounded-3xl"}),c.jsx("div",{className:"absolute inset-x-0 h-[2px] bg-gradient-to-r from-transparent via-cyan-500 to-transparent shadow-[0_0_15px_#06b6d4] animate-[scan_4s_linear_infinite]"}),c.jsx("div",{className:"absolute -top-16 left-1/2 -translate-x-1/2 bg-black/60 backdrop-blur-md px-6 py-2 rounded-full border border-white/10 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${w==="aligned"?"bg-cyan-500 animate-pulse":"bg-white/40"}`}),c.jsx("span",{className:"text-[10px] uppercase font-bold tracking-widest text-white",children:w==="aligned"?"Documento Alinhado":"A enquadrar documento..."})]})})]})})]})}),c.jsxs("div",{className:"absolute bottom-0 inset-x-0 p-8 flex flex-col items-center gap-10 bg-gradient-to-t from-black to-transparent",children:[!m&&c.jsx(Dg.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"text-center",children:c.jsx("p",{className:"text-white/80 text-xs font-medium tracking-wide",children:"Aponte a cmara para a fatura ou recibo"})}),c.jsxs("div",{className:"flex items-center justify-between w-full max-w-sm",children:[c.jsx("button",{onClick:()=>f(!h),className:`p-4 rounded-full transition-all ${h?"bg-amber-400 text-black shadow-[0_0_20px_rgba(251,191,36,0.5)]":"bg-white/10 text-white hover:bg-white/20"}`,children:c.jsx(ia,{className:`w-6 h-6 ${h?"fill-current":""}`})}),c.jsxs("button",{onClick:N,disabled:m,className:"relative group p-1 rounded-full border-4 border-white transition-all scale-100 active:scale-90 disabled:opacity-50",children:[c.jsx("div",{className:`w-20 h-20 rounded-full transition-all duration-300 ${w==="aligned"?"bg-cyan-500 scale-90":"bg-white"}`}),w==="aligned"&&!m&&c.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-cyan-500 animate-ping opacity-50"}),m&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx(_m,{className:"w-8 h-8 text-black animate-spin"})})]}),c.jsx("button",{onClick:e,className:"p-4 rounded-full bg-white/10 text-white hover:bg-white/20 transition-all border border-white/5",children:c.jsx(Hs,{className:"w-6 h-6"})})]})]}),l&&c.jsxs("div",{className:"absolute inset-0 bg-black flex flex-col items-center justify-center p-8 z-[2000]",children:[c.jsx("div",{className:"w-20 h-20 bg-red-500/20 rounded-3xl flex items-center justify-center mb-6 border border-red-500/30",children:c.jsx(Ys,{className:"w-10 h-10 text-red-500"})}),c.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Erro na Cmara"}),c.jsx("p",{className:"text-slate-400 text-center text-sm max-w-xs mb-8",children:l}),c.jsx("button",{onClick:e,className:"bg-white text-black px-8 py-3 rounded-2xl font-bold text-sm uppercase tracking-widest active:scale-95 transition-all",children:"Voltar ao Portal"})]}),m&&c.jsxs("div",{className:"absolute inset-0 z-[2000] bg-black/60 backdrop-blur-xl flex flex-col items-center justify-center animate-in fade-in duration-500",children:[c.jsxs("div",{className:"relative w-32 h-32 mb-10",children:[c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx(Dg.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{repeat:1/0,duration:1.5,repeatType:"reverse"},className:"w-full h-full bg-cyan-500/20 rounded-full blur-2xl"})}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx(Pc,{className:"w-12 h-12 text-cyan-500 animate-pulse"})}),c.jsxs("svg",{className:"w-full h-full -rotate-90",children:[c.jsx("circle",{cx:"64",cy:"64",r:"60",fill:"none",stroke:"rgba(6,182,212,0.1)",strokeWidth:"4"}),c.jsx(Dg.circle,{cx:"64",cy:"64",r:"60",fill:"none",stroke:"#06b6d4",strokeWidth:"4",strokeDasharray:"377",initial:{strokeDashoffset:377},animate:{strokeDashoffset:0},transition:{duration:1}})]})]}),c.jsx("h3",{className:"text-2xl font-black text-white italic tracking-tighter",children:"RETIFICANDO..."}),c.jsx("p",{className:"text-slate-400 text-sm mt-3 font-medium",children:"Aplicaes Neurais em curso"})]}),c.jsx("canvas",{ref:n,className:"hidden"}),c.jsx("style",{children:`
                @keyframes scan {
                    0% { top: 0%; opacity: 0; }
                    5% { opacity: 1; }
                    95% { opacity: 1; }
                    100% { top: 100%; opacity: 0; }
                }
                .mask-scanner {
                    mask-image: linear-gradient(to bottom, black, transparent, black);
                }
            `})]})},d$e=({onUploadComplete:t})=>{const{uploadFiles:e}=_o(),r=C.useRef(null),[n,a]=C.useState([]),[i,s]=C.useState(!1),[o,l]=C.useState(!1),[u,h]=C.useState(""),[f,m]=C.useState(!1),g=T=>{const k=[];let R="";const O=n.some(H=>H.type==="application/pdf"),U=n.some(H=>H.type.startsWith("image/"));Array.from(T).forEach(H=>{const G=H.type==="application/pdf",F=["image/jpeg","image/png","image/jpg"].includes(H.type);if(n.length+k.length>=10){R="Limite mximo de 10 documentos por carregamento atingido.";return}if(!G&&!F){R="Formato invlido. Apenas PDF, JPG e PNG so permitidos.";return}if(n.length>0||k.length>0){const L=O||k.some(Z=>Z.type==="application/pdf"),re=U||k.some(Z=>Z.type.startsWith("image/"));if(L&&F){R="No  permitido misturar PDF com Imagens no mesmo lote. Por favor, envie separadamente.";return}if(re&&G){R="No  permitido misturar Imagens com PDF no mesmo lote. Por favor, envie separadamente.";return}}if(H.size>15*1024*1024){R="Alguns ficheiros excedem o limite de 15MB.";return}!n.some(L=>L.name===H.name)&&!k.some(L=>L.name===H.name)&&k.push(H)}),R&&h(R),a(H=>[...H,...k])},b=T=>{T.target.files&&T.target.files.length>0&&g(T.target.files),r.current&&(r.current.value="")},y=C.useCallback(T=>{T.preventDefault(),T.stopPropagation(),s(!1),T.dataTransfer.files&&T.dataTransfer.files.length>0&&g(T.dataTransfer.files)},[n]),w=C.useCallback(T=>{T.preventDefault(),T.stopPropagation(),s(!0)},[]),A=C.useCallback(T=>{T.preventDefault(),T.stopPropagation(),s(!1)},[]),S=T=>{a(k=>k.filter((R,O)=>O!==T))},N=async()=>{if(n.length!==0){l(!0);try{await e(n),a([]),l(!1),h(""),console.log(" Sequential process finished successfully.")}catch(T){console.error("ERROR [handleProcessBatch]:",T),h(T.message||"Falha ao processar documentos. Tente novamente."),l(!1)}}};return o?c.jsxs("div",{className:"relative h-[400px] flex flex-col items-center justify-center animate-in fade-in duration-500",children:[c.jsx(ji,{className:"w-10 h-10 text-cyan-500 animate-spin mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-white",children:"Iniciando Anlise Neural..."}),c.jsx("p",{className:"text-slate-400 text-sm",children:"Aguarde enquanto processamos seus documentos."})]}):c.jsxs("div",{className:"max-w-5xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500 relative",children:[c.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-blue-500/5 rounded-full blur-[100px] pointer-events-none -translate-y-1/2 translate-x-1/2"}),c.jsx("div",{className:"mb-8 flex flex-col md:flex-row justify-between items-start md:items-end gap-6 relative z-10",children:c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500"}),c.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Portal de Ingesto"})]}),c.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white tracking-tight",children:"Anlise Inteligente"}),c.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Carregue documentos fiscais para processamento na Workstation Neural."})]})}),u&&c.jsxs("div",{className:"mb-6 bg-red-900/10 border border-red-500/20 rounded-2xl p-4 flex items-center gap-3 text-red-400 animate-in slide-in-from-top-2 backdrop-blur-md",children:[c.jsx(Ys,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:u}),c.jsx("button",{onClick:()=>h(""),className:"ml-auto hover:text-white transition-colors",children:c.jsx(Hs,{className:"w-4 h-4"})})]}),c.jsx("input",{type:"file",ref:r,className:"hidden",multiple:!0,accept:".pdf,.jpg,.jpeg,.png,.webp",onChange:b}),c.jsxs("div",{className:"flex flex-col gap-6 relative z-10",children:[c.jsxs("div",{onDrop:y,onDragOver:w,onDragLeave:A,className:`
                        relative overflow-hidden rounded-[32px] p-10 text-center transition-all group flex flex-col items-center justify-center min-h-[320px] border-2 border-dashed
                        ${i?"border-cyan-500 bg-cyan-500/10 shadow-[0_0_50px_rgba(6,182,212,0.15)]":"border-white/10 bg-[#080808] hover:border-cyan-500/30 hover:bg-[#0c0c0c]"}
                    `,children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:c.jsx("div",{className:"h-[2px] w-full bg-gradient-to-r from-transparent via-cyan-500 to-transparent absolute top-0 animate-[scan_3s_linear_infinite] shadow-[0_0_10px_#06b6d4]"})}),c.jsx("div",{className:`
                        w-20 h-20 rounded-2xl flex items-center justify-center mb-6 transition-all duration-300 relative
                        ${i?"bg-cyan-500 text-black scale-110":"bg-[#151515] border border-white/5 text-cyan-500 group-hover:border-cyan-500/50 group-hover:text-cyan-400 group-hover:scale-105"}
                    `,children:c.jsx(qfe,{className:"w-10 h-10"})}),c.jsx("h3",{className:"text-2xl font-bold text-white mb-6 tracking-tight",children:i?"Liberar Lote":"Arraste documentos para aqui"}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-4 relative z-20",children:[c.jsx("button",{onClick:()=>{var T;return(T=r.current)==null?void 0:T.click()},className:"bg-white/10 hover:bg-white text-white hover:text-black px-6 py-3 rounded-xl font-bold text-sm uppercase tracking-wide transition-all border border-white/10",children:"Selecionar Arquivos"}),c.jsxs("button",{onClick:()=>m(!0),className:"bg-cyan-500 hover:bg-cyan-400 text-black px-6 py-3 rounded-xl font-bold text-sm uppercase tracking-wide transition-all shadow-[0_0_20px_rgba(6,182,212,0.2)] hover:scale-105 flex items-center gap-2",children:[c.jsx(jfe,{className:"w-4 h-4"})," Usar Cmera"]})]}),f&&c.jsx(u$e,{onCapture:T=>{g([T])},onClose:()=>m(!1)}),c.jsx("p",{className:"text-slate-400 text-xs max-w-sm mx-auto leading-relaxed mt-6",children:"Suportamos PDF, JPG ou PNG. Use a cmera para capturar faturas em papel instantaneamente. Mximo 10 arquivos."})]}),n.length>0&&c.jsxs("div",{className:"bg-[#080808] border border-white/10 rounded-[24px] overflow-hidden shadow-2xl animate-in fade-in slide-in-from-top-4",children:[c.jsxs("div",{className:"p-6 border-b border-white/5 flex justify-between items-center bg-[#0c0c0c]",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(mE,{className:"w-4 h-4 text-cyan-500"}),c.jsx("h3",{className:"font-bold text-white text-sm uppercase tracking-wider",children:"Fila de Preparao"})]}),c.jsx("button",{onClick:()=>a([]),className:"text-[10px] font-bold text-red-400 hover:text-red-300 uppercase tracking-wider",children:"Limpar Tudo"})]}),c.jsx("div",{className:"divide-y divide-white/5 max-h-[300px] overflow-y-auto custom-scrollbar p-2",children:n.map((T,k)=>c.jsxs("div",{className:"p-3 flex items-center justify-between hover:bg-white/5 rounded-xl transition-colors group",children:[c.jsxs("div",{className:"flex items-center gap-4 overflow-hidden",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#151515] border border-white/5 flex items-center justify-center text-slate-400 flex-shrink-0",children:T.type.includes("pdf")?c.jsx(Yo,{className:"w-5 h-5"}):c.jsx(P0e,{className:"w-5 h-5"})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-sm text-white font-bold truncate",children:T.name}),c.jsxs("p",{className:"text-xs text-slate-500 font-mono mt-0.5",children:[(T.size/1024/1024).toFixed(2)," MB"]})]})]}),c.jsx("button",{onClick:()=>S(k),className:"p-2 text-slate-600 hover:text-red-400",children:c.jsx(Hs,{className:"w-4 h-4"})})]},`${T.name}-${k}`))}),c.jsx("div",{className:"p-4 bg-[#0c0c0c] border-t border-white/5 flex justify-end",children:c.jsxs("button",{onClick:N,disabled:o,className:"bg-cyan-500 hover:bg-cyan-400 text-black font-black py-4 px-10 rounded-xl flex items-center gap-3 transition-all shadow-[0_0_20px_rgba(6,182,212,0.2)] hover:scale-[1.02] active:scale-95 disabled:opacity-50 uppercase tracking-widest text-sm",children:[c.jsx(ia,{className:"w-4 h-4 fill-current"})," Iniciar Anlise e Ver Resultados"]})})]})]})]})},h$e=({isAccountingMode:t=!1})=>{const{documents:e,isAccountingMode:r,selectCompany:n,resolveError:a,setSelectedDocument:i}=_o(),[s,o]=C.useState(null),[l,u]=C.useState("ALL"),[h,f]=C.useState("ALL"),[m,g]=C.useState(""),[b,y]=C.useState(new Set),[w,A]=C.useState(new Set),[S,N]=C.useState(null),[T,k]=C.useState(!1),[R,O]=C.useState(""),[U,H]=C.useState(null),[G,F]=C.useState(!1),L=C.useMemo(()=>{const ne=[],B=e.filter(Y=>Y.status===or.COMPLETED||Y.status===or.ERROR||Y.status===or.APROVADO||Y.status===or.REJEITADO),V=new Map;return B.forEach(Y=>{var de,Le,Ge,Re,wt,St;const K=Y.data||{},le=Y.rawData||{};if(Y.status===or.ERROR){ne.push({id:`err-sys-${Y.id}`,docId:Y.id,docName:Y.fileName,companyName:Y.companyName||"N/A",companyNif:K.nif||"N/A",companyStatus:"CRITICO",errorTitle:"Erro no Processamento IA",description:"Ocorreu um erro tcnico ao analisar este documento. Recomendamos reprocessar.",suggestion:"Tente reprocessar o documento ou verificar a conexo com o servidor.",priority:"ALTA",date:new Date(Y.uploadDate).toLocaleDateString("pt-AO"),type:"COMPLIANCE",value:0});return}if(((K.fiscal_validation||le.fiscal_validation)==="REJEITADO"||Y.status===or.REJEITADO)&&ne.push({id:`err-rej-${Y.id}`,docId:Y.id,docName:K.merchantName||Y.fileName,companyName:Y.companyName||"N/A",companyNif:((de=K.issuer_data)==null?void 0:de.nif)||"N/A",companyStatus:"CRITICO",errorTitle:"Documento Rejeitado pela IA",description:K.justification||"A Inteligncia Artificial identificou inconsistncias crticas que invalidam este documento para fins fiscais.",suggestion:((Le=K.sugestoes_correcao)==null?void 0:Le[0])||"O documento deve ser revisado manualmente ou substitudo por uma via vlida.",priority:"ALTA",date:new Date(Y.uploadDate).toLocaleDateString("pt-AO"),type:"COMPLIANCE",value:K.totalAmount||0}),!K.risk_accepted){const rt=`${(Ge=K.merchantName)==null?void 0:Ge.toLowerCase()}|${K.date}|${K.totalAmount}`;V.has(rt)?ne.push({id:`err-dup-${Y.id}`,docId:Y.id,docName:K.merchantName||Y.fileName,companyName:Y.companyName||"N/A",companyNif:((Re=K.issuer_data)==null?void 0:Re.nif)||"N/A",companyStatus:"ESTAVEL",errorTitle:"Duplicidade Detectada",description:"Identificamos outro documento com o mesmo fornecedor, data e valor em sua base de dados.",suggestion:"Arquive este documento como duplicado para evitar lanamento duplo no SAFT.",priority:"ALTA",date:new Date(Y.uploadDate).toLocaleDateString("pt-AO"),type:"DUPLICATE",value:K.totalAmount||0}):V.set(rt,[Y.id])}if((((wt=le.analise_matematica)==null?void 0:wt.coerencia_matematica)==="INCOERENTE"||K.mathematical_coherence&&K.mathematical_coherence.includes("INCOERENTE"))&&ne.push({id:`err-math-${Y.id}`,docId:Y.id,docName:K.merchantName||Y.fileName,companyName:Y.companyName||"N/A",companyNif:((St=K.issuer_data)==null?void 0:St.nif)||"N/A",errorTitle:"Incoerncia Matemtica",description:"A soma dos itens no corresponde ao total declarado no documento.",suggestion:"Verifique se existem taxas ocultas ou erros de OCR nos valores das linhas.",priority:"MEDIA",date:new Date(Y.uploadDate).toLocaleDateString("pt-AO"),type:"TAX_RATE",value:K.totalAmount||0}),K.date){const rt=new Date(K.date),Nt=Math.ceil(Math.abs(new Date().getTime()-rt.getTime())/(1e3*60*60*24));Nt>90&&ne.push({id:`err-date-${Y.id}`,docId:Y.id,docName:K.merchantName||Y.fileName,companyName:Y.companyName||"N/A",errorTitle:"Prazo CIVA Excedido",description:`Documento emitido h ${Nt} dias. O prazo legal para deduo do IVA pode ter expirado.`,suggestion:"Consulte o Art. 18 do CIVA ou aceite o custo sem deduo de imposto.",priority:"MEDIA",date:new Date(Y.uploadDate).toLocaleDateString("pt-AO"),type:"COMPLIANCE",value:K.totalAmount||0})}}),ne},[e]),re=C.useMemo(()=>{let ne=L;if(r&&s&&(ne=ne.filter(V=>V.companyName===s)),m){const V=m.toLowerCase();ne=ne.filter(Y=>Y.docName.toLowerCase().includes(V)||Y.errorTitle.toLowerCase().includes(V)||Y.companyName.toLowerCase().includes(V))}l!=="ALL"&&(l==="DATE"?ne=ne.filter(V=>V.errorTitle.includes("Prazo")||V.errorTitle.includes("Data")):ne=ne.filter(V=>V.type===l)),h!=="ALL"&&(ne=ne.filter(V=>V.priority===h));const B={};return ne.forEach(V=>{const Y=`${V.companyName}-${V.errorTitle}`;B[Y]||(B[Y]={key:Y,title:V.errorTitle,company:V.companyName,nif:V.companyNif||"N/A",companyStatus:V.companyStatus||"ESTAVEL",count:0,totalValue:0,type:V.type,priority:V.priority,description:V.description,suggestion:V.suggestion,items:[]}),B[Y].count++,B[Y].totalValue+=V.value,B[Y].items.push(V)}),Object.values(B).sort((V,Y)=>V.priority==="ALTA"&&Y.priority!=="ALTA"?-1:Y.priority==="ALTA"&&V.priority!=="ALTA"?1:Y.count-V.count)},[L,r,s,l,h,m]),Z=C.useMemo(()=>{const ne=L.reduce((K,le)=>K+le.value,0),B=L.filter(K=>K.priority==="ALTA").length,V=e.length||1,Y=Math.max(0,Math.min(100,100-L.length/V*100));return{totalRiskValue:ne,criticalCount:B,healthScore:Y,totalErrors:L.length}},[L,e.length]),pe=C.useMemo(()=>{const ne={};return e.forEach(B=>{const V=B.companyName||"N/A";ne[V]||(ne[V]={name:V,totalDocs:0,errors:0,critical:0,valueAtRisk:0}),ne[V].totalDocs++}),L.forEach(B=>{const V=B.companyName||"Empresa Desconhecida";ne[V]||(ne[V]={name:V,totalDocs:0,errors:0,critical:0,valueAtRisk:0}),ne[V].errors++,ne[V].valueAtRisk+=B.value,B.priority==="ALTA"&&ne[V].critical++}),Object.values(ne).sort((B,V)=>V.critical-B.critical)},[e,L]),Q=ne=>{const B=new Set(b);B.has(ne)?B.delete(ne):B.add(ne),y(B)},X=async(ne,B,V)=>{{H({key:ne,action:B,items:V}),k(!0),O("");return}},oe=async()=>{if(!(!U||!R.trim())){F(!0);try{const{key:ne,action:B,items:V,isSingle:Y}=U,K=new Set(w);K.add(ne),A(K),k(!1),await new Promise(le=>setTimeout(le,600));for(const le of V)await a(le.docId,B,R);H(null)}catch(ne){console.error("Failed to resolve:",ne)}finally{F(!1)}}},ce=(ne,B)=>{H({key:`item-${ne.id}`,action:B,items:[ne],isSingle:!0}),k(!0),O("")},Ne=()=>c.jsxs("div",{className:"relative w-32 h-32",children:[c.jsx(s7,{width:"100%",height:"100%",children:c.jsx(pOe,{children:c.jsxs(jie,{data:[{value:Z.healthScore},{value:100-Z.healthScore}],cx:"50%",cy:"50%",innerRadius:45,outerRadius:55,startAngle:90,endAngle:-270,dataKey:"value",stroke:"none",cornerRadius:10,children:[c.jsx(rS,{fill:Z.healthScore>80?"#10b981":Z.healthScore>50?"#f59e0b":"#ef4444"}),c.jsx(rS,{fill:"#1a1a1a"})]})})}),c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[c.jsxs("span",{className:`text-2xl font-bold tracking-tighter ${Z.healthScore>80?"text-emerald-400":Z.healthScore>50?"text-amber-400":"text-red-400"}`,children:[Math.round(Z.healthScore),"%"]}),c.jsx("span",{className:"text-[8px] font-bold text-slate-500 uppercase tracking-widest",children:"Health"})]})]});return r&&!s?c.jsxs("div",{className:"max-w-7xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500 space-y-8",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-[#0c0c0c] border border-white/[0.03] rounded-[32px] p-6 relative overflow-hidden flex items-center justify-between",children:[c.jsxs("div",{className:"z-10",children:[c.jsx("h3",{className:"text-white font-bold text-lg mb-1",children:"Compliance Global"}),c.jsx("p",{className:"text-slate-400 text-xs max-w-[150px]",children:"Mdia de sade fiscal da carteira de clientes."}),c.jsx("div",{className:"mt-4 flex gap-2",children:c.jsxs("span",{className:"px-2 py-1 rounded bg-white/5 border border-white/5 text-[10px] text-slate-300 font-mono",children:[e.length," Docs"]})})]}),c.jsx(Ne,{})]}),c.jsxs("div",{className:"bg-[#0c0c0c] border border-white/[0.03] rounded-[32px] p-6 relative overflow-hidden flex flex-col justify-center",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("div",{className:"p-1.5 bg-red-500/10 rounded-lg text-red-400 animate-pulse",children:c.jsx($s,{className:"w-4 h-4"})}),c.jsx("span",{className:"text-[10px] font-bold text-red-400 uppercase tracking-widest",children:"Risco Financeiro Estimado"})]}),c.jsxs("div",{className:"text-4xl font-bold text-white tracking-tighter font-mono",children:["Kz ",(Z.totalRiskValue/1e6).toFixed(1),"M"]}),c.jsx("p",{className:"text-slate-500 text-xs mt-2",children:"Valor acumulado em documentos com impedimento fiscal ou erros."}),c.jsx("div",{className:"absolute -bottom-10 -right-10 w-40 h-40 bg-red-500/5 blur-[60px] rounded-full pointer-events-none"})]}),c.jsxs("div",{className:"bg-[#0c0c0c] border border-white/[0.03] rounded-[32px] p-6 flex flex-col justify-center relative overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-white font-bold",children:"Diagnstico Rpido"}),c.jsx("span",{className:"text-[10px] font-bold bg-white/5 px-2 py-1 rounded text-slate-400",children:"AGORA"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center text-xs",children:[c.jsxs("span",{className:"text-slate-400 flex items-center gap-2",children:[c.jsx(ty,{className:"w-3 h-3 text-red-500"})," Crticos"]}),c.jsx("span",{className:"text-white font-bold",children:Z.criticalCount})]}),c.jsx("div",{className:"w-full bg-white/5 h-1.5 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-red-500",style:{width:`${Z.criticalCount/Z.totalErrors*100}%`}})}),c.jsxs("p",{className:"text-[10px] text-slate-500 text-right pt-1",children:[Z.totalErrors," inconsistncias totais detectadas."]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-px bg-white/10 flex-1"}),c.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Mapa de Ameaas (Heatmap)"}),c.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:pe.map(ne=>{const B=ne.totalDocs>0?ne.errors/ne.totalDocs*100:0,V=ne.critical>0;return c.jsxs("div",{onClick:()=>o(ne.name),className:`
                                    relative overflow-hidden rounded-[24px] p-6 cursor-pointer transition-all duration-500 group
                                    ${V?"bg-[#0f0505] border border-red-500/30 hover:border-red-500/60 shadow-[0_0_40px_rgba(220,38,38,0.1)]":"bg-[#0c0c0c] border border-white/5 hover:border-emerald-500/30 hover:bg-[#0c110c]"}
                                `,children:[V&&c.jsx("div",{className:"absolute inset-0 bg-red-500/5 animate-[pulse_3s_ease-in-out_infinite] pointer-events-none"}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center text-slate-300 border shadow-inner ${V?"bg-red-950/20 border-red-500/20":"bg-[#151515] border-white/5"}`,children:c.jsx(Wa,{className:`w-5 h-5 ${V?"text-red-400":"text-slate-400"}`})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-white text-sm truncate max-w-[150px]",children:ne.name}),c.jsxs("p",{className:"text-[10px] text-slate-500 font-mono",children:["NIF: ",ne.nif]})]})]}),V?c.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded bg-red-500/10 border border-red-500/20 text-[9px] font-bold text-red-400 uppercase tracking-wider animate-pulse",children:[c.jsx(gk,{className:"w-3 h-3"})," Crtico"]}):c.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded bg-emerald-500/10 border border-emerald-500/20 text-[9px] font-bold text-emerald-400 uppercase tracking-wider",children:[c.jsx(ki,{className:"w-3 h-3"})," Estvel"]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-end",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Risco Acumulado"}),c.jsxs("p",{className:`text-xl font-bold font-mono tracking-tight ${V?"text-white":"text-slate-300"}`,children:["Kz ",(ne.valueAtRisk/1e3).toFixed(0),"k"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:`text-2xl font-bold ${V?"text-red-500":"text-slate-500"}`,children:ne.errors}),c.jsxs("p",{className:"text-[9px] text-slate-600 uppercase font-bold",children:["Erros / ",ne.totalDocs," Docs"]})]})]}),c.jsx("div",{className:"relative w-full h-1.5 bg-[#1a1a1a] rounded-full overflow-hidden",children:c.jsx("div",{className:`absolute left-0 top-0 bottom-0 rounded-full transition-all duration-500 ${V?"bg-red-500":"bg-emerald-500"}`,style:{width:`${B}%`}})}),c.jsxs("div",{className:"flex justify-between text-[9px] font-bold uppercase text-slate-600",children:[c.jsx("span",{children:"Docs Pendentes"}),c.jsxs("span",{children:[Math.round(B),"% Taxa de Erro"]})]})]})]})]},ne.name)})})]}):c.jsxs("div",{className:"max-w-5xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500 space-y-8 relative",children:[r&&s&&c.jsxs("button",{onClick:()=>o(null),className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors text-xs font-bold uppercase tracking-widest group",children:[c.jsx("div",{className:"p-1 rounded-full bg-white/5 group-hover:bg-white/10",children:c.jsx(t5,{className:"w-3 h-3"})}),"Voltar ao Mapa de Risco"]}),re.length>0&&c.jsxs("div",{className:"bg-gradient-to-r from-cyan-900/20 to-blue-900/20 border border-cyan-500/20 rounded-[24px] p-6 relative overflow-hidden flex flex-col md:flex-row gap-6 items-center",children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-cyan-500/10 blur-[80px] rounded-full pointer-events-none"}),c.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-cyan-500/10 flex items-center justify-center text-cyan-400 border border-cyan-500/20 animate-pulse",children:c.jsx(ia,{className:"w-6 h-6 fill-current"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-white text-lg",children:"Insights da Inteligncia Artificial"}),c.jsxs("p",{className:"text-slate-400 text-sm leading-snug max-w-lg",children:["Detectamos que ",c.jsxs("strong",{className:"text-cyan-400",children:[Math.round(re.filter(ne=>ne.type==="COMPLIANCE").length/Math.max(1,re.length)*100),"%"]})," dos problemas so relacionados a documentos expirados ou limites de data. Recomenda-se auditoria nos prazos de submisso."]})]})]}),c.jsx("div",{className:"ml-auto flex gap-3 relative z-10",children:c.jsx("button",{className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-400 text-black rounded-lg text-xs font-bold uppercase tracking-wide transition-all shadow-lg shadow-cyan-500/20",children:"Gerar Relatrio IA"})})]}),c.jsxs("div",{className:"sticky top-4 z-40 bg-[#0a0b10]/90 backdrop-blur-xl border border-white/10 rounded-2xl p-2 flex flex-col md:flex-row gap-3 shadow-2xl items-center",children:[c.jsxs("div",{className:"flex flex-1 gap-2 overflow-x-auto w-full md:w-auto pb-2 md:pb-0 px-1 custom-scrollbar",children:[c.jsxs("div",{className:"relative group",children:[c.jsxs("select",{value:l,onChange:ne=>u(ne.target.value),className:"bg-[#151515] hover:bg-[#1a1a1a] text-white text-xs font-bold uppercase tracking-wide py-2.5 pl-4 pr-8 rounded-xl border border-white/10 appearance-none cursor-pointer focus:outline-none focus:border-cyan-500 transition-colors",children:[c.jsx("option",{value:"ALL",children:"Tipo: Todos"}),c.jsx("option",{value:"DUPLICATE",children:"Duplicidade"}),c.jsx("option",{value:"TAX_RATE",children:"Taxa de Cmbio/IVA"}),c.jsx("option",{value:"COMPLIANCE",children:"NIF / Compliance"}),c.jsx("option",{value:"DATE",children:"Prazos / Data"})]}),c.jsx(Px,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-3 h-3 text-slate-500 pointer-events-none"})]}),c.jsxs("div",{className:"relative group",children:[c.jsxs("select",{value:h,onChange:ne=>f(ne.target.value),className:"bg-[#151515] hover:bg-[#1a1a1a] text-white text-xs font-bold uppercase tracking-wide py-2.5 pl-4 pr-8 rounded-xl border border-white/10 appearance-none cursor-pointer focus:outline-none focus:border-cyan-500 transition-colors",children:[c.jsx("option",{value:"ALL",children:"Prioridade: Todas"}),c.jsx("option",{value:"ALTA",children:"Alta (Crtico)"}),c.jsx("option",{value:"MEDIA",children:"Mdia (Ateno)"}),c.jsx("option",{value:"BAIXA",children:"Baixa (Info)"})]}),c.jsx(Px,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-3 h-3 text-slate-500 pointer-events-none"})]})]}),c.jsxs("div",{className:"relative w-full md:w-64",children:[c.jsx(yu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-600 w-3.5 h-3.5"}),c.jsx("input",{type:"text",value:m,onChange:ne=>g(ne.target.value),placeholder:"Filtrar por nome ou ID...",className:"w-full bg-[#050505] border border-white/5 rounded-xl pl-9 pr-4 py-2.5 text-xs font-medium text-white focus:outline-none focus:border-cyan-500/50 transition-all placeholder-slate-600"})]})]}),c.jsx("div",{className:"space-y-4",children:re.filter(ne=>!w.has(ne.key)).length===0&&re.length===0?c.jsxs("div",{className:"text-center py-20 bg-[#080808] rounded-[32px] border border-white/5 border-dashed",children:[c.jsx(Ns,{className:"w-16 h-16 text-emerald-500 mx-auto mb-4"}),c.jsx("h3",{className:"text-white font-bold text-lg",children:"Sistema Limpo"}),c.jsx("p",{className:"text-slate-400 text-sm",children:"Nenhuma inconsistncia encontrada para este filtro."})]}):re.map(ne=>{const B=w.has(ne.key);return c.jsxs("div",{className:`group bg-[#0c0c0c] border border-white/[0.04] rounded-[24px] hover:border-white/10 transition-all duration-700 relative overflow-hidden
                                    ${B?"opacity-0 scale-95 translate-y-4 pointer-events-none":"opacity-100 scale-100 translate-y-0"}
                                `,children:[B&&c.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-[2px] transition-all duration-500",children:c.jsxs("div",{className:"flex flex-col items-center animate-in zoom-in-50 slide-in-from-bottom-4 duration-500",children:[c.jsx("div",{className:"w-16 h-16 bg-emerald-500 rounded-full flex items-center justify-center shadow-[0_0_40px_rgba(16,185,129,0.5)] mb-3",children:c.jsx(Ns,{className:"w-8 h-8 text-black"})}),c.jsx("span",{className:"text-lg font-bold text-white tracking-widest uppercase text-shadow-lg",children:"Resolvido"})]})}),c.jsx("div",{className:`absolute left-0 top-6 bottom-6 w-1 rounded-r-full ${ne.priority==="ALTA"?"bg-red-500":ne.priority==="MEDIA"?"bg-amber-500":"bg-blue-500"}`}),ne.type==="DUPLICATE"&&S===ne.key&&!B&&c.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-64 bg-[#111] border-l border-white/10 shadow-2xl z-20 animate-in slide-in-from-right-4 fade-in duration-300 p-4 flex flex-col justify-center rounded-r-[24px]",children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Original Encontrado"}),c.jsx("div",{className:"aspect-[3/4] bg-white/5 rounded-lg border border-white/5 flex items-center justify-center mb-2",children:c.jsx(Yo,{className:"w-8 h-8 text-slate-600"})}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("p",{className:"text-xs text-white font-bold",children:["Doc #",ne.items[0].docId.substring(0,4)]}),c.jsx("p",{className:"text-[10px] text-slate-400",children:ne.items[0].date}),c.jsx("p",{className:"text-[10px] text-emerald-400 font-mono",children:"Valor Idntico"})]})]}),c.jsxs("div",{className:"p-6 flex flex-col lg:flex-row gap-6 relative z-10",onMouseEnter:()=>ne.type==="DUPLICATE"&&N(ne.key),onMouseLeave:()=>N(null),children:[c.jsxs("div",{className:"flex gap-5 flex-1",children:[c.jsxs("div",{className:`
                                            w-12 h-12 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-inner relative
                                            ${ne.priority==="ALTA"?"bg-red-500/10 text-red-500":"bg-slate-900 text-slate-400"}
                                        `,children:[ne.type==="COMPLIANCE"?c.jsx(vy,{className:"w-6 h-6"}):ne.type==="DUPLICATE"?c.jsx(wo,{className:"w-6 h-6"}):ne.type==="TAX_RATE"?c.jsx(fk,{className:"w-6 h-6"}):c.jsx(fE,{className:"w-6 h-6"}),ne.count>1&&c.jsx("div",{className:"absolute -top-2 -right-2 bg-white text-black text-[10px] font-bold w-5 h-5 rounded-full flex items-center justify-center border-2 border-[#0c0c0c]",children:ne.count})]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[c.jsxs("h3",{className:"text-base font-bold text-white group-hover:text-cyan-400 transition-colors cursor-pointer flex items-center gap-2",onClick:()=>{const V=e.find(Y=>Y.id===ne.items[0].docId);V&&i(V)},children:[ne.title,c.jsx(gpe,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-all text-cyan-400"})]}),c.jsx("span",{className:`px-2 py-0.5 rounded text-[9px] font-bold uppercase border ${ne.priority==="ALTA"?"bg-red-500/10 text-red-400 border-red-500/20":"bg-slate-800 text-slate-400 border-slate-700"}`,children:ne.priority})]}),c.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[c.jsxs("p",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-widest",children:["NIF: ",c.jsx("span",{className:"text-slate-300",children:ne.nif})]}),c.jsx("div",{className:"w-1 h-1 rounded-full bg-white/10"}),c.jsxs("p",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-widest",children:["Estado:",c.jsx("span",{className:`ml-1 ${ne.companyStatus==="CRITICO"?"text-red-400":"text-emerald-400"}`,children:ne.companyStatus})]})]}),c.jsx("p",{className:"text-slate-400 text-sm leading-relaxed max-w-2xl",children:ne.count>1?`${ne.count} documentos da '${ne.company}' apresentam o mesmo erro.`:ne.description}),c.jsxs("div",{className:"mt-4 bg-[#111] rounded-xl p-3 border border-white/5 flex gap-3 items-start max-w-xl hover:border-cyan-500/20 transition-colors",children:[c.jsx(ia,{className:"w-4 h-4 text-cyan-400 fill-current mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-[10px] font-bold text-cyan-400 uppercase tracking-wider block mb-1",children:"KwikDocs AI Sugere:"}),c.jsx("p",{className:"text-xs text-slate-300 leading-snug",children:ne.suggestion})]})]})]})]}),c.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px] justify-center",children:[c.jsxs("button",{onClick:()=>X(ne.key,"MANUAL_APPROVE",ne.items),className:"flex items-center justify-center gap-2 bg-emerald-500 text-black py-2.5 rounded-lg text-xs font-bold uppercase tracking-wide hover:bg-emerald-400 transition-colors active:scale-95 shadow-lg shadow-emerald-500/20",children:[c.jsx(ki,{className:"w-3.5 h-3.5"})," Aprovar Sugesto"]}),ne.count>1&&c.jsxs("button",{onClick:()=>Q(ne.key),className:"mt-2 text-xs text-center text-slate-500 hover:text-cyan-400 font-bold flex items-center justify-center gap-1",children:[b.has(ne.key)?"Ocultar Detalhes":`Ver ${ne.count} Documentos`,b.has(ne.key)?c.jsx($8,{className:"w-3 h-3"}):c.jsx(Px,{className:"w-3 h-3"})]})]})]}),b.has(ne.key)&&c.jsx("div",{className:"bg-[#0f0f0f] border-t border-white/5 p-2 space-y-2 animate-in slide-in-from-top-2",children:ne.items.map(V=>w.has(`item-${V.id}`)?null:c.jsxs("div",{className:"group/item flex flex-col p-4 bg-white/[0.02] border border-white/5 rounded-2xl hover:bg-white/[0.04] transition-all",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${V.priority==="ALTA"?"bg-red-500":V.priority==="MEDIA"?"bg-amber-500":"bg-blue-500"}`}),c.jsx("span",{className:"text-xs font-bold text-slate-300",children:V.docName}),c.jsxs("span",{className:"text-[10px] text-slate-500 font-mono",children:["#",V.docId.substring(0,8)]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"text-[10px] text-slate-500 font-mono",children:V.date}),c.jsxs("span",{className:"text-xs font-bold text-white font-mono",children:["Kz ",V.value.toLocaleString()]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>{const K=e.find(le=>le.id===V.id||le.id===V.docId);K&&i(K)},className:"px-3 py-1.5 bg-white/5 hover:bg-white/10 text-slate-300 rounded-lg text-[10px] font-bold uppercase tracking-wider transition-all flex items-center gap-1.5",children:[c.jsx(mE,{className:"w-3 h-3"})," Ver"]}),c.jsxs("button",{onClick:()=>ce(V,"MANUAL_APPROVE"),className:"px-3 py-1.5 bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-400 rounded-lg text-[10px] font-bold uppercase tracking-wider transition-all flex items-center gap-1.5",children:[c.jsx(Ns,{className:"w-3 h-3"})," Resolver"]})]})]})]}),c.jsxs("div",{className:"mt-3 pl-4 border-l border-cyan-500/20 py-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[c.jsx(ia,{className:"w-3 h-3 text-cyan-400 fill-current"}),c.jsx("span",{className:"text-[9px] font-bold text-cyan-400 uppercase tracking-widest",children:"Sugesto KwikDocs AI"})]}),c.jsxs("p",{className:"text-[11px] text-slate-400 italic leading-relaxed",children:['"',V.suggestion,'"']})]})]},V.id))})]},ne.key)})}),T&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:c.jsx("div",{className:"bg-[#0c0c0c] border border-white/10 w-full max-w-md rounded-[32px] overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300",children:c.jsxs("div",{className:"p-8",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("div",{className:"w-12 h-12 rounded-2xl bg-cyan-500/10 flex items-center justify-center text-cyan-400 border border-cyan-500/20",children:c.jsx(rme,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-white",children:"Resolver Inconsistncia"}),c.jsx("p",{className:"text-slate-500 text-xs",children:"Informe o motivo da resoluo manual."})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block",children:"Observaes / Justificativa"}),c.jsx("textarea",{autoFocus:!0,value:R,onChange:ne=>O(ne.target.value),placeholder:"Ex: Documento verificado fisicamente. O erro de NIF  apenas uma falha de impresso no original...",className:"w-full bg-[#151515] border border-white/10 rounded-2xl p-4 text-sm text-white placeholder:text-slate-600 focus:outline-none focus:border-cyan-500/50 min-h-[120px] resize-none transition-all"})]}),c.jsxs("div",{className:"bg-amber-500/5 border border-amber-500/10 rounded-xl p-3 flex gap-3",children:[c.jsx(_J,{className:"w-4 h-4 text-amber-500 shrink-0 mt-0.5"}),c.jsx("p",{className:"text-[10px] text-amber-500/80 leading-relaxed uppercase font-bold tracking-tight",children:"Esta ao ser registrada com seu usurio para fins de auditoria e prestao de contas."})]})]}),c.jsxs("div",{className:"flex gap-3 mt-8",children:[c.jsx("button",{onClick:()=>k(!1),className:"flex-1 py-3 px-4 rounded-xl border border-white/5 text-slate-400 text-xs font-bold uppercase tracking-wider hover:bg-white/5 transition-all",children:"Cancelar"}),c.jsx("button",{disabled:!R.trim()||G,onClick:oe,className:"flex-1 py-3 px-4 rounded-xl bg-cyan-500 text-black text-xs font-bold uppercase tracking-wider hover:bg-cyan-400 disabled:opacity-30 disabled:cursor-not-allowed transition-all shadow-lg shadow-cyan-500/20 flex items-center justify-center gap-2",children:G?"Processando...":"Confirmar Resoluo"})]})]})})})]})},f$e=({risks:t,loading:e,onViewDetails:r})=>{const[n,a]=C.useState(!1),[i,s]=C.useState(null),o=t&&t.length>0;return c.jsxs("div",{className:"bg-[#080808] border border-white/[0.03] rounded-[40px] p-8 shadow-2xl flex flex-col relative overflow-hidden h-full group",children:[c.jsx("div",{className:`absolute -top-20 -right-20 w-64 h-64 rounded-full blur-[80px] transition-all duration-1000 ${o?"bg-amber-500/10":"bg-cyan-500/10"}`}),c.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[c.jsx("div",{className:"flex items-center justify-between mb-8",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:`absolute inset-0 rounded-2xl blur-lg animate-pulse ${o?"bg-amber-500/20":"bg-cyan-500/20"}`}),c.jsx("div",{className:`p-4 rounded-2xl border relative z-10 ${o?"bg-amber-500/10 border-amber-500/20 text-amber-400":"bg-cyan-500/10 border-cyan-500/20 text-cyan-400"}`,children:c.jsx(B0,{className:`w-6 h-6 ${e?"animate-spin":""}`})})]}),c.jsxs("div",{children:[c.jsxs("h4",{className:"text-white font-black text-xl tracking-tight flex items-center gap-2",children:["Sentinela Fiscal 2.0",c.jsx(gE,{className:"w-4 h-4 text-cyan-400 animate-pulse"})]}),c.jsx("p",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest",children:"IA de Auditoria em Tempo Real"})]})]})}),c.jsx("div",{className:"flex-1 space-y-4",children:e?c.jsxs("div",{className:"py-20 flex flex-col items-center",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500/20 border-t-cyan-500 rounded-full animate-spin mb-4"}),c.jsx("p",{className:"text-xs text-slate-500 animate-pulse uppercase tracking-[0.2em] font-black",children:"Analisando Padres..."})]}):o?c.jsx("div",{className:"space-y-3",children:t.slice(0,3).map((l,u)=>c.jsxs("div",{onClick:()=>s(l),className:"p-4 rounded-2xl bg-white/[0.02] border border-white/5 hover:border-amber-500/30 hover:bg-white/[0.05] transition-all cursor-pointer group/item",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse"}),c.jsx("span",{className:"text-[10px] font-black text-amber-500 uppercase tracking-widest",children:"Risco Detectado"})]}),c.jsxs("span",{className:"text-[9px] font-mono text-slate-600",children:["CASOS: ",l.count]})]}),c.jsx("p",{className:"text-xs text-slate-300 leading-relaxed font-medium line-clamp-2",children:l.alert}),c.jsx("div",{className:"flex justify-end mt-2 opacity-0 group-hover/item:opacity-100 transition-opacity",children:c.jsxs("div",{className:"text-[9px] font-bold text-cyan-400 flex items-center gap-1",children:["VER IMPACTO ",c.jsx(mu,{className:"w-3 h-3"})]})})]},u))}):c.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[c.jsxs("div",{className:"relative mb-6",children:[c.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 blur-2xl rounded-full scale-150"}),c.jsx(ki,{className:"w-16 h-16 text-emerald-500 relative z-10"})]}),c.jsx("p",{className:"text-sm text-white font-bold mb-1",children:"Cu Limpo"}),c.jsx("p",{className:"text-[10px] text-slate-500 font-medium max-w-[200px] leading-relaxed",children:"Nenhuma inconsistncia grave detectada pelos agentes de IA nesta empresa."})]})}),c.jsx("div",{className:"mt-8",children:c.jsxs("button",{onClick:()=>r==null?void 0:r(t),className:"w-full py-4 rounded-[20px] bg-white/5 border border-white/10 text-white text-[10px] font-black uppercase tracking-widest hover:bg-white/10 hover:border-white/20 transition-all flex items-center justify-center gap-2 shadow-xl group/btn",children:["Relatrio Detalhado de IA",c.jsx("div",{className:"p-1 rounded bg-cyan-500/10 text-cyan-400 group-hover/btn:bg-cyan-500 group-hover/btn:text-black transition-all",children:c.jsx(ia,{className:"w-3 h-3 fill-current"})})]})})]}),i&&c.jsxs("div",{className:"absolute inset-0 z-[100] bg-[#0c0c0c] p-8 animate-in slide-in-from-bottom duration-300 flex flex-col",children:[c.jsx("button",{onClick:()=>s(null),className:"absolute top-6 right-6 p-2 text-slate-500 hover:text-white transition-colors",children:c.jsx(Hs,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[c.jsx(wo,{className:"w-6 h-6 text-amber-500"}),c.jsx("h5",{className:"text-white font-black uppercase text-xs tracking-[0.2em]",children:"Detalhes da Inconsistncia"})]}),c.jsxs("div",{className:"flex-1 space-y-6",children:[c.jsxs("div",{className:"p-5 rounded-2xl bg-white/[0.03] border border-white/5",children:[c.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-widest mb-3",children:"Descrio da IA"}),c.jsx("p",{className:"text-sm text-white leading-relaxed font-medium",children:i.alert})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-4 rounded-xl bg-amber-500/5 border border-amber-500/10",children:[c.jsx("p",{className:"text-amber-500/60 text-[8px] font-black uppercase tracking-widest mb-1",children:"Impacto Fiscal"}),c.jsx("p",{className:"text-xs text-white font-bold",children:"Risco de Multa AGT"})]}),c.jsxs("div",{className:"p-4 rounded-xl bg-cyan-500/5 border border-cyan-500/10",children:[c.jsx("p",{className:"text-cyan-500/60 text-[8px] font-black uppercase tracking-widest mb-1",children:"Recomendao"}),c.jsx("p",{className:"text-xs text-white font-bold",children:"Revisar Documento"})]})]})]}),c.jsx("button",{className:"w-full py-4 rounded-xl bg-cyan-500 text-black font-black text-[10px] uppercase tracking-widest",children:"Corrigir na Origem"})]})]})},r3=({title:t,value:e,subValue:r,icon:n,color:a,trend:i,loading:s})=>c.jsxs("div",{className:"bg-[#080808] border border-white/[0.03] rounded-[32px] p-8 relative overflow-hidden group hover:border-white/10 transition-all shadow-2xl",children:[c.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-${a}-500/5 blur-[50px] rounded-full -translate-y-1/2 translate-x-1/2`}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsx("div",{className:`p-4 rounded-2xl bg-${a}-500/10 text-${a}-400 border border-${a}-500/20`,children:c.jsx(n,{className:"w-6 h-6"})}),i&&c.jsxs("div",{className:`flex items-center gap-1 px-3 py-1.5 rounded-full text-[10px] font-black uppercase tracking-wider ${i>0?"bg-emerald-500/10 text-emerald-400":"bg-rose-500/10 text-rose-400"}`,children:[i>0?c.jsx(hE,{className:"w-3 h-3"}):c.jsx(B8,{className:"w-3 h-3"}),Math.abs(i),"%"]})]}),s?c.jsx("div",{className:"h-10 w-48 bg-white/5 animate-pulse rounded-xl mb-3"}):c.jsx("h3",{className:"text-3xl font-black text-white tracking-tighter mb-1.5",children:e}),c.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.25em]",children:t}),r&&c.jsxs("p",{className:"text-[11px] text-slate-400 mt-3 font-medium flex items-center gap-2 opacity-70 group-hover:opacity-100 transition-opacity",children:[c.jsx(_J,{className:"w-3 h-3 text-cyan-400"}),r]})]})]}),p$e=()=>{const{selectedCompany:t,isLoadingData:e}=_o(),[r,n]=C.useState(!0),[a,i]=C.useState(null),[s,o]=C.useState("30D"),l=async()=>{if(!e){n(!0);try{const h=t==="ALL"?"ALL":t==null?void 0:t.id,f=await zs.getFaturixStats(h);i(f)}catch(h){console.error("Failed to load fiscal stats:",h)}finally{n(!1)}}};C.useEffect(()=>{l()},[t,e]);const u=C.useMemo(()=>a!=null&&a.chart_data?a.chart_data.map(h=>({name:h.date,entradas:parseInt(h.count)*25e3,saidas:parseInt(h.count)*12e3})):[],[a]);return c.jsxs("div",{className:"space-y-8 animate-in fade-in duration-700 pb-20",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[c.jsx("div",{className:"flex flex-col",children:c.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-slate-600 uppercase tracking-[0.2em] mb-2",children:[c.jsx("span",{children:"Anlise Executiva"}),c.jsx(Nx,{className:"w-3 h-3"}),c.jsx("span",{className:"text-cyan-500",children:"Fluxo Transacional"})]})}),c.jsx("div",{className:"flex items-center gap-4 bg-[#080808] border border-white/[0.03] p-1.5 rounded-2xl shadow-xl",children:["7D","30D","90D","1Y"].map(h=>c.jsx("button",{onClick:()=>o(h),className:`px-5 py-2.5 rounded-xl text-[10px] font-black tracking-widest transition-all ${s===h?"bg-white/10 text-white shadow-lg":"text-slate-500 hover:text-slate-300"}`,children:h},h))})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(r3,{title:"Total Faturamento",value:is((a==null?void 0:a.total_sales)||0),subValue:"Volume bruto processado",icon:vk,color:"emerald",loading:r,trend:12.5}),c.jsx(r3,{title:"Custos & Despesas",value:is((a==null?void 0:a.total_expenses)||0),subValue:"Encargos operacionais",icon:pme,color:"rose",loading:r,trend:-5.2}),c.jsx(r3,{title:"IVA Liquidado",value:is((a==null?void 0:a.vat_payable)||0),subValue:"Imposto sobre vendas",icon:G8,color:"amber",loading:r}),c.jsx(r3,{title:"IVA Dedutvel",value:is((a==null?void 0:a.vat_deductible)||0),subValue:"Recuperao tributria",icon:ki,color:"cyan",loading:r})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[c.jsxs("div",{className:"lg:col-span-8 bg-[#080808] border border-white/[0.03] rounded-[40px] p-10 shadow-2xl overflow-hidden relative group",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-cyan-500/20 to-transparent"}),c.jsxs("div",{className:"flex justify-between items-center mb-10",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-white font-black text-2xl tracking-tighter",children:"Dinmica Transacional de IVA"}),c.jsxs("p",{className:"text-slate-500 text-xs mt-2 flex items-center gap-2 font-medium font-mono uppercase tracking-widest",children:[c.jsx($s,{className:"w-3 h-3 text-cyan-400"}),"Fluxo de Entradas vs Sadas"]})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-emerald-400 uppercase tracking-widest px-3 py-1.5 rounded-lg bg-emerald-500/5 border border-emerald-500/10",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"})," Entradas"]}),c.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-rose-400 uppercase tracking-widest px-3 py-1.5 rounded-lg bg-rose-500/5 border border-rose-500/10",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-rose-500"})," Sadas"]})]})]}),c.jsx("div",{className:"h-[400px] w-full",children:c.jsx(s7,{width:"100%",height:"100%",children:c.jsxs(gOe,{data:u,children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"gradEntradas",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.4}),c.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),c.jsxs("linearGradient",{id:"gradSaidas",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.2}),c.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),c.jsx(PB,{strokeDasharray:"5 5",vertical:!1,stroke:"#ffffff03"}),c.jsx(LB,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#475569",fontSize:9,fontWeight:800,fontFamily:"monospace"},dy:15}),c.jsx(MB,{axisLine:!1,tickLine:!1,tick:{fill:"#475569",fontSize:9,fontWeight:800,fontFamily:"monospace"},tickFormatter:h=>J3(h)}),c.jsx(nie,{cursor:{stroke:"rgba(255,255,255,0.1)",strokeWidth:1},contentStyle:{backgroundColor:"#0c0c0c",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"24px",boxShadow:"0 25px 50px rgba(0,0,0,0.8)",padding:"16px"},itemStyle:{fontSize:"12px",fontWeight:"bold"},formatter:h=>[is(h),""]}),c.jsx(vC,{type:"monotone",dataKey:"entradas",stroke:"#10b981",strokeWidth:4,fillOpacity:1,fill:"url(#gradEntradas)",animationDuration:2e3}),c.jsx(vC,{type:"monotone",dataKey:"saidas",stroke:"#ef4444",strokeWidth:3,fillOpacity:1,fill:"url(#gradSaidas)",animationDuration:2500})]})})})]}),c.jsx("div",{className:"lg:col-span-4 h-full",children:c.jsx(f$e,{risks:(a==null?void 0:a.top_risks)||[],loading:r,onViewDetails:h=>console.log("Viewing all risks:",h)})})]}),c.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[-1] overflow-hidden",children:[c.jsx("div",{className:"absolute top-1/4 -right-1/4 w-[700px] h-[700px] bg-cyan-500/5 rounded-full blur-[140px] animate-pulse"}),c.jsx("div",{className:"absolute bottom-1/4 -left-1/4 w-[700px] h-[700px] bg-emerald-500/5 rounded-full blur-[140px] animate-pulse",style:{animationDelay:"3s"}})]})]})},m$e=()=>{const{selectedCompany:t,refreshData:e,isTopupWizardOpen:r,setIsTopupWizardOpen:n}=_o(),{user:a,refreshUser:i}=uh(),[s,o]=C.useState([]),[l,u]=C.useState(!1),[h,f]=C.useState([]),[m,g]=C.useState(!1),[b,y]=C.useState(1),[w,A]=C.useState(1),S=10,[N,T]=C.useState(1),[k,R]=C.useState(null),[O,U]=C.useState("MCX"),[H,G]=C.useState({phone:"",email:"",proof:""}),[F,L]=C.useState(!1),[re,Z]=C.useState(!1),[pe,Q]=C.useState(!1),[X,oe]=C.useState(!1),[ce,Ne]=C.useState(""),[ne,B]=C.useState({amount:0,companyName:""}),[V,Y]=C.useState(!1),[K,le]=C.useState(!1),[Ae,De]=C.useState([]),[de,Le]=C.useState(""),[Ge,Re]=C.useState(""),[wt,St]=C.useState(!1);C.useEffect(()=>{K&&t&&t!=="ALL"&&zs.getTeam((a==null?void 0:a.id)||"",t.id).then(We=>{De(We.filter(Jt=>Jt.status==="ACTIVE"&&Jt.companyId===t.id))}).catch(console.error)},[K,t,a]);const rt=async()=>{if(!t||t==="ALL"||!Ge||!de)return;const We=parseInt(Ge);if(!(isNaN(We)||We<=0)){St(!0);try{const Jt=await fetch("/api/credits/transfer-to-user",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({targetUserId:de,amount:We})});if(Jt.ok)await i(),await e(!0),le(!1),Re(""),Le(""),alert("Crditos transferidos com sucesso!");else{const ir=await Jt.json();alert("Erro: "+ir.error)}}catch{alert("Erro ao processar transferncia")}finally{St(!1)}}};C.useEffect(()=>{(async()=>{g(!0);try{const Jt=await O0.getCreditPackages();f(Jt.map(ir=>{var Vt;return{id:ir.id,name:ir.name,credits:ir.credits,price:ir.price,bonus:ir.bonus_credits,color:((Vt=ir.color)==null?void 0:Vt.replace("bg-","").replace("-500",""))||"blue",popular:ir.name==="PRO"}}))}catch(Jt){console.error("Failed to load credit packages:",Jt)}g(!1)})()},[]),C.useEffect(()=>{(async()=>{u(!0);try{const Jt=t&&t!=="ALL"?t.id:"PERSONAL",ir=await O0.getTransactionHistory(Jt,b,S);o(ir.data),A(ir.pagination.totalPages)}catch(Jt){console.error("Failed to load history:",Jt)}u(!1)})()},[t,r,b]);const Te=We=>{R(We),T(2)},Nt=We=>We.toLocaleString("pt-AO",{minimumFractionDigits:2,maximumFractionDigits:2}),rr=We=>{T(1),n(!0)},Ot=()=>{n(!1),setTimeout(()=>{T(1),R(null),L(!1)},300)},vt=async()=>{if(k){L(!0);try{const We={id:k.id,name:k.name,price:k.price,credits:k.credits+k.bonus,features:[],popular:!1};await O0.purchaseCredits("PERSONAL",We,O,H),T(4),await i(),await e(!0)}catch(We){alert("Erro no processamento: "+(We.message||"Tente novamente"))}finally{L(!1)}}},Dt=async()=>{if(!t||t==="ALL"||!ce)return;const We=parseInt(ce);if(!(isNaN(We)||We<=0)){Y(!0);try{const Jt=await fetch("/api/credits/transfer-to-company",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({companyId:t.id,amount:We})});if(Jt.ok)B({amount:We,companyName:t.name}),await i(),await e(!0),Z(!1),Ne(""),Q(!0);else{const ir=await Jt.json();alert("Erro: "+ir.error)}}catch{alert("Erro ao processar transferncia")}finally{Y(!1)}}},yt=()=>{s.length&&Om(async()=>{const{default:We}=await Promise.resolve().then(()=>qB);return{default:We}},void 0).then(({default:We})=>{Om(async()=>{const{default:Jt}=await Promise.resolve().then(()=>j6e);return{default:Jt}},void 0).then(({default:Jt})=>{const ir=new We;ir.setFontSize(16),ir.text("Histrico de Transaes",14,15),ir.setFontSize(10),ir.text(`Empresa: ${(t==null?void 0:t.name)||"N/A"}`,14,22),ir.text(`Gerado em: ${new Date().toLocaleString("pt-AO")}`,14,27),Jt(ir,{startY:35,head:[["Data","Usurio","Tipo","Descrio","Crditos"]],body:s.map(Vt=>[Vt.date.toLocaleString("pt-AO"),Vt.userName||"Sistema",Vt.type,Vt.description,Vt.credits>0?`+${Vt.credits}`:`${Vt.credits}`]),styles:{fontSize:8},headStyles:{fillColor:[6,182,212]}}),ir.save(`extrato_${t==null?void 0:t.id}_${new Date().toISOString().split("T")[0]}.pdf`)})})};if(t==="ALL")return c.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-slate-500",children:[c.jsx(Nm,{className:"w-16 h-16 mb-4 opacity-20"}),c.jsx("h3",{className:"text-white font-bold text-lg",children:"Selecione uma empresa especfica para gerir crditos."})]});const qt=(a==null?void 0:a.credits)||0;return c.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 relative pb-20",children:[r&&c.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-xl transition-opacity",onClick:Ot}),c.jsxs("div",{className:"relative w-full max-w-4xl bg-[#080808] border border-white/10 rounded-[32px] shadow-[0_0_100px_rgba(6,182,212,0.15)] flex flex-col md:flex-row overflow-hidden animate-in zoom-in-95 duration-300 min-h-[550px]",children:[c.jsxs("div",{className:"w-full md:w-1/3 bg-[#0c0c0c] border-r border-white/5 p-8 flex flex-col justify-between relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-cyan-500 to-blue-600"}),c.jsx("div",{className:"absolute -right-20 -top-20 w-64 h-64 bg-cyan-500/10 blur-[80px] rounded-full pointer-events-none"}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[c.jsx("div",{className:"p-2 bg-white/5 rounded-lg text-cyan-400",children:c.jsx(_0e,{className:"w-5 h-5"})}),c.jsx("span",{className:"text-xs font-bold text-white uppercase tracking-widest",children:"KwikDocs Credits"})]}),k?c.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-left-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Pacote Selecionado"}),c.jsx("h2",{className:"text-2xl font-black text-white",children:k.name})]}),c.jsxs("div",{className:"flex items-baseline gap-2",children:[c.jsx("span",{className:"text-4xl font-mono font-bold text-cyan-400",children:k.credits+k.bonus}),c.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"crditos"})]}),k.bonus>0&&c.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-xs font-bold",children:[c.jsx(gE,{className:"w-3 h-3"})," Inclui ",k.bonus," bnus"]}),c.jsx("div",{className:"pt-6 border-t border-white/5",children:c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-sm text-slate-400",children:"Total a Pagar"}),c.jsxs("span",{className:"text-xl font-bold text-white",children:[Nt(k.price)," Kz"]})]})})]}):c.jsxs("div",{className:"space-y-4 opacity-50",children:[c.jsx("div",{className:"h-8 w-3/4 bg-white/5 rounded animate-pulse"}),c.jsx("div",{className:"h-12 w-1/2 bg-white/5 rounded animate-pulse"})]})]}),c.jsxs("div",{className:"relative z-10 space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[c.jsx(ki,{className:"w-4 h-4 text-emerald-500"})," Pagamento Seguro"]}),c.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[c.jsx(ia,{className:"w-4 h-4 text-amber-500"})," Ativao Imediata"]})]})]}),c.jsxs("div",{className:"flex-1 p-8 md:p-10 relative bg-[#080808]",children:[c.jsx("button",{onClick:Ot,className:"absolute top-6 right-6 p-2 text-slate-500 hover:text-white transition-colors hover:bg-white/5 rounded-full",children:c.jsx(Hs,{className:"w-5 h-5"})}),N===1&&c.jsxs("div",{className:"animate-in fade-in slide-in-from-right-8 duration-300 h-full flex flex-col",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Escolha seu Pacote"}),c.jsx("p",{className:"text-sm text-slate-400 mb-8",children:"Selecione a quantidade de crditos que deseja carregar."}),c.jsx("div",{className:"grid grid-cols-1 gap-4 overflow-y-auto custom-scrollbar flex-1 pr-2",children:m?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(ji,{className:"w-8 h-8 animate-spin mx-auto text-cyan-400"}),c.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Carregando pacotes..."})]}):h.length===0?c.jsx("div",{className:"text-center py-8 text-slate-500",children:c.jsx("p",{children:"Nenhum pacote disponvel"})}):h.map(We=>c.jsxs("div",{onClick:()=>Te(We),className:`
                                                    group relative p-5 rounded-2xl border transition-all cursor-pointer flex items-center justify-between
                                                    ${(k==null?void 0:k.id)===We.id?"bg-cyan-500/10 border-cyan-500":We.popular?"bg-cyan-900/10 border-cyan-500/50 hover:border-cyan-400":"bg-[#111] border-white/5 hover:border-white/20"}
                                                `,children:[We.popular&&c.jsx("div",{className:"absolute -top-3 left-6 bg-cyan-500 text-black text-[9px] font-black px-3 py-1 rounded-full uppercase tracking-widest shadow-lg shadow-cyan-500/20",children:"Mais Popular"}),c.jsxs("div",{className:"flex items-center gap-5",children:[c.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-lg font-black border shadow-inner ${We.color==="purple"?"bg-purple-500/10 text-purple-400 border-purple-500/20":We.color==="blue"?"bg-blue-500/10 text-blue-400 border-blue-500/20":"bg-cyan-500/10 text-cyan-400 border-cyan-500/20"}`,children:We.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-white",children:We.name}),c.jsxs("p",{className:"text-xs text-slate-400 mt-0.5",children:[We.credits," Crditos ",We.bonus>0&&c.jsxs("span",{className:"text-emerald-400 font-bold",children:["+",We.bonus," Bnus"]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("span",{className:"text-lg font-bold text-white",children:[Nt(We.price)," Kz"]}),c.jsx(Nx,{className:"w-5 h-5 text-slate-600 group-hover:text-white transition-colors"})]})]},We.id))})]}),N===2&&c.jsxs("div",{className:"animate-in fade-in slide-in-from-right-8 duration-300 h-full flex flex-col",children:[c.jsxs("button",{onClick:()=>T(1),className:"text-xs font-bold text-slate-500 hover:text-white mb-6 flex items-center gap-1 w-fit",children:[c.jsx(Nx,{className:"w-3 h-3 rotate-180"})," Voltar"]}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Forma de Pagamento"}),c.jsx("p",{className:"text-sm text-slate-400 mb-8",children:"Escolha como prefere realizar o pagamento."}),c.jsx("div",{className:"grid grid-cols-3 gap-3 mb-8",children:["MCX","REFERENCE","TRANSFER"].map(We=>c.jsxs("button",{onClick:()=>{U(We),T(3)},className:`
                                                    flex flex-col items-center gap-3 py-6 rounded-2xl border transition-all relative overflow-hidden
                                                    bg-[#111] border-white/5 text-slate-500 hover:border-white/20 hover:bg-[#151515]
                                                `,children:[We==="MCX"?c.jsx(X8,{className:"w-6 h-6"}):We==="REFERENCE"?c.jsx(E0e,{className:"w-6 h-6"}):c.jsx(Wa,{className:"w-6 h-6"}),c.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest relative z-10",children:We==="MCX"?"Express":We==="REFERENCE"?"Referncia":"Transf."})]},We))})]}),N===3&&c.jsxs("div",{className:"animate-in fade-in slide-in-from-right-8 duration-300 h-full flex flex-col",children:[c.jsxs("button",{onClick:()=>T(2),className:"text-xs font-bold text-slate-500 hover:text-white mb-6 flex items-center gap-1 w-fit",children:[c.jsx(Nx,{className:"w-3 h-3 rotate-180"})," Voltar"]}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Confirmar Pagamento"}),c.jsx("p",{className:"text-sm text-slate-400 mb-6",children:"Anexe o comprovativo e confirme os dados."}),c.jsxs("div",{className:"flex-1 space-y-6",children:[O==="MCX"&&c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block",children:"Nmero de Telemvel"}),c.jsx("input",{type:"text",placeholder:"9XX XXX XXX",value:H.phone,onChange:We=>G({...H,phone:We.target.value}),className:"w-full bg-[#111] border border-white/10 rounded-xl py-4 px-4 text-white focus:outline-none focus:border-cyan-500 transition-all font-mono"})]}),(O==="TRANSFER"||O==="REFERENCE")&&c.jsxs("div",{className:"p-4 bg-white/5 rounded-xl border border-white/10",children:[c.jsx("p",{className:"text-xs text-slate-300 mb-2 font-bold",children:"Dados para Pagamento:"}),c.jsxs("div",{className:"font-mono text-xs text-slate-500 space-y-1",children:[c.jsx("p",{children:"Banco: BAI"}),c.jsx("p",{children:"IBAN: AO06 0040 0000 1234 5678 9012 3"}),c.jsx("p",{children:"Beneficirio: KwikDocs SA"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block",children:"Comprovativo de Pagamento"}),c.jsxs("div",{className:"border-2 border-dashed border-white/10 rounded-xl p-6 hover:border-cyan-500/50 transition-colors text-center relative",children:[c.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:We=>{var ir;const Jt=(ir=We.target.files)==null?void 0:ir[0];if(Jt){const Vt=new FileReader;Vt.onloadend=()=>{G({...H,proof:Vt.result})},Vt.readAsDataURL(Jt)}},className:"absolute inset-0 opacity-0 cursor-pointer"}),H.proof?c.jsxs("div",{className:"flex items-center justify-center gap-2 text-emerald-400",children:[c.jsx(Ns,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-bold",children:"Arquivo selecionado"})]}):c.jsxs("div",{className:"text-slate-500 text-xs",children:[c.jsx(bme,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{children:"Arraste ou clique para enviar"}),c.jsx("p",{className:"text-[10px] opacity-70 mt-1",children:"PDF ou Imagem (Max 5MB)"})]})]})]})]}),c.jsxs("button",{onClick:vt,disabled:F||!H.proof,className:"w-full py-5 bg-white text-black font-black text-sm uppercase tracking-widest rounded-2xl hover:bg-cyan-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-[0_0_30px_rgba(255,255,255,0.1)] flex items-center justify-center gap-3 mt-4",children:[F?c.jsx(ji,{className:"w-5 h-5 animate-spin"}):c.jsx(Lx,{className:"w-5 h-5"}),F?"Processando...":"Confirmar Pagamento"]})]}),N===4&&c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center animate-in zoom-in-90 duration-500",children:[c.jsxs("div",{className:"w-24 h-24 bg-emerald-500 rounded-full flex items-center justify-center mb-8 shadow-[0_0_60px_rgba(16,185,129,0.4)] relative",children:[c.jsx(Pc,{className:"w-12 h-12 text-black stroke-[3px]"}),c.jsx("div",{className:"absolute inset-0 border-2 border-white/20 rounded-full animate-ping"})]}),c.jsx("h2",{className:"text-3xl font-black text-white mb-2 tracking-tight",children:"Pedido Enviado!"}),c.jsx("p",{className:"text-slate-400 max-w-xs mx-auto mb-10 leading-relaxed",children:"O seu comprovativo foi recebido. Iremos processar o pagamento e creditar a sua conta em breve (Status: Pendente)."}),c.jsx("button",{onClick:Ot,className:"px-10 py-4 bg-[#111] border border-white/10 hover:border-white/30 text-white font-bold rounded-xl transition-all uppercase text-xs tracking-widest",children:"Voltar ao Painel"})]})]})]})]}),re&&c.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/85 backdrop-blur-md",onClick:()=>!V&&Z(!1)}),c.jsxs("div",{className:"relative w-full max-w-md bg-[#0c0c0c] border border-white/10 rounded-[24px] overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"p-6 border-b border-white/5 space-y-1",children:[c.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[c.jsx(B8,{className:"w-5 h-5 text-purple-400"})," Confirmar Transferncia"]}),c.jsx("p",{className:"text-xs text-slate-500",children:"Valide os detalhes antes de processar."})]}),c.jsxs("div",{className:"p-8 space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-2xl border border-white/5",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Origem"}),c.jsxs("div",{className:"flex items-center gap-2 text-white",children:[c.jsx("div",{className:"w-6 h-6 rounded bg-purple-500/10 flex items-center justify-center",children:c.jsx(mf,{className:"w-3.5 h-3.5 text-purple-400"})}),c.jsx("span",{className:"text-sm font-medium",children:"Carteira Pessoal"})]})]}),c.jsx(mu,{className:"w-4 h-4 text-slate-700"}),c.jsxs("div",{className:"text-right space-y-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Destino"}),c.jsxs("div",{className:"flex items-center gap-2 justify-end text-white",children:[c.jsx("span",{className:"text-sm font-medium",children:t.name}),c.jsx("div",{className:"w-6 h-6 rounded bg-teal-500/10 flex items-center justify-center",children:c.jsx(Wa,{className:"w-3.5 h-3.5 text-teal-400"})})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-slate-500",children:"Quantidade a Transferir"}),c.jsxs("span",{className:"text-white font-mono font-bold text-lg",children:[ce," crditos"]})]}),c.jsxs("div",{className:"flex justify-between items-center text-xs pt-4 border-t border-white/5 text-slate-400",children:[c.jsx("span",{children:"Saldo Pessoal Restante"}),c.jsx("span",{className:"text-slate-500 font-mono",children:((a==null?void 0:a.credits)||0)-parseInt(ce||"0")})]}),c.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-400",children:[c.jsx("span",{children:"Novo Saldo Empresa"}),c.jsx("span",{className:"text-emerald-500 font-mono font-bold",children:((t==null?void 0:t.credits)||0)+parseInt(ce||"0")})]})]}),c.jsxs("div",{className:"p-3 bg-amber-500/5 border border-amber-500/10 rounded-xl flex gap-3",children:[c.jsx(Ys,{className:"w-4 h-4 text-amber-500 shrink-0"}),c.jsx("p",{className:"text-[10px] text-amber-200/70 leading-relaxed italic",children:"Esta operao  irreversvel. Os crditos sero debitados imediatamente da sua conta principal."})]})]}),c.jsxs("div",{className:"p-6 bg-white/[0.02] flex gap-3",children:[c.jsx("button",{onClick:()=>Z(!1),disabled:V,className:"flex-1 py-3 text-xs font-bold text-slate-500 hover:text-white transition-colors",children:"Cancelar"}),c.jsxs("button",{onClick:Dt,disabled:V,className:"flex-[2] py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-black text-xs uppercase tracking-widest rounded-xl hover:opacity-90 transition-all flex items-center justify-center gap-2 shadow-lg",children:[V?c.jsx(ji,{className:"w-4 h-4 animate-spin"}):c.jsx(ia,{className:"w-4 h-4 fill-current"}),V?"Transferindo...":"Confirmar e Enviar"]})]})]})]}),pe&&c.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-xl",onClick:()=>Q(!1)}),c.jsx("div",{className:"relative w-full max-w-sm bg-[#0c0c0c] border border-emerald-500/20 rounded-[32px] overflow-hidden shadow-[0_0_50px_rgba(16,185,129,0.1)] animate-in zoom-in-95 duration-300",children:c.jsxs("div",{className:"p-10 flex flex-col items-center text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-emerald-500 rounded-full flex items-center justify-center mb-6 shadow-[0_0_40px_rgba(16,185,129,0.3)]",children:c.jsx(Pc,{className:"w-10 h-10 text-black stroke-[3px]"})}),c.jsx("h3",{className:"text-2xl font-black text-white mb-2 tracking-tight",children:"Sucesso!"}),c.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed mb-8",children:["A transferncia de ",c.jsxs("span",{className:"text-white font-bold",children:[ne.amount," crditos"]})," para ",c.jsx("span",{className:"text-white font-bold",children:ne.companyName})," foi concluda com sucesso."]}),c.jsx("button",{onClick:()=>Q(!1),className:"w-full py-4 bg-white text-black font-black text-xs uppercase tracking-widest rounded-2xl hover:bg-emerald-50 transition-all shadow-lg",children:"Entendido"})]})})]}),X&&c.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-xl",onClick:()=>oe(!1)}),c.jsx("div",{className:"relative w-full max-w-sm bg-[#0c0c0c] border border-red-500/20 rounded-[32px] overflow-hidden shadow-[0_0_50px_rgba(239,68,68,0.1)] animate-in zoom-in-95 duration-300",children:c.jsxs("div",{className:"p-10 flex flex-col items-center text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-red-500/10 border border-red-500/20 rounded-full flex items-center justify-center mb-6",children:c.jsx(Ys,{className:"w-10 h-10 text-red-500"})}),c.jsx("h3",{className:"text-2xl font-black text-white mb-2 tracking-tight uppercase",children:"Alerta"}),c.jsx("p",{className:"text-slate-400 text-sm leading-relaxed mb-8",children:"Saldo insuficiente na conta pessoal. Por favor, carregue a sua conta pessoal primeiro para poder transferir crditos para a empresa."}),c.jsx("button",{onClick:()=>oe(!1),className:"w-full py-4 bg-red-500 text-white font-black text-xs uppercase tracking-widest rounded-2xl hover:bg-red-600 transition-all shadow-lg",children:"Fechar"})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-2 relative overflow-hidden rounded-[32px] p-10 bg-[#080808] border border-cyan-500/20 shadow-2xl group",children:[c.jsx("div",{className:"absolute top-0 right-0 w-[300px] h-[300px] bg-cyan-500/5 blur-[100px] rounded-full group-hover:bg-cyan-500/10 transition-all duration-700"}),c.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-center gap-8",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"p-2 bg-cyan-950 rounded-lg text-cyan-400",children:c.jsx(Nm,{className:"w-6 h-6"})}),c.jsx("span",{className:"text-sm font-bold text-cyan-200 uppercase tracking-widest",children:"Carteira Pessoal"})]}),c.jsxs("div",{className:"flex items-baseline gap-3",children:[c.jsx("span",{className:"text-7xl md:text-8xl font-black text-white tracking-tighter shadow-cyan-500/50 drop-shadow-lg",children:qt}),c.jsx("span",{className:"text-xl text-slate-500 font-medium",children:"crditos"})]}),c.jsxs("p",{className:"mt-4 text-xs text-slate-500 font-medium bg-[#111] w-fit px-3 py-1.5 rounded-full border border-white/5",children:["A sua equipa consome uma mdia de ",c.jsx("span",{className:"text-white font-bold",children:"12 crditos/dia"}),"."]})]}),c.jsxs("button",{onClick:()=>rr(),className:"px-10 py-5 rounded-[20px] bg-white text-black font-black uppercase text-xs hover:bg-cyan-50 hover:scale-105 transition-all flex items-center gap-3 shadow-[0_0_30px_rgba(255,255,255,0.15)] group/btn",children:[c.jsx(ia,{className:"w-5 h-5 fill-current"}),c.jsx("span",{children:"Recarregar Agora"}),c.jsx(Nx,{className:"w-4 h-4 group-hover/btn:translate-x-1 transition-transform"})]})]})]}),c.jsxs("div",{className:"rounded-[32px] p-8 bg-[#0c0c0c] border border-white/5 flex flex-col justify-center relative overflow-hidden",children:[c.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-purple-500 to-pink-500"}),c.jsx("h4",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] mb-4",children:"Reforar Empresa"}),c.jsx("p",{className:"text-xs text-slate-400 mb-6",children:"Transfira crditos da sua carteira pessoal para esta empresa."}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"relative",children:c.jsx("input",{type:"number",placeholder:"Qtd. Crditos",value:ce,onChange:We=>Ne(We.target.value),className:"w-full bg-[#111] border border-white/10 rounded-xl py-3 px-4 text-white focus:outline-none focus:border-purple-500 transition-all font-mono text-sm"})}),c.jsxs("button",{onClick:()=>{if(!ce||parseInt(ce)<=0)return alert("Insira um valor vlido");if(parseInt(ce)>((a==null?void 0:a.credits)||0)){oe(!0);return}Z(!0)},className:"w-full py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-bold text-[10px] uppercase tracking-widest rounded-xl hover:opacity-90 transition-all shadow-lg flex items-center justify-center gap-2",children:[c.jsx(mu,{className:"w-3.5 h-3.5"})," Continuar"]})]})]}),c.jsxs("div",{className:"rounded-[32px] p-8 bg-[#0c0c0c] border border-white/5 flex flex-col justify-center relative overflow-hidden",children:[c.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-teal-500 to-emerald-500"}),c.jsx("h4",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] mb-4",children:"Reforar Colaborador"}),c.jsx("p",{className:"text-xs text-slate-400 mb-6",children:"Transfira crditos da empresa para um utilizador especfico."}),c.jsx("div",{className:"mt-auto",children:c.jsxs("button",{onClick:()=>le(!0),className:"w-full py-3 bg-white/5 border border-white/10 text-white font-bold text-[10px] uppercase tracking-widest rounded-xl hover:bg-white/10 transition-all shadow-lg flex items-center justify-center gap-2",children:[c.jsx(mf,{className:"w-3.5 h-3.5"})," Selecionar Utilizador"]})})]})]}),K&&c.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/85 backdrop-blur-md",onClick:()=>!wt&&le(!1)}),c.jsxs("div",{className:"relative w-full max-w-md bg-[#0c0c0c] border border-white/10 rounded-[24px] overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"p-6 border-b border-white/5 space-y-1",children:[c.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[c.jsx(mf,{className:"w-5 h-5 text-teal-400"})," Reforar Colaborador"]}),c.jsx("p",{className:"text-xs text-slate-500",children:"Creditar saldo individual a partir da conta empresarial."})]}),c.jsx("div",{className:"p-8 space-y-6",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block",children:"Utilizador Destino"}),c.jsxs("select",{value:de,onChange:We=>Le(We.target.value),className:"w-full bg-[#111] border border-white/10 rounded-xl py-3 px-4 text-white focus:outline-none focus:border-teal-500 transition-all text-sm appearance-none",children:[c.jsx("option",{value:"",children:"Selecione um utilizador..."}),Ae.map(We=>c.jsxs("option",{value:We.id,children:[We.name," (",We.email,")"]},We.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block",children:"Quantidade"}),c.jsx("input",{type:"number",placeholder:"Qtd. Crditos",value:Ge,onChange:We=>Re(We.target.value),className:"w-full bg-[#111] border border-white/10 rounded-xl py-3 px-4 text-white focus:outline-none focus:border-teal-500 transition-all font-mono text-sm"})]}),c.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-400 pt-2",children:[c.jsx("span",{children:"Saldo Empresa"}),c.jsx("span",{className:"text-cyan-500 font-mono font-bold",children:(t==null?void 0:t.credits)||0})]})]})}),c.jsxs("div",{className:"p-6 bg-white/[0.02] flex gap-3",children:[c.jsx("button",{onClick:()=>le(!1),disabled:wt,className:"flex-1 py-3 text-xs font-bold text-slate-500 hover:text-white transition-colors",children:"Cancelar"}),c.jsxs("button",{onClick:rt,disabled:wt||!de||!Ge,className:"flex-[2] py-3 bg-gradient-to-r from-teal-600 to-emerald-600 text-white font-black text-xs uppercase tracking-widest rounded-xl hover:opacity-90 transition-all flex items-center justify-center gap-2 shadow-lg disabled:opacity-50",children:[wt?c.jsx(ji,{className:"w-4 h-4 animate-spin"}):c.jsx(ia,{className:"w-4 h-4 fill-current"}),wt?"Transferindo...":"Confirmar Transferncia"]})]})]})]}),c.jsxs("div",{className:"bg-[#080808] border border-white/[0.03] rounded-[32px] overflow-hidden shadow-lg",children:[c.jsxs("div",{className:"p-8 border-b border-white/5 flex justify-between bg-[#0c0c0c]",children:[c.jsxs("h3",{className:"font-bold text-white flex items-center gap-3",children:[c.jsx(wJ,{className:"w-5 h-5 text-slate-500"}),"Histrico de Transaes"]}),c.jsx("button",{onClick:yt,disabled:s.length===0,className:"text-xs font-bold text-cyan-400 hover:text-white transition-colors uppercase tracking-wider disabled:opacity-50 disabled:cursor-not-allowed",children:"Exportar Extrato (PDF)"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left text-sm text-slate-400",children:[c.jsx("thead",{className:"bg-white/[0.02] text-[10px] uppercase font-bold text-slate-600 tracking-wider",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-8 py-5",children:"Data/Hora"}),c.jsx("th",{className:"px-8 py-5",children:"Usurio"}),c.jsx("th",{className:"px-8 py-5",children:"Tipo"}),c.jsx("th",{className:"px-8 py-5",children:"Status"}),c.jsx("th",{className:"px-8 py-5",children:"Descrio"}),c.jsx("th",{className:"px-8 py-5 text-right",children:"Movimento"})]})}),c.jsx("tbody",{className:"divide-y divide-white/5",children:l?c.jsx("tr",{children:c.jsxs("td",{colSpan:5,className:"px-8 py-12 text-center text-slate-600",children:[c.jsx(ji,{className:"w-6 h-6 animate-spin mx-auto mb-2 opacity-50"}),"Carregando..."]})}):s.length>0?s.map(We=>c.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[c.jsxs("td",{className:"px-8 py-5 font-mono text-xs text-slate-500",children:[We.date.toLocaleDateString("pt-AO")," ",c.jsx("span",{className:"text-slate-700 ml-2",children:We.date.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),c.jsx("td",{className:"px-8 py-5 text-xs text-white",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-white/5 flex items-center justify-center text-[10px] font-bold text-slate-400 border border-white/5",children:(We.userName||"S").charAt(0).toUpperCase()}),We.userName||"Sistema"]})}),c.jsx("td",{className:"px-8 py-5",children:c.jsx("span",{className:`text-[10px] font-black px-2 py-1 rounded uppercase tracking-wider 
                                            ${["TOPUP","PLAN_UPGRADE","PURCHASE","BONUS","TRANSFER_IN"].includes(We.type)?"bg-emerald-500/10 text-emerald-500":["TRANSFER_OUT","DEBIT"].includes(We.type)?"bg-red-500/10 text-red-500":"bg-slate-800 text-slate-400"}`,children:We.type==="TRANSFER_OUT"?"TRANSFERNCIA (ENVIO)":We.type==="TRANSFER_IN"?"TRANSFERNCIA (RECEBIDO)":We.type==="PLAN_UPGRADE"?"UPGRADE PLANO":We.type==="TOPUP"?"RECARGA":We.type})}),c.jsx("td",{className:"px-8 py-5",children:c.jsx("span",{className:`text-[9px] font-bold px-2 py-1 rounded-lg border ${We.status==="COMPLETED"?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":We.status==="PENDING_APPROVAL"?"bg-amber-500/10 text-amber-500 border-amber-500/20":We.status==="REJECTED"?"bg-red-500/10 text-red-500 border-red-500/20":"bg-slate-500/10 text-slate-400 border-white/5"}`,children:We.status==="COMPLETED"?"CONCLUDO":We.status==="PENDING_APPROVAL"?"PENDENTE":We.status==="REJECTED"?"REJEITADO":We.status})}),c.jsx("td",{className:"px-8 py-5 text-white font-medium",children:We.description}),c.jsxs("td",{className:`px-8 py-5 text-right font-mono font-bold text-lg 
                                        ${["TRANSFER_OUT","DEBIT"].includes(We.type)||We.credits<0?"text-red-400":"text-emerald-400"}`,children:[["TRANSFER_OUT","DEBIT"].includes(We.type)||We.credits<0?"":"+",We.credits.toLocaleString("pt-AO")]})]},We.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-8 py-12 text-center text-slate-600",children:"Nenhuma transao encontrada."})})})]})}),w>1&&c.jsxs("div",{className:"p-4 border-t border-white/5 flex justify-between items-center bg-[#0c0c0c]",children:[c.jsx("button",{onClick:()=>y(We=>Math.max(1,We-1)),disabled:b===1,className:"px-4 py-2 bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white rounded-lg text-xs font-bold transition-all disabled:opacity-30 disabled:cursor-not-allowed",children:"Anterior"}),c.jsxs("span",{className:"text-slate-500 text-xs font-mono",children:["Pgina ",c.jsx("span",{className:"text-white",children:b})," de ",c.jsx("span",{className:"text-slate-400",children:w})]}),c.jsx("button",{onClick:()=>y(We=>Math.min(w,We+1)),disabled:b===w,className:"px-4 py-2 bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white rounded-lg text-xs font-bold transition-all disabled:opacity-30 disabled:cursor-not-allowed",children:"Prxima"})]})]})]})},g$e=()=>{const[t,e]=C.useState([]),[r,n]=C.useState(!0),[a,i]=C.useState("");C.useEffect(()=>{(async()=>{try{const u=await zs.getSystemLogs();e(u)}catch{console.error("Failed to load logs")}finally{n(!1)}})()},[]);const s=t.filter(l=>JSON.stringify(l).toLowerCase().includes(a.toLowerCase())),o=l=>l.includes("delete")?"text-red-400 bg-red-500/10 border-red-500/20":l.includes("create")||l.includes("register")?"text-emerald-400 bg-emerald-500/10 border-emerald-500/20":l.includes("update")?"text-cyan-400 bg-cyan-500/10 border-cyan-500/20":"text-slate-400 bg-white/5 border-white/10";return c.jsxs("div",{className:"space-y-6 animate-in fade-in zoom-in-95 duration-500",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-4xl font-black text-white tracking-tighter",children:"Logs do Sistema"}),c.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Registo completo de todas as aes e alteraes na plataforma."})]}),c.jsxs("div",{className:"relative group w-full md:w-96",children:[c.jsx(yu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-600 group-focus-within:text-cyan-400 transition-colors"}),c.jsx("input",{type:"text",value:a,onChange:l=>i(l.target.value),placeholder:"Pesquisar utilizador, ao ou detalhes...",className:"w-full bg-[#111] border border-white/10 rounded-2xl py-3 pl-12 pr-4 text-sm text-white focus:border-cyan-500/50 outline-none transition-all placeholder-slate-700"})]})]}),c.jsxs("div",{className:"bg-[#0c0c0c] border border-white/[0.04] rounded-[24px] overflow-hidden shadow-2xl",children:[c.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 bg-[#111] border-b border-white/5 text-[10px] uppercase font-bold text-slate-500 tracking-widest",children:[c.jsx("div",{className:"col-span-2",children:"Data/Hora"}),c.jsx("div",{className:"col-span-2",children:"Utilizador"}),c.jsx("div",{className:"col-span-2",children:"Ao"}),c.jsx("div",{className:"col-span-2",children:"Recurso"}),c.jsx("div",{className:"col-span-4",children:"Detalhes"})]}),c.jsx("div",{className:"max-h-[600px] overflow-y-auto custom-scrollbar",children:r?c.jsxs("div",{className:"p-10 text-center text-slate-500 flex flex-col items-center gap-2",children:[c.jsx($s,{className:"w-6 h-6 animate-spin text-cyan-500"}),c.jsx("span",{className:"text-xs",children:"Carregando auditoria..."})]}):s.length===0?c.jsx("div",{className:"p-10 text-center text-slate-700",children:"Nenhum registo encontrado."}):s.map(l=>{var u;return c.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 border-b border-white/[0.02] hover:bg-white/[0.02] transition-colors items-center text-xs group",children:[c.jsxs("div",{className:"col-span-2 text-slate-400 font-mono flex items-center gap-2",children:[c.jsx(mk,{className:"w-3 h-3 text-slate-600"}),new Date(l.created_at).toLocaleString("pt-PT")]}),c.jsxs("div",{className:"col-span-2 text-white font-bold flex items-center gap-2",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-800 flex items-center justify-center text-[9px] border border-white/5",children:(l.user_name||"?").substring(0,1)}),c.jsxs("div",{className:"truncate",children:[c.jsx("p",{children:l.user_name||"Sistema"}),c.jsx("p",{className:"text-[9px] text-slate-600 font-normal truncate max-w-[100px]",children:l.user_email})]})]}),c.jsx("div",{className:"col-span-2",children:c.jsx("span",{className:`px-2 py-1 rounded-md text-[9px] font-black uppercase tracking-wider border ${o(l.action)}`,children:l.action.replace(/_/g," ")})}),c.jsxs("div",{className:"col-span-2 flex items-center gap-2 text-slate-300",children:[c.jsx(R_,{className:"w-3 h-3 text-slate-600"}),c.jsx("span",{className:"bg-slate-900 border border-slate-800 px-1.5 py-0.5 rounded text-[10px] font-mono",children:l.resource_type}),c.jsxs("span",{className:"text-[9px] text-slate-600 truncate",children:["#",(u=l.target_id)==null?void 0:u.substring(0,8)]})]}),c.jsx("div",{className:"col-span-4 text-slate-400 font-mono text-[10px] truncate group-hover:whitespace-normal group-hover:bg-[#000] group-hover:absolute group-hover:right-4 group-hover:w-[400px] group-hover:z-10 group-hover:border group-hover:border-white/10 group-hover:p-4 group-hover:rounded-xl group-hover:shadow-2xl transition-all",children:JSON.stringify(l.details)})]},l.id)})})]})]})},Mb=({id:t,activeTab:e,setActiveTab:r,label:n,icon:a,description:i})=>c.jsx("button",{onClick:()=>r(t),className:`w-full text-left p-4 rounded-2xl transition-all duration-300 group relative overflow-hidden ${e===t?"bg-gradient-to-r from-cyan-500/20 to-blue-500/20 border border-cyan-500/30":"hover:bg-white/5 border border-transparent"}`,children:c.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[c.jsx("div",{className:`p-3 rounded-xl ${e===t?"bg-cyan-500 text-black":"bg-white/5 text-slate-400 group-hover:bg-white/10 group-hover:text-cyan-400"} transition-colors`,children:c.jsx(a,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:`font-bold text-sm ${e===t?"text-white":"text-slate-400 group-hover:text-white"}`,children:n}),c.jsx("p",{className:"text-[10px] text-slate-500 group-hover:text-slate-400",children:i})]})]})}),e0=({children:t,className:e="",title:r,icon:n,gradient:a})=>c.jsxs("div",{className:`relative bg-[#080808] border border-white/[0.03] rounded-[32px] p-8 overflow-hidden group hover:border-white/10 transition-colors shadow-2xl ${e}`,children:[a&&c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-cyan-500/5 blur-[100px] rounded-full -translate-y-1/2 translate-x-1/2 group-hover:bg-cyan-500/10 transition-colors duration-700"}),c.jsxs("div",{className:"relative z-10",children:[r&&c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n&&c.jsx(n,{className:"w-5 h-5 text-cyan-400"}),c.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:r})]}),t]})]}),Do=({label:t,icon:e,value:r,onChange:n,placeholder:a,type:i="text",disabled:s})=>c.jsxs("div",{className:"group",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block group-focus-within:text-cyan-400 transition-colors",children:t}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 p-1.5 rounded-lg bg-white/5 group-focus-within:bg-cyan-500/20 transition-colors",children:c.jsx(e,{className:"w-4 h-4 text-slate-400 group-focus-within:text-cyan-400 transition-colors"})}),c.jsx("input",{type:i,value:r,onChange:i==="text"||i==="password"||i==="email"?o=>n(o.target.value):n,placeholder:a,disabled:s,className:"w-full bg-[#0c0c0c] border border-white/10 rounded-xl py-4 pl-14 pr-4 text-sm text-white placeholder-slate-600 focus:border-cyan-500/50 focus:ring-1 focus:ring-cyan-500/50 outline-none transition-all disabled:opacity-50 disabled:cursor-not-allowed"})]})]}),x$e=15,v$e=()=>{const t=uJ(),{selectedCompany:e,refreshData:r,auditorPrompt:n,updateAuditorPrompt:a,strategistPrompt:i,updateStrategistPrompt:s,ragPrompt:o,updateRagPrompt:l,analyzerPrompt:u,updateAnalyzerPrompt:h,visionPrompt:f,updateVisionPrompt:m}=_o(),{user:g}=uh(),{setNotifications:b}=uh(),[y,w]=C.useState("company"),[A,S]=C.useState(!1),[N,T]=C.useState(!1),[k,R]=C.useState({name:"",email:"",phone:"",address:"",website:"",sector:"",nif:"",regime:"GERAL",cae:"",fiscalRep:"",accountantName:"",accountantEmail:"",logoUrl:"",fiscal_status:"",is_defaulter:!1,fiscal_residence:!0,company_type:""}),[O,U]=C.useState("AUDITOR"),[H,G]=C.useState({AUDITOR:hj,STRATEGIST:GL,RAG:Ej,ANALYZER:WL,VISION:KL}),[F,L]=C.useState({strictMode:!1,autoArchiveDuplicates:!0}),[re,Z]=C.useState([]),[pe,Q]=C.useState(""),[X,oe]=C.useState(new Set),[ce,Ne]=C.useState(!1),[ne,B]=C.useState(null),[V,Y]=C.useState([]),[K,le]=C.useState({name:"",email:"",role:"OPERATOR",password:"",canUpload:!0,canExport:!1,canDelete:!1,licensePlan:""}),[Ae,De]=C.useState(!1),[de,Le]=C.useState(!1),[Ge,Re]=C.useState(0),[wt,St]=C.useState(null),[rt,Te]=C.useState(!1),[Nt]=C.useState([{id:1,device:"Workstation Mac",location:"Luanda, AO",ip:"197.231.0.44",current:!0,type:"DESKTOP"},{id:2,device:"iPhone 15 Pro",location:"Luanda, AO",ip:"102.129.1.5",current:!1,type:"MOBILE"}]),rr=C.useCallback(async()=>{if(g)try{const Ue=e&&e!=="ALL"?e.id:void 0,ur=await zs.getTeam(g.id,Ue);ur&&Array.isArray(ur)&&Z(ur)}catch(Ue){console.error("Failed to load team:",Ue)}},[g,e]),Ot=C.useCallback(async()=>{try{const Ue=await zs.getPlans();Y(Ue),Ue.length>0&&!K.licensePlan&&le(ur=>({...ur,licensePlan:Ue[0].name}))}catch(Ue){console.error("Failed to load plans:",Ue)}},[K.licensePlan]);C.useEffect(()=>{y==="users"&&(rr(),Ot())},[y,rr,Ot]),C.useEffect(()=>{if(e&&e!=="ALL"){const Ue=e;R({name:Ue.name||"",email:Ue.email||"",phone:Ue.phone||"",address:Ue.address||"",website:Ue.website||"",sector:Ue.sector||"",nif:Ue.nif||"",regime:Ue.regime||"GERAL",cae:Ue.cae||"",fiscalRep:Ue.fiscalRep||"",accountantName:Ue.accountantName||"",accountantEmail:Ue.accountantEmail||"",logoUrl:Ue.logoUrl||"",fiscal_status:Ue.fiscal_status||"",is_defaulter:Ue.is_defaulter||!1,fiscal_residence:Ue.fiscal_residence??!0,company_type:Ue.company_type||""}),g&&rr()}},[e,g,rr]),C.useEffect(()=>{G({AUDITOR:n||hj,STRATEGIST:i||GL,RAG:o||Ej,ANALYZER:u||WL,VISION:f||KL})},[n,i,o,u,f]);const vt=C.useMemo(()=>re.filter(Ue=>Ue.role!=="ADMIN"&&Ue.role!=="ACCOUNTANT"&&(Ue.name.toLowerCase().includes(pe.toLowerCase())||Ue.email.toLowerCase().includes(pe.toLowerCase()))),[re,pe]),Dt=()=>{X.size===vt.length?oe(new Set):oe(new Set(vt.map(Ue=>Ue.id)))},yt=async Ue=>{try{await zs.setUserStatus(Ue.id,Ue.status!=="ACTIVE"),rr()}catch(ur){alert(ur.message||"Erro ao alterar status")}},qt=async Ue=>{if(confirm("Tem a certeza que deseja remover este colaborador permanentemente?"))try{await zs.deleteTeamMember(Ue),rr()}catch(ur){alert(ur.message||"Erro ao remover colaborador")}},We=(Ue,ur)=>R(xt=>({...xt,[Ue]:ur})),Jt=async()=>{S(!0);try{if(y==="ai_engine"&&(a(H.AUDITOR),s(H.STRATEGIST),l(H.RAG),h(H.ANALYZER),m(H.VISION),await zs.updateUserPrompts(H)),e&&e!=="ALL"){const Ue={...k,fiscal_rep:k.fiscalRep,accountant_name:k.accountantName,accountant_email:k.accountantEmail,logo_url:k.logoUrl};await O0.updateClient(e.id,Ue)}await r(!0),T(!0),setTimeout(()=>T(!1),3e3)}catch(Ue){alert("Erro ao salvar: "+(Ue.message||"Erro desconhecido"))}finally{S(!1)}},ir=async Ue=>{if(Ue.preventDefault(),B(null),!(!e||e==="ALL")){S(!0);try{await zs.createTeamMember({name:K.name,email:K.email,password:K.password,role:K.role,companyId:e.id,licensePlan:K.licensePlan,permissions:{canUpload:K.canUpload,canExport:K.canExport,canDelete:K.canDelete}}),await r(!0),await rr(),Ne(!1),Te(!0),setTimeout(()=>{Te(!1),y!=="users"&&w("users")},2500),le({name:"",email:"",role:"OPERATOR",password:"",canUpload:!0,canExport:!1,canDelete:!1,licensePlan:"MONTHLY"})}catch(ur){B(ur.message||"Erro ao criar usurio, tente novamente.")}finally{S(!1)}}},Vt=async()=>{await r(!0)};return e==="ALL"&&y!=="ai_engine"?c.jsxs("div",{className:"flex flex-col lg:flex-row gap-10 animate-in fade-in duration-700",children:[c.jsx("div",{className:"w-full lg:w-80 flex-shrink-0",children:c.jsx("div",{className:"sticky top-10 space-y-1 bg-[#080808]/50 backdrop-blur-xl border border-white/[0.03] rounded-[32px] p-3 shadow-2xl",children:c.jsx(Mb,{id:"ai_engine",activeTab:y,setActiveTab:w,label:"Ncleo IA",icon:B0,description:"Regras Globais"})})}),c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center h-[60vh] text-slate-500",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-900 border border-white/5 flex items-center justify-center mb-6 shadow-2xl",children:c.jsx(Wa,{className:"w-10 h-10 opacity-20"})}),c.jsx("h3",{className:"text-white font-bold text-xl tracking-tight",children:"Modo Consolidado"}),c.jsx("p",{className:"text-sm mt-2 max-w-xs text-center leading-relaxed",children:"Voc s pode configurar as regras globais de IA nesta vista. Para editar dados de empresa, selecione uma entidade especfica."})]})]}):c.jsxs("div",{className:"flex flex-col lg:flex-row gap-10 animate-in fade-in slide-in-from-bottom-6 duration-700 relative",children:[c.jsx("div",{className:"w-full lg:w-80 flex-shrink-0",children:c.jsxs("div",{className:"sticky top-10 space-y-1 bg-[#080808]/50 backdrop-blur-xl border border-white/[0.03] rounded-[32px] p-3 shadow-2xl",children:[c.jsx(Mb,{id:"company",activeTab:y,setActiveTab:w,label:"Identidade",icon:Wa,description:"Perfil Corporativo"}),c.jsx(Mb,{id:"fiscal",activeTab:y,setActiveTab:w,label:"Fiscal",icon:Yo,description:"Compliance & Taxas"}),c.jsx(Mb,{id:"users",activeTab:y,setActiveTab:w,label:"Utilizadores",icon:yy,description:"Equipa & Subscrio"}),c.jsx(Mb,{id:"security",activeTab:y,setActiveTab:w,label:"Segurana",icon:xk,description:"Proteo de Dados"}),c.jsx(Mb,{id:"logs",activeTab:y,setActiveTab:w,label:"Logs do Sistema",icon:$s,description:"Auditoria & Rastreio"})]})}),c.jsxs("div",{className:"flex-1 space-y-8 pb-32",children:[y==="company"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 animate-in fade-in zoom-in-95 duration-500",children:[c.jsxs("div",{className:"md:col-span-12 flex justify-between items-center mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-4xl font-black text-white tracking-tighter",children:"Perfil Corporativo"}),c.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Gira as informaes pblicas e de contacto da sua organizao."})]}),c.jsx("div",{className:"w-24 h-24 rounded-[32px] bg-gradient-to-br from-slate-800 to-slate-900 border border-white/10 flex items-center justify-center text-3xl font-black text-white shadow-2xl transform hover:rotate-3 transition-transform cursor-pointer",children:k.name.substring(0,2).toUpperCase()})]}),c.jsx(e0,{title:"Informaes Gerais",icon:bpe,className:"md:col-span-8",gradient:!0,children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsx(Do,{label:"Razo Social",icon:Wa,value:k.name,onChange:Ue=>We("name",Ue)}),c.jsx(Do,{label:"E-mail Oficial",icon:d_,value:k.email,onChange:Ue=>We("email",Ue)}),c.jsx("div",{className:"md:col-span-2",children:c.jsx(Do,{label:"Morada Fiscal",icon:L$,value:k.address,onChange:Ue=>We("address",Ue)})})]})}),c.jsx(e0,{title:"Presena Digital",icon:gy,className:"md:col-span-4",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx(Do,{label:"Telefone",icon:Spe,value:k.phone,onChange:Ue=>We("phone",Ue)}),c.jsx(Do,{label:"Website",icon:gy,value:k.website,onChange:Ue=>We("website",Ue)})]})}),c.jsx(e0,{title:"rea de Atuao",icon:Zb,className:"md:col-span-12",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-end",children:[c.jsx("div",{className:"flex-1 w-full",children:c.jsx(Do,{label:"Sector Principal",icon:Zb,value:k.sector,onChange:Ue=>We("sector",Ue),placeholder:"Ex: Tecnologia e Software"})}),c.jsxs("div",{className:"p-4 bg-cyan-500/5 rounded-2xl border border-cyan-500/10 flex items-center gap-3",children:[c.jsx(ki,{className:"w-5 h-5 text-cyan-400"}),c.jsx("p",{className:"text-[10px] font-bold text-cyan-200 uppercase tracking-widest",children:"Entidade Verificada via AGT Service"})]})]})})]}),y==="fiscal"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 animate-in fade-in zoom-in-95 duration-500",children:[c.jsxs("div",{className:"md:col-span-12 mb-4",children:[c.jsx("h2",{className:"text-4xl font-black text-white tracking-tighter",children:"Compliance Fiscal"}),c.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Configuraes de impostos e parmetros para validao neural."})]}),c.jsx(e0,{title:"Registos Legais",icon:tI,className:"md:col-span-12",gradient:!0,children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsx(Do,{label:"NIF da Entidade",icon:tI,value:k.nif,readonly:!0}),c.jsx(Do,{label:"Estado Fiscal",icon:$s,value:k.fiscal_status||"N/A",readonly:!0}),c.jsx(Do,{label:"Cdigo CAE",icon:R_,value:k.cae,onChange:Ue=>We("cae",Ue),placeholder:"Ex: 62010"}),c.jsx(Do,{label:"Tipo",icon:Wa,value:k.company_type||"N/A",readonly:!0}),c.jsx(Do,{label:"Regime IVA",icon:K8,value:k.regime,readonly:!0}),c.jsx(Do,{label:"Residncia",icon:L$,value:k.fiscal_residence?"Residente":"No Residente",readonly:!0}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block",children:"Inadimplente?"}),c.jsxs("div",{className:`p-4 rounded-xl border flex items-center gap-2 ${k.is_defaulter?"bg-red-500/10 border-red-500/20 text-red-500":"bg-emerald-500/10 border-emerald-500/20 text-emerald-500"}`,children:[k.is_defaulter?c.jsx(wo,{className:"w-5 h-5"}):c.jsx(Ns,{className:"w-5 h-5"}),c.jsx("span",{className:"font-bold text-sm uppercase",children:k.is_defaulter?"SIM (Irregular)":"NO (Regular)"})]})]})]})}),c.jsxs(e0,{title:"Representao",icon:M$,className:"md:col-span-5",children:[c.jsx(Do,{label:"Representante Fiscal",icon:M$,value:k.fiscalRep,onChange:Ue=>We("fiscalRep",Ue)}),c.jsx("div",{className:"mt-6 p-4 bg-amber-500/5 rounded-2xl border border-amber-500/10",children:c.jsx("p",{className:"text-[10px] text-amber-200/70 leading-relaxed font-medium",children:"A alterao destes dados pode impactar a preciso das validaes do KwikDocs para faturas passadas."})})]}),c.jsx(e0,{title:"Responsvel Tcnico",icon:Zb,className:"md:col-span-12",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsx(Do,{label:"Nome do Contabilista",icon:mf,value:k.accountantName,onChange:Ue=>We("accountantName",Ue)}),c.jsx(Do,{label:"E-mail de Notificaes Fiscais",icon:d_,value:k.accountantEmail,onChange:Ue=>We("accountantEmail",Ue)})]})})]}),y==="users"&&c.jsxs("div",{className:"space-y-8 animate-in fade-in zoom-in-95 duration-500",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-4xl font-black text-white tracking-tighter",children:"Gesto de Equipa"}),c.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Adicione colaboradores e monitorize o custo de subscrio."})]}),c.jsxs("button",{onClick:()=>Ne(!0),className:"px-6 py-3 bg-white text-black rounded-2xl text-xs font-black uppercase tracking-widest flex items-center gap-2 hover:bg-cyan-50 transition-all shadow-[0_0_30px_rgba(255,255,255,0.15)] active:scale-95",children:[c.jsx(NJ,{className:"w-4 h-4"})," Novo Membro"]})]}),c.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[re.filter(Ue=>Ue.status==="ACTIVE"&&Ue.role!=="ADMIN"&&Ue.role!=="ACCOUNTANT").length," de 10 licenas em uso"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:c.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[c.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Custo Mensal Estimado"}),c.jsxs("p",{className:"text-2xl font-bold",children:[(re.filter(Ue=>Ue.status==="ACTIVE"&&Ue.role!=="ADMIN"&&Ue.role!=="ACCOUNTANT").length*15).toLocaleString("pt-AO")," ",c.jsx("span",{className:"text-sm font-normal text-slate-400",children:"AOA"})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs(e0,{title:"Custo de Subscrio Mensal",icon:Lx,className:"md:col-span-2",gradient:!0,children:[c.jsxs("div",{className:"flex items-end justify-between",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"text-5xl font-black text-white tracking-tighter mb-2",children:[re.filter(Ue=>Ue.status==="ACTIVE"&&Ue.role!=="ADMIN"&&Ue.role!=="ACCOUNTANT").length*15," ",c.jsx("span",{className:"text-xl text-slate-500 font-medium",children:"crditos"})]}),c.jsxs("p",{className:"text-xs text-slate-400",children:["Total recorrente mensal para ",re.filter(Ue=>Ue.status==="ACTIVE"&&Ue.role!=="ADMIN"&&Ue.role!=="ACCOUNTANT").length," utilizadores activos."]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm font-bold text-white mb-1",children:"15 Crditos"}),c.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-widest",children:"Por Utilizador"})]})]}),c.jsx("div",{className:"mt-6 h-2 w-full bg-[#111] rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 w-full animate-pulse"})})]}),c.jsx(e0,{title:"Utilizao",icon:yy,children:c.jsxs("div",{className:"text-center py-4",children:[c.jsxs("div",{className:"text-4xl font-black text-white",children:[re.filter(Ue=>Ue.status==="ACTIVE"&&Ue.role!=="ADMIN"&&Ue.role!=="ACCOUNTANT").length," / 10"]}),c.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest mt-2 font-bold",children:"Licenas Activas"})]})})]}),c.jsx("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:c.jsxs("div",{className:"relative flex-1 group",children:[c.jsx(yu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 w-4 h-4 group-focus-within:text-white transition-colors"}),c.jsx("input",{type:"text",placeholder:"Buscar colaboradores por nome ou email...",value:pe,onChange:Ue=>Q(Ue.target.value),className:"w-full bg-[#080808] border border-white/5 rounded-2xl pl-11 pr-4 py-3 text-sm text-white placeholder-slate-600 focus:outline-none focus:border-cyan-500/30 transition-all font-medium"})]})}),c.jsx("div",{className:"bg-[#080808] border border-white/[0.03] rounded-[32px] overflow-hidden shadow-2xl",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left text-sm text-slate-400",children:[c.jsx("thead",{className:"bg-[#0c0c0c] text-[10px] uppercase font-bold text-slate-500 border-b border-white/5 tracking-widest",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-5 w-12",children:c.jsx("button",{onClick:Dt,className:"p-1 hover:bg-white/5 rounded transition-colors",children:X.size===vt.length&&vt.length>0?c.jsx(ij,{className:"w-4 h-4 text-cyan-500"}):c.jsx(sj,{className:"w-4 h-4"})})}),c.jsx("th",{className:"px-4 py-5 font-black",children:"Colaborador"}),c.jsx("th",{className:"px-6 py-5 font-black",children:"Status"}),c.jsx("th",{className:"px-6 py-5 font-black text-center",children:"Crditos"}),c.jsx("th",{className:"px-6 py-5 font-black",children:"Funo"}),c.jsx("th",{className:"px-6 py-5 font-black text-center",children:"Aes"})]})}),c.jsx("tbody",{className:"divide-y divide-white/5",children:vt.map(Ue=>c.jsxs("tr",{className:`transition-colors group ${X.has(Ue.id)?"bg-cyan-500/5":"hover:bg-white/[0.02]"}`,children:[c.jsx("td",{className:"px-6 py-5",children:c.jsx("button",{onClick:()=>{const ur=new Set(X);ur.has(Ue.id)?ur.delete(Ue.id):ur.add(Ue.id),oe(ur)},className:"flex items-center text-slate-600 hover:text-white transition-colors",children:X.has(Ue.id)?c.jsx(ij,{className:"w-4 h-4 text-cyan-500"}):c.jsx(sj,{className:"w-4 h-4"})})}),c.jsx("td",{className:"px-4 py-5",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-500/20 flex items-center justify-center text-cyan-400 font-bold border border-cyan-500/20",children:Ue.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-white text-sm",children:Ue.name}),c.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-mono",children:Ue.email})]})]})}),c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Ue.status==="ACTIVE"?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]":"bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.5)]"}`}),c.jsx("span",{className:`text-[10px] font-black uppercase tracking-wider ${Ue.status==="ACTIVE"?"text-emerald-400":"text-red-400"}`,children:Ue.status==="ACTIVE"?"Activo":"Inactivo"})]})}),c.jsx("td",{className:"px-6 py-5 text-center",children:c.jsx("div",{className:"inline-block px-3 py-1 bg-white/5 rounded-lg border border-white/5",children:c.jsxs("span",{className:"text-xs font-black text-cyan-400 font-mono",children:[Ue.credits," Cr"]})})}),c.jsx("td",{className:"px-6 py-5",children:c.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:Ue.role})}),c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"flex items-center justify-center gap-2 text-center",children:[c.jsx("button",{onClick:()=>{t("/credits")},className:"p-2.5 rounded-xl bg-white/5 text-slate-400 hover:text-emerald-400 hover:bg-emerald-500/10 border border-transparent hover:border-emerald-500/20 transition-all",title:"Adicionar Crditos",children:c.jsx(Nm,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>yt(Ue),className:`p-2.5 rounded-xl bg-white/5 border border-transparent transition-all ${Ue.status==="ACTIVE"?"text-amber-400 hover:bg-amber-500/10 hover:border-amber-500/20":"text-emerald-400 hover:bg-emerald-500/10 hover:border-emerald-500/20"}`,title:Ue.status==="ACTIVE"?"Desactivar":"Activar",children:c.jsx(Tpe,{className:"w-4 h-4"})}),c.jsx("button",{className:"p-2.5 rounded-xl bg-white/5 text-slate-400 hover:text-white hover:bg-white/10 border border-transparent hover:border-white/20 transition-all",children:c.jsx(xy,{className:"w-4 h-4"})}),Ue.id!==(g==null?void 0:g.id)&&c.jsx("button",{onClick:()=>qt(Ue.id),className:"p-2.5 rounded-xl bg-white/5 text-slate-400 hover:text-red-500 hover:bg-red-500/10 border border-transparent hover:border-red-500/20 transition-all",title:"Remover Acesso",children:c.jsx(Sm,{className:"w-4 h-4"})})]})})]},Ue.id))})]})})}),X.size>0&&c.jsxs("div",{className:"fixed bottom-10 left-1/2 -translate-x-1/2 z-[100] bg-black/80 backdrop-blur-xl border border-white/10 rounded-full px-8 py-4 shadow-2xl flex items-center gap-8 animate-in slide-in-from-bottom-10 duration-500",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-cyan-500 flex items-center justify-center text-black text-[10px] font-black",children:X.size}),c.jsx("span",{className:"text-xs font-bold text-white uppercase tracking-widest",children:"Utilizadores Seleccionados"})]}),c.jsx("div",{className:"h-6 w-px bg-white/10"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 rounded-full bg-white/5 text-slate-300 hover:text-white hover:bg-white/10 text-[10px] font-black uppercase tracking-widest transition-all",children:[c.jsx(P0,{className:"w-3.5 h-3.5"})," Bloquear"]}),c.jsxs("button",{onClick:()=>{confirm(`Remover ${X.size} utilizadores permanentemente?`)&&(alert("Ao em lote processada."),oe(new Set))},className:"flex items-center gap-2 px-6 py-2 rounded-full bg-red-500/10 text-red-500 hover:bg-red-500/20 text-[10px] font-black uppercase tracking-widest transition-all",children:[c.jsx(Sm,{className:"w-3.5 h-3.5"})," Remover"]})]}),c.jsx("button",{onClick:()=>oe(new Set),className:"p-2 hover:bg-white/10 rounded-full text-slate-500 hover:text-white transition-all",children:c.jsx(Hs,{className:"w-4 h-4"})})]})]}),y==="security"&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 animate-in fade-in zoom-in-95 duration-500",children:[c.jsxs("div",{className:"md:col-span-12 mb-4",children:[c.jsx("h2",{className:"text-4xl font-black text-white tracking-tighter",children:"Painel de Segurana"}),c.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Controle de acesso, credenciais e monitorizao de sesses."})]}),c.jsx(e0,{title:"Credenciais de Acesso",icon:q8,className:"md:col-span-5",gradient:!0,children:c.jsxs("div",{className:"space-y-5",children:[c.jsx(Do,{label:"Nova Senha",icon:P0,type:"password",value:K.password,onChange:Ue=>le({...K,password:Ue})}),c.jsx(Do,{label:"Confirmar Nova Senha",icon:P0,type:"password"}),c.jsx("button",{onClick:async()=>{if(!K.password)return alert("Introduza a nova senha");S(!0);try{await zs.changePassword(K.password),T(!0),setTimeout(()=>T(!1),3e3),le({...K,password:""})}catch(Ue){alert(Ue.message||"Erro ao alterar senha")}finally{S(!1)}},className:"w-full py-4 mt-2 bg-white/[0.03] hover:bg-white/[0.07] border border-white/10 text-white text-[10px] font-black uppercase tracking-[0.2em] rounded-2xl transition-all",children:A?c.jsx(ji,{className:"w-4 h-4 animate-spin mx-auto"}):"Actualizar Palavra-passe"})]})}),c.jsxs(e0,{title:"Acesso & Dispositivos",icon:ki,className:"md:col-span-7",children:[c.jsxs("div",{className:"flex items-center justify-between mb-10 p-5 bg-cyan-500/[0.03] rounded-[24px] border border-cyan-500/10",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-2xl bg-cyan-500/10 flex items-center justify-center text-cyan-400 shadow-[0_0_15px_rgba(6,182,212,0.1)]",children:c.jsx(Jpe,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-bold text-white tracking-tight",children:"Autenticao 2FA"}),c.jsx("p",{className:"text-[10px] text-slate-500 font-medium uppercase tracking-widest mt-0.5",children:"Proteo Adicional de Login"})]})]}),c.jsx("button",{onClick:()=>De(!Ae),className:`w-14 h-7 rounded-full relative transition-all duration-500 ${Ae?"bg-cyan-500 shadow-[0_0_15px_rgba(6,182,212,0.5)]":"bg-slate-800"}`,children:c.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full shadow-lg transition-all duration-500 ${Ae?"left-8":"left-1"}`})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h4",{className:"text-[10px] font-black text-slate-600 uppercase tracking-[0.2em] px-1 flex items-center gap-2",children:[c.jsx($s,{className:"w-3 h-3 text-cyan-500"})," Sesses Activas no Momento"]}),c.jsx("div",{className:"space-y-4",children:Nt.map(Ue=>c.jsxs("div",{className:"flex justify-between items-center group p-4 rounded-2xl bg-black/20 hover:bg-black/40 border border-transparent hover:border-white/5 transition-all",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-slate-900 rounded-xl border border-white/5 text-slate-500 group-hover:text-white transition-all",children:Ue.type==="DESKTOP"?c.jsx(R_,{className:"w-5 h-5"}):c.jsx(X8,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm font-bold text-white tracking-tight",children:[Ue.device," ",Ue.current&&c.jsx("span",{className:"ml-2 text-[8px] text-cyan-400 bg-cyan-400/10 px-2 py-0.5 rounded-full font-black border border-cyan-400/20",children:"ATUAL"})]}),c.jsxs("p",{className:"text-[10px] text-slate-600 font-mono mt-0.5 uppercase tracking-tighter",children:[Ue.location,"  ",Ue.ip]})]})]}),!Ue.current&&c.jsx("button",{className:"p-2 text-slate-700 hover:text-red-500 transition-all opacity-0 group-hover:opacity-100",children:c.jsx(pE,{className:"w-4 h-4"})})]},Ue.id))})]})]})]}),y==="logs"&&c.jsx(g$e,{})]}),(y==="company"||y==="fiscal"||y==="ai_engine")&&c.jsx("div",{className:"fixed bottom-10 left-1/2 -translate-x-1/2 z-[60] w-full max-w-sm px-6 animate-in slide-in-from-bottom-10 fade-in duration-700",children:c.jsxs("button",{onClick:Jt,disabled:A,className:`w-full h-16 rounded-[24px] font-black uppercase text-xs tracking-[0.2em] transition-all shadow-[0_20px_50px_rgba(0,0,0,0.5)] flex items-center justify-center gap-4 group ${N?"bg-emerald-500 text-black shadow-emerald-500/20":"bg-white text-black hover:bg-cyan-50 hover:scale-[1.02] active:scale-95"}`,children:[A?c.jsx(ji,{className:"w-5 h-5 animate-spin"}):N?c.jsx(Pc,{className:"w-5 h-5 stroke-[3px]"}):c.jsx(W8,{className:"w-5 h-5"}),N?"Guardado com Sucesso":"Gravar Alteraes"]})}),ce&&c.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-black/80 backdrop-blur-md animate-in fade-in duration-300",children:c.jsxs("div",{className:"bg-[#0c0c0c] border border-white/10 rounded-[40px] w-full max-w-lg p-10 shadow-[0_0_100px_rgba(0,0,0,0.5)] animate-in zoom-in-95 duration-500",children:[c.jsxs("div",{className:"flex justify-between items-start mb-10",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-black text-white tracking-tighter leading-none",children:"Novo Membro"}),c.jsx("p",{className:"text-slate-500 text-sm mt-3",children:"Defina as credenciais para o novo colaborador."})]}),c.jsx("button",{onClick:()=>{Ne(!1),B(null)},className:"p-3 bg-white/5 rounded-full hover:bg-white/10 transition-colors",children:c.jsx(Hs,{className:"w-5 h-5 text-slate-500"})})]}),ne&&c.jsxs("div",{className:"mb-8 p-5 bg-red-500/10 border border-red-500/20 rounded-2xl flex items-start gap-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[c.jsx("div",{className:"p-2 bg-red-500/20 rounded-full mt-0.5",children:c.jsx(Ys,{className:"w-5 h-5 text-red-500"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-bold text-white",children:"Erro no Registo"}),c.jsx("p",{className:"text-xs text-red-400/90 leading-relaxed mt-1",children:ne})]})]}),A?c.jsxs("div",{className:"flex flex-col items-center justify-center py-10 animate-in fade-in zoom-in-95 duration-500",children:[c.jsxs("div",{className:"relative w-16 h-16 mb-6",children:[c.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-cyan-500/20"}),c.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-t-cyan-500 animate-spin"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"})})]}),c.jsx("h3",{className:"text-xl font-black text-white tracking-tight mb-2",children:"Criando Painel..."}),c.jsxs("p",{className:"text-sm text-slate-400 text-center mb-6 max-w-[250px]",children:["Configurando ambiente para ",c.jsx("span",{className:"text-cyan-400 font-bold",children:K.name||"o colaborador"}),"."]}),c.jsxs("div",{className:"w-full bg-white/5 rounded-xl p-4 border border-white/10 max-w-xs space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-400",children:[c.jsx("div",{className:"w-4 h-4 rounded-full bg-emerald-500/20 flex items-center justify-center text-emerald-500",children:c.jsx(Pc,{className:"w-2 h-2"})}),c.jsx("span",{children:"Validando licena"})]}),c.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-400",children:[c.jsx("div",{className:"w-4 h-4 rounded-full bg-emerald-500/20 flex items-center justify-center text-emerald-500",children:c.jsx(Pc,{className:"w-2 h-2"})}),c.jsx("span",{children:"Verificando saldo"})]}),c.jsxs("div",{className:"flex items-center gap-3 text-xs text-white animate-pulse",children:[c.jsx(ji,{className:"w-4 h-4 animate-spin text-cyan-500"}),c.jsx("span",{children:"Gerando credenciais..."})]})]})]}):c.jsxs("form",{onSubmit:ir,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest px-1",children:"Nome Completo"}),c.jsxs("div",{className:"relative group",children:[c.jsx(mf,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-600 group-focus-within:text-cyan-500 transition-colors"}),c.jsx("input",{type:"text",value:K.name,onChange:Ue=>le({...K,name:Ue.target.value}),className:"w-full bg-black border border-white/5 rounded-2xl py-4 pl-12 pr-4 text-sm text-white focus:border-cyan-500/50 outline-none transition-all placeholder:text-slate-700 font-medium",placeholder:"Ex: Joo da Silva",required:!0})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest px-1",children:"Email Profissional"}),c.jsxs("div",{className:"relative group",children:[c.jsx(d_,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-600 group-focus-within:text-cyan-500 transition-colors"}),c.jsx("input",{type:"email",value:K.email,onChange:Ue=>le({...K,email:Ue.target.value}),className:"w-full bg-black border border-white/5 rounded-2xl py-4 pl-12 pr-4 text-sm text-white focus:border-cyan-500/50 outline-none transition-all placeholder:text-slate-700 font-medium",placeholder:"Ex: joao@empresa.com",required:!0})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest px-1",children:"Senha de Acesso"}),c.jsxs("div",{className:"relative group",children:[c.jsx(P0,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-600 group-focus-within:text-cyan-500 transition-colors"}),c.jsx("input",{type:"password",value:K.password,onChange:Ue=>le({...K,password:Ue.target.value}),className:"w-full bg-black border border-white/5 rounded-2xl py-4 pl-12 pr-4 text-sm text-white focus:border-cyan-500/50 outline-none transition-all placeholder:text-slate-700 font-medium",placeholder:"",required:!0})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest px-1",children:"Cargo / Funo"}),c.jsxs("div",{className:"relative",children:[c.jsx(Zb,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-600"}),c.jsxs("select",{value:K.role,onChange:Ue=>le({...K,role:Ue.target.value}),className:"w-full bg-black border border-white/5 rounded-2xl py-4 pl-12 pr-4 text-sm text-white focus:border-cyan-500/50 outline-none appearance-none",children:[c.jsx("option",{value:"COLLABORATOR",children:"Operador"}),c.jsx("option",{value:"ADMIN",children:"Administrador"})]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest px-1",children:"Plano de Licena"}),c.jsx("div",{className:"grid grid-cols-3 gap-3",children:V.length>0?V.map(Ue=>c.jsxs("div",{onClick:()=>le({...K,licensePlan:Ue.name}),className:`cursor-pointer rounded-xl border p-3 flex flex-col items-center justify-center transition-all ${K.licensePlan===Ue.name?"bg-purple-500/20 border-purple-500/50":"bg-white/5 border-transparent hover:bg-white/10"}`,children:[c.jsx("span",{className:"text-[9px] font-bold uppercase text-slate-400 text-center line-clamp-1",children:Ue.name}),c.jsx("span",{className:`text-xs font-black mt-1 ${K.licensePlan===Ue.name?"text-purple-400":"text-white"}`,children:Ue.price_credits>0?`${Ue.price_credits} C`:"Gratuito"})]},Ue.id)):c.jsx("div",{className:"col-span-3 text-center py-4 bg-white/5 rounded-xl border border-white/10",children:c.jsx("p",{className:"text-xs text-slate-500",children:"Carregando planos..."})})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest px-1",children:"Permisses de Acesso"}),c.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"canUpload",label:"Upload"},{id:"canExport",label:"Export"},{id:"canDelete",label:"Delete"}].map(Ue=>c.jsxs("div",{onClick:()=>le({...K,[Ue.id]:!K[Ue.id]}),className:`cursor-pointer rounded-xl border p-2 flex items-center gap-2 transition-all ${K[Ue.id]?"bg-cyan-500/10 border-cyan-500/30":"bg-white/5 border-transparent"}`,children:[c.jsx("div",{className:`w-3 h-3 rounded-full ${K[Ue.id]?"bg-cyan-500 shadow-[0_0_8px_rgba(6,182,212,0.5)]":"bg-slate-700"}`}),c.jsx("span",{className:"text-[10px] font-bold text-slate-300 uppercase",children:Ue.label})]},Ue.id))})]}),c.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-xl p-4 flex items-center gap-3",children:[c.jsx(Lx,{className:"w-5 h-5 text-purple-400"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold text-white",children:"Impacto na Subscrio"}),c.jsxs("p",{className:"text-[10px] text-purple-300",children:["Sero debitados ",c.jsxs("span",{className:"font-bold text-white mx-1",children:[x$e," Crditos"]})," da conta da empresa."]})]})]}),c.jsx("button",{className:"w-full py-4 bg-cyan-500 hover:bg-cyan-400 text-black font-bold text-sm rounded-xl transition-all shadow-lg shadow-cyan-500/20 active:scale-95 flex items-center justify-center gap-2 mt-4",children:"Confirmar Registo"})]})]})}),de&&wt&&c.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-black/80 backdrop-blur-md animate-in fade-in duration-300",children:c.jsxs("div",{className:"bg-[#0c0c0c] border border-white/10 rounded-[32px] w-full max-w-md p-8 shadow-[0_0_100px_rgba(0,0,0,0.5)] animate-in zoom-in-95 duration-500",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-black text-white tracking-tighter leading-none",children:"Adicionar Crditos"}),c.jsxs("p",{className:"text-slate-500 text-xs mt-2",children:["Para: ",c.jsx("span",{className:"text-cyan-400 font-bold",children:wt.name})]})]}),c.jsx("button",{onClick:()=>Le(!1),className:"p-2 bg-white/5 rounded-full hover:bg-white/10 transition-colors",children:c.jsx(Hs,{className:"w-4 h-4 text-slate-500"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(Do,{label:"Quantidade de Crditos",icon:Nm,type:"number",value:Ge,onChange:Ue=>Re(Number(Ue)),placeholder:"0"}),c.jsx("button",{onClick:async()=>{if(Ge<=0)return alert("Quantidade invlida");S(!0);try{await zs.addCredits(wt.id,Ge),await Vt(),Le(!1),Re(0)}catch(Ue){alert(Ue.message||"Erro ao adicionar crditos")}finally{S(!1)}},disabled:A,className:"w-full py-4 bg-emerald-500 text-black font-black uppercase text-xs tracking-[0.2em] rounded-xl shadow-lg hover:bg-emerald-400 hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:A?c.jsx(ji,{className:"w-4 h-4 animate-spin mx-auto"}):"CONFIRMAR DEPSITO"})]})]})}),rt&&c.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center pointer-events-none",children:c.jsxs("div",{className:"bg-emerald-500 text-white px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-4 animate-in fade-in zoom-in-95 slide-in-from-bottom-5 duration-300",children:[c.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:c.jsx(Pc,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-sm",children:"Membro Adicionado!"}),c.jsx("p",{className:"text-xs text-emerald-100",children:"Licena ativada e crditos debitados."})]})]})})]})};function y$e({onScanSuccess:t,initialNif:e}){const{user:r}=uh(),[n,a]=C.useState(e||""),[i,s]=C.useState(!1),[o,l]=C.useState(null);C.useEffect(()=>{e&&e.length>=9&&u(e)},[e]);const u=async h=>{const f=h||n;if(!f||f.length<9){l("NIF invlido. Insira pelo menos 9 dgitos.");return}s(!0),l(null);try{const m=await O0.validateNif(f,(r==null?void 0:r.id)||"unknown");if(!m||!m.nome)throw new Error("NIF no encontrado ou sem dados.");t(m)}catch(m){console.error(m),l(m.message||"Erro ao validar NIF. Tente novamente.")}finally{s(!1)}};return c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-6 animate-in fade-in zoom-in-95 duration-300",children:[c.jsxs("div",{className:"relative mb-4",children:[c.jsx("div",{className:"absolute inset-0 bg-cyan-500/20 blur-xl rounded-full"}),c.jsx("div",{className:"relative w-20 h-20 bg-[#111] border border-cyan-500/30 rounded-full flex items-center justify-center shadow-[0_0_30px_rgba(6,182,212,0.15)]",children:c.jsx(gy,{className:"w-10 h-10 text-cyan-400 animate-pulse"})})]}),c.jsxs("div",{className:"text-center space-y-2 max-w-sm",children:[c.jsx("h3",{className:"text-xl font-bold text-white",children:"Sincronizao Fiscal"}),c.jsx("p",{className:"text-sm text-gray-400",children:e?"Validando NIF automaticamente...":"Conectando  base de dados da AGT em tempo real."})]}),c.jsxs("div",{className:"w-full max-w-xs space-y-4",children:[c.jsxs("div",{className:"relative group",children:[c.jsx("input",{type:"text",value:n,onChange:h=>a(h.target.value.replace(/[^0-9]/g,"")),onKeyDown:h=>h.key==="Enter"&&u(),placeholder:"Digite o NIF (ex: 500...)",className:"w-full bg-[#151515] border border-white/10 rounded-xl px-5 py-4 text-center text-lg font-mono tracking-widest text-white focus:border-cyan-500/50 focus:outline-none transition-all Group-hover:border-white/20",autoFocus:!e}),c.jsx(yu,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-600 group-focus-within:text-cyan-500 transition-colors"})]}),o&&c.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-400 bg-red-500/10 p-3 rounded-lg border border-red-500/20 justify-center",children:[c.jsx(wo,{className:"w-3 h-3"}),o]}),c.jsx("button",{onClick:()=>u(),disabled:i||!n,className:"w-full py-4 bg-cyan-600 hover:bg-cyan-500 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg shadow-cyan-900/20",children:i?c.jsx(ji,{className:"w-5 h-5 animate-spin"}):"Buscar Dados"})]}),c.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-600 uppercase tracking-widest font-medium",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),"Servio Online"]})]})}const b$e=({setMode:t,setStep:e})=>c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-full",children:[c.jsxs("button",{onClick:()=>{t("AUTO"),e("SCAN")},className:"group relative flex flex-col items-center justify-center p-8 rounded-2xl border border-white/5 bg-[#09090b] hover:bg-white/5 transition-all duration-300 hover:border-emerald-500/30 overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-emerald-500/5 opacity-0 group-hover:opacity-100 transition-opacity blur-2xl"}),c.jsx("div",{className:"relative p-4 rounded-full bg-emerald-500/10 mb-4 group-hover:scale-110 transition-transform shadow-[0_0_15px_rgba(16,185,129,0.2)]",children:c.jsx(ia,{className:"w-8 h-8 text-emerald-500"})}),c.jsx("h3",{className:"relative text-lg font-bold text-white mb-2 tracking-tight",children:"Sincronizao AGT"}),c.jsx("p",{className:"relative text-sm text-gray-400 text-center max-w-[200px] leading-relaxed",children:"Validao automtica via NIF com dados oficiais."}),c.jsx("div",{className:"relative mt-4 px-3 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-[10px] font-bold uppercase tracking-wider text-emerald-400",children:"Recomendado"})]}),c.jsxs("button",{onClick:()=>{t("MANUAL"),e("FORM")},className:"group relative flex flex-col items-center justify-center p-8 rounded-2xl border border-white/5 bg-[#09090b] hover:bg-white/5 transition-all duration-300 hover:border-blue-500/30 overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-blue-500/5 opacity-0 group-hover:opacity-100 transition-opacity blur-2xl"}),c.jsx("div",{className:"relative p-4 rounded-full bg-blue-500/10 mb-4 group-hover:scale-110 transition-transform shadow-[0_0_15px_rgba(59,130,246,0.2)]",children:c.jsx(G0e,{className:"w-8 h-8 text-blue-500"})}),c.jsx("h3",{className:"relative text-lg font-bold text-white mb-2 tracking-tight",children:"Registro Manual"}),c.jsx("p",{className:"relative text-sm text-gray-400 text-center max-w-[200px] leading-relaxed",children:"Entrada manual de dados. Requer validao posterior."})]})]}),w$e=({formData:t,setFormData:e,handleManualSubmit:r,setMode:n})=>c.jsxs("div",{className:"space-y-5 animate-in slide-in-from-right-4 duration-300",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 tracking-wider ml-1",children:"Nome da Empresa"}),c.jsx("input",{value:t.name,onChange:a=>e({...t,name:a.target.value}),className:"w-full bg-[#0c0c0e] border border-white/10 rounded-xl px-4 py-3 text-white placeholder-gray-600 focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/20 outline-none transition-all",placeholder:"Ex: KwikDocs Lda"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 tracking-wider ml-1",children:"NIF"}),c.jsx("input",{value:t.nif,onChange:a=>e({...t,nif:a.target.value}),className:"w-full bg-[#0c0c0e] border border-white/10 rounded-xl px-4 py-3 text-white placeholder-gray-600 focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/20 outline-none transition-all font-mono",placeholder:"Ex: 500123456"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 tracking-wider ml-1",children:"Email"}),c.jsx("input",{value:t.email,onChange:a=>e({...t,email:a.target.value}),className:"w-full bg-[#0c0c0e] border border-white/10 rounded-xl px-4 py-3 text-white placeholder-gray-600 focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/20 outline-none transition-all",placeholder:"contato@empresa.com"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 tracking-wider ml-1",children:"Telefone"}),c.jsx("input",{value:t.phone,onChange:a=>e({...t,phone:a.target.value}),className:"w-full bg-[#0c0c0e] border border-white/10 rounded-xl px-4 py-3 text-white placeholder-gray-600 focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/20 outline-none transition-all",placeholder:"+244 900 000 000"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500 tracking-wider ml-1",children:"Morada"}),c.jsx("textarea",{value:t.address,onChange:a=>e({...t,address:a.target.value}),className:"w-full bg-[#0c0c0e] border border-white/10 rounded-xl px-4 py-3 text-white placeholder-gray-600 focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/20 outline-none h-24 resize-none transition-all",placeholder:"Endereo da sede..."})]}),c.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-white/5",children:[c.jsx("button",{onClick:()=>n("SELECT"),className:"px-4 py-2 text-xs font-bold text-gray-500 hover:text-white transition-colors uppercase tracking-wide",children:"Voltar"}),c.jsx("button",{onClick:r,disabled:!t.name||!t.nif,className:"px-8 py-3 bg-white text-black hover:bg-gray-200 rounded-xl text-xs font-bold uppercase tracking-wide transition-all shadow-lg hover:shadow-xl hover:scale-[1.02] disabled:opacity-50 disabled:hover:scale-100 disabled:cursor-not-allowed",children:"Continuar"})]})]}),A$e=({formData:t,mode:e,isValidating:r,userCredits:n,loading:a,finalSave:i})=>c.jsxs("div",{className:"flex flex-col items-center justify-center py-6 space-y-8 animate-in zoom-in-95 duration-300",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/20 to-blue-500/20 blur-2xl rounded-full"}),c.jsxs("div",{className:"relative w-24 h-24 rounded-2xl bg-[#111] border border-white/10 flex items-center justify-center shadow-2xl",children:[c.jsx(Wa,{className:"w-10 h-10 text-white"}),e==="AUTO"&&c.jsx("div",{className:"absolute -bottom-2 -right-2 p-2 bg-emerald-500 rounded-xl border-4 border-[#09090b] shadow-lg",children:c.jsx(Pc,{className:"w-4 h-4 text-black font-bold"})}),e==="MANUAL"&&c.jsx("div",{className:"absolute -bottom-2 -right-2 p-2 bg-amber-500 rounded-xl border-4 border-[#09090b] shadow-lg",children:c.jsx(Ys,{className:"w-4 h-4 text-black font-bold"})})]})]}),c.jsxs("div",{className:"text-center space-y-2",children:[c.jsx("h3",{className:"text-2xl font-bold text-white tracking-tight",children:t.name}),c.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[c.jsx("p",{className:"text-gray-400 font-mono tracking-wider bg-white/5 px-3 py-1 rounded-lg border border-white/5",children:t.nif}),t.fiscal_status&&c.jsx("span",{className:`px-2 py-1 rounded-lg text-[10px] uppercase font-bold border ${t.fiscal_status==="Activo"?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-red-500/10 text-red-500 border-red-500/20"}`,children:t.fiscal_status})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 max-w-sm mx-auto mt-4 px-2",children:[c.jsxs("div",{className:"bg-white/5 p-2 rounded-xl border border-white/5 text-left",children:[c.jsx("p",{className:"text-[9px] text-gray-500 uppercase font-bold",children:"Tipo"}),c.jsx("p",{className:"text-xs text-gray-300 truncate",children:t.company_type||"-"})]}),c.jsxs("div",{className:"bg-white/5 p-2 rounded-xl border border-white/5 text-left",children:[c.jsx("p",{className:"text-[9px] text-gray-500 uppercase font-bold",children:"Regime"}),c.jsx("p",{className:"text-xs text-gray-300 truncate",children:t.tax_regime||"-"})]}),c.jsxs("div",{className:"bg-white/5 p-2 rounded-xl border border-white/5 text-left",children:[c.jsx("p",{className:"text-[9px] text-gray-500 uppercase font-bold",children:"Residncia"}),c.jsx("p",{className:"text-xs text-gray-300",children:t.fiscal_residence?"Residente":"No Residente"})]}),c.jsxs("div",{className:"bg-white/5 p-2 rounded-xl border border-white/5 text-left",children:[c.jsx("p",{className:"text-[9px] text-gray-500 uppercase font-bold",children:"Inadimplente"}),c.jsx("p",{className:`text-xs font-bold ${t.is_defaulter?"text-red-500":"text-emerald-500"}`,children:t.is_defaulter?"SIM":"NO"})]})]})]}),!r&&c.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full max-w-sm",children:[c.jsxs("div",{className:"p-4 rounded-2xl bg-gradient-to-b from-red-500/5 to-red-500/0 border border-red-500/20 flex flex-col items-center",children:[c.jsx("span",{className:"text-[10px] text-red-400 uppercase tracking-widest font-bold mb-1",children:"Custo Admin"}),c.jsx("span",{className:"text-xl font-bold text-red-500 font-mono",children:"-100 CR"})]}),c.jsxs("div",{className:"p-4 rounded-2xl bg-gradient-to-b from-emerald-500/5 to-emerald-500/0 border border-emerald-500/20 flex flex-col items-center",children:[c.jsx("span",{className:"text-[10px] text-emerald-400 uppercase tracking-widest font-bold mb-1",children:"Bnus"}),c.jsx("span",{className:"text-xl font-bold text-emerald-500 font-mono",children:"+20 CR"})]})]}),r&&c.jsxs("div",{className:"px-6 py-3 rounded-xl bg-blue-500/10 border border-blue-500/20 text-blue-400 text-xs font-bold uppercase tracking-wide flex items-center gap-2",children:[c.jsx(_m,{className:"w-4 h-4 animate-spin-slow"})," Validando Empresa Pendente"]}),c.jsxs("div",{className:"w-full max-w-sm space-y-4 pt-4",children:[e==="MANUAL"&&!r&&c.jsxs("div",{className:"p-3 rounded-xl bg-amber-500/10 border border-amber-500/20 text-xs text-amber-200 text-center font-medium",children:["Ateno: O status ser ",c.jsx("b",{children:"PENDENTE"})," at a validao do NIF."]}),c.jsxs("button",{onClick:i,disabled:a||!r&&n<100,className:"w-full py-4 bg-white text-black rounded-xl font-bold text-sm hover:bg-gray-200 transition-all shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:shadow-[0_0_30px_rgba(255,255,255,0.2)] hover:scale-[1.01] disabled:opacity-50 disabled:hover:scale-100 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[a?c.jsx(_m,{className:"w-5 h-5 animate-spin"}):c.jsx(Pc,{className:"w-5 h-5"}),r?"CONFIRMAR VALIDAO":"CONFIRMAR CRIAO"]}),!r&&n<100&&c.jsx("p",{className:"text-xs text-red-500 text-center font-bold uppercase tracking-wide",children:"Saldo insuficiente (100 CR)."})]})]}),_$e=({onClose:t,onSave:e,initialData:r})=>{const{user:n}=uh(),[a,i]=C.useState("SELECT"),[s,o]=C.useState("SCAN"),[l,u]=C.useState(!1),h=!!(r&&!r.isVerified),[f,m]=C.useState({name:"",nif:"",email:"",phone:"",address:"",company_type:"",fiscal_status:"",is_defaulter:!1,tax_regime:"",fiscal_residence:!0});C.useEffect(()=>{r&&(m({name:r.name||"",nif:r.nif||"",email:r.email||"",phone:r.phone||"",address:r.address||"",company_type:"",fiscal_status:r.fiscal_status||"",is_defaulter:r.is_defaulter||!1,tax_regime:r.regime||"",fiscal_residence:r.fiscal_residence||!0}),r.isVerified?(i("MANUAL"),o("FORM")):(i("AUTO"),o("SCAN")))},[r]);const g=A=>{m({name:A.nome,nif:A.nif,email:A.email||f.email||"",phone:A.telefone||f.phone||"",address:A.endereco_completo||f.address||"",company_type:A.tipo,fiscal_status:A.estado,is_defaulter:A.inadimplente||!1,tax_regime:A.regime_iva,fiscal_residence:A.residente_fiscal||!0}),o("CONFIRM")},b=()=>{o("CONFIRM")},y=async()=>{u(!0);try{await e({...f,verificationSource:a==="AUTO"?"AGT_SYNC":"MANUAL_ENTRY",isVerified:a==="AUTO"||h}),t()}catch(A){console.error(A)}finally{u(!1)}},w=(n==null?void 0:n.credits)||0;return c.jsx(H9,{children:c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[c.jsx(Dg.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),c.jsxs(Dg.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"relative w-full max-w-2xl bg-[#09090b] border border-white/10 rounded-[24px] shadow-[0_20px_60px_-15px_rgba(0,0,0,0.5)] overflow-hidden flex flex-col max-h-[90vh]",children:[c.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-emerald-500 via-blue-500 to-purple-500 opacity-50"}),c.jsxs("div",{className:"flex items-center justify-between px-8 py-6 border-b border-white/5 bg-white/[0.02]",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3 uppercase tracking-tight",children:[h?"Validar Empresa":r?"Editar Empresa":"Nova Empresa",a==="AUTO"&&c.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] bg-emerald-500/10 text-emerald-500 border border-emerald-500/20 shadow-[0_0_10px_rgba(16,185,129,0.2)]",children:"AGTSYNC"}),a==="MANUAL"&&c.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] bg-blue-500/10 text-blue-500 border border-blue-500/20",children:"MANUAL"})]}),c.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[s==="SCAN"&&"Digitalize ou insira o NIF para buscar dados oficiais.",s==="FORM"&&"Preencha os dados da empresa manualmente.",s==="CONFIRM"&&"Confirme as transaes e finalize o registro."]})]}),c.jsx("button",{onClick:t,className:"p-2 rounded-xl text-gray-500 hover:bg-white/5 hover:text-white transition-all hover:rotate-90 duration-300",children:c.jsx(Hs,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"flex-1 p-8 overflow-y-auto custom-scrollbar",children:[a==="SELECT"&&c.jsx(b$e,{setMode:i,setStep:o}),a==="AUTO"&&s==="SCAN"&&c.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[c.jsx(y$e,{onScanSuccess:g,initialNif:h?f.nif:void 0}),c.jsx("div",{className:"flex justify-center border-t border-white/5 pt-6",children:c.jsx("button",{onClick:()=>i("SELECT"),className:"text-xs font-bold text-gray-500 hover:text-white uppercase tracking-widest transition-colors",children:"Voltar para seleo"})})]}),a==="MANUAL"&&s==="FORM"&&c.jsx(w$e,{formData:f,setFormData:m,handleManualSubmit:b,setMode:i}),s==="CONFIRM"&&c.jsx(A$e,{formData:f,mode:a,isValidating:h,userCredits:w,loading:l,finalSave:y})]})]})]})})},S$e=({isOpen:t,onClose:e,onConfirm:r,company:n,docCount:a})=>{const[i,s]=C.useState(""),[o,l]=C.useState(!1);if(!t||!n)return null;const u=i===n.name,h=n.credits||0,f=async()=>{if(u){l(!0);try{await r(),e()}finally{l(!1),s("")}}};return c.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md",onClick:e}),c.jsxs("div",{className:"relative w-full max-w-md bg-[#0f111a] border border-red-500/20 rounded-2xl shadow-[0_0_50px_rgba(239,68,68,0.2)] flex flex-col animate-in fade-in zoom-in-95 duration-300 overflow-hidden",children:[c.jsxs("div",{className:"p-6 bg-red-500/5 border-b border-red-500/10 flex items-start gap-4",children:[c.jsx("div",{className:"p-3 bg-red-500/10 rounded-full text-red-500 border border-red-500/20 flex-shrink-0",children:c.jsx(wo,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-bold text-white",children:"Zona de Perigo"}),c.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:["Voc est prestes a remover permanentemente a empresa ",c.jsxs("span",{className:"text-white font-bold",children:['"',n.name,'"']}),"."]})]}),c.jsx("button",{onClick:e,className:"ml-auto text-slate-500 hover:text-white",children:c.jsx(Hs,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"bg-red-500/5 border border-red-500/10 rounded-xl p-4 space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-red-400 uppercase",children:[c.jsx(fE,{className:"w-4 h-4"})," Impacto da Ao"]}),c.jsxs("ul",{className:"text-sm text-slate-300 space-y-1 list-disc list-inside",children:[c.jsx("li",{children:"O acesso de todos os utilizadores ser revogado."}),c.jsxs("li",{children:[c.jsxs("span",{className:"font-bold text-white",children:[a," documentos"]})," fiscais sero arquivados/removidos."]}),c.jsx("li",{children:"Tudo relacionado a esta empresa sera apagado."})]})]}),h>0&&c.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/10 rounded-xl p-4 flex items-center gap-4",children:[c.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-full text-emerald-400",children:c.jsx(Nm,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold text-emerald-400 uppercase",children:"Reembolso Automtico"}),c.jsxs("p",{className:"text-sm text-slate-300",children:[c.jsxs("span",{className:"text-white font-bold",children:[h," crditos"]})," sero retornados  conta principal."]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-300",children:["Para confirmar, digite ",c.jsx("span",{className:"select-all font-mono font-bold text-white bg-white/10 px-1 rounded",children:n.name})," abaixo:"]}),c.jsx("input",{type:"text",value:i,onChange:m=>s(m.target.value),placeholder:n.name,className:"w-full bg-[#05060a] border border-red-500/30 focus:border-red-500 rounded-xl px-4 py-3 text-white placeholder-slate-700 focus:outline-none focus:ring-1 focus:ring-red-500/50 transition-all font-medium"})]})]}),c.jsxs("div",{className:"p-4 bg-[#05060a] border-t border-white/5 flex justify-end gap-3",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 rounded-xl text-slate-400 hover:text-white hover:bg-white/5 font-medium transition-colors",children:"Cancelar"}),c.jsx("button",{onClick:f,disabled:!u||o,className:"px-4 py-2 rounded-xl bg-red-500 text-white font-bold hover:bg-red-600 transition-all shadow-[0_0_20px_rgba(239,68,68,0.2)] disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:o?"Processando...":c.jsxs(c.Fragment,{children:[c.jsx(Sm,{className:"w-4 h-4"})," Deletar Empresa"]})})]})]})]})},N$e=({toast:t,onClose:e,onAction:r})=>{if(C.useEffect(()=>{if(t){const a=setTimeout(()=>{e()},5e3);return()=>clearTimeout(a)}},[t,e]),!t)return null;const n=()=>{r&&(r(),e())};return c.jsx("div",{className:"fixed top-6 right-6 z-[200] animate-in slide-in-from-right-10 fade-in duration-300 cursor-pointer group",onClick:n,children:c.jsxs("div",{className:`
                flex items-start gap-3 p-4 rounded-xl border shadow-2xl backdrop-blur-xl w-80 transition-all hover:scale-[1.02]
                ${t.type==="success"?"bg-emerald-500/10 border-emerald-500/20 shadow-emerald-900/20 hover:bg-emerald-500/20":"bg-red-500/10 border-red-500/20 shadow-red-900/20 hover:bg-red-500/20"}
            `,children:[c.jsx("div",{className:`mt-0.5 ${t.type==="success"?"text-emerald-400":"text-red-400"}`,children:t.type==="success"?c.jsx(Ns,{className:"w-5 h-5"}):c.jsx(Ys,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:`text-sm font-bold ${t.type==="success"?"text-emerald-100":"text-red-100"}`,children:t.title}),c.jsx("p",{className:`text-xs mt-1 ${t.type==="success"?"text-emerald-200/70":"text-red-200/70"}`,children:t.message}),r&&c.jsx("p",{className:"text-[10px] mt-2 font-bold uppercase tracking-wider opacity-60 group-hover:opacity-100 transition-opacity",children:"Clique para ver resultados "})]}),c.jsx("button",{onClick:a=>{a.stopPropagation(),e()},className:`p-1 rounded hover:bg-white/10 ${t.type==="success"?"text-emerald-400":"text-red-400"}`,children:c.jsx(Hs,{className:"w-4 h-4"})})]})})},E$e={STARTER:50,PRO:200,BUSINESS:600,ENTERPRISE:1e3},T$e=({onSelectClient:t})=>{const{clients:e,refreshData:r}=_o(),[n,a]=C.useState(""),[i,s]=C.useState("ALL"),[o,l]=C.useState(!1),[u,h]=C.useState(null),[f,m]=C.useState(null),[g,b]=C.useState("LIST"),[y,w]=C.useState(null),[A,S]=C.useState(null),[N,T]=C.useState(0),k=async Z=>{try{const pe=await O0.getCompanyDocCount(Z.id);T(pe),S(Z)}catch(pe){console.error(pe),T(0),S(Z)}},R=e.filter(Z=>{const pe=Z.name.toLowerCase().includes(n.toLowerCase())||Z.nif.includes(n),Q=i==="ALL"||Z.status===i;return pe&&Q}),O=(Z,pe,Q)=>{w({id:Date.now().toString(),type:Z,title:pe,message:Q})},U=()=>{h(null),l(!0)},H=Z=>{h(Z),l(!0)},G=async Z=>{try{u?(await O0.updateClient(u.id,Z),O("success","Empresa Atualizada",`Os dados da ${Z.name} foram salvos.`)):(await O0.createClient(Z),O("success","Empresa Criada",`${Z.name} foi adicionada  carteira.`)),await r()}catch(pe){O("error","Erro",pe.message||"No foi possvel salvar os dados.")}},F=async()=>{if(A)try{await O0.deleteClient(A.id),O("success","Empresa Removida",`${A.name} foi removido com sucesso.`),await r()}catch{O("error","Erro","Falha ao remover empresa.")}finally{S(null)}},L=Z=>{const pe=E$e[Z.plan]||100,Q=Z.credits||0;return{pct:Math.min(Q/pe*100,100),max:pe,current:Q}},re=Z=>Z<20?"bg-red-500":Z<50?"bg-amber-500":"bg-emerald-500";return c.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 relative pb-20",children:[c.jsx(N$e,{toast:y,onClose:()=>w(null)}),o&&c.jsx(_$e,{onClose:()=>l(!1),onSave:G,initialData:u},u?u.id:"new"),o&&c.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 pointer-events-none"}),c.jsxs("div",{className:"bg-[#080808] border border-white/[0.03] rounded-[32px] p-8 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-teal-500/5 blur-[100px] rounded-full pointer-events-none -translate-y-1/2 translate-x-1/2"}),c.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-teal-500"}),c.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Base de Dados"})]}),c.jsx("h1",{className:"text-4xl font-bold text-white tracking-tighter mb-2",children:"Carteira de Empresas"}),c.jsx("p",{className:"text-slate-400 text-sm max-w-lg",children:"Gesto centralizada de entidades fiscais. Controle de planos, acessos e monitorizao de status."})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"bg-[#111] p-1 rounded-xl border border-white/5 flex",children:[c.jsx("button",{onClick:()=>b("LIST"),className:`p-2 rounded-lg transition-all ${g==="LIST"?"bg-[#222] text-white":"text-slate-500 hover:text-white"}`,children:c.jsx(epe,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>b("GRID"),className:`p-2 rounded-lg transition-all ${g==="GRID"?"bg-[#222] text-white":"text-slate-500 hover:text-white"}`,children:c.jsx($0e,{className:"w-4 h-4"})})]}),c.jsxs("button",{onClick:U,className:"bg-teal-500 hover:bg-teal-400 text-black px-6 py-3 rounded-xl flex items-center gap-2 font-bold text-sm uppercase tracking-wide transition-all shadow-[0_0_20px_rgba(20,184,166,0.3)] hover:scale-105",children:[c.jsx(p2,{className:"w-4 h-4"})," Adicionar Empresa"]})]})]}),c.jsxs("div",{className:"mt-8 flex flex-col md:flex-row gap-4",children:[c.jsxs("div",{className:"relative flex-1 group",children:[c.jsx(yu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 w-4 h-4 group-focus-within:text-white transition-colors"}),c.jsx("input",{type:"text",placeholder:"Procurar empresa por nome, NIF ou ID...",value:n,onChange:Z=>a(Z.target.value),className:"w-full bg-[#111] border border-white/5 rounded-2xl pl-11 pr-4 py-3.5 text-sm text-white placeholder-slate-600 focus:outline-none focus:border-teal-500/50 transition-all font-medium"})]}),c.jsx("div",{className:"flex gap-3",children:c.jsxs("select",{value:i,onChange:Z=>s(Z.target.value),className:"bg-[#111] border border-white/5 rounded-2xl px-6 py-3.5 text-sm font-bold text-slate-300 focus:outline-none focus:border-teal-500/50 appearance-none cursor-pointer hover:bg-[#161616] transition-colors",children:[c.jsx("option",{value:"ALL",children:"Status: Todos"}),c.jsx("option",{value:"ACTIVE",children:"Status: Ativos"}),c.jsx("option",{value:"SUSPENDED",children:"Status: Suspensos"}),c.jsx("option",{value:"PENDING",children:"Status: Pendentes"})]})})]})]}),R.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-slate-600",children:[c.jsx(Wa,{className:"w-16 h-16 mb-4 opacity-20"}),c.jsx("h3",{className:"text-white font-bold text-lg mb-1",children:"Base de dados vazia"}),c.jsx("p",{className:"text-sm font-mono",children:"Nenhum resultado para os filtros atuais."})]}):g==="LIST"?c.jsx("div",{className:"space-y-2",children:R.map(Z=>{const{pct:pe,current:Q,max:X}=L(Z),oe=re(pe);return c.jsxs("div",{className:"group bg-[#0c0c0c] border border-white/[0.04] rounded-[24px] p-4 flex items-center justify-between hover:border-white/10 transition-all hover:bg-[#111]",children:[c.jsxs("div",{className:"flex items-center gap-6 flex-1",children:[c.jsx("div",{className:"w-14 h-14 rounded-2xl bg-[#151515] border border-white/5 flex items-center justify-center text-sm font-bold text-white shadow-inner group-hover:border-teal-500/30 transition-colors",children:Z.name.substring(0,2).toUpperCase()}),c.jsxs("div",{className:"w-64",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[c.jsx("h3",{className:"text-white font-bold text-lg tracking-tight group-hover:text-teal-400 transition-colors",children:Z.name}),Z.isVerified?c.jsx(ki,{className:"w-4 h-4 text-cyan-400 drop-shadow-[0_0_8px_rgba(34,211,238,0.5)]",title:`Verificado via ${Z.verificationSource}`}):c.jsxs("button",{onClick:ce=>{ce.stopPropagation(),H(Z)},className:"flex items-center gap-1 group/verify cursor-pointer bg-amber-500/10 px-2 py-0.5 rounded-full border border-amber-500/20",title:"Clique para validar NIF",children:[c.jsx(Ys,{className:"w-3.5 h-3.5 text-amber-500 group-hover/verify:scale-110 transition-transform"}),c.jsx("span",{className:"text-[10px] font-bold text-amber-500 uppercase",children:"Validar"})]})]}),c.jsx("div",{className:"flex items-center gap-2 text-xs text-slate-500 font-mono",children:c.jsxs("span",{children:["NIF: ",Z.nif]})})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-8 flex-1",children:[c.jsxs("div",{className:"w-32",children:[c.jsxs("div",{className:"flex justify-between items-end mb-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest",children:"Crditos"}),c.jsxs("span",{className:"text-[10px] font-mono text-slate-400",children:[Q,"/",X]})]}),c.jsx("div",{className:"h-1.5 w-full bg-[#1a1a1a] rounded-full overflow-hidden",children:c.jsx("div",{className:`h-full rounded-full ${oe} transition-all duration-500`,style:{width:`${pe}%`}})})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest mb-1",children:"Status"}),c.jsxs("div",{className:`flex items-center gap-1.5 text-xs font-bold ${Z.status==="ACTIVE"?"text-emerald-500":Z.status==="PENDING"?"text-amber-500":"text-red-500"}`,children:[c.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${Z.status==="ACTIVE"?"bg-emerald-500":Z.status==="PENDING"?"bg-amber-500":"bg-red-500"}`}),Z.status==="ACTIVE"?"ATIVO":Z.status==="PENDING"?"PENDENTE":"SUSPENSO"]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 pl-6 border-l border-white/5",children:[c.jsx("button",{onClick:()=>t(Z.id),title:"Aceder",className:"p-3 rounded-xl bg-[#151515] hover:bg-teal-50 hover:text-black text-teal-500 transition-all",children:c.jsx(hE,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>k(Z),className:"p-3 rounded-xl hover:bg-[#151515] text-slate-500 hover:text-red-500 transition-colors",children:c.jsx(Sm,{className:"w-4 h-4"})})]})]},Z.id)})}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(Z=>{const{pct:pe,current:Q,max:X}=L(Z),oe=re(pe);return c.jsxs("div",{className:"bg-[#0c0c0c] border border-white/[0.04] rounded-[32px] p-6 hover:border-white/10 transition-all group relative overflow-hidden",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#151515] border border-white/5 flex items-center justify-center text-sm font-bold text-white shadow-inner group-hover:border-teal-500/30 transition-colors",children:Z.name.substring(0,2).toUpperCase()}),c.jsx("div",{className:`px-3 py-1 rounded-full border text-[10px] font-bold uppercase tracking-wide ${Z.status==="ACTIVE"?"bg-emerald-500/10 border-emerald-500/20 text-emerald-500":Z.status==="PENDING"?"bg-amber-500/10 border-amber-500/20 text-amber-500":"bg-red-500/10 border-red-500/20 text-red-500"}`,children:Z.status==="ACTIVE"?"Ativo":Z.status==="PENDING"?"Pendente":"Suspenso"})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("h3",{className:"text-xl font-bold text-white group-hover:text-teal-400 transition-colors truncate",children:Z.name}),Z.isVerified?c.jsx(ki,{className:"w-4 h-4 text-cyan-400 drop-shadow-[0_0_8px_rgba(34,211,238,0.5)] flex-shrink-0",title:`Verificado via ${Z.verificationSource}`}):c.jsxs("button",{onClick:ce=>{ce.stopPropagation(),H(Z)},title:"Clique para validar",className:"bg-amber-500/10 px-2 py-0.5 rounded-full border border-amber-500/20 flex items-center gap-1 hover:bg-amber-500/20 transition-colors",children:[c.jsx(Ys,{className:"w-3 h-3 text-amber-500"}),c.jsx("span",{className:"text-[9px] font-bold text-amber-500 uppercase",children:"Validar"})]})]}),c.jsx("p",{className:"text-xs text-slate-500 font-mono mb-4",children:Z.email}),c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:"flex justify-between items-end mb-1",children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-600 uppercase",children:"Crditos"}),c.jsxs("span",{className:"text-[10px] font-mono text-slate-400",children:[Q,"/",X]})]}),c.jsx("div",{className:"h-1.5 w-full bg-[#111] rounded-full overflow-hidden border border-white/5",children:c.jsx("div",{className:`h-full rounded-full ${oe} transition-all duration-500`,style:{width:`${pe}%`}})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{className:"bg-[#111] rounded-lg p-2 border border-white/5",children:[c.jsx("p",{className:"text-[9px] text-slate-600 font-bold uppercase",children:"NIF"}),c.jsx("p",{className:"text-xs text-slate-300 font-mono",children:Z.nif})]}),c.jsxs("div",{className:"bg-[#111] rounded-lg p-2 border border-white/5",children:[c.jsx("p",{className:"text-[9px] text-slate-600 font-bold uppercase",children:"Plano"}),c.jsx("p",{className:"text-xs text-slate-300 font-mono",children:Z.plan})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-white/5",children:[c.jsx("button",{onClick:()=>t(Z.id),className:"flex-1 bg-white text-black py-2.5 rounded-xl font-bold text-xs uppercase tracking-wide hover:bg-teal-50 transition-colors",children:"Aceder"}),c.jsx("button",{onClick:()=>k(Z),className:"p-2.5 rounded-xl bg-[#151515] text-slate-400 hover:text-red-500 transition-colors",children:c.jsx(Sm,{className:"w-4 h-4"})})]})]},Z.id)})}),c.jsx(S$e,{isOpen:!!A,onClose:()=>S(null),onConfirm:F,company:A,docCount:N})]})},j$e=()=>{const{uploadQueue:t,clearUploadQueue:e}=_o(),[r,n]=C.useState(!0),[a,i]=C.useState(!1);if(C.useEffect(()=>{t.length>0&&i(!0)},[t]),!a||t.length===0)return null;const s=t.filter(h=>h.status===or.PROCESSING).length,o=t.filter(h=>h.status===or.COMPLETED||h.status===or.APROVADO||h.status===or.REJEITADO||h.status===or.APROVADO_USUARIO).length,l=t.filter(h=>h.status===or.ERROR).length,u=s===0;return c.jsxs("div",{className:`
            fixed bottom-6 right-6 z-[1000] 
            bg-[#0a0a0c]/90 backdrop-blur-xl border border-white/10 rounded-[24px] shadow-[0_20px_50px_rgba(0,0,0,0.5)] 
            transition-all duration-500 ease-[cubic-bezier(0.23,1,0.32,1)] overflow-hidden
            ${r?"w-[280px] h-[56px]":"w-[340px] h-auto max-h-[450px]"}
            group hover:border-cyan-500/30
        `,children:[c.jsxs("div",{className:`
                    flex items-center justify-between px-4 h-[56px] cursor-pointer
                    ${u?"bg-emerald-500/5":"bg-white/[0.02]"}
                `,onClick:()=>n(!r),children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"relative",children:s>0?c.jsxs(c.Fragment,{children:[c.jsx(ji,{className:"w-5 h-5 text-cyan-400 animate-spin"}),c.jsx("div",{className:"absolute inset-0 bg-cyan-400/20 blur-lg animate-pulse rounded-full"})]}):l>0&&u?c.jsx(Ys,{className:"w-5 h-5 text-red-400"}):c.jsx(Ns,{className:"w-5 h-5 text-emerald-400"})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-[11px] font-black text-white/90 uppercase tracking-[0.1em]",children:s>0?"Neural Engine":"Sync Finalizado"}),c.jsx("span",{className:"text-[10px] text-slate-500 font-bold",children:s>0?`${s} em anlise...`:`${o} Sucessos | ${l} Erros`})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{className:"p-1.5 hover:bg-white/5 rounded-full text-slate-500 transition-colors",children:r?c.jsx($8,{className:"w-4 h-4"}):c.jsx(Px,{className:"w-4 h-4"})}),u&&c.jsx("button",{onClick:h=>{h.stopPropagation(),i(!1),e()},className:"p-1.5 hover:bg-red-500/10 rounded-full text-slate-500 hover:text-red-400 transition-all",children:c.jsx(Hs,{className:"w-4 h-4"})})]})]}),!r&&c.jsxs("div",{className:"p-2 pt-0 animate-in fade-in slide-in-from-top-2 duration-300",children:[c.jsx("div",{className:"h-px bg-white/5 mb-2 mx-2"}),c.jsx("div",{className:"overflow-y-auto max-h-[320px] px-1 space-y-1 custom-scrollbar",children:t.map(h=>{var b;const f=[or.COMPLETED,or.APROVADO,or.REJEITADO,or.APROVADO_USUARIO].includes(h.status),m=h.status===or.ERROR,g=h.status===or.PROCESSING;return c.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-2xl hover:bg-white/[0.03] transition-all border border-transparent hover:border-white/5 group/item",children:[c.jsx("div",{className:`
                                        w-9 h-9 rounded-xl flex items-center justify-center border transition-all
                                        ${f?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":m?"bg-red-500/10 border-red-500/20 text-red-400":"bg-[#111] border-white/5 text-slate-500 group-hover/item:border-cyan-500/30"}
                                    `,children:g?c.jsx(gE,{className:"w-4 h-4 animate-pulse text-cyan-400"}):c.jsx(Yo,{className:"w-4 h-4"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-[12px] font-bold text-slate-200 truncate leading-tight",children:h.fileName}),c.jsxs("p",{className:"text-[10px] uppercase tracking-wider font-bold mt-0.5",children:[g&&((b=h.metadata)!=null&&b.isOffline?c.jsx("span",{className:"text-amber-500 animate-pulse text-[9px]",children:"Aguardando Conexo..."}):c.jsx("span",{className:"text-cyan-500 animate-pulse text-[9px]",children:"Aguardando Webhook..."})),f&&c.jsx("span",{className:"text-emerald-500/70",children:"Sincronizado"}),m&&c.jsx("span",{className:"text-red-500/70",children:"Erro na Sincronizao"})]})]}),c.jsxs("div",{className:"shrink-0",children:[g&&c.jsx("div",{className:"w-4 h-4 rounded-full border-[1.5px] border-white/5 border-t-cyan-400 animate-spin"}),f&&c.jsx(Ns,{className:"w-4 h-4 text-emerald-500"}),m&&c.jsx(Ys,{className:"w-4 h-4 text-red-500"})]})]},h.id)})}),!u&&c.jsxs("div",{className:"px-3 py-3 mt-1",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1.5 px-0.5",children:[c.jsx("span",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Progresso Total"}),c.jsxs("span",{className:"text-[9px] font-black text-cyan-400 uppercase",children:[Math.round((o+l)/t.length*100),"%"]})]}),c.jsx("div",{className:"h-1 bg-white/5 w-full rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-600 to-cyan-400 transition-all duration-700 rounded-full shadow-[0_0_10px_rgba(34,211,238,0.3)]",style:{width:`${(o+l)/t.length*100}%`}})})]})]})]})},C$e=()=>{var N;const{documents:t,selectedCompany:e,isAccountingMode:r,ragPrompt:n}=_o(),{user:a}=uh(),[i,s]=C.useState(""),[o,l]=C.useState(!1),[u,h]=C.useState(!1),[f,m]=C.useState([{id:"welcome",role:"model",text:`Sistema KwikDocs Neural Online.
Ol ${(N=a==null?void 0:a.name)==null?void 0:N.split(" ")[0]}. Estou conectado  sua base fiscal via Agente RAG. Pode perguntar sobre valores, impostos ou datas especficas.`,timestamp:new Date}]),g=C.useRef(null),b=()=>{var T;(T=g.current)==null||T.scrollIntoView({behavior:"smooth"})};C.useEffect(()=>{b()},[f,u]);const y=async(T,k)=>{h(!0),await new Promise(Z=>setTimeout(Z,600));const R=T.toLowerCase(),O=R.split(" ").filter(Z=>Z.length>2),U=["2022","2023","2024","2025"].filter(Z=>R.includes(Z)),H=["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],F=H.filter(Z=>R.includes(Z)).map(Z=>H.indexOf(Z)),L=k.map(Z=>{var ne,B,V;let pe=0;const Q=new Date(((ne=Z.data)==null?void 0:ne.date)||Z.uploadDate),X=Q.getFullYear().toString(),oe=Q.getMonth(),ce=JSON.stringify(Z.data||{}).toLowerCase(),Ne=Z.fileName.toLowerCase();return U.length>0?U.includes(X)&&(pe+=10):X===new Date().getFullYear().toString()&&(pe+=1),F.length>0&&F.includes(oe)&&(pe+=15),O.forEach(Y=>{(ce.includes(Y)||Ne.includes(Y))&&(pe+=5)}),(B=Z.data)!=null&&B.merchantName&&R.includes(Z.data.merchantName.toLowerCase())&&(pe+=20),(V=Z.data)!=null&&V.category&&R.includes(Z.data.category.toLowerCase())&&(pe+=10),{doc:Z,score:pe}});let re=L.filter(Z=>Z.score>0).sort((Z,pe)=>pe.score-Z.score);return re.length===0?re=L.map(Z=>({...Z,score:1})).slice(0,20):re=re.slice(0,15),h(!1),re.map(Z=>{var pe,Q,X,oe,ce,Ne,ne,B;return`
            [Documento (Score: ${Z.score})]
            ID: ${Z.doc.id}
            Data: ${(pe=Z.doc.data)==null?void 0:pe.date}
            Empresa: ${Z.doc.companyName}
            Fornecedor: ${(Q=Z.doc.data)==null?void 0:Q.merchantName}
            Valor: ${(X=Z.doc.data)==null?void 0:X.totalAmount} ${(oe=Z.doc.data)==null?void 0:oe.currency}
            Categoria: ${(ce=Z.doc.data)==null?void 0:ce.category}
            NIF: ${(ne=(Ne=Z.doc.data)==null?void 0:Ne.issuer_data)==null?void 0:ne.nif}
            Resumo: ${(B=Z.doc.data)==null?void 0:B.summary}
        `}).join(`
`)},w=async()=>{if(!i.trim())return;const T={id:crypto.randomUUID(),role:"user",text:i,timestamp:new Date};m(R=>[...R,T]),s("");const k=t.filter(R=>R.status!=="COMPLETED"?!1:!r||e==="ALL"?!0:R.companyId===(e==null?void 0:e.id));try{const R=await y(T.text,k);l(!0);const O=r&&e!=="ALL"?e.id:"ALL",U=await qve.generateResponse(T.text,f,R,O,n),H={id:crypto.randomUUID(),role:"model",text:U,timestamp:new Date};m(G=>[...G,H])}catch{const O={id:crypto.randomUUID(),role:"model",text:"Falha na conexo com o ncleo de IA.",timestamp:new Date};m(U=>[...U,O])}finally{l(!1),h(!1)}},A=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),w())},S=r?e==="ALL"?"Portflio Completo":`Empresa: ${e==null?void 0:e.name}`:"Meus Documentos";return c.jsxs("div",{className:"max-w-5xl mx-auto h-[calc(100vh-140px)] flex flex-col animate-in fade-in slide-in-from-bottom-4 duration-500 relative",children:[c.jsxs("div",{className:"absolute inset-0 bg-[#020202] rounded-[32px] border border-white/[0.03] overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[600px] h-[300px] bg-cyan-500/5 blur-[120px] rounded-full"}),c.jsx("div",{className:"absolute bottom-0 right-0 w-[400px] h-[400px] bg-blue-500/5 blur-[100px] rounded-full"}),c.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5"})]}),c.jsxs("div",{className:"relative z-10 flex flex-col h-full rounded-[32px] overflow-hidden backdrop-blur-sm",children:[c.jsxs("div",{className:"bg-[#0f111a]/80 border-b border-white/5 p-6 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"bg-[#151515] p-2.5 rounded-xl border border-white/5 text-cyan-400 shadow-[0_0_15px_rgba(6,182,212,0.2)]",children:c.jsx(B0,{className:"w-6 h-6 animate-pulse"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"font-bold text-white text-lg tracking-tight",children:"Agente Fiscal RAG v4.0"}),c.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_5px_#10b981]"}),c.jsxs("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:["Conectado: ",S]})]})]})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-2 text-xs font-mono text-cyan-500/50 bg-cyan-950/20 px-3 py-1.5 rounded-lg border border-cyan-900/30",children:[c.jsx(R_,{className:"w-3 h-3"}),"OPENAI_LINKED"]})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar",children:[f.map(T=>c.jsxs("div",{className:`flex gap-4 max-w-[85%] ${T.role==="user"?"ml-auto flex-row-reverse":""}`,children:[c.jsx("div",{className:`
                                w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg border
                                ${T.role==="model"?"bg-[#151515] text-cyan-400 border-cyan-500/20":"bg-slate-800 text-white border-white/10"}
                            `,children:T.role==="model"?c.jsx(e5,{className:"w-5 h-5"}):c.jsx(mf,{className:"w-5 h-5"})}),c.jsx("div",{className:`
                                p-5 rounded-2xl text-sm leading-relaxed shadow-xl border backdrop-blur-md
                                ${T.role==="user"?"bg-gradient-to-br from-cyan-600/20 to-blue-600/20 border-cyan-500/30 text-white rounded-tr-none":"bg-[#0a0b10]/90 border-white/5 text-slate-300 rounded-tl-none"}
                            `,children:T.text.split(`
`).map((k,R)=>c.jsx("p",{className:`mb-1 last:mb-0 ${k.startsWith("-")?"pl-2":""}`,children:k},R))})]},T.id)),u&&c.jsxs("div",{className:"flex gap-4 max-w-[85%] animate-in fade-in",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#151515] text-cyan-400/50 border border-white/5 flex items-center justify-center flex-shrink-0",children:c.jsx(D_,{className:"w-5 h-5 animate-pulse"})}),c.jsxs("div",{className:"flex items-center gap-2 text-xs font-mono text-cyan-500/70 py-3",children:[c.jsx(yu,{className:"w-3 h-3 animate-spin"}),"Buscando contexto relevante na base de dados..."]})]}),o&&c.jsxs("div",{className:"flex gap-4 max-w-[85%]",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#151515] text-cyan-400 border border-cyan-500/20 flex items-center justify-center flex-shrink-0",children:c.jsx(e5,{className:"w-5 h-5"})}),c.jsxs("div",{className:"bg-[#0a0b10] border border-white/5 px-6 py-5 rounded-2xl rounded-tl-none shadow-xl flex gap-1.5 items-center",children:[c.jsx("span",{className:"w-1.5 h-1.5 bg-cyan-500 rounded-full animate-bounce"}),c.jsx("span",{className:"w-1.5 h-1.5 bg-cyan-500 rounded-full animate-bounce delay-100"}),c.jsx("span",{className:"w-1.5 h-1.5 bg-cyan-500 rounded-full animate-bounce delay-200"})]})]}),c.jsx("div",{ref:g})]}),c.jsxs("div",{className:"p-6 bg-[#0f111a] border-t border-white/5",children:[c.jsxs("div",{className:"relative group",children:[c.jsx("input",{type:"text",value:i,onChange:T=>s(T.target.value),onKeyDown:A,placeholder:t.length>0?"Pergunte sobre 'gastos em Agosto' ou 'total da Unitel'...":"Adicione documentos primeiro...",className:"w-full pl-6 pr-16 py-4 bg-[#05060a] border border-white/10 rounded-2xl focus:outline-none focus:border-cyan-500/50 focus:ring-1 focus:ring-cyan-500/20 text-slate-200 placeholder-slate-600 transition-all text-sm font-medium shadow-inner",disabled:o||u}),c.jsx("button",{onClick:w,disabled:!i.trim()||o||u,className:"absolute right-2 top-2 bottom-2 aspect-square bg-cyan-600 text-white rounded-xl hover:bg-cyan-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center shadow-lg shadow-cyan-900/20 group-hover:scale-95 active:scale-90",children:c.jsx(Upe,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"flex justify-center mt-3 gap-4",children:[c.jsxs("span",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest flex items-center gap-1",children:[c.jsx(ki,{className:"w-3 h-3"})," Secure RAG Context"]}),c.jsxs("span",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest flex items-center gap-1",children:[c.jsx(gE,{className:"w-3 h-3"})," GPT-4o Mini"]})]})]})]})]})},k$e=()=>{const{selectedCompany:t}=_o(),[e,r]=C.useState([]),[n,a]=C.useState(!0),[i,s]=C.useState(""),[o,l]=C.useState(!1);C.useEffect(()=>{u()},[t]);const u=async()=>{a(!0);try{const b=t&&t!=="ALL"?t.id:void 0,y=await zs.getFiscalEntities(b);r(y)}catch(b){console.error("Failed to fetch entities:",b)}finally{a(!1),l(!1)}},h=()=>{l(!0),u()},f=()=>{const b=xm.json_to_sheet(m.map(w=>({NIF:w.nif,Empresa:w.name,Regime:w.tax_regime||"N/A",Status:w.status,"ltima Atividade":new Date(w.last_seen_at).toLocaleDateString()}))),y=xm.book_new();xm.book_append_sheet(y,b,"Entidades NIF"),h9(y,`entidades_${new Date().getTime()}.xlsx`)},m=e.filter(b=>{var y,w;return((y=b.name)==null?void 0:y.toLowerCase().includes(i.toLowerCase()))||((w=b.nif)==null?void 0:w.includes(i))}),g={total:e.length,active:e.filter(b=>b.status==="ACTIVE").length,pending:e.filter(b=>b.status!=="ACTIVE").length};return c.jsxs("div",{className:"space-y-8 animate-in fade-in duration-700 pb-20 p-6 md:p-8 bg-[#050505] min-h-screen",children:[c.jsxs("div",{className:"bg-[#0a0a0a] border border-white/[0.03] p-10 rounded-[32px] relative overflow-hidden group shadow-2xl",children:[c.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-5 scale-150 rotate-12 group-hover:opacity-10 transition-all duration-700",children:c.jsx(Wa,{size:200,className:"text-cyan-500"})}),c.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-500 animate-pulse"}),c.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]",children:"Inteligncia Cadastral"})]}),c.jsx("h1",{className:"text-4xl font-black text-white tracking-tighter sm:text-5xl",children:"Catlogo de Entidades"}),c.jsx("p",{className:"text-slate-400 mt-2 font-medium max-w-xl",children:"Gerencie fornecedores, clientes e parceiros fiscais detectados em seus documentos atravs de anlise inteligente."})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"bg-white/5 border border-white/10 px-6 py-4 rounded-2xl backdrop-blur-md",children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Entidades Totais"}),c.jsx("p",{className:"text-2xl font-black text-white font-mono",children:g.total})]}),c.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/20 px-6 py-4 rounded-2xl backdrop-blur-md",children:[c.jsx("p",{className:"text-[10px] font-bold text-emerald-500/60 uppercase tracking-widest mb-1",children:"Status Ativo"}),c.jsx("p",{className:"text-2xl font-black text-emerald-400 font-mono",children:g.active})]})]})]})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center",children:[c.jsxs("div",{className:"relative flex-1 w-full group",children:[c.jsx(yu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 group-focus-within:text-cyan-400 transition-colors"}),c.jsx("input",{type:"text",placeholder:"Pesquisar por NIF, Nome ou Regime...",className:"w-full bg-[#0a0a0a] border border-white/5 rounded-2xl py-4 pl-12 pr-4 text-sm text-white placeholder-slate-600 focus:outline-none focus:border-cyan-500/50 focus:ring-4 focus:ring-cyan-500/10 transition-all font-bold shadow-lg",value:i,onChange:b=>s(b.target.value)})]}),c.jsxs("div",{className:"flex items-center gap-3 w-full lg:w-auto",children:[c.jsxs("button",{onClick:h,className:`flex items-center gap-2 px-6 py-4 rounded-2xl border border-white/10 bg-[#0a0a0a] text-slate-400 hover:text-white transition-all hover:bg-white/5 ${o?"opacity-50":""}`,disabled:o,children:[c.jsx(_m,{className:`w-4 h-4 ${o?"animate-spin":""}`}),c.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Atualizar"})]}),c.jsxs("button",{onClick:f,className:"flex-1 lg:flex-none flex items-center justify-center gap-2 px-8 py-4 bg-cyan-500 text-black rounded-2xl font-black text-xs uppercase tracking-widest transition-all hover:bg-cyan-400 active:scale-95 shadow-lg shadow-cyan-500/20",children:[c.jsx(py,{className:"w-4 h-4"}),"Exportar Excel"]})]})]}),n?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(b=>c.jsx("div",{className:"h-64 bg-white/5 rounded-[32px] border border-white/5 animate-pulse"},b))}):m.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-[#0a0a0a] border border-dashed border-white/10 rounded-[40px]",children:[c.jsx("div",{className:"w-20 h-20 rounded-full bg-white/5 flex items-center justify-center mb-6",children:c.jsx(AJ,{className:"w-10 h-10 text-slate-700"})}),c.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Nenhuma entidade encontrada"}),c.jsx("p",{className:"text-slate-500 text-sm max-w-sm text-center",children:"Ainda no detectamos entidades para esta empresa. O catlogo  preenchido automaticamente ao processar faturas e recibos."})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.jsx(H9,{mode:"popLayout",children:m.map((b,y)=>c.jsxs(Dg.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.4,delay:y*.05},className:"group bg-[#0a0a0a] border border-white/5 rounded-[32px] p-8 hover:border-cyan-500/30 hover:shadow-2xl hover:shadow-cyan-500/5 transition-all relative overflow-hidden flex flex-col",children:[c.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-[0.03] group-hover:opacity-[0.05] transition-opacity",children:c.jsx(G8,{size:100})}),c.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-14 h-14 rounded-2xl bg-cyan-500/10 border border-cyan-500/20 flex items-center justify-center",children:c.jsx(Wa,{className:"w-7 h-7 text-cyan-400"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-base font-black text-white group-hover:text-cyan-400 transition-colors uppercase truncate max-w-[180px]",children:b.name||"Sem Nome"}),c.jsx("span",{className:"text-xs font-mono text-slate-500",children:b.nif})]})]}),c.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-[9px] font-black uppercase tracking-wider ${b.status==="ACTIVE"?"bg-emerald-500/10 text-emerald-400":"bg-amber-500/10 text-amber-400"}`,children:[b.status==="ACTIVE"?c.jsx(ki,{size:12}):c.jsx(Ys,{size:12}),b.status==="ACTIVE"?"Regular":"Pendente"]})]}),c.jsxs("div",{className:"space-y-3 relative z-10 flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-400 font-bold bg-white/[0.02] p-3 rounded-2xl border border-white/5",children:[c.jsx(Zb,{className:"w-4 h-4 text-slate-600"}),c.jsx("span",{children:"Regime Tributrio"}),c.jsx("span",{className:"text-white ml-auto",children:b.tax_regime||"Geral"})]}),c.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-400 font-bold bg-white/[0.02] p-3 rounded-2xl border border-white/5",children:[c.jsx(pk,{className:"w-4 h-4 text-slate-600"}),c.jsx("span",{children:"ltima Atividade"}),c.jsx("span",{className:"text-white ml-auto",children:new Date(b.last_seen_at).toLocaleDateString()})]})]}),c.jsxs("div",{className:"mt-8 pt-6 border-t border-white/5 flex gap-3 relative z-10",children:[c.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 py-3.5 bg-white/5 border border-white/10 rounded-2xl text-[11px] font-black uppercase tracking-widest text-slate-400 hover:text-white hover:bg-white/10 hover:border-white/20 transition-all",children:[c.jsx(V8,{size:14})," Detalhes"]}),c.jsx("button",{className:"px-4 flex items-center justify-center bg-white/5 border border-white/10 rounded-2xl text-slate-500 hover:text-white transition-all",children:c.jsx(r0e,{size:18})})]})]},b.id))})})]})},P$e=({onBack:t,onNewAnalysis:e})=>{var k,R;const{documents:r,lastBatchIds:n,uploadQueue:a,clearUploadQueue:i,refreshData:s,selectedDocument:o,setSelectedDocument:l}=_o(),[u,h]=C.useState(0),[f,m]=C.useState(!1),g=async()=>{m(!0);try{await s()}finally{setTimeout(()=>m(!1),1e3)}},b=C.useMemo(()=>{if(o)return[o];if(a.length>0)return a.map(U=>r.find(G=>G.id===U.id)||U);if(n.length>0){const U=r.filter(H=>n.includes(H.id));if(U.length>0)return U}const O=r.filter(U=>U.status===or.PROCESSING);return O.length>0?O:r.slice(0,5)},[r,n,a,o]),y=b[u],w=C.useMemo(()=>({total:b.length,processing:b.filter(O=>O.status===or.PROCESSING).length,approved:b.filter(O=>{var U;return(O.status===or.COMPLETED||O.status===or.APROVADO)&&((U=O.data)==null?void 0:U.fiscal_validation)!=="REJEITADO"}).length,attention:b.filter(O=>{var U;return O.status===or.ERROR||O.status===or.REJEITADO||((U=O.data)==null?void 0:U.fiscal_validation)==="REJEITADO"}).length}),[b]),A=C.useCallback(()=>{u<b.length-1&&h(O=>O+1)},[u,b.length]),S=C.useCallback(()=>{u>0&&h(O=>O-1)},[u]);C.useEffect(()=>{const O=U=>{U.key==="ArrowRight"&&A(),U.key==="ArrowLeft"&&S()};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[A,S]);const N=()=>{l(null),i(),e()},T=()=>{l(null),t()};return y?c.jsxs("div",{className:"h-[calc(100vh-140px)] flex flex-col animate-in fade-in slide-in-from-bottom-4 duration-500 relative",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4 flex-shrink-0 bg-[#080808] border border-white/[0.03] p-4 rounded-[24px]",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{onClick:T,className:"group flex items-center gap-2 px-4 py-2.5 rounded-xl bg-[#111] hover:bg-[#161616] text-slate-400 hover:text-white transition-all border border-white/5",children:[c.jsx(t5,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),c.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:"Documentos"})]}),c.jsx("div",{className:"h-8 w-px bg-white/5"}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${w.processing>0?"bg-cyan-500 animate-pulse":"bg-emerald-500"} shadow-[0_0_8px_currentColor]`}),c.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:w.processing>0?"Anlise em Tempo Real":"Reviso de Lote"})]}),c.jsx("h1",{className:"text-xl font-bold text-white tracking-tight flex items-center gap-2",children:"Workstation Neural"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"hidden md:flex items-center bg-[#111] border border-white/5 rounded-xl p-1",children:[c.jsxs("div",{className:"px-4 py-1.5 border-r border-white/5 flex items-center gap-2",children:[c.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider",children:"Total"}),c.jsx("span",{className:"text-sm font-bold text-white",children:w.total})]}),w.processing>0&&c.jsxs("div",{className:"px-4 py-1.5 border-r border-white/5 flex items-center gap-2",children:[c.jsx(ji,{className:"w-3 h-3 text-cyan-500 animate-spin"}),c.jsx("span",{className:"text-sm font-bold text-cyan-400",children:w.processing})]}),c.jsxs("div",{className:"px-4 py-1.5 border-r border-white/5 flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),c.jsx("span",{className:"text-sm font-bold text-emerald-400",children:w.approved})]}),c.jsxs("div",{className:"px-4 py-1.5 flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),c.jsx("span",{className:"text-sm font-bold text-red-400",children:w.attention})]})]}),c.jsxs("button",{onClick:g,disabled:f,className:"bg-[#111] text-slate-400 hover:text-white px-4 py-2.5 rounded-xl font-bold text-xs uppercase tracking-wide flex items-center gap-2 border border-white/5 transition-all",children:[c.jsx(_m,{className:`w-4 h-4 ${f?"animate-spin":""}`})," Sincronizar"]}),c.jsxs("button",{onClick:N,className:"bg-white text-black px-5 py-2.5 rounded-xl font-bold text-xs uppercase tracking-wide flex items-center gap-2 transition-all hover:bg-cyan-50",children:[c.jsx(Bfe,{className:"w-4 h-4"})," Nova Anlise"]})]})]}),c.jsxs("div",{className:"flex-1 bg-[#080808] border border-white/[0.03] rounded-[32px] overflow-hidden flex flex-col relative shadow-2xl",children:[c.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(6,182,212,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(6,182,212,0.02)_1px,transparent_1px)] bg-[size:20px_20px] pointer-events-none"}),c.jsx("div",{className:"flex-1 h-full w-full p-4 md:p-6 relative z-10",children:y.status===or.PROCESSING||(y.status===or.COMPLETED||y.status===or.APROVADO||y.status===or.REJEITADO)&&!((k=y.data)!=null&&k.merchantName)?c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center animate-in fade-in duration-700 py-20",children:[c.jsxs("div",{className:"relative mb-10",children:[c.jsx("div",{className:"absolute inset-0 bg-cyan-500/20 blur-[60px] rounded-full animate-pulse"}),c.jsx("div",{className:"relative w-32 h-32 border-4 border-[#111] border-t-cyan-500 rounded-full animate-spin"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx(B0,{className:"w-12 h-12 text-cyan-400 animate-pulse"})})]}),c.jsx("h3",{className:"text-3xl font-black text-white mb-3 tracking-tight",children:"Extraindo Inteligncia Fiscal"}),c.jsxs("p",{className:"text-slate-400 max-w-md text-sm leading-relaxed mb-8",children:["O motor neural est a digitalizar ",c.jsx("span",{className:"text-cyan-400 font-mono",children:y.fileName}),". A validar NIFs, clculos e regras AGT em tempo real."]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("span",{className:"px-3 py-1 rounded-full bg-white/5 border border-white/10 text-[10px] text-slate-500 font-bold uppercase tracking-widest",children:"OCR v3.0 Active"}),c.jsx("span",{className:"px-3 py-1 rounded-full bg-white/5 border border-white/10 text-[10px] text-slate-500 font-bold uppercase tracking-widest",children:"AGT Cloud Link"})]})]}):y.status===or.ERROR&&!y.data?c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center animate-in zoom-in-95 duration-300",children:[c.jsx("div",{className:"p-6 bg-red-500/10 rounded-full mb-6 border border-red-500/20 shadow-[0_0_30px_rgba(239,68,68,0.2)]",children:c.jsx(wo,{className:"w-12 h-12 text-red-500"})}),c.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Interrupo no Processamento"}),c.jsx("p",{className:"text-slate-400 max-w-md mb-6",children:"Houve um problema ao ler este ficheiro. Isto pode acontecer se o documento estiver muito ilegvel ou se o servidor n8n atingiu um limite."}),c.jsxs("div",{className:"bg-[#111] border border-red-500/20 p-4 rounded-xl max-w-lg text-left w-full shadow-lg",children:[c.jsxs("div",{className:"text-[10px] text-red-400 font-bold uppercase mb-2 flex items-center gap-2",children:[c.jsx(_m,{className:"w-3 h-3"})," Detalhes do Log"]}),c.jsx("code",{className:"text-xs text-red-200/70 font-mono break-all leading-relaxed",children:((R=y.rawData)==null?void 0:R.error)||y.rawText||"Causa provvel: Timeout na resposta da IA ou ficheiro corrompido."})]})]}):c.jsx(zB,{document:y})}),c.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-50 animate-in slide-in-from-bottom-10 fade-in duration-500",children:c.jsxs("div",{className:"flex items-center gap-4 bg-[#0f111a]/90 backdrop-blur-xl border border-white/10 p-2 pl-3 pr-2 rounded-2xl shadow-[0_0_50px_rgba(0,0,0,0.8)] ring-1 ring-white/5",children:[c.jsx("button",{onClick:S,disabled:u===0,className:"p-3 rounded-xl bg-white/5 hover:bg-white/10 disabled:opacity-20 disabled:cursor-not-allowed transition-all text-white border border-white/5 hover:border-cyan-500/30 group active:scale-95",children:c.jsx(gfe,{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform"})}),c.jsxs("div",{className:"flex flex-col items-center min-w-[280px] px-2",children:[c.jsx("div",{className:"flex items-center gap-2 mb-1",children:c.jsxs("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:["Documento ",u+1," de ",b.length]})}),c.jsxs("div",{className:"flex items-center gap-2 max-w-[240px]",children:[y.status===or.COMPLETED||y.status===or.APROVADO?c.jsx(Ns,{className:"w-3.5 h-3.5 text-emerald-400 flex-shrink-0"}):y.status===or.ERROR||y.status===or.REJEITADO?c.jsx(wo,{className:"w-3.5 h-3.5 text-red-400 flex-shrink-0"}):y.status===or.PENDING_REVIEW?c.jsx(mk,{className:"w-3.5 h-3.5 text-amber-400 flex-shrink-0"}):c.jsx(ji,{className:"w-3.5 h-3.5 text-cyan-400 animate-spin flex-shrink-0"}),c.jsx("span",{className:"text-sm font-bold text-white truncate",children:y.fileName})]})]}),c.jsx("button",{onClick:A,disabled:u===b.length-1,className:"p-3 rounded-xl bg-white/5 hover:bg-white/10 disabled:opacity-20 disabled:cursor-not-allowed transition-all text-white border border-white/5 hover:border-cyan-500/30 group active:scale-95",children:c.jsx(mu,{className:"w-5 h-5 group-hover:translate-x-0.5 transition-transform"})}),c.jsx("div",{className:"h-8 w-px bg-white/10 mx-1"}),c.jsxs("div",{className:"pr-2 flex flex-col justify-center items-center gap-1 opacity-40",children:[c.jsx(F0e,{className:"w-4 h-4 text-slate-400"}),c.jsx("span",{className:"text-[8px] font-bold text-slate-500 uppercase",children:"Nav"})]})]})})]})]}):c.jsxs("div",{className:"h-[calc(100vh-140px)] flex flex-col items-center justify-center text-slate-500 bg-[#080808] rounded-[32px] border border-white/5 border-dashed",children:[c.jsx(B0,{className:"w-12 h-12 mb-4 opacity-20 animate-pulse"}),c.jsx("h3",{className:"text-white font-bold",children:"Nenhum processo ativo"}),c.jsx("p",{className:"text-sm mt-2",children:"Inicie uma nova anlise no portal."}),c.jsx("button",{onClick:N,className:"mt-6 px-6 py-2 bg-white text-black font-bold rounded-xl text-xs uppercase tracking-widest",children:"Nova Anlise"})]})},O$e=({onViewResults:t})=>{const{completionStats:e,showGlobalCompletionModal:r,closeGlobalCompletionModal:n,stopNotificationSound:a,setSelectedDocument:i,clearCompletionStates:s}=_o(),[o,l]=C.useState(""),u=()=>{s()},h=w=>{if(s(),w)i(w);else if(e!=null&&e.docs&&e.docs.length>0){const A=e.docs.find(S=>S.status!==or.ERROR)||e.docs[0];i(A)}t()},f=C.useMemo(()=>e!=null&&e.docs?e.docs.filter(w=>{var A,S;return w.fileName.toLowerCase().includes(o.toLowerCase())||((S=(A=w.data)==null?void 0:A.merchantName)==null?void 0:S.toLowerCase().includes(o.toLowerCase()))}):[],[e==null?void 0:e.docs,o]);if(!r||!e)return null;const{success:m,error:g,total:b,docs:y}=e;return c.jsxs("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center p-6 bg-black/80 backdrop-blur-xl animate-in fade-in duration-500",children:[c.jsx("div",{className:"absolute inset-0",onClick:u}),c.jsxs("div",{className:"relative w-full max-w-2xl bg-[#0a0a0a] border border-white/[0.08] rounded-[40px] shadow-[0_0_100px_rgba(0,0,0,0.5)] overflow-hidden animate-in zoom-in-95 slide-in-from-bottom-10 duration-500",children:[c.jsx("div",{className:"h-1.5 w-full bg-gradient-to-r from-cyan-500 via-teal-500 to-blue-600"}),c.jsxs("div",{className:"p-8 md:p-10 relative z-10 max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"flex items-start justify-between mb-8 shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-5",children:[c.jsxs("div",{className:"w-16 h-16 rounded-2xl bg-cyan-500/10 border border-cyan-500/30 flex items-center justify-center text-cyan-400 relative",children:[c.jsx(B0,{className:"w-8 h-8 animate-pulse"}),c.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-emerald-500 rounded-full border-2 border-[#0a0a0a] shadow-[0_0_10px_#10b981]"})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-black text-white tracking-tight leading-tight uppercase",children:"Anlise Finalizada"}),c.jsx("p",{className:"text-slate-400 text-xs mt-1 font-bold tracking-widest uppercase",children:"Lote neural processado com sucesso"})]})]}),c.jsx("button",{onClick:u,className:"p-2.5 hover:bg-white/5 rounded-full text-slate-500 hover:text-white transition-all",children:c.jsx(Hs,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8 shrink-0",children:[c.jsxs("div",{className:"p-4 rounded-3xl bg-[#111] border border-emerald-500/10 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Aprovados"}),c.jsx("p",{className:"text-2xl font-black text-white font-mono",children:m})]}),c.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500/10 flex items-center justify-center text-emerald-400",children:c.jsx(Ns,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:`p-4 rounded-3xl border flex items-center justify-between transition-all ${g>0?"bg-red-500/5 border-red-500/10":"bg-[#111] border-white/5 opacity-40"}`,children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Divergncias"}),c.jsx("p",{className:"text-2xl font-black text-white font-mono",children:g})]}),c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${g>0?"bg-red-500/10 text-red-400":"bg-slate-800 text-slate-500"}`,children:c.jsx(wo,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"flex-1 min-h-0 flex flex-col bg-[#050505] rounded-[32px] border border-white/5 p-4 overflow-hidden mb-8",children:[c.jsxs("div",{className:"relative mb-4 shrink-0",children:[c.jsx(yu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-600 w-4 h-4"}),c.jsx("input",{type:"text",placeholder:"Filtrar resultados...",value:o,onChange:w=>l(w.target.value),className:"w-full bg-[#111] border border-white/5 rounded-2xl pl-10 pr-4 py-2.5 text-sm text-white focus:outline-none focus:border-cyan-500/50 transition-all font-medium"})]}),c.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-2 pr-1",children:f.length>0?f.map(w=>{var A;return c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-2xl bg-[#0d0d0d] border border-white/[0.03] hover:bg-white/[0.05] transition-all group",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[c.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center shrink-0 ${w.status===or.ERROR||w.status===or.REJEITADO?"bg-red-500/10 text-red-400":"bg-emerald-500/10 text-emerald-400"}`,children:c.jsx(Yo,{className:"w-4 h-4"})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-xs font-bold text-white truncate",children:((A=w.data)==null?void 0:A.merchantName)||w.fileName}),c.jsx("p",{className:"text-[10px] text-slate-500 font-mono truncate",children:w.fileName})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[w.status===or.ERROR||w.status===or.REJEITADO?c.jsxs("span",{className:"text-[10px] font-black text-red-500/80 uppercase tracking-widest flex items-center gap-1",children:[c.jsx(wo,{className:"w-3 h-3"})," Falha"]}):c.jsxs("span",{className:"text-[10px] font-black text-emerald-500/80 uppercase tracking-widest flex items-center gap-1",children:[c.jsx(Ns,{className:"w-3 h-3"})," OK"]}),c.jsx("button",{onClick:()=>h(w),className:"p-1.5 rounded-lg bg-white/5 text-slate-500 hover:text-cyan-400 hover:bg-cyan-500/10 transition-all opacity-0 group-hover:opacity-100",children:c.jsx(my,{className:"w-4 h-4"})})]})]},w.id)}):c.jsxs("div",{className:"h-32 flex flex-col items-center justify-center text-slate-600 opacity-50",children:[c.jsx(Yo,{className:"w-8 h-8 mb-2"}),c.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Nenhum registro encontrado"})]})})]}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 shrink-0",children:[c.jsxs("button",{onClick:()=>h(),className:"flex-1 py-5 rounded-[22px] bg-white text-black font-black text-sm uppercase tracking-wider transition-all shadow-[0_15px_40px_rgba(255,255,255,0.1)] hover:shadow-[0_20px_50px_rgba(255,255,255,0.2)] hover:scale-[1.02] active:scale-95 flex items-center justify-center gap-4 group",children:[c.jsx(my,{className:"w-6 h-6"}),"Explorar Lote Completo",c.jsx(mu,{className:"w-5 h-5 group-hover:translate-x-1.5 transition-transform"})]}),c.jsx("button",{onClick:u,className:"py-5 px-8 rounded-[22px] bg-[#111] hover:bg-white/5 text-slate-400 hover:text-white text-xs font-bold uppercase tracking-widest transition-all border border-white/5",children:"Fechar"})]})]})]})]})},D$e=()=>{const{refreshData:t}=_o(),[e,r]=C.useState(""),[n,a]=C.useState(""),[i,s]=C.useState(!1),[o,l]=C.useState(""),u=async h=>{if(h.preventDefault(),l(""),e.length<6){l("A senha deve ter pelo menos 6 caracteres.");return}if(e!==n){l("As senhas no coincidem.");return}s(!0);try{await zs.changePassword(e),await t(!0),window.location.reload()}catch(f){l(f.message||"Erro ao alterar a senha."),s(!1)}};return c.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 sm:p-6 overflow-y-auto",children:c.jsxs("div",{className:"w-full max-w-md bg-[#0c0c0c] border border-red-500/30 rounded-[32px] p-6 sm:p-8 shadow-[0_0_100px_rgba(239,68,68,0.2)] animate-in zoom-in-95 duration-500 relative overflow-hidden my-auto",children:[c.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-40 h-40 bg-red-500/10 blur-[80px] rounded-full pointer-events-none"}),c.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[c.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-red-500/20 to-red-900/20 border border-red-500/30 flex items-center justify-center mb-6 shadow-inner",children:c.jsx(P0,{className:"w-8 h-8 text-red-500"})}),c.jsx("h2",{className:"text-2xl font-black text-white tracking-tighter uppercase",children:"Segurana Obrigatria"}),c.jsx("p",{className:"text-slate-400 text-sm mt-3 leading-relaxed",children:"Para sua segurana,  necessrio definir uma nova palavra-passe antes de continuar a utilizar a plataforma."}),c.jsxs("form",{onSubmit:u,className:"w-full mt-8 space-y-4",children:[c.jsxs("div",{className:"space-y-2 text-left",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Nova Palavra-passe"}),c.jsxs("div",{className:"relative",children:[c.jsx(q8,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-600"}),c.jsx("input",{type:"password",value:e,onChange:h=>r(h.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl py-3.5 pl-12 pr-4 text-white placeholder-slate-800 text-sm focus:border-red-500/50 outline-none transition-all",placeholder:"",required:!0})]})]}),c.jsxs("div",{className:"space-y-2 text-left",children:[c.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Confirmar Palavra-passe"}),c.jsxs("div",{className:"relative",children:[c.jsx(Pc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-600"}),c.jsx("input",{type:"password",value:n,onChange:h=>a(h.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl py-3.5 pl-12 pr-4 text-white placeholder-slate-800 text-sm focus:border-red-500/50 outline-none transition-all",placeholder:"",required:!0})]})]}),o&&c.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-2 text-red-400 text-xs font-bold animate-in fade-in slide-in-from-top-2",children:[c.jsx(wo,{className:"w-4 h-4 flex-shrink-0"}),o]}),c.jsx("button",{type:"submit",disabled:i,className:"w-full py-4 bg-white text-black font-black uppercase tracking-[0.2em] text-xs rounded-xl hover:bg-red-500 hover:text-white transition-all shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:shadow-red-500/30 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:i?c.jsx(ji,{className:"w-5 h-5 animate-spin mx-auto"}):"DEFINIR NOVA SENHA"})]})]})]})})},R$e=()=>{const{isProcessing:t,notifications:e,stopNotificationSound:r,setSelectedDocument:n,completionStats:a,clearCompletionStates:i}=_o();return e.find(o=>o.type==="success"&&!o.read&&new Date().getTime()-new Date(o.timestamp).getTime()<6e4),null},I$e=()=>{const{selectedCompany:t,isLoadingData:e}=_o(),[r,n]=C.useState(!0),[a,i]=C.useState(null),[s,o]=C.useState(new Date().getMonth()+1),[l,u]=C.useState(new Date().getFullYear()),h=async()=>{if(!e){n(!0);try{const g=t==="ALL"?"ALL":t==null?void 0:t.id,b=await zs.getFaturixStats(g,s,l);i(b)}catch(g){console.error("Failed to load compliance stats:",g)}finally{n(!1)}}},f=async()=>{try{const g=t==null?void 0:t.id;if(!g||g==="ALL"){alert("Por favor selecione uma empresa especfica para exportar o SAF-T.");return}const b=localStorage.getItem("auth_token"),y=await fetch(`/api/fiscal/saft?companyId=${g}&month=${s}&year=${l}`,{headers:{Authorization:`Bearer ${b}`}});if(!y.ok)throw new Error("Falha ao gerar SAF-T");const w=await y.blob(),A=window.URL.createObjectURL(w),S=document.createElement("a");S.href=A,S.download=`SAFT_AO_${l}_${s}.xml`,document.body.appendChild(S),S.click(),S.remove()}catch(g){console.error("Export Error:",g),alert("Erro ao exportar SAF-T. Verifique se existem dados aprovados para este perodo.")}},m=async g=>{try{const b=t==null?void 0:t.id;if(!b||b==="ALL"){alert("Selecione uma empresa.");return}const y=localStorage.getItem("auth_token"),A=await(await fetch(`/api/reports/vat-map?companyId=${b}&month=${s}&year=${l}`,{headers:{Authorization:`Bearer ${y}`}})).json();if(g==="EXCEL"){const S=xm.json_to_sheet(A.documentos),N=xm.book_new();xm.book_append_sheet(N,S,"Mapa IVA"),h9(N,`Mapa_IVA_${l}_${s}.xlsx`)}else{const S=new Gr;S.text(`Mapa de Apuramento do IVA - ${s}/${l}`,14,20);const N=[["Descrio","Valor"],["IVA Liquidado (Vendas)",is(A.resumo.iva_liquidado)],["IVA Dedutvel (Compras)",is(A.resumo.iva_dedutivel)],["Posio Lquida",is(A.resumo.saldo_iva)]];AC(S,{startY:30,head:[N[0]],body:N.slice(1)}),S.text("Detalhe de Documentos",14,S.lastAutoTable.finalY+15);const T=A.documentos.map(k=>[new Date(k.data_emissao).toLocaleDateString(),k.nif||"N/A",k.fornecedor||"N/A",is(k.total),is(k.iva),k.tipo_movimento]);AC(S,{startY:S.lastAutoTable.finalY+20,head:[["Data","NIF","Entidade","Total","IVA","Tipo"]],body:T}),S.save(`Mapa_IVA_${l}_${s}.pdf`)}}catch(b){console.error("Map Export Error:",b),alert("Erro ao gerar mapa.")}};return C.useEffect(()=>{h()},[t,e,s,l]),c.jsxs("div",{className:"space-y-8 animate-in fade-in duration-700 pb-20",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-4 bg-emerald-500/10 rounded-2xl text-emerald-400 border border-emerald-500/20 shadow-lg shadow-emerald-500/5",children:c.jsx(K8,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-black text-white tracking-tighter",children:"Certificao & Conformidade AGT"}),c.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Gesto de Auditoria Fiscal e Arquivo Digital Certificado"})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex bg-[#0A0A0A] border border-white/10 rounded-xl p-1",children:[c.jsx("select",{value:s,onChange:g=>o(parseInt(g.target.value)),className:"bg-transparent text-white text-xs font-bold px-3 py-2 outline-none",children:Array.from({length:12},(g,b)=>b+1).map(g=>c.jsx("option",{value:g,children:new Date(0,g-1).toLocaleString("pt-AO",{month:"long"})},g))}),c.jsx("div",{className:"w-px bg-white/10 my-1"}),c.jsx("select",{value:l,onChange:g=>u(parseInt(g.target.value)),className:"bg-transparent text-white text-xs font-bold px-3 py-2 outline-none",children:[2024,2025,2026,2027].map(g=>c.jsx("option",{value:g,children:g},g))})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>m("PDF"),className:"px-4 py-3 rounded-2xl bg-white/5 border border-white/10 text-white text-[10px] font-black uppercase tracking-widest hover:bg-white/10 transition-all flex items-center gap-2",children:[c.jsx(Cpe,{className:"w-4 h-4"}),"Mapa IVA (PDF)"]}),c.jsxs("button",{onClick:()=>m("EXCEL"),className:"px-4 py-3 rounded-2xl bg-white/5 border border-white/10 text-white text-[10px] font-black uppercase tracking-widest hover:bg-white/10 transition-all flex items-center gap-2",children:[c.jsx(I$,{className:"w-4 h-4"}),"Excel"]})]}),c.jsxs("button",{onClick:f,className:"px-6 py-3 rounded-2xl bg-emerald-500 text-black text-[10px] font-black uppercase tracking-widest hover:shadow-lg hover:shadow-emerald-500/20 transition-all flex items-center gap-2",children:[c.jsx(I$,{className:"w-4 h-4"}),"Exportar SAFT-AO"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-[#080808] border border-white/[0.03] rounded-[32px] p-8 relative overflow-hidden group",children:[c.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-emerald-500/5 blur-3xl rounded-full"}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-xl text-emerald-400",children:c.jsx(Ns,{className:"w-5 h-5"})}),c.jsx("span",{className:"bg-emerald-500/10 text-emerald-400 text-[10px] px-2 py-1 rounded-lg font-black tracking-widest",children:"VALIDADO"})]}),c.jsx("h4",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] mb-2",children:"Estado de Transmisso"}),c.jsx("p",{className:"text-white text-sm font-bold",children:"ltimo SAFT: 15 Jan 2026"})]})]}),c.jsxs("div",{className:"bg-[#080808] border border-white/[0.03] rounded-[32px] p-8 relative overflow-hidden group",children:[c.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-amber-500/5 blur-3xl rounded-full"}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsx("div",{className:"p-3 bg-amber-500/10 rounded-xl text-amber-400",children:c.jsx(wo,{className:"w-5 h-5"})}),c.jsx("span",{className:"bg-amber-500/10 text-amber-400 text-[10px] px-2 py-1 rounded-lg font-black tracking-widest",children:(a==null?void 0:a.total_retention)>0?"AUTOMTICO":"PENDENTE"})]}),c.jsx("h4",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] mb-2",children:"Conformidade Retenes"}),c.jsxs("p",{className:"text-white text-sm font-bold",children:["Total Retido: ",is((a==null?void 0:a.total_retention)||0)]})]})]}),c.jsxs("div",{className:"bg-[#080808] border border-white/[0.03] rounded-[32px] p-8 relative overflow-hidden group",children:[c.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-cyan-500/5 blur-3xl rounded-full"}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsx("div",{className:"p-3 bg-cyan-500/10 rounded-xl text-cyan-400",children:c.jsx(ki,{className:"w-5 h-5"})}),c.jsx("span",{className:"bg-cyan-500/10 text-cyan-400 text-[10px] px-2 py-1 rounded-lg font-black tracking-widest",children:"OK"})]}),c.jsx("h4",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] mb-2",children:"Software de Faturao"}),c.jsx("p",{className:"text-white text-sm font-bold",children:"Certificao #425/AGT/2026"})]})]})]}),c.jsxs("div",{className:"bg-[#080808] border border-white/[0.03] rounded-[40px] p-10 shadow-2xl",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-10",children:[c.jsx(fk,{className:"w-6 h-6 text-emerald-400"}),c.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:"Apuramento de Impostos (Simulao Mensal)"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{label:"Total Base Tributvel",value:is((a==null?void 0:a.total_sales)||0),desc:"Base para clculo de IVA/IRT"},{label:"IVA Liquidado",value:is((a==null?void 0:a.vat_payable)||0),desc:"Dvida perante o estado"},{label:"IVA Dedutvel",value:is((a==null?void 0:a.vat_deductible)||0),desc:"Recuperao tributria"},{label:"Reteno Fonte (6.5%)",value:is((a==null?void 0:a.total_retention)||0),desc:"Valor retido em Entradas"}].map((g,b)=>c.jsxs("div",{className:"p-6 rounded-[24px] bg-white/[0.01] border border-white/5 hover:bg-white/[0.02] transition-all",children:[c.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest mb-3",children:g.label}),c.jsx("h4",{className:"text-2xl font-black text-white mb-2",children:g.value}),c.jsx("p",{className:"text-[10px] text-slate-600 font-medium",children:g.desc})]},b))}),c.jsxs("div",{className:"mt-12 p-8 rounded-3xl bg-emerald-500/[0.03] border border-emerald-500/10 flex flex-col md:flex-row justify-between items-center gap-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-emerald-500 text-black rounded-2xl",children:c.jsx(G8,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-white font-bold",children:"Apuramento Lquido de IVA"}),c.jsx("p",{className:"text-slate-500 text-xs",children:"Valor estimado a pagar aps dedues permitidas pela AGT"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("h3",{className:"text-3xl font-black text-emerald-400 tracking-tighter",children:is(Math.max(0,((a==null?void 0:a.vat_payable)||0)-((a==null?void 0:a.vat_deductible)||0)-((a==null?void 0:a.total_retention)||0)))}),c.jsx("p",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-wider mt-1",children:"Sujeito a conferncia SAFT"})]})]})]}),c.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-emerald-500/5 blur-[120px] pointer-events-none rounded-full"})]})},L$e=({currentView:t,onChangeView:e})=>{const{logout:r}=uh(),[n,a]=C.useState(!1),i=[{id:"ADMIN_DASHBOARD",label:"Painel Global",icon:SJ},{id:"ADMIN_AGENTS",label:"Agentes de IA",icon:e5},{id:"ADMIN_COMPANIES",label:"Tenants (Empresas)",icon:Wa},{id:"ADMIN_USERS",label:"Utilizadores SaaS",icon:yy},{id:"ADMIN_BILLING",label:"Gesto Financeira (SaaS)",icon:z8},{id:"ADMIN_PAYMENTS",label:"Pagamentos",icon:Lx},{id:"ADMIN_INFRA",label:"Infraestrutura",icon:D_},{id:"ADMIN_LOGS",label:"Logs de Auditoria",icon:$s},{id:"ADMIN_SECURITY",label:"Segurana",icon:vy},{id:"ADMIN_SETTINGS",label:"Configuraes Admin",icon:xy}],s=l=>t===l,o=l=>`
        flex items-center w-full ${n?"justify-center px-2":"px-5"} py-3.5 mb-2 text-sm font-medium transition-all rounded-2xl group relative
        ${s(l)?"bg-amber-500/10 text-amber-400 shadow-[0_0_20px_rgba(245,158,11,0.1)]":"text-slate-500 hover:text-slate-200 hover:bg-white/5"}
    `;return c.jsxs("div",{className:`flex flex-col h-full ${n?"w-24":"w-72"} bg-[#0a0a0a] border-r border-amber-500/10 relative transition-all duration-300 ease-in-out`,children:[c.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-amber-500 via-purple-500 to-amber-500"}),c.jsxs("div",{className:`flex items-center justify-center h-28 transition-all relative overflow-hidden ${n?"px-2":"px-6"}`,children:[c.jsx(Bx,{className:`${n?"w-12 h-12":"w-48 h-16"} transition-all duration-300`,iconClassName:"w-full h-full"}),!n&&c.jsx("div",{className:"absolute top-16 right-6",children:c.jsx("span",{className:"text-[10px] font-black bg-amber-500 text-black px-1.5 py-0.5 rounded tracking-tighter uppercase",children:"Admin"})})]}),c.jsx("button",{onClick:()=>a(!n),className:"absolute -right-3 top-10 bg-[#1a1a1a] border border-amber-500/20 text-amber-500/50 hover:text-amber-500 rounded-full p-1.5 shadow-xl z-50 transition-colors",children:n?c.jsx(Nx,{className:"w-3 h-3"}):c.jsx(t5,{className:"w-3 h-3"})}),c.jsx("div",{className:"px-4 mb-4",children:c.jsxs("div",{className:`flex items-center gap-3 bg-white/5 border border-white/5 rounded-xl ${n?"p-2 justify-center":"px-3 py-2"}`,children:[c.jsx(yu,{className:"w-4 h-4 text-slate-500"}),!n&&c.jsx("input",{type:"text",placeholder:"Procurar global...",className:"bg-transparent border-none outline-none text-xs text-white placeholder-slate-600 w-full"})]})}),c.jsxs("nav",{className:"flex-1 px-4 space-y-1 overflow-y-auto custom-scrollbar",children:[!n&&c.jsx("div",{className:"px-5 mb-4 mt-2 text-[10px] font-bold text-amber-500/50 uppercase tracking-widest",children:"Governana SaaS"}),i.map(l=>c.jsxs("button",{onClick:()=>e(l.id),className:o(l.id),title:n?l.label:void 0,children:[s(l.id)&&c.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-amber-500 rounded-r-full shadow-[0_0_10px_#f59e0b]"}),c.jsx(l.icon,{className:`w-5 h-5 flex-shrink-0 transition-colors ${s(l.id)?"text-amber-400":"text-slate-600 group-hover:text-amber-500/50"} ${n?"":"mr-3"}`}),!n&&c.jsx("span",{className:"truncate",children:l.label})]},l.id))]}),c.jsx("div",{className:"p-4 border-t border-white/[0.03]",children:c.jsxs("div",{className:"bg-gradient-to-br from-amber-500/5 to-purple-500/10 rounded-2xl p-4 border border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/20 border border-amber-500/30 flex items-center justify-center text-amber-400 font-bold",children:"SA"}),!n&&c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsx("p",{className:"text-sm font-bold text-white truncate",children:"Super Admin"}),c.jsx("p",{className:"text-[10px] text-amber-500/70 uppercase tracking-wider font-bold",children:"KwikDocs Root"})]})]}),!n&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("button",{onClick:()=>e("OVERVIEW"),className:"w-full py-2 bg-amber-500/20 hover:bg-amber-500/30 text-amber-400 text-[10px] font-bold uppercase tracking-wider rounded-xl transition-all flex items-center justify-center gap-2 border border-amber-500/20",children:[c.jsx(gy,{className:"w-3 h-3"})," Voltar ao Hub"]}),c.jsxs("button",{onClick:r,className:"w-full py-2 bg-white/5 hover:bg-red-500/10 text-slate-400 hover:text-red-400 text-[10px] font-bold uppercase tracking-wider rounded-xl transition-all flex items-center justify-center gap-2",children:[c.jsx(pE,{className:"w-3 h-3"})," Terminar Sesso"]})]})]})})]})},M$e=({children:t,currentView:e,onChangeView:r,title:n})=>c.jsxs("div",{className:"flex h-screen bg-[#020202] text-slate-50 font-sans overflow-hidden relative animate-in fade-in duration-700",children:[c.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[c.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[600px] h-[600px] bg-amber-900/10 rounded-full blur-[120px] animate-pulse duration-[10000ms]"}),c.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-[500px] h-[500px] bg-purple-900/10 rounded-full blur-[120px] animate-pulse duration-[8000ms]"})]}),c.jsx("div",{className:"relative z-50 h-full backdrop-blur-xl bg-[#080808]/90 border-r border-amber-500/5 flex-shrink-0",children:c.jsx(L$e,{currentView:e,onChangeView:r})}),c.jsx("main",{className:"flex-1 overflow-auto relative z-10 custom-scrollbar flex flex-col",children:c.jsxs("div",{className:"max-w-[1600px] mx-auto w-full p-6 md:p-10",children:[c.jsxs("header",{className:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-6 border-b border-white/5 pb-8",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(xk,{className:"w-4 h-4 text-amber-500"}),c.jsx("span",{className:"text-[10px] font-bold text-amber-500/70 uppercase tracking-[0.2em]",children:"SaaS Backoffice"})]}),c.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:n})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"hidden xl:flex items-center gap-2 text-[10px] font-bold text-slate-500 bg-white/5 px-3 py-1.5 rounded-lg border border-white/5",children:[c.jsx(bJ,{className:"w-3 h-3"}),c.jsx("span",{children:"CMD + K"})]}),c.jsxs("button",{className:"relative p-2.5 rounded-xl bg-white/5 border border-white/5 text-slate-400 hover:text-white transition-all",children:[c.jsx(U8,{className:"w-5 h-5"}),c.jsx("span",{className:"absolute top-2.5 right-2.5 w-2 h-2 bg-amber-500 rounded-full shadow-[0_0_8px_#f59e0b]"})]}),c.jsxs("div",{className:"flex items-center gap-2 py-2 px-4 bg-emerald-500/5 border border-emerald-500/20 rounded-xl",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse shadow-[0_0_8px_#10b981]"}),c.jsx("span",{className:"text-[10px] font-bold text-emerald-500 uppercase tracking-wider",children:"Sistemas Operacionais"})]})]})]}),c.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:t})]})})]}),mn=()=>({"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`}),_n={getStats:async()=>{const t=await fetch("/api/admin/stats",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar estatsticas");return t.json()},getActivity:async()=>{const t=await fetch("/api/admin/activity",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar atividade");return t.json()},getHealth:async()=>{const t=await fetch("/api/admin/health",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar status dos servios");return t.json()},getAlerts:async()=>{const t=await fetch("/api/admin/alerts",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar alertas");return t.json()},getBillingStats:async()=>{const t=await fetch("/api/admin/billing/stats",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar estatsticas financeiras");return t.json()},getTransactions:async(t=10)=>{const e=await fetch(`/api/admin/billing/transactions?limit=${t}`,{headers:mn()});if(!e.ok)throw new Error("Falha ao carregar transaes");return e.json()},getPlans:async()=>{const t=await fetch("/api/admin/billing/plans",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar distribuio de planos");return t.json()},getBillingInsights:async()=>{const t=await fetch("/api/admin/billing/insights",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar insights financeiros");return t.json()},getAllPlans:async()=>{const t=await fetch("/api/admin/billing/plans/all",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar planos");return t.json()},createPlan:async t=>{const e=await fetch("/api/admin/billing/plans",{method:"POST",headers:mn(),body:JSON.stringify(t)});if(!e.ok)throw new Error("Falha ao criar plano");return e.json()},updatePlan:async(t,e)=>{const r=await fetch(`/api/admin/billing/plans/${t}`,{method:"PUT",headers:mn(),body:JSON.stringify(e)});if(!r.ok)throw new Error("Falha ao atualizar plano");return r.json()},deletePlan:async t=>{const e=await fetch(`/api/admin/billing/plans/${t}`,{method:"DELETE",headers:mn()});if(!e.ok)throw new Error("Falha ao excluir plano");return e.json()},getSettings:async()=>{const t=await fetch("/api/admin/settings",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar configuraes");return t.json()},updateSetting:async(t,e,r)=>{const n=await fetch("/api/admin/settings",{method:"POST",headers:mn(),body:JSON.stringify({key:t,value:e,description:r})});if(!n.ok)throw new Error("Falha ao atualizar configurao");return n.json()},setUserLimit:async(t,e)=>{const r=await fetch(`/api/admin/users/${t}/limit`,{method:"PUT",headers:mn(),body:JSON.stringify({monthly_credit_limit:e})});if(!r.ok)throw new Error("Falha ao definir limite do usurio");return r.json()},getUsers:async()=>{const t=await fetch("/api/admin/users",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar utilizadores");return t.json()},updateUserStatus:async(t,e)=>{const r=await fetch(`/api/admin/users/${t}/status`,{method:"PATCH",headers:mn(),body:JSON.stringify({isActive:e})});if(!r.ok)throw new Error("Falha ao atualizar status do utilizador");return r.json()},updateUserRole:async(t,e)=>{const r=await fetch(`/api/admin/users/${t}/role`,{method:"PATCH",headers:mn(),body:JSON.stringify({role:e})});if(!r.ok)throw new Error("Falha ao atualizar cargo");return r.json()},bulkUpdateUsers:async(t,e)=>{const r=await fetch("/api/admin/users/bulk-update",{method:"POST",headers:mn(),body:JSON.stringify({ids:t,data:e})});if(!r.ok)throw new Error("Falha ao atualizar utilizadores em massa");return r.json()},getUserActivity:async t=>{const e=await fetch(`/api/admin/users/${t}/activity`,{headers:mn()});if(!e.ok)throw new Error("Falha ao carregar atividade do utilizador");return e.json()},impersonateUser:async t=>{const e=await fetch(`/api/admin/users/impersonate/${t}`,{method:"POST",headers:mn()});if(!e.ok)throw new Error("Falha ao iniciar impersonate");return e.json()},getRealtimeStats:async()=>{const t=await fetch("/api/admin/realtime",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar estatsticas em tempo real");return t.json()},getEngagementMetrics:async()=>{const t=await fetch("/api/admin/engagement",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar mtricas de engajamento");return t.json()},getGrowthStats:async()=>{const t=await fetch("/api/admin/growth",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar mtricas de crescimento");return t.json()},getUsageHistory:async()=>{const t=await fetch("/api/admin/usage",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar histrico de uso");return t.json()},getInfraStats:async()=>{const t=await fetch("/api/admin/infra",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar mtricas de infraestrutura");return t.json()},getCompanies:async()=>{const t=await fetch("/api/admin/companies",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar empresas");return t.json()},updateCompany:async(t,e)=>{const r=await fetch(`/api/admin/companies/${t}`,{method:"PATCH",headers:{...mn(),"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw new Error("Falha ao atualizar empresa");return r.json()},sendHeartbeat:async t=>{const e=await fetch("/api/auth/heartbeat",{method:"POST",headers:mn(),body:JSON.stringify(t)});if(!e.ok)throw new Error("Falha ao enviar heartbeat");return e.json()},getCreditPackages:async()=>{const t=await fetch("/api/admin/billing/packages",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar pacotes de crditos");return t.json()},createCreditPackage:async t=>{const e=await fetch("/api/admin/billing/packages",{method:"POST",headers:mn(),body:JSON.stringify(t)});if(!e.ok)throw new Error("Falha ao criar pacote de crditos");return e.json()},updateCreditPackage:async(t,e)=>{const r=await fetch(`/api/admin/billing/packages/${t}`,{method:"PUT",headers:mn(),body:JSON.stringify(e)});if(!r.ok)throw new Error("Falha ao atualizar pacote de crditos");return r.json()},deleteCreditPackage:async t=>{const e=await fetch(`/api/admin/billing/packages/${t}`,{method:"DELETE",headers:mn()});if(!e.ok)throw new Error("Falha ao deletar pacote de crditos");return e.json()},getOperationalCosts:async()=>{const t=await fetch("/api/admin/billing/costs",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar custos operacionais");return t.json()},setOperationalCost:async t=>{const e=await fetch("/api/admin/billing/costs",{method:"POST",headers:mn(),body:JSON.stringify(t)});if(!e.ok)throw new Error("Falha ao definir custo operacional");return e.json()},getCompanyProfitability:async()=>{const t=await fetch("/api/admin/billing/profitability",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar rentabilidade de empresas");return t.json()},getCreditConsumptionTrends:async()=>{const t=await fetch("/api/admin/billing/consumption-trends",{headers:mn()});if(!t.ok)throw new Error("Falha ao carregar tendncias de consumo");return t.json()},getMonthlySnapshot:async t=>{const e=await fetch(`/api/admin/billing/snapshot/${t}`,{headers:mn()});if(!e.ok)throw new Error("Falha ao carregar snapshot mensal");return e.json()},generateMonthlySnapshot:async()=>{const t=await fetch("/api/admin/billing/snapshot/generate",{method:"POST",headers:mn()});if(!t.ok)throw new Error("Falha ao gerar snapshot mensal");return t.json()},getPendingPayments:async()=>{const t=await fetch("/api/admin/payments/pending",{headers:mn()});if(!t.ok)throw new Error("Falha ao buscar pagamentos pendentes");return t.json()},approvePayment:async t=>{const e=await fetch(`/api/admin/payments/${t}/approve`,{method:"POST",headers:mn()});if(!e.ok)throw new Error("Falha ao aprovar pagamento");return e.json()},rejectPayment:async(t,e)=>{const r=await fetch(`/api/admin/payments/${t}/reject`,{method:"POST",headers:mn(),body:JSON.stringify({reason:e})});if(!r.ok)throw new Error("Falha ao rejeitar pagamento");return r.json()}},F$e=({onViewLogs:t})=>{const[e,r]=C.useState([]),[n,a]=C.useState([]),[i,s]=C.useState([]),[o,l]=C.useState([]),[u,h]=C.useState([]),[f,m]=C.useState(null),[g,b]=C.useState(!0);return C.useEffect(()=>{const y=async()=>{try{const A=await Promise.allSettled([_n.getStats(),_n.getActivity(),_n.getHealth(),_n.getAlerts(),_n.getBillingStats(),_n.getRealtimeStats(),_n.getEngagementMetrics(),_n.getGrowthStats(),_n.getUsageHistory(),_n.getInfraStats()]),S=A[0].status==="fulfilled"?A[0].value:{total_users:0,total_collaborators:0,total_companies:0,active_credits:0,consumed_credits:0,top_plan:"---",total_audits:0},N=A[1].status==="fulfilled"?A[1].value:[],T=A[2].status==="fulfilled"?A[2].value:[],k=A[3].status==="fulfilled"?A[3].value:null,R=A[4].status==="fulfilled"?A[4].value:{mrr:0,pending_payments:0,credits_sold:0,consumed_credits:0},O=A[5].status==="fulfilled"?A[5].value:{online_now:0,active_sessions:0},U=A[6].status==="fulfilled"?A[6].value:{avg_session_minutes:0,total_sessions_today:0},H=A[7].status==="fulfilled"?A[7].value:[],G=A[8].status==="fulfilled"?A[8].value:[],F=A[9].status==="fulfilled"?A[9].value:{uptime_pct:"---",latency_ms:"---",server_load:"---",db_size:"---",db_connections:0};A.forEach((L,re)=>{L.status==="rejected"&&console.error(`Admin request ${re} failed:`,L.reason)}),r([{label:"Receita Mensal (MRR)",value:`Kz ${parseFloat(R.mrr||0).toLocaleString()}`,change:"+15%",icon:ry,color:"emerald",subText:`${parseFloat(R.pending_payments||0).toLocaleString()} Kz pendentes`},{label:"Utilizadores Online",value:(O.online_now||0).toLocaleString(),change:(O.online_now||0)>5?"+Live":"Estvel",icon:gy,color:"blue",subText:`${(O.active_sessions||0).toLocaleString()} sesses ativas`},{label:"Tempo Mdio (Sesso)",value:`${U.avg_session_minutes||0} min`,change:"+4%",icon:$s,color:"purple",subText:`${(U.total_sessions_today||0).toLocaleString()} hoje`},{label:"Crditos Pagos (Ms)",value:(R.credits_sold||0).toLocaleString(),change:"+8%",icon:ia,color:"amber",subText:`${(R.consumed_credits||0).toLocaleString()} consumidos`},{label:"Total de Utilizadores",value:(S.total_users||0).toLocaleString(),change:"Crescente",icon:yy,color:"blue",subText:`${(S.total_collaborators||0).toLocaleString()} colaboradores`},{label:"Total de Empresas",value:(S.total_companies||0).toLocaleString(),change:"Estvel",icon:Wa,color:"emerald",subText:"Tenants Ativos"},{label:"Crditos em Carteira",value:(S.active_credits||0).toLocaleString(),change:"Disponvel",icon:Nm,color:"amber",subText:"Total Global"},{label:"Crditos Consumidos",value:(S.consumed_credits||0).toLocaleString(),change:"Uso total",icon:Lx,color:"purple",subText:"Auditados"},{label:"Plano Dominante",value:S.top_plan||"---",change:"Popular",icon:rI,color:"blue",subText:"Maioria dos Tenants"},{label:"Total de Auditorias",value:(S.total_audits||0).toLocaleString(),change:"Acumulado",icon:ia,color:"purple",subText:"Processos IA"},{label:"Estabilidade Infra",value:F.uptime_pct||"---",change:F.latency_ms||"---",icon:Y8,color:"emerald",subText:`Carga CPU: ${F.server_load||"---"}`},{label:"Banco de Dados",value:F.db_size||"---",change:"Saudvel",icon:D_,color:"blue",subText:`${F.db_connections||0} conexes ativas`}]),a(N),s(T),m(k),l(H),h(G)}catch(A){console.error("Fatal error loading admin dashboard:",A)}finally{b(!1)}};y();const w=setInterval(y,3e4);return()=>clearInterval(w)},[]),g?c.jsx("div",{className:"flex h-[60vh] items-center justify-center",children:c.jsx(ji,{className:"w-10 h-10 text-amber-500 animate-spin"})}):c.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((y,w)=>c.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-3xl p-6 hover:border-amber-500/20 transition-all group relative overflow-hidden",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[c.jsx("div",{className:"p-3 rounded-2xl bg-white/5 text-amber-500 group-hover:scale-110 transition-transform",children:c.jsx(y.icon,{className:"w-6 h-6"})}),c.jsxs("div",{className:`flex items-center gap-1 text-[10px] font-bold ${y.change.startsWith("+")?"text-emerald-500":y.change==="Estvel"?"text-slate-500":"text-red-500"}`,children:[y.change,y.change.startsWith("+")?c.jsx(hE,{className:"w-3 h-3"}):y.change!=="Estvel"&&c.jsx(B8,{className:"w-3 h-3"})]})]}),c.jsxs("div",{className:"relative z-10",children:[c.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-wider mb-1",children:y.label}),c.jsx("h3",{className:"text-3xl font-black text-white leading-none",children:y.value}),c.jsxs("p",{className:"text-[10px] text-slate-400 mt-3 font-semibold flex items-center gap-1.5 uppercase tracking-wide",children:[c.jsx($s,{className:"w-3 h-3 opacity-50"}),y.subText]})]}),c.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-white/5"}),c.jsx("div",{className:`absolute bottom-0 left-0 h-1 bg-${y.color==="emerald"?"emerald":y.color==="purple"?"purple":y.color==="blue"?"blue":"amber"}-500 w-1/3 opacity-30`})]},w))}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"xl:col-span-2 space-y-8",children:[c.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-3xl p-6 shadow-2xl relative overflow-hidden group",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8 relative z-10",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[c.jsx(vk,{className:"w-5 h-5 text-amber-500"}),"Crescimento da Plataforma"]}),c.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest mt-1",children:"Utilizadores e Empresas (ltimos 7 dias)"})]}),c.jsxs("button",{onClick:t,className:"px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-white hover:bg-white/10 transition-all flex items-center gap-2",children:[c.jsx($s,{className:"w-3 h-3"}),"Ver Auditoria"]})]}),c.jsx("div",{className:"flex items-end justify-between gap-2 h-48 mb-4",children:o.map((y,w)=>c.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group/bar",children:[c.jsxs("div",{className:"w-full flex gap-1 items-end justify-center h-full",children:[c.jsx("div",{className:"w-2 md:w-4 bg-purple-500/40 rounded-t-sm group-hover/bar:bg-purple-500 transition-all",style:{height:`${Math.max(10,y.users_total/(Math.max(...o.map(A=>A.users_total))||1)*100)}%`}}),c.jsx("div",{className:"w-1 md:w-2 bg-amber-500/40 rounded-t-sm group-hover/bar:bg-amber-500 transition-all",style:{height:`${Math.max(5,y.companies_total/(Math.max(...o.map(A=>A.companies_total))||1)*100)}%`}})]}),c.jsx("span",{className:"text-[9px] font-bold text-slate-600 uppercase tabular-nums",children:new Date(y.date).toLocaleDateString("pt-AO",{weekday:"short"})})]},w))}),c.jsxs("div",{className:"flex items-center gap-6 pt-6 border-t border-white/5 relative z-10",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-purple-500"}),c.jsx("span",{className:"text-[10px] font-bold text-slate-300 uppercase tracking-widest",children:"Utilizadores"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-amber-500"}),c.jsx("span",{className:"text-[10px] font-bold text-slate-300 uppercase tracking-widest",children:"Empresas"})]})]})]}),c.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-3xl p-6 shadow-2xl relative overflow-hidden group",children:[c.jsx("div",{className:"flex justify-between items-center mb-8 relative z-10",children:c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[c.jsx(ia,{className:"w-5 h-5 text-purple-500"}),"Processamento Faturix AI"]}),c.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest mt-1",children:"Volume de Auditorias (Volume Semanal)"})]})}),c.jsx("div",{className:"flex items-end justify-between gap-1 h-32 mb-4",children:u.map((y,w)=>c.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group/bar",children:[c.jsx("div",{className:"w-full bg-gradient-to-t from-emerald-500/10 to-emerald-500/40 rounded-t-lg group-hover/bar:from-emerald-500/30 group-hover/bar:to-emerald-500 transition-all relative overflow-hidden",style:{height:`${Math.max(10,y.audits_count/(Math.max(...u.map(A=>A.audits_count))||1)*100)}%`},children:c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-white/20"})}),c.jsx("span",{className:"text-[9px] font-bold text-slate-600 uppercase tabular-nums",children:new Date(y.date).toLocaleDateString("pt-AO",{day:"2-digit",month:"short"})})]},w))})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-3xl p-6 shadow-2xl shadow-black/20",children:[c.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(gy,{className:"w-5 h-5 text-amber-500"}),"Estado dos Servios"]}),c.jsx("div",{className:"space-y-4",children:i.map((y,w)=>c.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-white/[0.02] border border-white/5 hover:border-amber-500/20 transition-all hover:translate-x-1 group",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-xl bg-white/5 group-hover:bg-white/10 transition-colors",children:y.name.includes("AI")?c.jsx(ia,{className:`w-4 h-4 ${y.color}`}):y.name.includes("Aut")?c.jsx(ki,{className:`w-4 h-4 ${y.color}`}):y.name.includes("DB")||y.name.includes("Dados")?c.jsx(D_,{className:`w-4 h-4 ${y.color}`}):c.jsx($s,{className:`w-4 h-4 ${y.color}`})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs font-bold text-slate-300 tracking-wide",children:y.name}),c.jsx("span",{className:"text-[9px] text-slate-500 uppercase font-black",children:"LATENCY: 42MS"})]})]}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${y.status==="ONLINE"?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]":"bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.5)]"} mb-1`}),c.jsx("span",{className:`text-[9px] font-black uppercase tracking-wider ${y.color}`,children:y.status})]})]},w))})]}),f&&c.jsxs("div",{className:"bg-gradient-to-br from-amber-500/10 via-amber-500/[0.05] to-purple-500/10 border border-amber-500/20 rounded-3xl p-6 shadow-2xl shadow-amber-950/20 relative group overflow-hidden",children:[c.jsx("div",{className:"absolute -right-8 -bottom-8 w-32 h-32 bg-amber-500/10 rounded-full blur-3xl group-hover:scale-125 transition-transform duration-700"}),c.jsxs("div",{className:"flex items-center gap-3 mb-4 relative z-10",children:[c.jsx("div",{className:"p-2 bg-amber-500/20 rounded-xl",children:c.jsx(Ys,{className:"w-5 h-5 text-amber-400"})}),c.jsx("h3",{className:"text-xs font-bold text-white uppercase tracking-[0.2em]",children:"Alerta de Governana"})]}),c.jsx("p",{className:"text-xs text-slate-400 leading-relaxed mb-6 font-medium relative z-10",children:f.message}),c.jsx("button",{className:"w-full py-4 bg-amber-500 hover:bg-amber-400 text-black text-[10px] font-black uppercase tracking-[0.2em] rounded-2xl transition-all shadow-xl shadow-amber-500/20 hover:shadow-amber-500/40 hover:-translate-y-0.5 active:translate-y-0 relative z-10",children:"Revisar Pendncias"})]})]})]})]})},B$e=()=>{const[t,e]=C.useState(""),[r,n]=C.useState([]),[a,i]=C.useState(!0),[s,o]=C.useState(null),l=async()=>{try{const g=await _n.getCompanies();n(g)}catch(g){console.error("Error loading companies:",g)}finally{i(!1)}};gu.useEffect(()=>{l()},[]);const u=async(g,b)=>{try{await _n.updateCompany(g,{creditsAdjustment:b}),l()}catch(y){console.error("Error adjusting credits:",y)}},h=async(g,b)=>{try{const y=b==="ACTIVE"?"SUSPENDED":"ACTIVE";await _n.updateCompany(g,{status:y}),l()}catch(y){console.error("Error toggling status:",y)}},f=g=>{const b={ENTERPRISE:"bg-purple-500/10 text-purple-400 border-purple-500/20",PRO:"bg-amber-500/10 text-amber-400 border-amber-500/20",FREE:"bg-slate-500/10 text-slate-400 border-slate-500/20"};return c.jsx("span",{className:`text-[10px] font-black px-2 py-0.5 rounded border ${b[g]||b.FREE}`,children:g})},m=[{label:"Total de Empresas",value:r.length,icon:Wa,color:"blue",change:"Estvel",subText:"Ecossistema Kwikdocs"},{label:"Empresas Ativas",value:r.filter(g=>g.status==="ACTIVE").length,icon:ki,color:"emerald",change:`+${r.filter(g=>g.status==="ACTIVE").length}`,subText:"Operao Normal"},{label:"Empresas Suspensas",value:r.filter(g=>g.status!=="ACTIVE").length,icon:vy,color:"red",change:r.filter(g=>g.status!=="ACTIVE").length>0?`-${r.filter(g=>g.status!=="ACTIVE").length}`:"0",subText:"Requer Ateno"},{label:"Saldo Global Crditos",value:r.reduce((g,b)=>g+(b.credits||0),0).toLocaleString(),icon:ia,color:"amber",change:"Live",subText:"Crditos Circulantes"}];return c.jsxs("div",{className:"space-y-6 relative pb-20",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map((g,b)=>c.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-3xl p-6 hover:border-amber-500/20 transition-all group relative overflow-hidden",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[c.jsx("div",{className:`p-3 rounded-2xl bg-white/5 text-${g.color==="emerald"?"emerald":g.color==="red"?"red":g.color==="blue"?"blue":"amber"}-500 group-hover:scale-110 transition-transform`,children:c.jsx(g.icon,{className:"w-6 h-6"})}),c.jsxs("div",{className:`flex items-center gap-1 text-[10px] font-bold ${g.color==="emerald"?"text-emerald-500":g.color==="red"?"text-red-500":"text-slate-500"}`,children:[g.change,g.color==="emerald"&&c.jsx(hE,{className:"w-3 h-3"})]})]}),c.jsxs("div",{className:"relative z-10",children:[c.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-wider mb-1",children:g.label}),c.jsx("h3",{className:"text-3xl font-black text-white leading-none",children:g.value}),c.jsxs("p",{className:"text-[10px] text-slate-400 mt-3 font-semibold flex items-center gap-1.5 uppercase tracking-wide",children:[c.jsx($s,{className:"w-3 h-3 opacity-50"}),g.subText]})]}),c.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-white/5"}),c.jsx("div",{className:`absolute bottom-0 left-0 h-1 bg-${g.color==="emerald"?"emerald":g.color==="red"?"red":g.color==="blue"?"blue":"amber"}-500 w-1/3 opacity-30`})]},b))}),c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 bg-white/5 border border-white/5 p-4 rounded-3xl",children:[c.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[c.jsxs("div",{className:"relative flex-1 max-w-md",children:[c.jsx(yu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),c.jsx("input",{type:"text",placeholder:"Procurar por nome, NIF ou ID...",className:"w-full bg-black/40 border border-white/5 rounded-xl py-2 pl-10 pr-4 text-sm text-white placeholder-slate-600 focus:border-amber-500/50 outline-none transition-all",value:t,onChange:g=>e(g.target.value)})]}),c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white/5 border border-white/5 rounded-xl text-xs font-bold text-slate-400 hover:text-white transition-all",children:[c.jsx(H8,{className:"w-4 h-4"}),"Filtros"]})]}),c.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 bg-amber-500 hover:bg-amber-400 text-black text-xs font-black uppercase tracking-widest rounded-xl transition-all shadow-lg shadow-amber-500/20",children:[c.jsx(p2,{className:"w-4 h-4"}),"Novo Tenant"]})]}),c.jsx("div",{className:"bg-white/5 border border-white/5 rounded-3xl overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest border-b border-white/5 bg-white/[0.02]",children:[c.jsx("th",{className:"px-6 py-4",children:"Empresa / NIF"}),c.jsx("th",{className:"px-6 py-4",children:"Plano Atual"}),c.jsx("th",{className:"px-6 py-4",children:"Saldo de Crditos"}),c.jsx("th",{className:"px-6 py-4",children:"Estado"}),c.jsx("th",{className:"px-6 py-4",children:"ltima Atividade"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Aes"})]})}),c.jsx("tbody",{className:"divide-y divide-white/5",children:r.map(g=>c.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-slate-800 to-slate-900 border border-white/5 flex items-center justify-center group-hover:border-amber-500/30 transition-all",children:c.jsx(Wa,{className:"w-5 h-5 text-amber-500"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-sm font-bold text-white flex items-center gap-1.5",children:[g.name,g.credits>5e3&&c.jsx(D$,{className:"w-3.5 h-3.5 text-amber-500"})]}),c.jsx("div",{className:"text-[10px] text-slate-500 font-mono tracking-wider uppercase",children:g.nif})]})]})}),c.jsx("td",{className:"px-6 py-5",children:f(g.plan)}),c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ia,{className:`w-3.5 h-3.5 ${g.credits<100?"text-red-500":"text-amber-500"}`}),c.jsx("span",{className:"text-sm font-bold text-slate-200",children:g.credits.toLocaleString()})]})}),c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${g.status==="ACTIVE"?"bg-emerald-500":"bg-red-500"}`}),c.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${g.status==="ACTIVE"?"text-emerald-500":"text-red-500"}`,children:g.status==="ACTIVE"?"Ativo":"Suspenso"})]})}),c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[c.jsx(mk,{className:"w-3.5 h-3.5 opacity-50"}),g.lastActive]})}),c.jsx("td",{className:"px-6 py-5 text-right",children:c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx("button",{onClick:()=>u(g.id,100),className:"p-2 hover:bg-white/5 rounded-lg text-amber-500 hover:scale-110 transition-all",title:"Adicionar +100 Crditos",children:c.jsx(ia,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>h(g.id,g.status),className:`p-2 hover:bg-white/5 rounded-lg ${g.status==="ACTIVE"?"text-red-500 hover:text-red-400":"text-emerald-500 hover:text-emerald-400"} transition-all`,title:g.status==="ACTIVE"?"Suspender":"Reativar",children:c.jsx(vy,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>o(g),className:"p-2 hover:bg-white/5 rounded-lg text-slate-500 hover:text-white transition-all",title:"Ver Detalhes",children:c.jsx(V8,{className:"w-4 h-4"})})]})})]},g.id))})]})})}),s&&c.jsxs("div",{className:"fixed inset-y-0 right-0 w-96 bg-[#0a0a0a] border-l border-white/5 shadow-2xl z-50 animate-in slide-in-from-right duration-300 p-8 flex flex-col gap-8",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h3",{className:"text-xl font-black text-white",children:"Detalhes Empresa"}),c.jsx("button",{onClick:()=>o(null),className:"text-slate-500 hover:text-white",children:"Fecha"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/5",children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Informao Base"}),c.jsx("h4",{className:"text-lg font-bold text-white mb-1",children:s.name}),c.jsx("p",{className:"text-xs text-slate-400 font-mono",children:s.nif})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/5",children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Colaboradores"}),c.jsx("h4",{className:"text-xl font-black text-white",children:s.user_count})]}),c.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/5",children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Plano Atual"}),c.jsx("h4",{className:"text-sm font-black text-amber-500 uppercase",children:s.plan_name||"FREE"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Aes Administrativas"}),c.jsxs("button",{className:"w-full py-3 bg-white/5 border border-white/5 rounded-xl text-xs font-bold text-white hover:bg-white/10 transition-all flex items-center justify-center gap-2",children:[c.jsx(ia,{className:"w-4 h-4 text-amber-500"})," Transferncia de Crditos"]}),c.jsxs("button",{className:"w-full py-3 bg-white/5 border border-white/5 rounded-xl text-xs font-bold text-white hover:bg-white/10 transition-all flex items-center justify-center gap-2",children:[c.jsx(D$,{className:"w-4 h-4 text-purple-500"})," Upgrade de Plano"]}),c.jsx("button",{className:"w-full py-3 bg-red-500/10 border border-red-500/20 rounded-xl text-xs font-bold text-red-500 hover:bg-red-500/20 transition-all flex items-center justify-center gap-2",children:"Terminar Contrato (Delete)"})]})]})]})]})},U$e=()=>{var U,H;const[t,e]=C.useState(""),[r,n]=C.useState([]),[a,i]=C.useState(!0),[s,o]=C.useState(!1),[l,u]=C.useState(null),[h,f]=C.useState([]),[m,g]=C.useState([]),b=async()=>{try{i(!0);const G=await _n.getUsers();n(G)}catch(G){console.error("Error loading users:",G)}finally{i(!1)}};C.useEffect(()=>{b()},[]);const y=async G=>{G.preventDefault();const F=new FormData(G.target),L=parseInt(F.get("limit"));try{await _n.setUserLimit(l.id,L),o(!1),b()}catch{alert("Erro ao atualizar limite")}},w=async(G,F)=>{try{await _n.updateUserStatus(G,!F),b()}catch(L){console.error("Error toggling user status:",L)}},A=async G=>{if(confirm(`Deseja enviar link de recuperao de senha para ${G}?`))try{alert("Link de recuperao enviado com sucesso.")}catch(F){console.error("Error resetting password:",F)}},S=async G=>{if(confirm("Aviso: Ao impersonar, entrar na sesso deste utilizador. Deseja continuar?"))try{const F=await _n.impersonateUser(G);F.success&&alert(`Em modo de impersonao como: ${F.user.name}. A redirecionar...`)}catch(F){console.error("Impersonate error:",F)}},N=async G=>{if(h.length)try{if(G==="activate"&&await _n.bulkUpdateUsers(h,{is_active:!0}),G==="suspend"&&await _n.bulkUpdateUsers(h,{is_active:!1}),G==="credits"){const F=prompt("Deseja adicionar quantos crditos a cada selecionado?");F&&await _n.bulkUpdateUsers(h,{creditsAdjustment:parseInt(F)})}f([]),b()}catch(F){console.error("Bulk action error:",F)}},T=async(G,F)=>{try{await _n.updateUserRole(G,F),b(),(l==null?void 0:l.id)===G&&u({...l,role:F})}catch(L){console.error("Role change error:",L)}};C.useEffect(()=>{l?_n.getUserActivity(l.id).then(g).catch(console.error):g([])},[l]);const k=G=>{const F={SUPER_ADMIN:"text-amber-400 bg-amber-500/10 border-amber-500/20",ACCOUNTANT:"text-purple-400 bg-purple-500/10 border-purple-500/20",CLIENT_ADMIN:"text-blue-400 bg-blue-500/10 border-blue-500/20",OPERATOR:"text-slate-400 bg-white/5 border-white/10"};return c.jsx("span",{className:`text-[9px] font-black px-2 py-0.5 rounded border uppercase tracking-tighter ${F[G]||F.OPERATOR}`,children:(G==null?void 0:G.replace("_"," "))||"USER"})},R=r.filter(G=>{var F,L,re;return((F=G.name)==null?void 0:F.toLowerCase().includes(t.toLowerCase()))||((L=G.email)==null?void 0:L.toLowerCase().includes(t.toLowerCase()))||((re=G.company_name)==null?void 0:re.toLowerCase().includes(t.toLowerCase()))}),O=[{label:"Total Utilizadores",value:r.length,icon:zfe,color:"purple",change:"Live",subText:"Registados no sistema"},{label:"Utilizadores Online",value:r.filter(G=>Date.now()-new Date(G.last_seen_at).getTime()<300*1e3).length,icon:$s,color:"emerald",change:`+${r.filter(G=>Date.now()-new Date(G.last_seen_at).getTime()<300*1e3).length}`,subText:"Ativos agora"},{label:"Acesso Mobile",value:r.filter(G=>{var F;return(F=G.last_user_agent)==null?void 0:F.toLowerCase().includes("mobile")}).length,icon:X8,color:"blue",change:"Estvel",subText:"Dispositivos mveis"},{label:"Consumo Global",value:r.reduce((G,F)=>G+(F.current_month_consumption||0),0),icon:ia,color:"amber",change:"Ms Atual",subText:"Crditos utilizados"}];return a&&!r.length?c.jsx("div",{className:"flex h-[60vh] items-center justify-center",children:c.jsx(ji,{className:"w-10 h-10 text-purple-500 animate-spin"})}):c.jsxs("div",{className:"space-y-6 relative pb-20",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:O.map((G,F)=>c.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-3xl p-6 hover:border-purple-500/20 transition-all group relative overflow-hidden",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[c.jsx("div",{className:`p-3 rounded-2xl bg-white/5 text-${G.color==="emerald"?"emerald":G.color==="blue"?"blue":G.color==="amber"?"amber":"purple"}-500 group-hover:scale-110 transition-transform`,children:c.jsx(G.icon,{className:"w-6 h-6"})}),c.jsxs("div",{className:`flex items-center gap-1 text-[10px] font-bold ${G.color==="emerald"?"text-emerald-500":"text-slate-500"}`,children:[G.change,G.color==="emerald"&&c.jsx(hE,{className:"w-3 h-3"})]})]}),c.jsxs("div",{className:"relative z-10",children:[c.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-wider mb-1",children:G.label}),c.jsx("h3",{className:"text-3xl font-black text-white leading-none",children:G.value}),c.jsxs("p",{className:"text-[10px] text-slate-400 mt-3 font-semibold flex items-center gap-1.5 uppercase tracking-wide",children:[c.jsx($s,{className:"w-3 h-3 opacity-50"}),G.subText]})]}),c.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-white/5"}),c.jsx("div",{className:`absolute bottom-0 left-0 h-1 bg-${G.color==="emerald"?"emerald":G.color==="blue"?"blue":G.color==="amber"?"amber":"purple"}-500 w-1/3 opacity-30`})]},F))}),c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 bg-white/5 border border-white/5 p-4 rounded-3xl",children:[c.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[c.jsxs("div",{className:"relative flex-1 max-w-md",children:[c.jsx(yu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),c.jsx("input",{type:"text",placeholder:"Nome, e-mail ou empresa...",className:"w-full bg-black/40 border border-white/5 rounded-xl py-2.5 pl-10 pr-4 text-sm text-white placeholder-slate-600 focus:border-purple-500/50 outline-none transition-all",value:t,onChange:G=>e(G.target.value)})]}),h.length>0?c.jsxs("div",{className:"flex items-center gap-2 animate-in slide-in-from-left duration-300",children:[c.jsxs("span",{className:"text-[10px] font-black text-purple-500 bg-purple-500/10 px-3 py-2 rounded-xl border border-purple-500/20 uppercase tracking-widest leading-none",children:[h.length," Selecionados"]}),c.jsx("div",{className:"h-8 w-px bg-white/10 mx-1"}),c.jsx("button",{onClick:()=>N("activate"),className:"p-2.5 bg-white/5 hover:bg-emerald-500/20 text-emerald-500 rounded-xl transition-all",title:"Ativar Selecionados",children:c.jsx(Ns,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>N("suspend"),className:"p-2.5 bg-white/5 hover:bg-red-500/20 text-red-500 rounded-xl transition-all",title:"Suspender Selecionados",children:c.jsx(ty,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>N("credits"),className:"p-2.5 bg-white/5 hover:bg-amber-500/20 text-amber-500 rounded-xl transition-all",title:"Add Crditos Em Massa",children:c.jsx(ia,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>f([]),className:"p-2.5 text-slate-500 hover:text-white transition-all text-[10px] font-black uppercase tracking-widest",children:"Cancelar"})]}):c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-white/5 border border-white/5 rounded-xl text-xs font-bold text-slate-400 hover:text-white transition-all shadow-sm",children:[c.jsx(H8,{className:"w-4 h-4"}),"Avanado"]})]}),c.jsxs("button",{className:"flex items-center gap-2 px-6 py-2.5 bg-purple-600 hover:bg-purple-500 text-white text-xs font-black uppercase tracking-widest rounded-xl transition-all shadow-lg shadow-purple-600/20 active:scale-95",children:[c.jsx(NJ,{className:"w-4 h-4"}),"Novo Convite"]})]}),c.jsx("div",{className:"bg-white/5 border border-white/5 rounded-3xl overflow-hidden shadow-2xl shadow-black/20",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest border-b border-white/5 bg-white/[0.02]",children:[c.jsx("th",{className:"px-6 py-4 w-10",children:c.jsx("input",{type:"checkbox",checked:h.length===R.length&&R.length>0,onChange:G=>{G.target.checked?f(R.map(F=>F.id)):f([])},className:"w-4 h-4 rounded border-white/10 bg-white/5 text-purple-600 focus:ring-purple-500"})}),c.jsx("th",{className:"px-6 py-4",children:"Utilizador"}),c.jsx("th",{className:"px-6 py-4",children:"Papel"}),c.jsx("th",{className:"px-6 py-4",children:"Empresa (Tenant)"}),c.jsx("th",{className:"px-6 py-4",children:"Crditos / Consumo"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4",children:"ltima Atividade"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Aes"})]})}),c.jsx("tbody",{className:"divide-y divide-white/5",children:R.map(G=>{var Z,pe;const F=G.last_seen_at?new Date(G.last_seen_at).getTime():0,L=Date.now()-F<300*1e3,re=Q=>{if(!Q)return"Nunca";const X=Math.floor((Date.now()-new Date(Q).getTime())/1e3);if(X<60)return"Agora mesmo";const oe=Math.floor(X/60);if(oe<60)return`H ${oe} min`;const ce=Math.floor(oe/60);return ce<24?`H ${ce} horas`:new Date(Q).toLocaleDateString("pt-AO")};return c.jsxs("tr",{className:`hover:bg-white/[0.02] transition-all group ${h.includes(G.id)?"bg-purple-500/5":""}`,children:[c.jsx("td",{className:"px-6 py-5",children:c.jsx("input",{type:"checkbox",checked:h.includes(G.id),onChange:Q=>{Q.target.checked?f([...h,G.id]):f(h.filter(X=>X!==G.id))},className:"w-4 h-4 rounded border-white/10 bg-white/5 text-purple-600 focus:ring-purple-500"})}),c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-white/5 flex items-center justify-center text-slate-300 font-black group-hover:border-purple-500/40 transition-all text-sm",children:((Z=G.name)==null?void 0:Z.charAt(0))||"U"}),L&&c.jsx("div",{className:"absolute -bottom-1 -right-1 w-3.5 h-3.5 bg-emerald-500 border-2 border-[#0c0c0c] rounded-full shadow-[0_0_8px_rgba(16,185,129,0.5)]"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-bold text-white leading-tight",children:G.name}),c.jsxs("div",{className:"text-[10px] text-slate-500 flex items-center gap-1 mt-0.5 font-medium",children:[c.jsx(d_,{className:"w-3 h-3"}),G.email]})]})]})}),c.jsx("td",{className:"px-6 py-5",children:k(G.role)}),c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"flex flex-col gap-0.5",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-slate-200",children:[c.jsx(Wa,{className:"w-3.5 h-3.5 text-slate-500"}),G.company_name||"Individual"]}),c.jsxs("span",{className:"text-[9px] text-slate-500 font-bold ml-5 uppercase",children:["ID: ",(pe=G.company_id)==null?void 0:pe.substring(0,8)]})]})}),c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold",children:[c.jsxs("span",{className:"text-slate-400",children:["LIMITE: ",G.monthly_credit_limit||""]}),c.jsxs("span",{className:`${(G.current_month_consumption||0)>(G.monthly_credit_limit||1/0)?"text-red-500":"text-emerald-500"}`,children:[G.current_month_consumption||0," CONSUMIDO"]})]}),c.jsx("div",{className:"w-24 h-1 bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-purple-500 transition-all duration-700",style:{width:`${Math.min((G.current_month_consumption||0)/(G.monthly_credit_limit||100)*100,100)}%`}})})]})}),c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${G.is_active!==!1?"bg-emerald-500":"bg-red-500"}`}),c.jsx("span",{className:`text-[10px] font-black uppercase tracking-wider ${G.is_active!==!1?"text-emerald-500":"text-red-500"}`,children:G.is_active!==!1?"Ativo":"Inativo"})]})}),c.jsx("td",{className:"px-6 py-5",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:`text-[10px] font-black uppercase tracking-wider ${L?"text-emerald-500 animate-pulse":"text-slate-500"}`,children:L?"Online":"Offline"}),c.jsx("span",{className:"text-[9px] text-slate-600 font-bold mt-0.5",children:re(G.last_seen_at)})]})}),c.jsx("td",{className:"px-6 py-5 text-right",children:c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx("button",{onClick:()=>{u(G),o(!0)},className:"p-2 hover:bg-white/5 rounded-lg text-amber-500 hover:scale-110 transition-all",title:"Gerir Crditos",children:c.jsx(ia,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>w(G.id,G.is_active!==!1),className:`p-2 hover:bg-white/5 rounded-lg ${G.is_active!==!1?"text-red-500 hover:text-red-400":"text-emerald-500 hover:text-emerald-400"} transition-all`,title:G.is_active!==!1?"Suspender Conta":"Reativar Conta",children:c.jsx(vy,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>u(G),className:"p-2 hover:bg-white/5 rounded-lg text-slate-500 hover:text-white transition-all",title:"Ver Perfil Detalhado",children:c.jsx(V8,{className:"w-4 h-4"})})]})})]},G.id)})})]})})}),l&&!s&&c.jsxs("div",{className:"fixed inset-y-0 right-0 w-96 bg-[#0a0a0a] border-l border-white/5 shadow-2xl z-50 animate-in slide-in-from-right duration-300 p-8 flex flex-col gap-8",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h3",{className:"text-xl font-black text-white",children:"Perfil do Utilizador"}),c.jsx("button",{onClick:()=>u(null),className:"text-slate-500 hover:text-white",children:"Fecha"})]}),c.jsxs("div",{className:"space-y-6 overflow-y-auto pr-2 custom-scrollbar",children:[c.jsxs("div",{className:"flex flex-col items-center text-center p-6 bg-white/5 rounded-[2rem] border border-white/5 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-purple-500 to-blue-500 opacity-50"}),c.jsx("div",{className:"w-20 h-20 rounded-3xl bg-white/5 flex items-center justify-center text-3xl font-black text-white mb-4 border border-white/10 shadow-2xl",children:(U=l.name)==null?void 0:U.charAt(0)}),c.jsx("h4",{className:"text-lg font-bold text-white mb-1",children:l.name}),c.jsx("p",{className:"text-xs text-slate-500 mb-4",children:l.email}),k(l.role)]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/5",children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Empresa"}),c.jsx("h4",{className:"text-xs font-bold text-white truncate",children:l.company_name||"Individual"})]}),c.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/5",children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-1",children:"ltimo Login"}),c.jsx("h4",{className:"text-xs font-bold text-slate-300",children:l.last_login?new Date(l.last_login).toLocaleDateString():"Nunca"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 px-1 flex items-center justify-between",children:["Auditoria de Atividade",c.jsx("span",{className:"text-slate-600 lowercase font-normal italic",children:"ltimas 10 aes"})]}),c.jsx("div",{className:"space-y-3",children:m.length>0?m.map((G,F)=>c.jsxs("div",{className:"flex gap-3 animate-in fade-in duration-500",style:{animationDelay:`${F*100}ms`},children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-white/5 border border-white/10 flex items-center justify-center",children:c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500"})}),F<m.length-1&&c.jsx("div",{className:"w-px flex-1 bg-white/5 my-1"})]}),c.jsxs("div",{className:"flex-1 pb-4",children:[c.jsx("h5",{className:"text-[11px] font-bold text-white uppercase tracking-tight leading-none",children:G.title.replace("_"," ")}),c.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:new Date(G.time).toLocaleString()})]})]},F)):c.jsxs("div",{className:"p-8 text-center bg-white/[0.02] rounded-3xl border border-dashed border-white/5",children:[c.jsx(wJ,{className:"w-8 h-8 text-slate-700 mx-auto mb-2 opacity-20"}),c.jsx("p",{className:"text-[10px] font-bold text-slate-600 uppercase",children:"Sem registos recentes"})]})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 px-1",children:"Segurana & Controlo"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("button",{onClick:()=>S(l.id),className:"p-4 bg-emerald-500/10 border border-emerald-500/20 rounded-2xl text-[10px] font-black text-emerald-500 hover:bg-emerald-500/20 transition-all flex flex-col items-center gap-2",children:[c.jsx(ape,{className:"w-5 h-5"})," Impersonate"]}),c.jsxs("button",{onClick:()=>A(l.email),className:"p-4 bg-white/5 border border-white/5 rounded-2xl text-[10px] font-black text-white hover:bg-white/10 transition-all flex flex-col items-center gap-2",children:[c.jsx(q8,{className:"w-5 h-5 text-amber-500"})," Reset Password"]})]}),c.jsxs("div",{className:"p-4 bg-white/5 border border-white/5 rounded-2xl space-y-3",children:[c.jsxs("p",{className:"text-[9px] font-bold text-slate-600 uppercase tracking-widest flex items-center gap-1",children:[c.jsx(xk,{className:"w-3 h-3"})," Alterar Cargo Operacional"]}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:["OPERATOR","CLIENT_ADMIN","ACCOUNTANT","SUPER_ADMIN"].map(G=>c.jsx("button",{onClick:()=>T(l.id,G),className:`py-2 rounded-lg text-[9px] font-black border transition-all ${l.role===G?"bg-purple-600 border-purple-500 text-white":"bg-white/5 border-white/5 text-slate-500 hover:text-white"}`,children:G.replace("_"," ")},G))})]}),c.jsxs("button",{onClick:()=>{o(!0)},className:"w-full py-3.5 bg-white/5 border border-white/5 rounded-2xl text-xs font-bold text-white hover:bg-white/10 transition-all flex items-center justify-center gap-2",children:[c.jsx(ia,{className:"w-4 h-4 text-purple-500"})," Ajustar Limites de Crdito"]}),c.jsxs("button",{className:"w-full py-3.5 bg-red-500/10 border border-red-500/20 rounded-2xl text-xs font-bold text-red-500 hover:bg-red-500/20 transition-all flex items-center justify-center gap-2",children:[c.jsx(pE,{className:"w-4 h-4"})," Forar Terminar Sesso"]})]}),c.jsxs("div",{className:"p-4 bg-white/[0.02] rounded-2xl border border-white/5 space-y-3",children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-600 uppercase tracking-widest",children:"Informao Tcnica"}),c.jsxs("div",{className:"flex justify-between items-center text-[10px] font-medium",children:[c.jsx("span",{className:"text-slate-500",children:"ID INTERNO:"}),c.jsxs("span",{className:"font-mono text-slate-400",children:[(H=l.id)==null?void 0:H.substring(0,16),"..."]})]}),c.jsxs("div",{className:"flex justify-between items-center text-[10px] font-medium",children:[c.jsx("span",{className:"text-slate-500",children:"DEVICE:"}),c.jsx("span",{className:"text-slate-400 truncate max-w-[150px]",children:l.last_user_agent||"Desconhecido"})]})]})]})]}),s&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in zoom-in duration-300",children:c.jsxs("div",{className:"bg-[#0c0c0c] border border-white/10 w-full max-w-sm rounded-[2rem] p-8 relative shadow-2xl overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/5 rounded-full blur-3xl -mr-16 -mt-16"}),c.jsxs("div",{className:"flex items-center gap-4 mb-6 relative z-10",children:[c.jsx("div",{className:"p-3 bg-purple-500/20 rounded-2xl",children:c.jsx(ia,{className:"w-6 h-6 text-purple-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-black text-white uppercase tracking-wider",children:"Limite de Crdito"}),c.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase",children:l==null?void 0:l.name})]})]}),c.jsxs("form",{onSubmit:y,className:"space-y-6 relative z-10",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase px-1",children:"Limite Mensal (Crditos)"}),c.jsx("input",{name:"limit",type:"number",defaultValue:(l==null?void 0:l.monthly_credit_limit)||100,required:!0,className:"w-full bg-white/5 border border-white/10 rounded-[1.25rem] px-5 py-4 text-white text-sm outline-none focus:border-purple-500/50 transition-all",placeholder:"Ex: 500"}),c.jsx("p",{className:"text-[9px] text-slate-600 italic px-1",children:"Se definido como zero ou vazio, o sistema usar o padro do plano."})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 py-4 bg-white/5 border border-white/10 text-white text-[10px] font-black uppercase tracking-[0.2em] rounded-2xl hover:bg-white/10 transition-all",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"flex-1 py-4 bg-purple-600 text-white text-[10px] font-black uppercase tracking-[0.2em] rounded-2xl hover:bg-purple-500 transition-all shadow-xl shadow-purple-600/20",children:"Atualizar"})]})]})]})})]})},z$e=()=>{const[t,e]=C.useState("overview"),[r,n]=C.useState([]),[a,i]=C.useState([]),[s,o]=C.useState([]),[l,u]=C.useState([]),[h,f]=C.useState([]),[m,g]=C.useState([]),[b,y]=C.useState([]),[w,A]=C.useState([]),[S,N]=C.useState(null),[T,k]=C.useState(!0),[R,O]=C.useState(!1),[U,H]=C.useState(!1),[G,F]=C.useState(!1),[L,re]=C.useState(null),Z=async()=>{try{k(!0);const[X,oe,ce,Ne,ne,B,V,Y,K]=await Promise.all([_n.getBillingStats(),_n.getTransactions(10),_n.getPlans(),_n.getAllPlans(),_n.getCreditPackages(),_n.getOperationalCosts(),_n.getCompanyProfitability(),_n.getSettings(),_n.getBillingInsights()]);n([{label:"Receita Mensal (MRR)",value:`Kz ${parseFloat(X.mrr).toLocaleString()}`,change:"+15%",icon:ry,color:"emerald"},{label:"Depsitos Pendentes",value:`Kz ${parseFloat(X.pending_payments).toLocaleString()}`,change:`${X.pending_count} Qtd`,icon:Lx,color:"amber"},{label:"Pagamentos Processados",value:`${X.processed_count} Qtd`,change:"Total",icon:Ns,color:"blue"},{label:"Utilizadores Ativos",value:X.active_users.toString(),change:"+12%",icon:yy,color:"purple"},{label:"Crditos Analisados",value:X.consumed_credits.toLocaleString(),change:"+8%",icon:ia,color:"blue"}]),i(oe),o(ce),u(Ne),f(ne),g(B),y(V),A(Y),N(K)}catch(X){console.error("Error loading billing dashboard:",X)}finally{k(!1)}};C.useEffect(()=>{Z();const X=setInterval(Z,6e4);return()=>clearInterval(X)},[]);const pe=async X=>{X.preventDefault();const oe=new FormData(X.target),ce={name:oe.get("name"),price:parseFloat(oe.get("price")),included_credits:parseInt(oe.get("included_credits")),user_limit:parseInt(oe.get("user_limit")),analysis_cost:parseInt(oe.get("analysis_cost")),color:oe.get("color"),is_active:oe.get("is_active")==="true"};try{L?await _n.updatePlan(L.id,ce):await _n.createPlan(ce),O(!1),re(null),Z()}catch{alert("Erro ao salvar plano")}},Q=async(X,oe)=>{try{await _n.updateSetting(X,oe,"Configurao do sistema"),Z()}catch{alert("Erro ao atualizar configurao")}};return T&&!r.length?c.jsx("div",{className:"flex h-[60vh] items-center justify-center",children:c.jsx(ji,{className:"w-10 h-10 text-emerald-500 animate-spin"})}):c.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[c.jsx("div",{className:"flex items-center gap-1 p-1 bg-white/5 border border-white/5 rounded-2xl w-fit overflow-x-auto",children:[{id:"overview",label:"Viso Geral",icon:vk},{id:"plans",label:"Planos",icon:rI},{id:"packages",label:"Pacotes",icon:R$},{id:"costs",label:"Custos",icon:ry},{id:"profitability",label:"Rentabilidade",icon:nI},{id:"settings",label:"Definies",icon:xy}].map(X=>c.jsxs("button",{onClick:()=>e(X.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl text-xs font-bold transition-all whitespace-nowrap ${t===X.id?"bg-emerald-500 text-black shadow-lg shadow-emerald-500/20":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[c.jsx(X.icon,{className:"w-4 h-4"}),X.label]},X.id))}),t==="overview"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((X,oe)=>c.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-3xl p-6 group hover:border-emerald-500/20 transition-all",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:`p-3 rounded-2xl bg-white/5 text-${X.color}-500 group-hover:scale-110 transition-transform`,children:c.jsx(X.icon,{className:"w-6 h-6"})}),c.jsx("div",{className:`flex items-center gap-1 text-[10px] font-bold ${X.change.startsWith("+")?"text-emerald-500":"text-amber-500"}`,children:X.change})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-wider mb-1",children:X.label}),c.jsx("h3",{className:"text-2xl font-black text-white leading-tight",children:X.value})]})]},oe))}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"xl:col-span-2 bg-white/5 border border-white/5 rounded-3xl overflow-hidden shadow-2xl",children:[c.jsxs("div",{className:"p-6 border-b border-white/5 flex justify-between items-center",children:[c.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[c.jsx(Lx,{className:"w-5 h-5 text-emerald-500"}),"Fluxo de Caixa & Transaes"]}),c.jsx("button",{className:"p-2 bg-white/5 rounded-lg text-slate-400 hover:text-white transition-colors",children:c.jsx(py,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest border-b border-white/5 bg-white/[0.02]",children:[c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4",children:"Empresa"}),c.jsx("th",{className:"px-6 py-4",children:"Tipo"}),c.jsx("th",{className:"px-6 py-4",children:"Valor"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Data"})]})}),c.jsx("tbody",{className:"divide-y divide-white/5",children:a.map(X=>c.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`text-[9px] font-black px-2 py-1 rounded-lg ${X.status==="COMPLETED"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-amber-500/10 text-amber-400 border border-amber-500/20"}`,children:X.status})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:"text-sm font-bold text-slate-200",children:X.company})}),c.jsx("td",{className:"px-6 py-4 text-[10px] font-medium text-slate-300",children:X.type==="TOPUP"?c.jsx("span",{className:"text-blue-400",children:"RECARGA"}):c.jsx("span",{className:"text-purple-400",children:"PLANO"})}),c.jsx("td",{className:"px-6 py-4 text-sm font-black text-white",children:X.value}),c.jsx("td",{className:"px-6 py-4 text-right text-[11px] text-slate-500 font-mono tracking-tighter",children:new Date(X.date).toLocaleDateString("pt-AO")})]},X.id))})]})})]}),c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-3xl p-6 shadow-2xl",children:[c.jsxs("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(pk,{className:"w-5 h-5 text-purple-500"}),"Penetrao de Planos"]}),c.jsx("div",{className:"space-y-6",children:s.map((X,oe)=>c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-end",children:[c.jsx("span",{className:"text-[11px] font-bold text-slate-300 uppercase tracking-widest",children:X.name}),c.jsx("span",{className:"text-[10px] font-bold text-slate-500",children:X.count})]}),c.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:`h-full ${X.color} rounded-full transition-all duration-1000 shadow-[0_0_10px_rgba(0,0,0,0.5)]`,style:{width:`${X.percentage}%`}})})]},oe))})]})})]})]}),t==="plans"&&c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-3xl p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("h3",{className:"text-xl font-bold text-white",children:"Catlogo de Ofertas Disponveis"}),c.jsxs("button",{onClick:()=>{re(null),O(!0)},className:"flex items-center gap-2 px-4 py-2 bg-emerald-500 hover:bg-emerald-400 text-black text-xs font-black uppercase tracking-wider rounded-xl transition-all shadow-lg shadow-emerald-500/20",children:[c.jsx(p2,{className:"w-4 h-4"})," Novo Plano"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(X=>c.jsxs("div",{className:`bg-white/5 border ${X.is_active?"border-white/5":"border-red-500/20 opacity-60"} rounded-3xl p-6 hover:translate-y-[-4px] transition-all`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsx("div",{className:`w-12 h-12 rounded-2xl ${X.color} flex items-center justify-center text-black`,children:c.jsx(rI,{className:"w-6 h-6"})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{re(X),O(!0)},className:"p-2 bg-white/5 rounded-lg text-slate-400 hover:text-amber-500 transition-colors",children:c.jsx(Ape,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>_n.deletePlan(X.id).then(Z),className:"p-2 bg-white/5 rounded-lg text-slate-400 hover:text-red-500 transition-colors",children:c.jsx(Sm,{className:"w-4 h-4"})})]})]}),c.jsx("h4",{className:"text-lg font-black text-white uppercase tracking-wider mb-1",children:X.name}),c.jsxs("p",{className:"text-2xl font-black text-emerald-500 mb-6",children:["Kz ",parseFloat(X.price).toLocaleString(),c.jsx("span",{className:"text-[10px] text-slate-500 font-bold ml-1",children:"/MS"})]}),c.jsxs("div",{className:"space-y-4 mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between text-[11px] font-bold text-slate-400",children:[c.jsx("span",{children:"CRDITOS INCLUSOS"}),c.jsx("span",{className:"text-white",children:X.included_credits})]}),c.jsxs("div",{className:"flex items-center justify-between text-[11px] font-bold text-slate-400",children:[c.jsx("span",{children:"UTILIZADORES"}),c.jsx("span",{className:"text-white",children:X.user_limit})]}),c.jsxs("div",{className:"flex items-center justify-between text-[11px] font-bold text-slate-400",children:[c.jsx("span",{children:"CUSTO / ANLISE"}),c.jsxs("span",{className:"text-white",children:[X.analysis_cost," CRD."]})]})]}),c.jsx("div",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-500 mt-auto",children:X.is_active?c.jsxs(c.Fragment,{children:[c.jsx(Ns,{className:"w-4 h-4 text-emerald-500"})," Ativo para Venda"]}):c.jsxs(c.Fragment,{children:[c.jsx(ty,{className:"w-4 h-4 text-red-500"})," Desativado"]})})]},X.id))})]})}),t==="settings"&&c.jsxs("div",{className:"max-w-4xl space-y-8",children:[c.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-3xl p-8",children:[c.jsxs("h3",{className:"text-xl font-bold text-white mb-8 flex items-center gap-2",children:[c.jsx(xy,{className:"w-6 h-6 text-emerald-500"}),"Configuraes Globais do Ecossistema"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:w.map(X=>c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"flex flex-col",children:[c.jsx("label",{className:"text-[11px] font-black text-slate-500 uppercase tracking-[0.2em] mb-2",children:X.key.replace(/_/g," ")}),c.jsx("div",{className:"flex gap-2",children:c.jsx("input",{type:"text",defaultValue:X.value,className:"bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-emerald-500/50 transition-all flex-1",onBlur:oe=>Q(X.key,oe.target.value)})}),c.jsx("p",{className:"text-[10px] text-slate-500 mt-2 italic",children:X.description})]})},X.key))})]}),c.jsx("div",{className:"bg-gradient-to-br from-amber-500/5 to-emerald-500/5 border border-white/5 rounded-3xl p-8",children:c.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[c.jsx("div",{className:"p-3 bg-amber-500/20 rounded-2xl",children:c.jsx($s,{className:"w-6 h-6 text-amber-500"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-black text-white uppercase tracking-wider",children:"Ateno Especial"}),c.jsx("p",{className:"text-xs text-slate-500",children:"Qualquer mudana nestas definies afeta todos os utilizadores do sistema em tempo real."})]})]})})]}),t==="packages"&&c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-3xl p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[c.jsx(R$,{className:"w-6 h-6 text-blue-500"}),"Pacotes de Crditos Avulsos"]}),c.jsxs("button",{onClick:()=>H(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-400 text-black text-xs font-black uppercase tracking-wider rounded-xl transition-all shadow-lg shadow-blue-500/20",children:[c.jsx(p2,{className:"w-4 h-4"})," Novo Pacote"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map(X=>c.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-3xl p-6 hover:translate-y-[-4px] transition-all",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("div",{className:`w-12 h-12 rounded-2xl ${X.color} flex items-center justify-center text-black`,children:c.jsx(Nm,{className:"w-6 h-6"})}),c.jsx("button",{className:"p-2 bg-white/5 rounded-lg text-slate-400 hover:text-red-500 transition-colors",children:c.jsx(Sm,{className:"w-4 h-4"})})]}),c.jsx("h4",{className:"text-lg font-black text-white uppercase tracking-wider mb-1",children:X.name}),c.jsxs("p",{className:"text-2xl font-black text-blue-500 mb-2",children:["Kz ",parseFloat(X.price).toLocaleString()]}),c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsxs("div",{className:"flex items-center justify-between text-[11px] font-bold text-slate-400",children:[c.jsx("span",{children:"CRDITOS BASE"}),c.jsx("span",{className:"text-white",children:X.credits})]}),X.bonus_credits>0&&c.jsxs("div",{className:"flex items-center justify-between text-[11px] font-bold text-emerald-400",children:[c.jsx("span",{children:"BNUS"}),c.jsxs("span",{children:["+",X.bonus_credits]})]}),c.jsxs("div",{className:"flex items-center justify-between text-[11px] font-bold text-slate-400",children:[c.jsx("span",{children:"TOTAL"}),c.jsx("span",{className:"text-emerald-500",children:X.credits+X.bonus_credits})]})]})]},X.id))})]})}),t==="costs"&&c.jsx("div",{className:"max-w-4xl space-y-6",children:c.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-3xl p-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[c.jsx(ry,{className:"w-6 h-6 text-amber-500"}),"Custos Operacionais"]}),c.jsxs("button",{onClick:()=>F(!0),className:"flex items-center gap-2 px-4 py-2 bg-amber-500 hover:bg-amber-400 text-black text-xs font-black uppercase tracking-wider rounded-xl transition-all shadow-lg shadow-amber-500/20",children:[c.jsx(p2,{className:"w-4 h-4"})," Atualizar Custo"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest border-b border-white/5 bg-white/[0.02]",children:[c.jsx("th",{className:"px-6 py-4",children:"Recurso"}),c.jsx("th",{className:"px-6 py-4",children:"Custo por Unidade"}),c.jsx("th",{className:"px-6 py-4",children:"Unidade"}),c.jsx("th",{className:"px-6 py-4",children:"Efetivo Desde"}),c.jsx("th",{className:"px-6 py-4",children:"Notas"})]})}),c.jsx("tbody",{className:"divide-y divide-white/5",children:m.map(X=>c.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:"text-sm font-bold text-white",children:X.resource_type.replace("_"," ")})}),c.jsxs("td",{className:"px-6 py-4 text-sm font-black text-emerald-500",children:["Kz ",parseFloat(X.cost_per_unit).toFixed(6)]}),c.jsx("td",{className:"px-6 py-4 text-xs text-slate-400",children:X.unit_name}),c.jsx("td",{className:"px-6 py-4 text-xs text-slate-500 font-mono",children:new Date(X.effective_from).toLocaleDateString("pt-AO")}),c.jsx("td",{className:"px-6 py-4 text-xs text-slate-500 italic",children:X.notes||"-"})]},X.id))})]})})]})}),t==="profitability"&&c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-3xl p-8",children:[c.jsxs("h3",{className:"text-xl font-bold text-white mb-8 flex items-center gap-2",children:[c.jsx(nI,{className:"w-6 h-6 text-purple-500"}),"Rentabilidade por Empresa (ltimos 30 dias)"]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest border-b border-white/5 bg-white/[0.02]",children:[c.jsx("th",{className:"px-6 py-4",children:"Empresa"}),c.jsx("th",{className:"px-6 py-4",children:"Plano"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Anlises"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Crditos"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Custo Op."}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Margem"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Lucro Lquido"})]})}),c.jsx("tbody",{className:"divide-y divide-white/5",children:b.map(X=>c.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:"text-sm font-bold text-white",children:X.name})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:"text-xs font-bold text-slate-400",children:X.plan_name||"FREE"})}),c.jsx("td",{className:"px-6 py-4 text-right text-sm text-slate-300",children:X.total_analyses}),c.jsx("td",{className:"px-6 py-4 text-right text-sm text-blue-400",children:X.total_credits_consumed}),c.jsxs("td",{className:"px-6 py-4 text-right text-sm text-red-400",children:["Kz ",parseFloat(X.total_operational_cost||0).toFixed(2)]}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("span",{className:`text-sm font-bold ${X.avg_margin_percentage>60?"text-emerald-500":X.avg_margin_percentage>30?"text-amber-500":"text-red-500"}`,children:[parseFloat(X.avg_margin_percentage||0).toFixed(1),"%"]})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("span",{className:`text-sm font-black ${X.net_profit>0?"text-emerald-500":"text-red-500"}`,children:["Kz ",parseFloat(X.net_profit||0).toLocaleString()]})})]},X.id))})]})})]})}),R&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in zoom-in duration-300",children:c.jsxs("div",{className:"bg-[#0c0c0c] border border-white/10 w-full max-w-lg rounded-[2.5rem] p-10 relative shadow-2xl overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full blur-3xl -mr-16 -mt-16"}),c.jsx("h3",{className:"text-2xl font-black text-white mb-8",children:"Configurar Plano SaaS"}),c.jsxs("form",{onSubmit:pe,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{className:"col-span-2",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase mb-2 block",children:"Nome do Plano"}),c.jsx("input",{name:"name",defaultValue:L==null?void 0:L.name,required:!0,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-5 py-4 text-white text-sm outline-none focus:border-emerald-500/50"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase mb-2 block",children:"Preo (Kz/Ms)"}),c.jsx("input",{name:"price",type:"number",defaultValue:L==null?void 0:L.price,required:!0,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-5 py-4 text-white text-sm outline-none focus:border-emerald-500/50"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase mb-2 block",children:"Custo por Anlise"}),c.jsx("input",{name:"analysis_cost",type:"number",defaultValue:(L==null?void 0:L.analysis_cost)||1,required:!0,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-5 py-4 text-white text-sm outline-none focus:border-emerald-500/50"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase mb-2 block",children:"Crditos Inclusos"}),c.jsx("input",{name:"included_credits",type:"number",defaultValue:L==null?void 0:L.included_credits,required:!0,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-5 py-4 text-white text-sm outline-none focus:border-emerald-500/50"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase mb-2 block",children:"Limite Utilizadores"}),c.jsx("input",{name:"user_limit",type:"number",defaultValue:L==null?void 0:L.user_limit,required:!0,className:"w-full bg-white/5 border border-white/10 rounded-2xl px-5 py-4 text-white text-sm outline-none focus:border-emerald-500/50"})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase mb-2 block",children:"Cor do Badge"}),c.jsxs("select",{name:"color",defaultValue:(L==null?void 0:L.color)||"bg-slate-500",className:"w-full bg-white/5 border border-white/10 rounded-2xl px-5 py-4 text-white text-sm outline-none focus:border-emerald-500/50",children:[c.jsx("option",{value:"bg-slate-500",children:"Cinza (Default)"}),c.jsx("option",{value:"bg-blue-500",children:"Azul (Starter)"}),c.jsx("option",{value:"bg-amber-500",children:"Laranja (Pro)"}),c.jsx("option",{value:"bg-emerald-500",children:"Verde (Business)"}),c.jsx("option",{value:"bg-purple-500",children:"Roxo (Enterprise)"})]})]})]}),c.jsxs("div",{className:"flex gap-4 mt-10",children:[c.jsx("button",{type:"button",onClick:()=>O(!1),className:"flex-1 py-4 bg-white/5 border border-white/10 text-white text-xs font-black uppercase tracking-widest rounded-2xl hover:bg-white/10 transition-all",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"flex-1 py-4 bg-emerald-500 text-black text-xs font-black uppercase tracking-widest rounded-2xl hover:bg-emerald-400 transition-all shadow-xl shadow-emerald-500/20",children:"Salvar Plano"})]})]})]})})]})};let $$e={data:""},V$e=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||$$e},H$e=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,q$e=/\/\*[^]*?\*\/|  +/g,WX=/\n+/g,Rg=(t,e)=>{let r="",n="",a="";for(let i in t){let s=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+s+";":n+=i[1]=="f"?Rg(s,i):i+"{"+Rg(s,i[1]=="k"?"":e)+"}":typeof s=="object"?n+=Rg(s,e?e.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Rg.p?Rg.p(i,s):i+":"+s+";")}return r+(e&&a?e+"{"+a+"}":a)+n},vp={},aue=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+aue(t[r]);return e}return t},G$e=(t,e,r,n,a)=>{let i=aue(t),s=vp[i]||(vp[i]=(l=>{let u=0,h=11;for(;u<l.length;)h=101*h+l.charCodeAt(u++)>>>0;return"go"+h})(i));if(!vp[s]){let l=i!==t?t:(u=>{let h,f,m=[{}];for(;h=H$e.exec(u.replace(q$e,""));)h[4]?m.shift():h[3]?(f=h[3].replace(WX," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][h[1]]=h[2].replace(WX," ").trim();return m[0]})(t);vp[s]=Rg(a?{["@keyframes "+s]:l}:l,r?"":"."+s)}let o=r&&vp.g?vp.g:null;return r&&(vp.g=vp[s]),((l,u,h,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=h?l+u.data:u.data+l)})(vp[s],e,n,o),s},W$e=(t,e,r)=>t.reduce((n,a,i)=>{let s=e[i];if(s&&s.call){let o=s(r),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=l?"."+l:o&&typeof o=="object"?o.props?"":Rg(o,""):o===!1?"":o}return n+a+(s??"")},"");function qP(t){let e=this||{},r=t.call?t(e.p):t;return G$e(r.unshift?r.raw?W$e(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,V$e(e.target),e.g,e.o,e.k)}let iue,P8,O8;qP.bind({g:1});let Lm=qP.bind({k:1});function K$e(t,e,r,n){Rg.p=e,iue=t,P8=r,O8=n}function rv(t,e){let r=this||{};return function(){let n=arguments;function a(i,s){let o=Object.assign({},i),l=o.className||a.className;r.p=Object.assign({theme:P8&&P8()},o),r.o=/ *go\d+/.test(l),o.className=qP.apply(r,n)+(l?" "+l:"");let u=t;return t[0]&&(u=o.as||t,delete o.as),O8&&u[0]&&O8(o),iue(u,o)}return a}}var Y$e=t=>typeof t=="function",D8=(t,e)=>Y$e(t)?t(e):t,X$e=(()=>{let t=0;return()=>(++t).toString()})(),J$e=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Z$e=20,sue="default",oue=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return oue(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=e;return{...t,toasts:t.toasts.map(s=>s.id===a||a===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Q$e=[],eVe={toasts:[],pausedAt:void 0,settings:{toastLimit:Z$e}},T2={},lue=(t,e=sue)=>{T2[e]=oue(T2[e]||eVe,t),Q$e.forEach(([r,n])=>{r===e&&n(T2[e])})},cue=t=>Object.keys(T2).forEach(e=>lue(t,e)),tVe=t=>Object.keys(T2).find(e=>T2[e].toasts.some(r=>r.id===t)),W9=(t=sue)=>e=>{lue(e,t)},rVe=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||X$e()}),c4=t=>(e,r)=>{let n=rVe(e,t,r);return W9(n.toasterId||tVe(n.id))({type:2,toast:n}),n.id},wa=(t,e)=>c4("blank")(t,e);wa.error=c4("error");wa.success=c4("success");wa.loading=c4("loading");wa.custom=c4("custom");wa.dismiss=(t,e)=>{let r={type:3,toastId:t};e?W9(e)(r):cue(r)};wa.dismissAll=t=>wa.dismiss(void 0,t);wa.remove=(t,e)=>{let r={type:4,toastId:t};e?W9(e)(r):cue(r)};wa.removeAll=t=>wa.remove(void 0,t);wa.promise=(t,e,r)=>{let n=wa.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let i=e.success?D8(e.success,a):void 0;return i?wa.success(i,{id:n,...r,...r==null?void 0:r.success}):wa.dismiss(n),a}).catch(a=>{let i=e.error?D8(e.error,a):void 0;i?wa.error(i,{id:n,...r,...r==null?void 0:r.error}):wa.dismiss(n)}),t};var nVe=Lm`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,aVe=Lm`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,iVe=Lm`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,sVe=rv("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${nVe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${aVe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${iVe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,oVe=Lm`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,lVe=rv("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${oVe} 1s linear infinite;
`,cVe=Lm`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,uVe=Lm`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,dVe=rv("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cVe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${uVe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,hVe=rv("div")`
  position: absolute;
`,fVe=rv("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,pVe=Lm`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mVe=rv("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${pVe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,gVe=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?C.createElement(mVe,null,e):e:r==="blank"?null:C.createElement(fVe,null,C.createElement(lVe,{...n}),r!=="loading"&&C.createElement(hVe,null,r==="error"?C.createElement(sVe,{...n}):C.createElement(dVe,{...n})))},xVe=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,vVe=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,yVe="0%{opacity:0;} 100%{opacity:1;}",bVe="0%{opacity:1;} 100%{opacity:0;}",wVe=rv("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,AVe=rv("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,_Ve=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=J$e()?[yVe,bVe]:[xVe(r),vVe(r)];return{animation:e?`${Lm(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Lm(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};C.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?_Ve(t.position||e||"top-center",t.visible):{opacity:0},i=C.createElement(gVe,{toast:t}),s=C.createElement(AVe,{...t.ariaProps},D8(t.message,t));return C.createElement(wVe,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:i,message:s}):C.createElement(C.Fragment,null,i,s))});K$e(C.createElement);qP`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const SVe=()=>{const[t,e]=C.useState([]),[r,n]=C.useState(!0),[a,i]=C.useState(null),[s,o]=C.useState(null),[l,u]=C.useState(null),[h,f]=C.useState(""),[m,g]=C.useState(!1);C.useEffect(()=>{b()},[]);const b=async()=>{try{const S=await _n.getPendingPayments();e(S)}catch(S){console.error("Erro ao carregar pagamentos:",S),wa.error("Erro ao carregar pagamentos pendentes")}finally{n(!1)}},y=async()=>{if(s){g(!0);try{await _n.approvePayment(s),wa.success("Pagamento aprovado com sucesso"),o(null),b()}catch(S){console.error(S),wa.error("Erro ao aprovar pagamento")}finally{g(!1)}}},w=async()=>{if(!(!l||!h)){g(!0);try{await _n.rejectPayment(l,h),wa.success("Pagamento rejeitado"),u(null),f(""),b()}catch(S){console.error(S),wa.error("Erro ao rejeitar pagamento")}finally{g(!1)}}},A=S=>S.startsWith("data:application/pdf")?c.jsx("iframe",{src:S,className:"w-full h-[600px] rounded-lg border border-slate-700",title:"Comprovativo PDF"}):c.jsx("img",{src:S,alt:"Comprovativo",className:"max-w-full max-h-[600px] rounded-lg border border-slate-700 mx-auto"});return r?c.jsx("div",{className:"flex items-center justify-center h-96",children:c.jsx(ji,{className:"w-8 h-8 text-amber-500 animate-spin"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Aprovao de Pagamentos"}),c.jsx("p",{className:"text-slate-400",children:"Gerir solicitaes de recarga pendentes"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsx("button",{onClick:()=>b(),className:"p-2 text-slate-400 hover:text-white bg-white/5 rounded-lg transition-colors",children:c.jsx(ji,{className:`w-5 h-5 ${r?"animate-spin":""}`})})})]}),t.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center p-12 border border-dashed border-white/10 rounded-2xl bg-white/5",children:[c.jsx(Ox,{className:"w-12 h-12 text-slate-600 mb-4"}),c.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"Tudo em dia!"}),c.jsx("p",{className:"text-slate-400",children:"No h pagamentos pendentes de aprovao no momento."})]}):c.jsx("div",{className:"grid gap-4",children:t.map(S=>c.jsx("div",{className:"bg-white/5 border border-white/5 rounded-xl p-6 hover:border-amber-500/20 transition-all",children:c.jsxs("div",{className:"flex flex-col lg:flex-row justify-between gap-6",children:[c.jsxs("div",{className:"flex-1 space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-500/10 flex items-center justify-center text-amber-500",children:c.jsx(Lx,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[new Intl.NumberFormat("pt-AO",{style:"currency",currency:"AOA"}).format(S.amount),c.jsxs("span",{className:"text-xs font-normal px-2 py-0.5 rounded-full bg-amber-500/10 text-amber-500 border border-amber-500/20",children:[S.credits," Crditos"]})]}),c.jsx("p",{className:"text-sm text-slate-400",children:S.description})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:"Solicitante"}),c.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[c.jsx(mf,{className:"w-4 h-4 text-amber-500/50"}),c.jsxs("span",{children:[S.user_name," (",S.user_email,")"]})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:"Beneficirio"}),c.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[c.jsx(Wa,{className:"w-4 h-4 text-purple-500/50"}),c.jsx("span",{children:S.company_name||"Conta Pessoal"})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:"Mtodo"}),c.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[c.jsx(Yo,{className:"w-4 h-4 text-blue-500/50"}),c.jsx("span",{children:S.payment_method})]})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:"Data"}),c.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[c.jsx(pk,{className:"w-4 h-4 text-green-500/50"}),c.jsx("span",{children:new Date(S.created_at).toLocaleString()})]})]})]})]}),c.jsxs("div",{className:"flex flex-col gap-3 min-w-[200px] border-l border-white/5 pl-6 lg:justify-center",children:[S.proof_document?c.jsxs("button",{onClick:()=>i(S.proof_document),className:"w-full py-2 px-4 bg-blue-500/10 hover:bg-blue-500/20 text-blue-400 rounded-lg flex items-center justify-center gap-2 transition-colors border border-blue-500/20",children:[c.jsx(my,{className:"w-4 h-4"})," Ver Comprovativo"]}):c.jsxs("div",{className:"w-full py-2 px-4 bg-slate-500/5 text-slate-500 rounded-lg flex items-center justify-center gap-2 border border-slate-500/10 cursor-not-allowed",children:[c.jsx(Ys,{className:"w-4 h-4"})," Sem Comprovativo"]}),c.jsx("div",{className:"h-px bg-white/5 my-1"}),c.jsxs("button",{onClick:()=>o(S.id),disabled:m,className:"w-full py-2 px-4 bg-green-500 hover:bg-green-600 text-white font-medium rounded-lg flex items-center justify-center gap-2 transition-colors shadow-lg shadow-green-900/20 disabled:opacity-50",children:[c.jsx(Ox,{className:"w-4 h-4"})," Aprovar"]}),c.jsxs("button",{onClick:()=>u(S.id),disabled:m,className:"w-full py-2 px-4 bg-red-500/10 hover:bg-red-500/20 text-red-400 font-medium rounded-lg flex items-center justify-center gap-2 transition-colors border border-red-500/20 disabled:opacity-50",children:[c.jsx(ty,{className:"w-4 h-4"})," Rejeitar"]})]})]})},S.id))}),a&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl border border-white/10 w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/5",children:[c.jsx("h3",{className:"text-lg font-bold text-white",children:"Comprovativo de Pagamento"}),c.jsx("button",{onClick:()=>i(null),className:"p-2 text-slate-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:c.jsx(ty,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"p-4 overflow-auto bg-[#0f0f0f] flex-1",children:A(a)}),c.jsx("div",{className:"p-4 border-t border-white/5 flex justifying-end",children:c.jsxs("a",{href:a,download:"comprovativo",className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-2",children:[c.jsx(py,{className:"w-4 h-4"})," Baixar original"]})})]})}),s&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl border border-white/10 w-full max-w-md shadow-2xl p-6 text-center",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/10 flex items-center justify-center text-green-500 mx-auto mb-4",children:c.jsx(Ox,{className:"w-8 h-8"})}),c.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Aprovar Pagamento"}),c.jsx("p",{className:"text-sm text-slate-400 mb-6",children:"Esta ao adicionar os crditos correspondentes  conta do usurio imediatamente. Confirmar?"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>o(null),className:"flex-1 py-2 px-4 bg-white/5 hover:bg-white/10 text-slate-300 font-medium rounded-lg transition-colors border border-white/5",children:"Cancelar"}),c.jsx("button",{onClick:y,disabled:m,className:"flex-1 py-2 px-4 bg-green-500 hover:bg-green-600 text-white font-medium rounded-lg transition-colors shadow-lg shadow-green-900/20 disabled:opacity-50",children:m?c.jsx(ji,{className:"w-4 h-4 animate-spin mx-auto"}):"Sim, Aprovar"})]})]})}),l&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-[#1a1a1a] rounded-2xl border border-white/10 w-full max-w-md shadow-2xl p-6",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/10 flex items-center justify-center text-red-500 mx-auto mb-4",children:c.jsx(ty,{className:"w-8 h-8"})}),c.jsx("h3",{className:"text-xl font-bold text-white mb-2 text-center",children:"Rejeitar Pagamento"}),c.jsx("p",{className:"text-sm text-slate-400 mb-4 text-center",children:"Por favor, informe o motivo da rejeio para que o usurio possa corrigir."}),c.jsx("textarea",{value:h,onChange:S=>f(S.target.value),placeholder:"Motivo da rejeio...",className:"w-full h-32 bg-black/20 border border-white/10 rounded-lg p-3 text-white placeholder-slate-600 focus:outline-none focus:border-amber-500/50 mb-4 resize-none"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>{u(null),f("")},className:"flex-1 py-2 px-4 bg-white/5 hover:bg-white/10 text-slate-300 font-medium rounded-lg transition-colors border border-white/5",children:"Cancelar"}),c.jsx("button",{onClick:w,disabled:!h||m,className:"flex-1 py-2 px-4 bg-red-500 hover:bg-red-600 text-white font-medium rounded-lg transition-colors disabled:opacity-50",children:m?c.jsx(ji,{className:"w-4 h-4 animate-spin mx-auto"}):"Confirmar Rejeio"})]})]})})]})},NVe=()=>{const[t,e]=C.useState(""),[r,n]=C.useState([]),[a,i]=C.useState(!0);gu.useEffect(()=>{const o=async()=>{try{const u=await _n.getActivity();n(u)}catch(u){console.error("Error loading logs:",u)}finally{i(!1)}};o();const l=setInterval(o,3e4);return()=>clearInterval(l)},[]);const s=o=>{const l={CRITICAL:"bg-red-500/10 text-red-500 border-red-500/20",SECURITY:"bg-purple-500/10 text-purple-400 border-purple-500/20",WARNING:"bg-amber-500/10 text-amber-400 border-amber-500/20",INFO:"bg-blue-500/10 text-blue-400 border-blue-500/20"};return c.jsx("span",{className:`text-[8px] font-black px-1.5 py-0.5 rounded border uppercase tracking-widest ${l[o]||l.INFO}`,children:o})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-4 bg-white/5 border border-white/5 p-4 rounded-3xl",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-3 flex-1",children:[c.jsxs("div",{className:"relative flex-1 min-w-[300px] max-w-xl",children:[c.jsx(R_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),c.jsx("input",{type:"text",placeholder:"Filtrar logs por ao, utilizador, alvo ou IP...",className:"w-full bg-black/40 border border-white/5 rounded-xl py-2 pl-10 pr-4 text-sm text-white placeholder-slate-600 focus:border-amber-500/50 outline-none transition-all",value:t,onChange:o=>e(o.target.value)})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white/5 border border-white/5 rounded-xl text-xs font-bold text-slate-400 hover:text-white transition-all",children:[c.jsx(pk,{className:"w-4 h-4"}),"Hoje",c.jsx(Px,{className:"w-3 h-3"})]}),c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white/5 border border-white/5 rounded-xl text-xs font-bold text-slate-400 hover:text-white transition-all",children:[c.jsx(H8,{className:"w-4 h-4"}),"Nvel"]})]})]}),c.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 bg-white/5 border border-white/10 hover:bg-white/10 text-white text-xs font-bold uppercase tracking-widest rounded-xl transition-all",children:[c.jsx(py,{className:"w-4 h-4"}),"Exportar Auditoria"]})]}),c.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-3xl overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-white/5 bg-white/[0.01] flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:[c.jsx($s,{className:"w-3.5 h-3.5"}),"Monitorizao em Tempo Real"]}),c.jsx("div",{className:"flex items-center gap-2 ml-auto",children:c.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-white/5 border border-white/5 rounded-lg text-[10px] font-bold text-slate-400",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),"Stream Ativo"]})})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest border-b border-white/5 bg-white/[0.02]",children:[c.jsx("th",{className:"px-6 py-4",children:"Status / Nvel"}),c.jsx("th",{className:"px-6 py-4",children:"Executor"}),c.jsx("th",{className:"px-6 py-4",children:"Evento (Ao)"}),c.jsx("th",{className:"px-6 py-4",children:"Recurso Alvo"}),c.jsx("th",{className:"px-6 py-4",children:"Endereo IP"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Timestamp"})]})}),c.jsx("tbody",{className:"divide-y divide-white/5 font-mono",children:a?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-20 text-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsx("div",{className:"w-6 h-6 border-2 border-amber-500 border-t-transparent rounded-full animate-spin"}),c.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Sincronizando Auditoria..."})]})})}):r.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-20 text-center",children:c.jsx("span",{className:"text-xs text-slate-600",children:"Nenhum registo de auditoria encontrado."})})}):r.map(o=>c.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"flex items-center gap-3",children:s(o.level||"INFO")})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[o.user==="Sistema"?c.jsx(P0,{className:"w-3.5 h-3.5 text-slate-500"}):c.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),c.jsx("span",{className:"text-xs font-bold text-slate-300",children:o.user})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:"text-[11px] font-bold text-white tracking-tight underline decoration-amber-500/20 underline-offset-4",children:o.action})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("code",{className:"text-[10px] bg-white/5 px-1.5 py-0.5 rounded text-slate-400",children:o.target})}),c.jsx("td",{className:"px-6 py-4 text-[10px] text-slate-600",children:o.ip||"---"}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("div",{className:"flex items-center justify-end gap-2 text-xs text-slate-500 font-sans tabular-nums",children:[c.jsx(mk,{className:"w-3.5 h-3.5 opacity-50"}),new Date(o.time).toLocaleTimeString("pt-AO")]})})]},o.id))})]})}),c.jsx("div",{className:"p-6 bg-black/20 border-t border-white/5",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"p-3 bg-white/5 rounded-2xl",children:c.jsx(vy,{className:"w-6 h-6 text-amber-500"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-xs font-bold text-white uppercase tracking-widest mb-1",children:"Nota de Segurana"}),c.jsx("p",{className:"text-xs text-slate-500 leading-relaxed max-w-3xl",children:"Todos os logs de auditoria so assinados digitalmente e imutveis. O acesso a estes registos  restrito a administradores de nvel Root e  auditado globalmente pelo Compliance Engine da KwikDocs."})]}),c.jsx("button",{className:"px-4 py-2 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-white transition-all",children:"Ver Documentao Legal"})]})})]})]})},EVe=()=>{var l,u,h,f,m,g,b,y,w,A,S,N,T,k,R,O,U,H,G,F,L,re,Z,pe,Q,X,oe,ce,Ne,ne,B,V,Y,K,le,Ae,De,de;const[t,e]=gu.useState(null),[r,n]=gu.useState(!0),[a,i]=gu.useState(""),s=async()=>{try{const Le=localStorage.getItem("auth_token"),Ge=await fetch("/api/admin/infra/health",{headers:{Authorization:`Bearer ${Le}`}});if(!Ge.ok)throw new Error("Falha ao carregar status");const Re=await Ge.json();e(Re),i("")}catch(Le){console.error("Infrastructure check failed:",Le),i("Sistema Offline ou Inacessvel")}finally{n(!1)}};if(gu.useEffect(()=>{s();const Le=setInterval(s,5e3);return()=>clearInterval(Le)},[]),r&&!t)return c.jsx("div",{className:"p-8 text-center text-slate-400 animate-pulse",children:"Carregando mtricas de infraestrutura..."});if(a&&!t)return c.jsxs("div",{className:"p-8 bg-red-500/10 border border-red-500/20 rounded-2xl text-center",children:[c.jsx(wo,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),c.jsx("h3",{className:"text-red-400 font-bold",children:"Erro de Conexo"}),c.jsx("p",{className:"text-sm text-red-300",children:a}),c.jsx("button",{onClick:()=>s(),className:"mt-4 px-4 py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors text-sm font-bold",children:"Tentar Novamente"})]});const o=(Le,Ge=1)=>{if(!Le)return"0 B";const Re=1024,wt=Ge<0?0:Ge,St=["B","KB","MB","GB","TB"],rt=Math.floor(Math.log(Le)/Math.log(Re));return parseFloat((Le/Math.pow(Re,rt)).toFixed(wt))+" "+St[rt]};return c.jsx("div",{className:"space-y-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white/5 border border-white/5 rounded-3xl p-8",children:[c.jsxs("h3",{className:"text-xl font-bold text-white mb-8 flex items-center gap-3",children:[c.jsx(eI,{className:"w-6 h-6 text-amber-500"}),"Cluster de Processamento KwikDocs"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white/5 border border-white/10 p-6 rounded-2xl relative overflow-hidden group",children:[c.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full blur-3xl -mr-16 -mt-16 group-hover:bg-emerald-500/10 transition-all"}),c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-bold text-white mb-1",children:((l=t==null?void 0:t.system)==null?void 0:l.hostname)||"System"}),c.jsx("span",{className:"text-[10px] text-slate-500 font-mono tracking-wider",children:(u=t==null?void 0:t.system)==null?void 0:u.platform})]}),c.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-emerald-500/10 rounded-full border border-emerald-500/20",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),c.jsx("span",{className:"text-[10px] font-black text-emerald-500 uppercase",children:"Online"})]})]}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-[10px] font-bold uppercase tracking-wider text-slate-400",children:[c.jsx("span",{children:"Memory Usage"}),c.jsxs("span",{children:[(f=(h=t==null?void 0:t.system)==null?void 0:h.memory)==null?void 0:f.usagePercentage,"%"]})]}),c.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${((g=(m=t==null?void 0:t.system)==null?void 0:m.memory)==null?void 0:g.usagePercentage)>80?"bg-red-500":"bg-amber-500"}`,style:{width:`${(y=(b=t==null?void 0:t.system)==null?void 0:b.memory)==null?void 0:y.usagePercentage}%`}})}),c.jsxs("div",{className:"flex justify-between text-[10px] text-slate-600 font-mono",children:[c.jsxs("span",{children:["Used: ",o((A=(w=t==null?void 0:t.system)==null?void 0:w.memory)==null?void 0:A.used)]}),c.jsxs("span",{children:["Total: ",o((N=(S=t==null?void 0:t.system)==null?void 0:S.memory)==null?void 0:N.total)]})]})]})})]}),c.jsxs("div",{className:"bg-white/5 border border-white/10 p-6 rounded-2xl relative overflow-hidden group",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-bold text-white mb-1",children:"CPU Load"}),c.jsx("span",{className:"text-[10px] text-slate-500 font-mono tracking-wider",children:(k=(T=t==null?void 0:t.system)==null?void 0:T.cpu)==null?void 0:k.model})]}),c.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-purple-500/10 rounded-full border border-purple-500/20",children:[c.jsx($s,{className:"w-3 h-3 text-purple-500"}),c.jsxs("span",{className:"text-[10px] font-black text-purple-500 uppercase",children:[(O=(R=t==null?void 0:t.system)==null?void 0:R.cpu)==null?void 0:O.count," Cores"]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-[10px] font-bold uppercase tracking-wider text-slate-400",children:[c.jsx("span",{children:"System Load (Avg)"}),c.jsx("span",{children:(H=(U=t==null?void 0:t.system)==null?void 0:U.cpu)!=null&&H.load&&t.system.cpu.load[0]?t.system.cpu.load[0].toFixed(2):"N/A"})]}),c.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:"50%"}})})]}),c.jsxs("div",{className:"mt-4 p-3 bg-black/20 rounded-lg",children:[c.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest mb-1",children:"Uptime"}),c.jsx("p",{className:"text-white font-mono",children:(G=t==null?void 0:t.system)!=null&&G.uptime?(t.system.uptime/3600).toFixed(1)+" hours":"..."})]})]})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-indigo-900/20 to-slate-900/50 border border-white/5 rounded-3xl p-8",children:[c.jsxs("h3",{className:"text-xl font-bold text-white mb-8 flex items-center gap-3",children:[c.jsx(D_,{className:"w-6 h-6 text-blue-400"}),"Base de Dados Real-time"]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsx("span",{className:"text-xs font-bold text-slate-400",children:"Connection Pool"}),c.jsxs("span",{className:"text-xs font-black text-white",children:[((F=t==null?void 0:t.database)==null?void 0:F.poolSize)||0," Total"]})]}),c.jsxs("div",{className:"h-3 bg-black/40 rounded-full overflow-hidden p-0.5 border border-white/5 flex gap-0.5",children:[c.jsx("div",{className:"h-full bg-blue-500 rounded-sm transition-all duration-500",style:{width:`${((re=(L=t==null?void 0:t.database)==null?void 0:L.stats)==null?void 0:re.active)/((Z=t==null?void 0:t.database)==null?void 0:Z.poolSize)*100}%`},title:"Active"}),c.jsx("div",{className:"h-full bg-emerald-500/50 rounded-sm transition-all duration-500",style:{width:`${((Q=(pe=t==null?void 0:t.database)==null?void 0:pe.stats)==null?void 0:Q.idle)/((X=t==null?void 0:t.database)==null?void 0:X.poolSize)*100}%`},title:"Idle"})]}),c.jsxs("div",{className:"flex justify-between mt-1 text-[10px] text-slate-500",children:[c.jsxs("span",{className:"text-blue-400",children:[(ce=(oe=t==null?void 0:t.database)==null?void 0:oe.stats)==null?void 0:ce.active," Active"]}),c.jsxs("span",{className:"text-emerald-500/70",children:[(ne=(Ne=t==null?void 0:t.database)==null?void 0:Ne.stats)==null?void 0:ne.idle," Idle"]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/5",children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1",children:"Waiting Clients"}),c.jsx("p",{className:`text-xl font-black ${((V=(B=t==null?void 0:t.database)==null?void 0:B.stats)==null?void 0:V.waiting)>0?"text-amber-500":"text-white"}`,children:((K=(Y=t==null?void 0:t.database)==null?void 0:Y.stats)==null?void 0:K.waiting)||0})]}),c.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/5",children:[c.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1",children:"AI Agents"}),c.jsx("p",{className:"text-xl font-black text-white",children:((Ae=(le=t==null?void 0:t.services)==null?void 0:le.ai_agents)==null?void 0:Ae.prompts_loaded)||0})]})]}),c.jsxs("div",{className:"p-4 bg-emerald-500/5 border border-emerald-500/20 rounded-2xl flex items-start gap-3",children:[c.jsx(ki,{className:"w-5 h-5 text-emerald-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold text-emerald-500 uppercase tracking-widest mb-1",children:"Health Status"}),c.jsxs("p",{className:"text-xs text-slate-400",children:["Todos os servios e agentes reportam status: ",((de=(De=t==null?void 0:t.services)==null?void 0:De.ai_agents)==null?void 0:de.status)==="active"?"OPERACIONAL":"UNK","."]})]})]})]})]})]})})},TVe=()=>c.jsx("div",{className:"space-y-8",children:c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-3xl p-8 relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-amber-500/5 rounded-full blur-[100px] -mr-32 -mt-32"}),c.jsxs("h3",{className:"text-xl font-bold text-white mb-8 flex items-center gap-3",children:[c.jsx(P0,{className:"w-6 h-6 text-amber-500"}),"Posture de Segurana SaaS"]}),c.jsxs("div",{className:"space-y-6 relative z-10",children:[c.jsxs("div",{className:"p-4 bg-emerald-500/5 border border-emerald-500/20 rounded-2xl flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-xl",children:c.jsx(ki,{className:"w-6 h-6 text-emerald-500"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-bold text-white",children:"Certificao SSL/TLS"}),c.jsx("p",{className:"text-[10px] text-slate-500 italic",children:"Expira em 242 dias"})]})]}),c.jsx("span",{className:"text-[10px] font-black text-emerald-500 uppercase tracking-widest",children:"Ativo"})]}),c.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-2xl flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-2 bg-purple-500/10 rounded-xl",children:c.jsx(tI,{className:"w-6 h-6 text-purple-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-bold text-white",children:"2FA Administrativo (Root)"}),c.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-tighter",children:"Obrigatrio para Super Admins"})]})]}),c.jsx("span",{className:"text-[10px] font-black text-purple-400 uppercase tracking-widest",children:"Configurado"})]}),c.jsxs("div",{className:"pt-4 border-t border-white/5",children:[c.jsx("h4",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-[0.2em] mb-4",children:"Investigao Rpida"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{className:"flex items-center justify-center gap-2 py-3 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-[10px] font-bold text-slate-300 transition-all uppercase tracking-widest",children:[c.jsx(my,{className:"w-3.5 h-3.5"})," Scan de Sesses"]}),c.jsxs("button",{className:"flex items-center justify-center gap-2 py-3 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-[10px] font-bold text-slate-300 transition-all uppercase tracking-widest",children:[c.jsx(vy,{className:"w-3.5 h-3.5"})," Audit Log"]})]})]})]})]}),c.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-3xl p-8",children:[c.jsxs("h3",{className:"text-xl font-bold text-white mb-8 flex items-center gap-3",children:[c.jsx(Ys,{className:"w-6 h-6 text-red-500"}),"Preveno de Ameaas"]}),c.jsx("div",{className:"space-y-4",children:[{title:"DDoS Protection",status:"Habilitado",color:"text-emerald-500"},{title:"WAF (Web App Firewall)",status:"Modo Bloqueio",color:"text-emerald-500"},{title:"Brute Force Detection",status:"Monitorando",color:"text-amber-500"},{title:"SQL Injection Watchpad",status:"Blindado",color:"text-emerald-500"}].map((t,e)=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/20 border border-white/5 rounded-2xl",children:[c.jsx("span",{className:"text-xs font-bold text-slate-300",children:t.title}),c.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${t.color}`,children:t.status})]},e))}),c.jsxs("div",{className:"mt-8 p-4 bg-red-500/5 border border-red-500/20 rounded-2xl",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(EJ,{className:"w-4 h-4 text-red-500"}),c.jsx("span",{className:"text-[10px] font-black text-red-500 uppercase",children:"Aes de Emergncia"})]}),c.jsx("p",{className:"text-xs text-slate-400 mb-4 tracking-tight",children:"Cuidado: Estas aes afetam globalmente o sistema KwikDocs."}),c.jsx("div",{className:"grid grid-cols-1 gap-2",children:c.jsx("button",{className:"w-full py-2 bg-red-600 hover:bg-red-500 text-white text-[10px] font-black uppercase tracking-widest rounded-lg transition-all",children:"Suspender Todos os Tenants (Panic Mode)"})})]})]})]})}),jVe=()=>{const[t,e]=C.useState([]),[r,n]=C.useState(!0),[a,i]=C.useState("ai"),[s,o]=C.useState(null),[l,u]=C.useState({}),[h,f]=C.useState({}),m=[{id:"ai",label:"Inteligncia Artificial",icon:ia},{id:"business",label:"Regras de Negcio",icon:ry},{id:"integrations",label:"Integraes",icon:Y8},{id:"security",label:"Segurana & Infra",icon:xk}];C.useEffect(()=>{g()},[]);const g=async()=>{try{n(!0);const S=await oj.getAll();console.log("[SystemConfig] Dados recebidos:",S),console.log("[SystemConfig] Primeiro item:",S[0]),e(S);const N={};S.forEach(T=>{N[T.key]=T.value}),u(N)}catch(S){console.error(S),wa.error("Erro ao carregar configuraes.")}finally{n(!1)}},b=async S=>{try{o(S);const N=l[S];await oj.update(S,N),wa.success("Configurao atualizada com sucesso!")}catch(N){console.error(N);const T=N.message||"Falha desconhecida ao salvar.";wa.error(`Erro: ${T}`)}finally{o(null)}},y=(S,N)=>{u(T=>({...T,[S]:N}))},w=S=>{f(N=>({...N,[S]:!N[S]}))},A=t.filter(S=>a==="business"?S.group_name==="business"||S.group_name==="general":a==="security"?S.group_name==="security"||S.group_name==="infra":S.group_name===a);return r?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"w-8 h-8 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"})}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-3",children:[c.jsx(xy,{className:"w-6 h-6 text-emerald-500"}),"Configuraes do Sistema"]}),c.jsx("p",{className:"text-slate-400",children:"Gerenciamento centralizado de variveis globais e chaves de API."})]}),c.jsx("div",{className:"flex gap-4 border-b border-white/10 pb-4 overflow-x-auto",children:m.map(S=>c.jsxs("button",{onClick:()=>i(S.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold transition-all whitespace-nowrap
                            ${a===S.id?"bg-emerald-500/10 text-emerald-500 border border-emerald-500/20":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[c.jsx(S.icon,{className:"w-4 h-4"}),S.label]},S.id))}),c.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[A.length===0&&c.jsx("div",{className:"text-center py-12 bg-white/5 rounded-2xl border border-dashed border-white/10 text-slate-500",children:"Nenhuma configurao encontrada para este grupo."}),A.map(S=>c.jsx("div",{className:"bg-white/5 border border-white/5 p-6 rounded-2xl group hover:border-emerald-500/20 transition-all",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-6",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h4",{className:"text-sm font-bold text-white",children:S.key}),S.is_secret&&c.jsxs("span",{className:"px-2 py-0.5 bg-amber-500/10 border border-amber-500/20 text-amber-500 text-[10px] rounded font-bold uppercase tracking-wider flex items-center gap-1",children:[c.jsx(P0,{className:"w-3 h-3"}),"Segredo"]}),c.jsx("span",{className:"px-2 py-0.5 bg-slate-800 text-slate-400 text-[10px] rounded font-mono",children:S.type})]}),c.jsx("p",{className:"text-xs text-slate-400 max-w-xl",children:S.description||"Sem descrio."})]}),c.jsxs("div",{className:"flex items-start gap-4 flex-1 w-full max-w-lg",children:[c.jsx("div",{className:"relative flex-1",children:S.is_secret?c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:h[S.key]?"text":"password",value:l[S.key]||"",onChange:N=>y(S.key,N.target.value),placeholder:S.value?"(Inalterado)":"Digite o novo segredo...",className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-2.5 text-sm text-white focus:outline-none focus:border-emerald-500/50 pr-10 font-mono"}),c.jsx("button",{onClick:()=>w(S.key),className:"absolute right-3 top-2.5 text-slate-500 hover:text-white transition-colors",children:h[S.key]?c.jsx(i0e,{className:"w-4 h-4"}):c.jsx(my,{className:"w-4 h-4"})})]}):S.type==="boolean"?c.jsxs("select",{value:String(l[S.key]),onChange:N=>y(S.key,N.target.value==="true"),className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-2.5 text-sm text-white focus:outline-none focus:border-emerald-500/50",children:[c.jsx("option",{value:"true",children:"Verdadeiro (Ativado)"}),c.jsx("option",{value:"false",children:"Falso (Desativado)"})]}):c.jsx("input",{type:S.type==="number"?"number":"text",value:l[S.key]||"",onChange:N=>y(S.key,S.type==="number"?Number(N.target.value):N.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-2.5 text-sm text-white focus:outline-none focus:border-emerald-500/50"})}),c.jsx("button",{onClick:()=>b(S.key),disabled:s===S.key,className:"p-2.5 bg-emerald-500 text-white rounded-xl hover:bg-emerald-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Salvar Alterao",children:s===S.key?c.jsx(_m,{className:"w-4 h-4 animate-spin"}):c.jsx(W8,{className:"w-4 h-4"})})]})]})},S.key))]})]})},CVe=()=>{const[t,e]=C.useState([]),[r,n]=C.useState(!0),[a,i]=C.useState(null),[s,o]=C.useState(null);C.useEffect(()=>{u()},[]);const l=async f=>{try{await p_.update(f.id,{is_active:!f.is_active}),wa.success(`${f.name} ${f.is_active?"pausado":"ativado"} com sucesso!`),u(),(s==null?void 0:s.id)===f.id&&o({...f,is_active:!f.is_active})}catch{wa.error("Erro ao alterar status do agente.")}},u=async()=>{try{n(!0);const f=await p_.getAll();e(f),f.length>0&&!s&&o(f[0])}catch(f){console.error(f),wa.error("Erro ao carregar agentes.")}finally{n(!1)}},h=async()=>{if(s)try{i(s.id),await p_.update(s.id,{prompt_text:s.prompt_text,model_override:s.model_override,temperature:s.temperature}),wa.success(`${s.name} atualizado com sucesso!`),await u()}catch(f){console.error(f),wa.error("Falha ao salvar agente.")}finally{i(null)}};return r?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"w-8 h-8 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"})}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-3",children:[c.jsx(e5,{className:"w-6 h-6 text-emerald-500"}),"Gesto de Agentes de IA"]}),c.jsx("p",{className:"text-slate-400",children:"Controle total sobre o comportamento, modelos e prompts dos agentes do ecossistema."})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[c.jsxs("div",{className:"lg:col-span-4 space-y-4",children:[c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden",children:[c.jsx("div",{className:"p-4 border-b border-white/10 bg-white/5",children:c.jsx("h3",{className:"text-sm font-bold text-slate-300 uppercase tracking-wider",children:"Agentes Ativos"})}),c.jsx("div",{className:"p-2 space-y-1",children:t.map(f=>c.jsxs("button",{onClick:()=>o(f),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-all
                                        ${(s==null?void 0:s.id)===f.id?"bg-emerald-500/10 text-emerald-500 border border-emerald-500/20":"text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[c.jsx(eI,{className:"w-4 h-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"text-sm font-bold",children:f.name}),!f.is_active&&c.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-rose-500/10 text-rose-500 border border-rose-500/20 uppercase",children:"Pausado"})]}),c.jsx("div",{className:"text-[10px] opacity-60 font-mono",children:f.agent_slug})]})]},f.id))})]}),c.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/10 p-4 rounded-2xl space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-emerald-500 text-sm font-bold",children:[c.jsx(ki,{className:"w-4 h-4"}),"Ambiente Seguro"]}),c.jsx("p",{className:"text-xs text-slate-400 leading-relaxed",children:"Alteraes nos prompts entram em vigor imediatamente nas prximas requisies dos agentes."})]})]}),c.jsx("div",{className:"lg:col-span-8",children:s?c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-3xl overflow-hidden flex flex-col h-full min-h-[600px]",children:[c.jsxs("div",{className:"p-6 border-b border-white/10 bg-white/5 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-bold text-white mb-1 flex items-center gap-3",children:[s.name,c.jsx("div",{className:`px-2 py-0.5 rounded textxs font-bold uppercase border ${s.is_active?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-rose-500/10 text-rose-500 border-rose-500/20"}`,children:s.is_active?"Ativo":"Pausado"})]}),c.jsx("p",{className:"text-sm text-slate-400",children:"Configuraes de Engine e Personalidade"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>l(s),className:`px-4 py-2 rounded-xl text-xs font-bold uppercase transition-all border ${s.is_active?"bg-rose-500/10 text-rose-500 border-rose-500/20 hover:bg-rose-500/20":"bg-emerald-500/10 text-emerald-500 border-emerald-500/20 hover:bg-emerald-500/20"}`,children:s.is_active?"Pausar Agente":"Ativar Agente"}),c.jsxs("button",{onClick:h,disabled:a===s.id,className:"flex items-center gap-2 px-6 py-2.5 bg-emerald-500 hover:bg-emerald-600 text-white rounded-xl font-bold transition-all disabled:opacity-50",children:[a===s.id?c.jsx(_m,{className:"w-4 h-4 animate-spin"}):c.jsx(W8,{className:"w-4 h-4"}),"Salvar Alteraes"]})]})]}),c.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6 bg-black/20",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:[c.jsx(eI,{className:"w-3 h-3"})," Modelo de IA (Override)"]}),c.jsxs("select",{value:s.model_override,onChange:f=>o({...s,model_override:f.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-2 text-white focus:outline-none focus:border-emerald-500/50",children:[c.jsx("option",{value:"gpt-4o",children:"GPT-4o (Alta Performance)"}),c.jsx("option",{value:"gpt-4o-mini",children:"GPT-4o Mini (Rpido/Econmico)"}),c.jsx("option",{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),c.jsx("option",{value:"o1-preview",children:"OpenAI o1 Preview"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:[c.jsx(dme,{className:"w-3 h-3"})," Temperatura (",s.temperature,")"]}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:s.temperature,onChange:f=>o({...s,temperature:parseFloat(f.target.value)}),className:"w-full accent-emerald-500"}),c.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500",children:[c.jsx("span",{children:"PRECISO"}),c.jsx("span",{children:"CRIATIVO"})]})]})]}),c.jsxs("div",{className:"p-6 flex-1 flex flex-col space-y-4",children:[c.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:[c.jsx(fpe,{className:"w-3 h-3"})," System Prompt (Instrues Base)"]}),c.jsx("textarea",{value:s.prompt_text,onChange:f=>o({...s,prompt_text:f.target.value}),placeholder:"Defina as instrues de sistema para este agente...",className:"flex-1 w-full bg-black/40 border border-white/10 rounded-2xl p-6 text-sm text-slate-300 focus:outline-none focus:border-emerald-500/50 font-mono leading-relaxed resize-none"}),s.agent_slug==="rag"&&c.jsx("div",{className:"px-4 py-2 bg-emerald-500/10 border border-emerald-500/20 rounded-xl",children:c.jsxs("p",{className:"text-[10px] text-emerald-500 font-bold",children:[" Variveis dinmicas aceitas: ","{{CONTEXT}}",", ","{{QUESTION}}"]})})]})]}):c.jsxs("div",{className:"h-full flex flex-col items-center justify-center bg-white/5 border border-dashed border-white/10 rounded-3xl p-12 text-slate-500",children:[c.jsx(e5,{className:"w-16 h-16 opacity-10 mb-4"}),c.jsx("p",{children:"Selecione um agente na lista lateral para configurar seu prompt."})]})})]})]})},kVe=()=>{const[t,e]=C.useState("ADMIN_DASHBOARD"),r=()=>({ADMIN_DASHBOARD:"Viso Geral do SaaS",ADMIN_COMPANIES:"Gesto de Tenants",ADMIN_USERS:"Controle de Utilizadores",ADMIN_BILLING:"Faturao e Planos",ADMIN_PAYMENTS:"Aprovao de Pagamentos",ADMIN_INFRA:"Estado da Infraestrutura",ADMIN_LOGS:"Logs de Auditoria Global",ADMIN_SECURITY:"Central de Segurana",ADMIN_SETTINGS:"Configuraes de Sistema",ADMIN_AGENTS:"Gesto de Agentes de IA"})[t]||"Backoffice Administrativo",n=()=>{switch(t){case"ADMIN_DASHBOARD":return c.jsx(F$e,{onViewLogs:()=>e("ADMIN_LOGS")});case"ADMIN_COMPANIES":return c.jsx(B$e,{});case"ADMIN_USERS":return c.jsx(U$e,{});case"ADMIN_BILLING":return c.jsx(z$e,{});case"ADMIN_PAYMENTS":return c.jsx(SVe,{});case"ADMIN_LOGS":return c.jsx(NVe,{});case"ADMIN_INFRA":return c.jsx(EVe,{});case"ADMIN_SECURITY":return c.jsx(TVe,{});case"ADMIN_SETTINGS":return c.jsx(jVe,{});case"ADMIN_AGENTS":return c.jsx(CVe,{});default:return c.jsx("div",{className:"p-20 text-center border-2 border-dashed border-white/5 rounded-3xl",children:c.jsxs("p",{className:"text-slate-500 font-medium",children:['Mdulo "',t,'" em desenvolvimento.']})})}};return c.jsx(M$e,{currentView:t,onChangeView:e,title:r(),children:n()})},PVe=C.createContext({lastPulse:null}),OVe=({children:t,userId:e,companyId:r})=>{const n=C.useRef(null);return C.useEffect(()=>{if(!e)return;const a=async()=>{try{await _n.sendHeartbeat({companyId:r,userAgent:navigator.userAgent}),n.current=new Date,console.log(" Heartbeat sent")}catch(s){console.error(" Heartbeat failed:",s)}};a();const i=setInterval(a,6e4);return()=>clearInterval(i)},[e,r]),c.jsx(PVe.Provider,{value:{lastPulse:n.current},children:t})},DVe=()=>{const{isAuthenticated:t,user:e,isLoading:r,logout:n}=uh(),{selectedCompany:a,selectCompany:i,clients:s,isAccountingMode:o,processingProgress:l,showGlobalCompletionModal:u,closeGlobalCompletionModal:h,uploadQueue:f,isFullscreenMode:m,notifications:g,markNotificationRead:b,isBatchComplete:y,completionStats:w,stopNotificationSound:A,clearCompletionStats:S,selectedDocument:N,setSelectedDocument:T,clearCompletionStates:k,refreshData:R}=_o(),[O,U]=C.useState("LANDING"),[H,G]=C.useState("OVERVIEW"),[F,L]=C.useState(!1),[re,Z]=C.useState(!1),[pe,Q]=C.useState(!1),[X,oe]=C.useState(!1),[ce,Ne]=C.useState(""),[ne,B]=C.useState(0),V=C.useRef(null),[Y,K]=C.useState(!1);C.useEffect(()=>{!r&&!Y?(K(!0),U(t?"APP":"LANDING")):!r&&Y&&!t&&U("LANDING")},[r,Y,t]),C.useEffect(()=>{N&&G("ANALYSIS_RESULTS")},[N]);const le=(vt="APP")=>{Q(!0),setTimeout(()=>{Q(!1),U(vt)},4e3)},Ae=()=>U("LOGIN"),De=()=>U("REGISTER"),de=vt=>{le(vt==="REGISTER"?"ONBOARDING":"APP")},Le=vt=>U(vt),Ge=async()=>{await R(),le("APP")},Re=vt=>{i(vt),G("OVERVIEW")},wt=()=>{G("ANALYSIS_RESULTS"),k()},St=f.some(vt=>vt.status===or.PROCESSING),rt=(e==null?void 0:e.role)==="OPERATOR"||(e==null?void 0:e.role)==="COLLABORATOR",Te=C.useMemo(()=>{if(!t)return[];const vt=[{id:"nav-home",label:"Ir para Viso Geral",icon:$s,action:()=>G("OVERVIEW")},{id:"nav-upload",label:"Novo Upload / Anlise",icon:p2,action:()=>G("UPLOAD")},{id:"nav-docs",label:"Meus Documentos",icon:Yo,action:()=>G("DOCUMENTS")},{id:"nav-ai",label:"Assistente IA (Chat)",icon:B0,action:()=>G("AI_ASSISTANT")},{id:"nav-settings",label:"Configuraes",icon:xy,action:()=>G("SETTINGS")},{id:"act-logout",label:"Terminar Sesso",icon:pE,action:()=>n()}];if(o){const Dt=s.map(yt=>({id:`client-${yt.id}`,label:`Mudar para: ${yt.name}`,icon:Wa,action:()=>Re(yt.id)}));return Dt.unshift({id:"client-all",label:"Mudar para: Viso Geral (Consolidada)",icon:Wa,action:()=>i("ALL")}),[...vt,...Dt]}return vt},[t,o,s,n]),Nt=C.useMemo(()=>ce?Te.filter(vt=>vt.label.toLowerCase().includes(ce.toLowerCase())):Te,[Te,ce]);C.useEffect(()=>{const vt=Dt=>{(Dt.metaKey||Dt.ctrlKey)&&Dt.key==="k"&&(Dt.preventDefault(),oe(yt=>!yt),Ne(""),B(0)),X&&(Dt.key==="ArrowDown"?(Dt.preventDefault(),B(yt=>Math.min(yt+1,Nt.length-1))):Dt.key==="ArrowUp"?(Dt.preventDefault(),B(yt=>Math.max(yt-1,0))):Dt.key==="Enter"?(Dt.preventDefault(),Nt[ne]&&(Nt[ne].action(),oe(!1))):Dt.key==="Escape"&&oe(!1))};return window.addEventListener("keydown",vt),()=>window.removeEventListener("keydown",vt)},[X,Nt,ne]),C.useEffect(()=>{X&&V.current&&setTimeout(()=>{var vt;return(vt=V.current)==null?void 0:vt.focus()},50)},[X]);const rr=()=>{if(rt&&["CLIENTS","CREDITS","SETTINGS"].includes(H))return c.jsx(xR,{});switch(H){case"OVERVIEW":return c.jsx(xR,{});case"CLIENTS":return c.jsx(T$e,{onSelectClient:Re});case"DOCUMENTS":return c.jsx(y7e,{});case"UPLOAD":return c.jsx(d$e,{onUploadComplete:()=>G("ANALYSIS_RESULTS")});case"ANALYSIS_RESULTS":return c.jsx(P$e,{onBack:()=>G("DOCUMENTS"),onNewAnalysis:()=>G("UPLOAD")});case"AI_ASSISTANT":return c.jsx(C$e,{});case"COMPLIANCE":return c.jsx(I$e,{});case"CREDITS":return c.jsx(m$e,{});case"SETTINGS":return c.jsx(v$e,{});case"NIFS":return c.jsx(k$e,{});case"REPORTS":return c.jsx(p$e,{});case"FISCAL_ERRORS":return c.jsx(h$e,{});case"SAAS_ADMIN":return c.jsx(kVe,{});default:return c.jsx(xR,{})}},Ot=()=>({OVERVIEW:"Viso Geral",CLIENTS:"Empresas",DOCUMENTS:"Meus Documentos",UPLOAD:"Novo Upload",ANALYSIS_RESULTS:"Resultados da Anlise",CREDITS:"Gesto de Crditos",SETTINGS:"Configuraes da Conta",AI_ASSISTANT:"Assistente Inteligente (Gemini)",NIFS:"Gesto de NIFs",COMPLIANCE:"Conformidade AGT",REPORTS:"Relatrios Fiscais",FISCAL_ERRORS:"Erros e Inconsistncias",SAAS_ADMIN:"Backoffice Administrativo"})[H];return pe?c.jsxs("div",{className:"fixed inset-0 z-[9999] bg-[#020202] flex flex-col items-center justify-center animate-in fade-in duration-300",children:[c.jsxs("div",{className:"relative mb-8",children:[c.jsx("div",{className:"absolute inset-0 bg-cyan-500/20 blur-[60px] rounded-full animate-pulse"}),c.jsx(Bx,{className:"w-32 h-32 relative z-10 animate-bounce-slow",iconClassName:"w-16 h-16"})]}),c.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight mb-2 animate-pulse",children:"KwikDocs Fiscal AI"}),c.jsx("p",{className:"text-slate-500 text-xs uppercase tracking-widest mb-8",children:"Inicializando Ncleo Neural..."}),c.jsx("div",{className:"w-48 h-1 bg-[#111] rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-500 to-teal-500 animate-[loading_4s_ease-in-out_forwards] w-0"})}),c.jsx("style",{children:`
                    @keyframes loading {
                        0% { width: 0%; }
                        100% { width: 100%; }
                    }
                    @keyframes bounce-slow {
                        0%, 100% { transform: translateY(0); }
                        50% { transform: translateY(-10px); }
                    }
                    .animate-bounce-slow {
                        animation: bounce-slow 3s infinite ease-in-out;
                    }
                `})]}):r?(console.log("[DEBUG] App is in authLoading state"),c.jsxs("div",{className:"fixed inset-0 z-[9999] bg-[#020202] flex flex-col items-center justify-center",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500/30 border-t-cyan-500 rounded-full animate-spin"}),c.jsx("p",{className:"mt-4 text-slate-500 text-xs uppercase tracking-widest animate-pulse",children:"Autenticando..."})]})):(console.log("[DEBUG] App finished loading. FlowState:",O),O==="LANDING"?c.jsx(S7e,{onLogin:Ae,onRegister:De}):O==="LOGIN"||O==="REGISTER"?c.jsx(T7e,{initialMode:O,onAuthSuccess:de,onSwitchMode:Le}):O==="ONBOARDING"?c.jsx(j7e,{onComplete:Ge}):c.jsx(OVe,{userId:(e==null?void 0:e.id)||"",companyId:a==="ALL"||a==null?void 0:a.id,children:c.jsxs("div",{className:"flex h-screen bg-[#000000] text-slate-50 font-sans overflow-hidden relative animate-in fade-in duration-700",children:[c.jsx(R$e,{}),re&&c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md z-[55] lg:hidden animate-in fade-in duration-300",onClick:()=>Z(!1)}),X&&c.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-start justify-center pt-[15vh] px-4",onClick:()=>oe(!1),children:[c.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200"}),c.jsxs("div",{className:"relative w-full max-w-2xl bg-[#0a0a0a] border border-white/10 rounded-2xl shadow-[0_0_50px_rgba(0,0,0,0.8)] overflow-hidden flex flex-col animate-in zoom-in-95 slide-in-from-top-4 duration-200",onClick:vt=>vt.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center gap-3 px-4 py-4 border-b border-white/5",children:[c.jsx(yu,{className:"w-5 h-5 text-slate-500"}),c.jsx("input",{ref:V,type:"text",className:"flex-1 bg-transparent border-none outline-none text-lg text-white placeholder-slate-600 font-medium",placeholder:"O que voc precisa fazer?",value:ce,onChange:vt=>{Ne(vt.target.value),B(0)}}),c.jsx("div",{className:"px-2 py-1 bg-white/5 rounded text-[10px] font-bold text-slate-500 uppercase tracking-wider border border-white/5",children:"ESC"})]}),c.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar p-2",children:Nt.length===0?c.jsx("div",{className:"p-8 text-center text-slate-500",children:c.jsx("p",{children:"Nenhum comando encontrado."})}):c.jsx("div",{className:"space-y-1",children:Nt.map((vt,Dt)=>c.jsxs("button",{onClick:()=>{vt.action(),oe(!1)},onMouseEnter:()=>B(Dt),className:`w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all ${Dt===ne?"bg-cyan-500/10 text-cyan-400":"text-slate-400 hover:bg-white/5"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(vt.icon,{className:`w-5 h-5 ${Dt===ne?"text-cyan-400":"text-slate-500"}`}),c.jsx("span",{className:"font-medium text-sm",children:vt.label})]}),Dt===ne&&c.jsx(Yfe,{className:"w-4 h-4 opacity-50"})]},vt.id))})}),c.jsxs("div",{className:"px-4 py-2 bg-[#050505] border-t border-white/5 flex items-center justify-between text-[10px] text-slate-600 font-bold uppercase tracking-widest",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("span",{children:[c.jsx("strong",{className:"text-slate-400",children:""})," Navegar"]}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-slate-400",children:""})," Selecionar"]})]}),c.jsx("span",{children:"KwikDocs Power Menu"})]})]})]}),c.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[c.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[800px] h-[800px] bg-cyan-900/20 rounded-full blur-[150px] animate-pulse duration-[8000ms]"}),c.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.02]"})]}),H!=="ANALYSIS_RESULTS"&&c.jsx(j$e,{}),H!=="SAAS_ADMIN"&&c.jsx("div",{className:`
                        fixed lg:relative z-[60] lg:z-50 h-full backdrop-blur-xl bg-[#02040a]/90 border-r border-white/5 flex-shrink-0 transition-transform duration-300 ease-in-out
                        ${re?"translate-x-0":"-translate-x-full lg:translate-x-0"}
                    `,children:c.jsx(Qve,{currentView:H,onChangeView:vt=>{G(vt),Z(!1)}})}),c.jsx("main",{className:"flex-1 overflow-auto relative z-10 custom-scrollbar flex flex-col",children:c.jsxs("div",{className:`max-w-[1920px] mx-auto w-full transition-all duration-300 ${m||H==="SAAS_ADMIN"?"p-0 h-full":"p-4 md:p-10"}`,children:[!m&&H!=="SAAS_ADMIN"&&c.jsxs("header",{className:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>Z(!0),className:"lg:hidden p-2 bg-white/5 border border-white/10 rounded-xl text-slate-400 hover:text-white transition-colors",children:c.jsx(dpe,{className:"w-6 h-6"})}),c.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white tracking-tight",children:Ot()})]}),c.jsxs("p",{className:"hidden md:block text-slate-400 text-sm mt-1",children:["Bem-vindo de volta, ",c.jsx("span",{className:"text-cyan-400 font-medium",children:e==null?void 0:e.name}),"."]})]}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("div",{className:"hidden xl:flex items-center gap-2 text-[10px] font-bold text-slate-600 bg-white/5 px-3 py-1.5 rounded-lg border border-white/5 cursor-pointer hover:bg-white/10 hover:text-white transition-colors",onClick:()=>oe(!0),title:"Abrir Menu de Comandos",children:[c.jsx(bJ,{className:"w-3 h-3"}),c.jsx("span",{children:"CTRL + K"})]}),(f.length>0||St||y)&&H!=="ANALYSIS_RESULTS"&&c.jsxs("button",{onClick:wt,className:`flex items-center gap-3 border px-4 py-2 rounded-xl transition-all animate-in fade-in zoom-in-95 group shadow-lg ${y?"bg-emerald-500/10 border-emerald-500/30 text-emerald-400":"bg-cyan-500/10 border-cyan-500/30 text-cyan-400"}`,children:[c.jsxs("div",{className:"relative",children:[c.jsx(B0,{className:`w-4 h-4 ${St?"animate-pulse":""} ${y?"text-emerald-400":""}`}),(St||y)&&c.jsxs("span",{className:"absolute -top-1 -right-1 flex h-2 w-2",children:[c.jsx("span",{className:`animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 ${y?"bg-emerald-400":"bg-cyan-400"}`}),c.jsx("span",{className:`relative inline-flex rounded-full h-2 w-2 ${y?"bg-emerald-500":"bg-cyan-500"}`})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:y?"Anlise Completa":"Ver Processos"}),c.jsx(U8,{className:`w-3.5 h-3.5 ${St?"animate-[wiggle_1s_ease-in-out_infinite] text-cyan-300":y?"text-emerald-400 animate-pulse":"text-cyan-600"}`})]})]}),!rt&&c.jsxs("div",{className:"relative z-50",children:[c.jsxs("button",{onClick:()=>L(!F),className:"flex items-center gap-3 bg-[#0a0b10] border border-white/10 hover:border-cyan-500/50 rounded-xl pl-3 pr-4 py-2 transition-all group min-w-[260px] shadow-lg",children:[c.jsxs("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-slate-800 to-slate-900 flex items-center justify-center border border-white/5 group-hover:border-cyan-500/30 relative",children:[c.jsx(Wa,{className:"w-5 h-5 text-cyan-400"}),y&&c.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-emerald-500"})]})]}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("div",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider",children:o?"Modo Contabilista":"Empresa Ativa"}),c.jsx("div",{className:"text-sm font-bold text-white truncate w-32 md:w-40",children:a==="ALL"?"Viso Geral (Consolidada)":(a==null?void 0:a.name)||"Selecione..."})]}),c.jsx(Px,{className:`w-4 h-4 text-slate-500 transition-transform duration-300 ${F?"rotate-180":""}`})]}),F&&c.jsx("div",{className:"absolute right-0 top-full mt-2 w-[300px] bg-[#0a0b10] border border-white/10 rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:c.jsxs("div",{className:"max-h-[280px] overflow-y-auto custom-scrollbar p-1",children:[c.jsxs("button",{onClick:()=>{i("ALL"),L(!1)},className:`w-full text-left flex items-center gap-3 p-3 rounded-lg hover:bg-white/5 transition-all ${a==="ALL"?"bg-cyan-500/5 ring-1 ring-cyan-500/20":""}`,children:[c.jsx(Wa,{className:"w-4 h-4 text-slate-500"}),c.jsx("span",{className:`text-sm font-bold truncate ${a==="ALL"?"text-cyan-400":"text-slate-200"}`,children:"Viso Geral (Consolidada)"})]}),s.map(vt=>c.jsxs("button",{onClick:()=>{i(vt.id),L(!1)},className:`w-full text-left flex items-center gap-3 p-3 rounded-lg hover:bg-white/5 transition-all ${a!=="ALL"&&(a==null?void 0:a.id)===vt.id?"bg-cyan-500/5 ring-1 ring-cyan-500/20":""}`,children:[c.jsx(Wa,{className:"w-4 h-4 text-slate-500"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:`text-sm font-bold truncate ${a!=="ALL"&&(a==null?void 0:a.id)===vt.id?"text-cyan-400":"text-slate-200"}`,children:vt.name}),c.jsxs("div",{className:"text-xs text-slate-500 font-mono",children:["NIF: ",vt.nif]})]})]},vt.id))]})})]})]})]}),c.jsx("div",{className:`${m?"h-full flex flex-col":""}`,children:rr()})]})}),u&&c.jsx(O$e,{onViewResults:()=>G("ANALYSIS_RESULTS")}),(e==null?void 0:e.force_password_change)&&c.jsx(D$e,{})]})}))};function RVe(t={}){const{immediate:e=!1,onNeedRefresh:r,onOfflineReady:n,onRegistered:a,onRegisteredSW:i,onRegisterError:s}=t;let o,l;const u=async(f=!0)=>{await l};async function h(){if("serviceWorker"in navigator){if(o=await Om(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/sw.js",{scope:"/",type:"classic"})).catch(f=>{s==null||s(f)}),!o)return;o.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),o.addEventListener("installed",f=>{f.isUpdate||n==null||n()}),o.register({immediate:e}).then(f=>{i?i("/sw.js",f):a==null||a(f)}).catch(f=>{s==null||s(f)})}}return l=h(),u}const uue=document.getElementById("root");if(!uue)throw new Error("Root element not found");const IVe=RVe({onNeedRefresh(){confirm("Nova verso disponvel. Recarregar?")&&IVe(!0)},onOfflineReady(){console.log("App pronta para uso offline.")}}),LVe=Ode.createRoot(uue);LVe.render(c.jsx(gu.StrictMode,{children:c.jsx(Rme,{children:c.jsx(Jve,{children:c.jsx(bOe,{children:c.jsx(Zhe,{children:c.jsx(DVe,{})})})})})}));export{Aa as _,YX as c,ph as g};
